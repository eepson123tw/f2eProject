var $a=Object.defineProperty;var _l=(j,$,_e)=>$ in j?$a(j,$,{enumerable:!0,configurable:!0,writable:!0,value:_e}):j[$]=_e;var Fr=(j,$,_e)=>(_l(j,typeof $!="symbol"?$+"":$,_e),_e),Us=(j,$,_e)=>{if(!$.has(j))throw TypeError("Cannot "+_e)};var Yt=(j,$,_e)=>(Us(j,$,"read from private field"),_e?_e.call(j):$.get(j)),Tn=(j,$,_e)=>{if($.has(j))throw TypeError("Cannot add the same private member more than once");$ instanceof WeakSet?$.add(j):$.set(j,_e)},Nn=(j,$,_e,et)=>(Us(j,$,"write to private field"),et?et.call(j,_e):$.set(j,_e),_e),Ws=(j,$,_e,et)=>({set _(tt){Nn(j,$,tt,_e)},get _(){return Yt(j,$,et)}}),Fn=(j,$,_e)=>(Us(j,$,"access private method"),_e);function _mergeNamespaces(j,$){for(var _e=0;_e<$.length;_e++){const et=$[_e];if(typeof et!="string"&&!Array.isArray(et)){for(const tt in et)if(tt!=="default"&&!(tt in j)){const st=Object.getOwnPropertyDescriptor(et,tt);st&&Object.defineProperty(j,tt,st.get?st:{enumerable:!0,get:()=>et[tt]})}}}return Object.freeze(Object.defineProperty(j,Symbol.toStringTag,{value:"Module"}))}(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const tt of document.querySelectorAll('link[rel="modulepreload"]'))et(tt);new MutationObserver(tt=>{for(const st of tt)if(st.type==="childList")for(const gt of st.addedNodes)gt.tagName==="LINK"&&gt.rel==="modulepreload"&&et(gt)}).observe(document,{childList:!0,subtree:!0});function _e(tt){const st={};return tt.integrity&&(st.integrity=tt.integrity),tt.referrerpolicy&&(st.referrerPolicy=tt.referrerpolicy),tt.crossorigin==="use-credentials"?st.credentials="include":tt.crossorigin==="anonymous"?st.credentials="omit":st.credentials="same-origin",st}function et(tt){if(tt.ep)return;tt.ep=!0;const st=_e(tt);fetch(tt.href,st)}})();function getDefaultExportFromCjs(j){return j&&j.__esModule&&Object.prototype.hasOwnProperty.call(j,"default")?j.default:j}function getAugmentedNamespace(j){var $=j.default;if(typeof $=="function"){var _e=function(){return $.apply(this,arguments)};_e.prototype=$.prototype}else _e={};return Object.defineProperty(_e,"__esModule",{value:!0}),Object.keys(j).forEach(function(et){var tt=Object.getOwnPropertyDescriptor(j,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return j[et]}})}),_e}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$g=Symbol.for("react.element"),n$h=Symbol.for("react.portal"),p$a=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$g=Symbol.for("react.profiler"),t$g=Symbol.for("react.provider"),u$e=Symbol.for("react.context"),v$7=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$1(j){return j===null||typeof j!="object"?null:(j=z$2&&j[z$2]||j["@@iterator"],typeof j=="function"?j:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$5=Object.assign,D$2={};function E$7(j,$,_e){this.props=j,this.context=$,this.refs=D$2,this.updater=_e||B$1}E$7.prototype.isReactComponent={};E$7.prototype.setState=function(j,$){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,$,"setState")};E$7.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function F$1(){}F$1.prototype=E$7.prototype;function G$1(j,$,_e){this.props=j,this.context=$,this.refs=D$2,this.updater=_e||B$1}var H$1=G$1.prototype=new F$1;H$1.constructor=G$1;C$5(H$1,E$7.prototype);H$1.isPureReactComponent=!0;var I$3=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(j,$,_e){var et,tt={},st=null,gt=null;if($!=null)for(et in $.ref!==void 0&&(gt=$.ref),$.key!==void 0&&(st=""+$.key),$)J.call($,et)&&!L$2.hasOwnProperty(et)&&(tt[et]=$[et]);var lt=arguments.length-2;if(lt===1)tt.children=_e;else if(1<lt){for(var nt=Array(lt),ut=0;ut<lt;ut++)nt[ut]=arguments[ut+2];tt.children=nt}if(j&&j.defaultProps)for(et in lt=j.defaultProps,lt)tt[et]===void 0&&(tt[et]=lt[et]);return{$$typeof:l$g,type:j,key:st,ref:gt,props:tt,_owner:K$1.current}}function N$2(j,$){return{$$typeof:l$g,type:j.type,key:$,ref:j.ref,props:j.props,_owner:j._owner}}function O$2(j){return typeof j=="object"&&j!==null&&j.$$typeof===l$g}function escape$1(j){var $={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(_e){return $[_e]})}var P$4=/\/+/g;function Q$1(j,$){return typeof j=="object"&&j!==null&&j.key!=null?escape$1(""+j.key):$.toString(36)}function R$1(j,$,_e,et,tt){var st=typeof j;(st==="undefined"||st==="boolean")&&(j=null);var gt=!1;if(j===null)gt=!0;else switch(st){case"string":case"number":gt=!0;break;case"object":switch(j.$$typeof){case l$g:case n$h:gt=!0}}if(gt)return gt=j,tt=tt(gt),j=et===""?"."+Q$1(gt,0):et,I$3(tt)?(_e="",j!=null&&(_e=j.replace(P$4,"$&/")+"/"),R$1(tt,$,_e,"",function(ut){return ut})):tt!=null&&(O$2(tt)&&(tt=N$2(tt,_e+(!tt.key||gt&&gt.key===tt.key?"":(""+tt.key).replace(P$4,"$&/")+"/")+j)),$.push(tt)),1;if(gt=0,et=et===""?".":et+":",I$3(j))for(var lt=0;lt<j.length;lt++){st=j[lt];var nt=et+Q$1(st,lt);gt+=R$1(st,$,_e,nt,tt)}else if(nt=A$1(j),typeof nt=="function")for(j=nt.call(j),lt=0;!(st=j.next()).done;)st=st.value,nt=et+Q$1(st,lt++),gt+=R$1(st,$,_e,nt,tt);else if(st==="object")throw $=String(j),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return gt}function S$5(j,$,_e){if(j==null)return j;var et=[],tt=0;return R$1(j,et,"","",function(st){return $.call(_e,st,tt++)}),et}function T$2(j){if(j._status===-1){var $=j._result;$=$(),$.then(function(_e){(j._status===0||j._status===-1)&&(j._status=1,j._result=_e)},function(_e){(j._status===0||j._status===-1)&&(j._status=2,j._result=_e)}),j._status===-1&&(j._status=0,j._result=$)}if(j._status===1)return j._result.default;throw j._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$5,forEach:function(j,$,_e){S$5(j,function(){$.apply(this,arguments)},_e)},count:function(j){var $=0;return S$5(j,function(){$++}),$},toArray:function(j){return S$5(j,function($){return $})||[]},only:function(j){if(!O$2(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};react_production_min.Component=E$7;react_production_min.Fragment=p$a;react_production_min.Profiler=r$g;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(j,$,_e){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var et=C$5({},j.props),tt=j.key,st=j.ref,gt=j._owner;if($!=null){if($.ref!==void 0&&(st=$.ref,gt=K$1.current),$.key!==void 0&&(tt=""+$.key),j.type&&j.type.defaultProps)var lt=j.type.defaultProps;for(nt in $)J.call($,nt)&&!L$2.hasOwnProperty(nt)&&(et[nt]=$[nt]===void 0&&lt!==void 0?lt[nt]:$[nt])}var nt=arguments.length-2;if(nt===1)et.children=_e;else if(1<nt){lt=Array(nt);for(var ut=0;ut<nt;ut++)lt[ut]=arguments[ut+2];et.children=lt}return{$$typeof:l$g,type:j.type,key:tt,ref:st,props:et,_owner:gt}};react_production_min.createContext=function(j){return j={$$typeof:u$e,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:t$g,_context:j},j.Consumer=j};react_production_min.createElement=M$2;react_production_min.createFactory=function(j){var $=M$2.bind(null,j);return $.type=j,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(j){return{$$typeof:v$7,render:j}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(j){return{$$typeof:y$2,_payload:{_status:-1,_result:j},_init:T$2}};react_production_min.memo=function(j,$){return{$$typeof:x$3,type:j,compare:$===void 0?null:$}};react_production_min.startTransition=function(j){var $=V$1.transition;V$1.transition={};try{j()}finally{V$1.transition=$}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(j,$){return U$1.current.useCallback(j,$)};react_production_min.useContext=function(j){return U$1.current.useContext(j)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(j){return U$1.current.useDeferredValue(j)};react_production_min.useEffect=function(j,$){return U$1.current.useEffect(j,$)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(j,$,_e){return U$1.current.useImperativeHandle(j,$,_e)};react_production_min.useInsertionEffect=function(j,$){return U$1.current.useInsertionEffect(j,$)};react_production_min.useLayoutEffect=function(j,$){return U$1.current.useLayoutEffect(j,$)};react_production_min.useMemo=function(j,$){return U$1.current.useMemo(j,$)};react_production_min.useReducer=function(j,$,_e){return U$1.current.useReducer(j,$,_e)};react_production_min.useRef=function(j){return U$1.current.useRef(j)};react_production_min.useState=function(j){return U$1.current.useState(j)};react_production_min.useSyncExternalStore=function(j,$,_e){return U$1.current.useSyncExternalStore(j,$,_e)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";(function(j){j.exports=react_production_min})(react);const React=getDefaultExportFromCjs(react.exports),React$1=_mergeNamespaces({__proto__:null,default:React},[react.exports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(j){function $(Gt,Et){var At=Gt.length;Gt.push(Et);e:for(;0<At;){var It=At-1>>>1,Ot=Gt[It];if(0<tt(Ot,Et))Gt[It]=Et,Gt[At]=Ot,At=It;else break e}}function _e(Gt){return Gt.length===0?null:Gt[0]}function et(Gt){if(Gt.length===0)return null;var Et=Gt[0],At=Gt.pop();if(At!==Et){Gt[0]=At;e:for(var It=0,Ot=Gt.length,Tt=Ot>>>1;It<Tt;){var St=2*(It+1)-1,xt=Gt[St],$t=St+1,Rt=Gt[$t];if(0>tt(xt,At))$t<Ot&&0>tt(Rt,xt)?(Gt[It]=Rt,Gt[$t]=At,It=$t):(Gt[It]=xt,Gt[St]=At,It=St);else if($t<Ot&&0>tt(Rt,At))Gt[It]=Rt,Gt[$t]=At,It=$t;else break e}}return Et}function tt(Gt,Et){var At=Gt.sortIndex-Et.sortIndex;return At!==0?At:Gt.id-Et.id}if(typeof performance=="object"&&typeof performance.now=="function"){var st=performance;j.unstable_now=function(){return st.now()}}else{var gt=Date,lt=gt.now();j.unstable_now=function(){return gt.now()-lt}}var nt=[],ut=[],ht=1,at=null,it=3,rt=!1,ot=!1,ft=!1,ct=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function mt(Gt){for(var Et=_e(ut);Et!==null;){if(Et.callback===null)et(ut);else if(Et.startTime<=Gt)et(ut),Et.sortIndex=Et.expirationTime,$(nt,Et);else break;Et=_e(ut)}}function _t(Gt){if(ft=!1,mt(Gt),!ot)if(_e(nt)!==null)ot=!0,qt(vt);else{var Et=_e(ut);Et!==null&&Jt(_t,Et.startTime-Gt)}}function vt(Gt,Et){ot=!1,ft&&(ft=!1,dt(bt),bt=-1),rt=!0;var At=it;try{for(mt(Et),at=_e(nt);at!==null&&(!(at.expirationTime>Et)||Gt&&!Ft());){var It=at.callback;if(typeof It=="function"){at.callback=null,it=at.priorityLevel;var Ot=It(at.expirationTime<=Et);Et=j.unstable_now(),typeof Ot=="function"?at.callback=Ot:at===_e(nt)&&et(nt),mt(Et)}else et(nt);at=_e(nt)}if(at!==null)var Tt=!0;else{var St=_e(ut);St!==null&&Jt(_t,St.startTime-Et),Tt=!1}return Tt}finally{at=null,it=At,rt=!1}}var yt=!1,Ct=null,bt=-1,Dt=5,wt=-1;function Ft(){return!(j.unstable_now()-wt<Dt)}function Lt(){if(Ct!==null){var Gt=j.unstable_now();wt=Gt;var Et=!0;try{Et=Ct(!0,Gt)}finally{Et?Qt():(yt=!1,Ct=null)}}else yt=!1}var Qt;if(typeof pt=="function")Qt=function(){pt(Lt)};else if(typeof MessageChannel<"u"){var Ut=new MessageChannel,Xt=Ut.port2;Ut.port1.onmessage=Lt,Qt=function(){Xt.postMessage(null)}}else Qt=function(){ct(Lt,0)};function qt(Gt){Ct=Gt,yt||(yt=!0,Qt())}function Jt(Gt,Et){bt=ct(function(){Gt(j.unstable_now())},Et)}j.unstable_IdlePriority=5,j.unstable_ImmediatePriority=1,j.unstable_LowPriority=4,j.unstable_NormalPriority=3,j.unstable_Profiling=null,j.unstable_UserBlockingPriority=2,j.unstable_cancelCallback=function(Gt){Gt.callback=null},j.unstable_continueExecution=function(){ot||rt||(ot=!0,qt(vt))},j.unstable_forceFrameRate=function(Gt){0>Gt||125<Gt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Dt=0<Gt?Math.floor(1e3/Gt):5},j.unstable_getCurrentPriorityLevel=function(){return it},j.unstable_getFirstCallbackNode=function(){return _e(nt)},j.unstable_next=function(Gt){switch(it){case 1:case 2:case 3:var Et=3;break;default:Et=it}var At=it;it=Et;try{return Gt()}finally{it=At}},j.unstable_pauseExecution=function(){},j.unstable_requestPaint=function(){},j.unstable_runWithPriority=function(Gt,Et){switch(Gt){case 1:case 2:case 3:case 4:case 5:break;default:Gt=3}var At=it;it=Gt;try{return Et()}finally{it=At}},j.unstable_scheduleCallback=function(Gt,Et,At){var It=j.unstable_now();switch(typeof At=="object"&&At!==null?(At=At.delay,At=typeof At=="number"&&0<At?It+At:It):At=It,Gt){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=At+Ot,Gt={id:ht++,callback:Et,priorityLevel:Gt,startTime:At,expirationTime:Ot,sortIndex:-1},At>It?(Gt.sortIndex=At,$(ut,Gt),_e(nt)===null&&Gt===_e(ut)&&(ft?(dt(bt),bt=-1):ft=!0,Jt(_t,At-It))):(Gt.sortIndex=Ot,$(nt,Gt),ot||rt||(ot=!0,qt(vt))),Gt},j.unstable_shouldYield=Ft,j.unstable_wrapCallback=function(Gt){var Et=it;return function(){var At=it;it=Et;try{return Gt.apply(this,arguments)}finally{it=At}}}})(scheduler_production_min);(function(j){j.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca=scheduler.exports;function p$9(j){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+j,_e=1;_e<arguments.length;_e++)$+="&args[]="+encodeURIComponent(arguments[_e]);return"Minified React error #"+j+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(j,$){ha(j,$),ha(j+"Capture",$)}function ha(j,$){for(ea[j]=$,j=0;j<$.length;j++)da.add($[j])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(j){return ja.call(ma,j)?!0:ja.call(la,j)?!1:ka.test(j)?ma[j]=!0:(la[j]=!0,!1)}function pa(j,$,_e,et){if(_e!==null&&_e.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return et?!1:_e!==null?!_e.acceptsBooleans:(j=j.toLowerCase().slice(0,5),j!=="data-"&&j!=="aria-");default:return!1}}function qa(j,$,_e,et){if($===null||typeof $>"u"||pa(j,$,_e,et))return!0;if(et)return!1;if(_e!==null)switch(_e.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$6(j,$,_e,et,tt,st,gt){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=et,this.attributeNamespace=tt,this.mustUseProperty=_e,this.propertyName=j,this.type=$,this.sanitizeURL=st,this.removeEmptyString=gt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(j){z$1[j]=new v$6(j,0,!1,j,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(j){var $=j[0];z$1[$]=new v$6($,1,!1,j[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(j){z$1[j]=new v$6(j,2,!1,j.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(j){z$1[j]=new v$6(j,2,!1,j,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(j){z$1[j]=new v$6(j,3,!1,j.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(j){z$1[j]=new v$6(j,3,!0,j,null,!1,!1)});["capture","download"].forEach(function(j){z$1[j]=new v$6(j,4,!1,j,null,!1,!1)});["cols","rows","size","span"].forEach(function(j){z$1[j]=new v$6(j,6,!1,j,null,!1,!1)});["rowSpan","start"].forEach(function(j){z$1[j]=new v$6(j,5,!1,j.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(j){return j[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(j){var $=j.replace(ra,sa);z$1[$]=new v$6($,1,!1,j,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(j){var $=j.replace(ra,sa);z$1[$]=new v$6($,1,!1,j,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(j){var $=j.replace(ra,sa);z$1[$]=new v$6($,1,!1,j,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(j){z$1[j]=new v$6(j,1,!1,j.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$6("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(j){z$1[j]=new v$6(j,1,!1,j.toLowerCase(),null,!0,!0)});function ta(j,$,_e,et){var tt=z$1.hasOwnProperty($)?z$1[$]:null;(tt!==null?tt.type!==0:et||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,_e,tt,et)&&(_e=null),et||tt===null?oa($)&&(_e===null?j.removeAttribute($):j.setAttribute($,""+_e)):tt.mustUseProperty?j[tt.propertyName]=_e===null?tt.type===3?!1:"":_e:($=tt.attributeName,et=tt.attributeNamespace,_e===null?j.removeAttribute($):(tt=tt.type,_e=tt===3||tt===4&&_e===!0?"":""+_e,et?j.setAttributeNS(et,$,_e):j.setAttribute($,_e))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(j){return j===null||typeof j!="object"?null:(j=Ja&&j[Ja]||j["@@iterator"],typeof j=="function"?j:null)}var A=Object.assign,La;function Ma(j){if(La===void 0)try{throw Error()}catch(_e){var $=_e.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+j}var Na=!1;function Oa(j,$){if(!j||Na)return"";Na=!0;var _e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(ut){var et=ut}Reflect.construct(j,[],$)}else{try{$.call()}catch(ut){et=ut}j.call($.prototype)}else{try{throw Error()}catch(ut){et=ut}j()}}catch(ut){if(ut&&et&&typeof ut.stack=="string"){for(var tt=ut.stack.split(`
`),st=et.stack.split(`
`),gt=tt.length-1,lt=st.length-1;1<=gt&&0<=lt&&tt[gt]!==st[lt];)lt--;for(;1<=gt&&0<=lt;gt--,lt--)if(tt[gt]!==st[lt]){if(gt!==1||lt!==1)do if(gt--,lt--,0>lt||tt[gt]!==st[lt]){var nt=`
`+tt[gt].replace(" at new "," at ");return j.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",j.displayName)),nt}while(1<=gt&&0<=lt);break}}}finally{Na=!1,Error.prepareStackTrace=_e}return(j=j?j.displayName||j.name:"")?Ma(j):""}function Pa(j){switch(j.tag){case 5:return Ma(j.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return j=Oa(j.type,!1),j;case 11:return j=Oa(j.type.render,!1),j;case 1:return j=Oa(j.type,!0),j;default:return""}}function Qa(j){if(j==null)return null;if(typeof j=="function")return j.displayName||j.name||null;if(typeof j=="string")return j;switch(j){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof j=="object")switch(j.$$typeof){case Ca:return(j.displayName||"Context")+".Consumer";case Ba:return(j._context.displayName||"Context")+".Provider";case Da:var $=j.render;return j=j.displayName,j||(j=$.displayName||$.name||"",j=j!==""?"ForwardRef("+j+")":"ForwardRef"),j;case Ga:return $=j.displayName||null,$!==null?$:Qa(j.type)||"Memo";case Ha:$=j._payload,j=j._init;try{return Qa(j($))}catch{}}return null}function Ra(j){var $=j.type;switch(j.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return j=$.render,j=j.displayName||j.name||"",$.displayName||(j!==""?"ForwardRef("+j+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(j){switch(typeof j){case"boolean":case"number":case"string":case"undefined":return j;case"object":return j;default:return""}}function Ta(j){var $=j.type;return(j=j.nodeName)&&j.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(j){var $=Ta(j)?"checked":"value",_e=Object.getOwnPropertyDescriptor(j.constructor.prototype,$),et=""+j[$];if(!j.hasOwnProperty($)&&typeof _e<"u"&&typeof _e.get=="function"&&typeof _e.set=="function"){var tt=_e.get,st=_e.set;return Object.defineProperty(j,$,{configurable:!0,get:function(){return tt.call(this)},set:function(gt){et=""+gt,st.call(this,gt)}}),Object.defineProperty(j,$,{enumerable:_e.enumerable}),{getValue:function(){return et},setValue:function(gt){et=""+gt},stopTracking:function(){j._valueTracker=null,delete j[$]}}}}function Va(j){j._valueTracker||(j._valueTracker=Ua(j))}function Wa(j){if(!j)return!1;var $=j._valueTracker;if(!$)return!0;var _e=$.getValue(),et="";return j&&(et=Ta(j)?j.checked?"true":"false":j.value),j=et,j!==_e?($.setValue(j),!0):!1}function Xa(j){if(j=j||(typeof document<"u"?document:void 0),typeof j>"u")return null;try{return j.activeElement||j.body}catch{return j.body}}function Ya(j,$){var _e=$.checked;return A({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_e!=null?_e:j._wrapperState.initialChecked})}function Za(j,$){var _e=$.defaultValue==null?"":$.defaultValue,et=$.checked!=null?$.checked:$.defaultChecked;_e=Sa($.value!=null?$.value:_e),j._wrapperState={initialChecked:et,initialValue:_e,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(j,$){$=$.checked,$!=null&&ta(j,"checked",$,!1)}function bb(j,$){ab(j,$);var _e=Sa($.value),et=$.type;if(_e!=null)et==="number"?(_e===0&&j.value===""||j.value!=_e)&&(j.value=""+_e):j.value!==""+_e&&(j.value=""+_e);else if(et==="submit"||et==="reset"){j.removeAttribute("value");return}$.hasOwnProperty("value")?cb(j,$.type,_e):$.hasOwnProperty("defaultValue")&&cb(j,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(j.defaultChecked=!!$.defaultChecked)}function db(j,$,_e){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var et=$.type;if(!(et!=="submit"&&et!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+j._wrapperState.initialValue,_e||$===j.value||(j.value=$),j.defaultValue=$}_e=j.name,_e!==""&&(j.name=""),j.defaultChecked=!!j._wrapperState.initialChecked,_e!==""&&(j.name=_e)}function cb(j,$,_e){($!=="number"||Xa(j.ownerDocument)!==j)&&(_e==null?j.defaultValue=""+j._wrapperState.initialValue:j.defaultValue!==""+_e&&(j.defaultValue=""+_e))}var eb=Array.isArray;function fb(j,$,_e,et){if(j=j.options,$){$={};for(var tt=0;tt<_e.length;tt++)$["$"+_e[tt]]=!0;for(_e=0;_e<j.length;_e++)tt=$.hasOwnProperty("$"+j[_e].value),j[_e].selected!==tt&&(j[_e].selected=tt),tt&&et&&(j[_e].defaultSelected=!0)}else{for(_e=""+Sa(_e),$=null,tt=0;tt<j.length;tt++){if(j[tt].value===_e){j[tt].selected=!0,et&&(j[tt].defaultSelected=!0);return}$!==null||j[tt].disabled||($=j[tt])}$!==null&&($.selected=!0)}}function gb(j,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$9(91));return A({},$,{value:void 0,defaultValue:void 0,children:""+j._wrapperState.initialValue})}function hb(j,$){var _e=$.value;if(_e==null){if(_e=$.children,$=$.defaultValue,_e!=null){if($!=null)throw Error(p$9(92));if(eb(_e)){if(1<_e.length)throw Error(p$9(93));_e=_e[0]}$=_e}$==null&&($=""),_e=$}j._wrapperState={initialValue:Sa(_e)}}function ib(j,$){var _e=Sa($.value),et=Sa($.defaultValue);_e!=null&&(_e=""+_e,_e!==j.value&&(j.value=_e),$.defaultValue==null&&j.defaultValue!==_e&&(j.defaultValue=_e)),et!=null&&(j.defaultValue=""+et)}function jb(j){var $=j.textContent;$===j._wrapperState.initialValue&&$!==""&&$!==null&&(j.value=$)}function kb(j){switch(j){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(j,$){return j==null||j==="http://www.w3.org/1999/xhtml"?kb($):j==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":j}var mb,nb=function(j){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,_e,et,tt){MSApp.execUnsafeLocalFunction(function(){return j($,_e,et,tt)})}:j}(function(j,$){if(j.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in j)j.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;j.firstChild;)j.removeChild(j.firstChild);for(;$.firstChild;)j.appendChild($.firstChild)}});function ob(j,$){if($){var _e=j.firstChild;if(_e&&_e===j.lastChild&&_e.nodeType===3){_e.nodeValue=$;return}}j.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(j){qb.forEach(function($){$=$+j.charAt(0).toUpperCase()+j.substring(1),pb[$]=pb[j]})});function rb(j,$,_e){return $==null||typeof $=="boolean"||$===""?"":_e||typeof $!="number"||$===0||pb.hasOwnProperty(j)&&pb[j]?(""+$).trim():$+"px"}function sb(j,$){j=j.style;for(var _e in $)if($.hasOwnProperty(_e)){var et=_e.indexOf("--")===0,tt=rb(_e,$[_e],et);_e==="float"&&(_e="cssFloat"),et?j.setProperty(_e,tt):j[_e]=tt}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(j,$){if($){if(tb[j]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$9(137,j));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$9(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$9(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$9(62))}}function vb(j,$){if(j.indexOf("-")===-1)return typeof $.is=="string";switch(j){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(j){return j=j.target||j.srcElement||window,j.correspondingUseElement&&(j=j.correspondingUseElement),j.nodeType===3?j.parentNode:j}var yb=null,zb=null,Ab=null;function Bb(j){if(j=Cb(j)){if(typeof yb!="function")throw Error(p$9(280));var $=j.stateNode;$&&($=Db($),yb(j.stateNode,j.type,$))}}function Eb(j){zb?Ab?Ab.push(j):Ab=[j]:zb=j}function Fb(){if(zb){var j=zb,$=Ab;if(Ab=zb=null,Bb(j),$)for(j=0;j<$.length;j++)Bb($[j])}}function Gb(j,$){return j($)}function Hb(){}var Ib=!1;function Jb(j,$,_e){if(Ib)return j($,_e);Ib=!0;try{return Gb(j,$,_e)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(j,$){var _e=j.stateNode;if(_e===null)return null;var et=Db(_e);if(et===null)return null;_e=et[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(et=!et.disabled)||(j=j.type,et=!(j==="button"||j==="input"||j==="select"||j==="textarea")),j=!et;break e;default:j=!1}if(j)return null;if(_e&&typeof _e!="function")throw Error(p$9(231,$,typeof _e));return _e}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(j,$,_e,et,tt,st,gt,lt,nt){var ut=Array.prototype.slice.call(arguments,3);try{$.apply(_e,ut)}catch(ht){this.onError(ht)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(j){Ob=!0,Pb=j}};function Tb(j,$,_e,et,tt,st,gt,lt,nt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(j,$,_e,et,tt,st,gt,lt,nt){if(Tb.apply(this,arguments),Ob){if(Ob){var ut=Pb;Ob=!1,Pb=null}else throw Error(p$9(198));Qb||(Qb=!0,Rb=ut)}}function Vb(j){var $=j,_e=j;if(j.alternate)for(;$.return;)$=$.return;else{j=$;do $=j,($.flags&4098)!==0&&(_e=$.return),j=$.return;while(j)}return $.tag===3?_e:null}function Wb(j){if(j.tag===13){var $=j.memoizedState;if($===null&&(j=j.alternate,j!==null&&($=j.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(j){if(Vb(j)!==j)throw Error(p$9(188))}function Yb(j){var $=j.alternate;if(!$){if($=Vb(j),$===null)throw Error(p$9(188));return $!==j?null:j}for(var _e=j,et=$;;){var tt=_e.return;if(tt===null)break;var st=tt.alternate;if(st===null){if(et=tt.return,et!==null){_e=et;continue}break}if(tt.child===st.child){for(st=tt.child;st;){if(st===_e)return Xb(tt),j;if(st===et)return Xb(tt),$;st=st.sibling}throw Error(p$9(188))}if(_e.return!==et.return)_e=tt,et=st;else{for(var gt=!1,lt=tt.child;lt;){if(lt===_e){gt=!0,_e=tt,et=st;break}if(lt===et){gt=!0,et=tt,_e=st;break}lt=lt.sibling}if(!gt){for(lt=st.child;lt;){if(lt===_e){gt=!0,_e=st,et=tt;break}if(lt===et){gt=!0,et=st,_e=tt;break}lt=lt.sibling}if(!gt)throw Error(p$9(189))}}if(_e.alternate!==et)throw Error(p$9(190))}if(_e.tag!==3)throw Error(p$9(188));return _e.stateNode.current===_e?j:$}function Zb(j){return j=Yb(j),j!==null?$b(j):null}function $b(j){if(j.tag===5||j.tag===6)return j;for(j=j.child;j!==null;){var $=$b(j);if($!==null)return $;j=j.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(j){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,j,void 0,(j.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(j){return j>>>=0,j===0?32:31-(pc(j)/qc|0)|0}var rc=64,sc=4194304;function tc(j){switch(j&-j){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return j&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return j&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return j}}function uc(j,$){var _e=j.pendingLanes;if(_e===0)return 0;var et=0,tt=j.suspendedLanes,st=j.pingedLanes,gt=_e&268435455;if(gt!==0){var lt=gt&~tt;lt!==0?et=tc(lt):(st&=gt,st!==0&&(et=tc(st)))}else gt=_e&~tt,gt!==0?et=tc(gt):st!==0&&(et=tc(st));if(et===0)return 0;if($!==0&&$!==et&&($&tt)===0&&(tt=et&-et,st=$&-$,tt>=st||tt===16&&(st&4194240)!==0))return $;if((et&4)!==0&&(et|=_e&16),$=j.entangledLanes,$!==0)for(j=j.entanglements,$&=et;0<$;)_e=31-oc($),tt=1<<_e,et|=j[_e],$&=~tt;return et}function vc(j,$){switch(j){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(j,$){for(var _e=j.suspendedLanes,et=j.pingedLanes,tt=j.expirationTimes,st=j.pendingLanes;0<st;){var gt=31-oc(st),lt=1<<gt,nt=tt[gt];nt===-1?((lt&_e)===0||(lt&et)!==0)&&(tt[gt]=vc(lt,$)):nt<=$&&(j.expiredLanes|=lt),st&=~lt}}function xc(j){return j=j.pendingLanes&-1073741825,j!==0?j:j&1073741824?1073741824:0}function yc(){var j=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),j}function zc(j){for(var $=[],_e=0;31>_e;_e++)$.push(j);return $}function Ac(j,$,_e){j.pendingLanes|=$,$!==536870912&&(j.suspendedLanes=0,j.pingedLanes=0),j=j.eventTimes,$=31-oc($),j[$]=_e}function Bc(j,$){var _e=j.pendingLanes&~$;j.pendingLanes=$,j.suspendedLanes=0,j.pingedLanes=0,j.expiredLanes&=$,j.mutableReadLanes&=$,j.entangledLanes&=$,$=j.entanglements;var et=j.eventTimes;for(j=j.expirationTimes;0<_e;){var tt=31-oc(_e),st=1<<tt;$[tt]=0,et[tt]=-1,j[tt]=-1,_e&=~st}}function Cc(j,$){var _e=j.entangledLanes|=$;for(j=j.entanglements;_e;){var et=31-oc(_e),tt=1<<et;tt&$|j[et]&$&&(j[et]|=$),_e&=~tt}}var C$4=0;function Dc(j){return j&=-j,1<j?4<j?(j&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(j,$){switch(j){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(j,$,_e,et,tt,st){return j===null||j.nativeEvent!==st?(j={blockedOn:$,domEventName:_e,eventSystemFlags:et,nativeEvent:st,targetContainers:[tt]},$!==null&&($=Cb($),$!==null&&Fc($)),j):(j.eventSystemFlags|=et,$=j.targetContainers,tt!==null&&$.indexOf(tt)===-1&&$.push(tt),j)}function Uc(j,$,_e,et,tt){switch($){case"focusin":return Lc=Tc(Lc,j,$,_e,et,tt),!0;case"dragenter":return Mc=Tc(Mc,j,$,_e,et,tt),!0;case"mouseover":return Nc=Tc(Nc,j,$,_e,et,tt),!0;case"pointerover":var st=tt.pointerId;return Oc.set(st,Tc(Oc.get(st)||null,j,$,_e,et,tt)),!0;case"gotpointercapture":return st=tt.pointerId,Pc.set(st,Tc(Pc.get(st)||null,j,$,_e,et,tt)),!0}return!1}function Vc(j){var $=Wc(j.target);if($!==null){var _e=Vb($);if(_e!==null){if($=_e.tag,$===13){if($=Wb(_e),$!==null){j.blockedOn=$,Ic(j.priority,function(){Gc(_e)});return}}else if($===3&&_e.stateNode.current.memoizedState.isDehydrated){j.blockedOn=_e.tag===3?_e.stateNode.containerInfo:null;return}}}j.blockedOn=null}function Xc(j){if(j.blockedOn!==null)return!1;for(var $=j.targetContainers;0<$.length;){var _e=Yc(j.domEventName,j.eventSystemFlags,$[0],j.nativeEvent);if(_e===null){_e=j.nativeEvent;var et=new _e.constructor(_e.type,_e);wb=et,_e.target.dispatchEvent(et),wb=null}else return $=Cb(_e),$!==null&&Fc($),j.blockedOn=_e,!1;$.shift()}return!0}function Zc(j,$,_e){Xc(j)&&_e.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(j,$){j.blockedOn===$&&(j.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(j){function $(tt){return ad(tt,j)}if(0<Kc.length){ad(Kc[0],j);for(var _e=1;_e<Kc.length;_e++){var et=Kc[_e];et.blockedOn===j&&(et.blockedOn=null)}}for(Lc!==null&&ad(Lc,j),Mc!==null&&ad(Mc,j),Nc!==null&&ad(Nc,j),Oc.forEach($),Pc.forEach($),_e=0;_e<Qc.length;_e++)et=Qc[_e],et.blockedOn===j&&(et.blockedOn=null);for(;0<Qc.length&&(_e=Qc[0],_e.blockedOn===null);)Vc(_e),_e.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(j,$,_e,et){var tt=C$4,st=cd.transition;cd.transition=null;try{C$4=1,fd(j,$,_e,et)}finally{C$4=tt,cd.transition=st}}function gd(j,$,_e,et){var tt=C$4,st=cd.transition;cd.transition=null;try{C$4=4,fd(j,$,_e,et)}finally{C$4=tt,cd.transition=st}}function fd(j,$,_e,et){if(dd){var tt=Yc(j,$,_e,et);if(tt===null)hd(j,$,et,id,_e),Sc(j,et);else if(Uc(tt,j,$,_e,et))et.stopPropagation();else if(Sc(j,et),$&4&&-1<Rc.indexOf(j)){for(;tt!==null;){var st=Cb(tt);if(st!==null&&Ec(st),st=Yc(j,$,_e,et),st===null&&hd(j,$,et,id,_e),st===tt)break;tt=st}tt!==null&&et.stopPropagation()}else hd(j,$,et,null,_e)}}var id=null;function Yc(j,$,_e,et){if(id=null,j=xb(et),j=Wc(j),j!==null)if($=Vb(j),$===null)j=null;else if(_e=$.tag,_e===13){if(j=Wb($),j!==null)return j;j=null}else if(_e===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;j=null}else $!==j&&(j=null);return id=j,null}function jd(j){switch(j){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var j,$=ld,_e=$.length,et,tt="value"in kd?kd.value:kd.textContent,st=tt.length;for(j=0;j<_e&&$[j]===tt[j];j++);var gt=_e-j;for(et=1;et<=gt&&$[_e-et]===tt[st-et];et++);return md=tt.slice(j,1<et?1-et:void 0)}function od(j){var $=j.keyCode;return"charCode"in j?(j=j.charCode,j===0&&$===13&&(j=13)):j=$,j===10&&(j=13),32<=j||j===13?j:0}function pd(){return!0}function qd(){return!1}function rd(j){function $(_e,et,tt,st,gt){this._reactName=_e,this._targetInst=tt,this.type=et,this.nativeEvent=st,this.target=gt,this.currentTarget=null;for(var lt in j)j.hasOwnProperty(lt)&&(_e=j[lt],this[lt]=_e?_e(st):st[lt]);return this.isDefaultPrevented=(st.defaultPrevented!=null?st.defaultPrevented:st.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _e=this.nativeEvent;_e&&(_e.preventDefault?_e.preventDefault():typeof _e.returnValue!="unknown"&&(_e.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var _e=this.nativeEvent;_e&&(_e.stopPropagation?_e.stopPropagation():typeof _e.cancelBubble!="unknown"&&(_e.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(j){return j.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(j){return j.relatedTarget===void 0?j.fromElement===j.srcElement?j.toElement:j.fromElement:j.relatedTarget},movementX:function(j){return"movementX"in j?j.movementX:(j!==yd&&(yd&&j.type==="mousemove"?(wd=j.screenX-yd.screenX,xd=j.screenY-yd.screenY):xd=wd=0,yd=j),wd)},movementY:function(j){return"movementY"in j?j.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(j){return"clipboardData"in j?j.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(j){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(j):(j=Od[j])?!!$[j]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(j){if(j.key){var $=Md[j.key]||j.key;if($!=="Unidentified")return $}return j.type==="keypress"?(j=od(j),j===13?"Enter":String.fromCharCode(j)):j.type==="keydown"||j.type==="keyup"?Nd[j.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(j){return j.type==="keypress"?od(j):0},keyCode:function(j){return j.type==="keydown"||j.type==="keyup"?j.keyCode:0},which:function(j){return j.type==="keypress"?od(j):j.type==="keydown"||j.type==="keyup"?j.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(j){return"deltaX"in j?j.deltaX:"wheelDeltaX"in j?-j.wheelDeltaX:0},deltaY:function(j){return"deltaY"in j?j.deltaY:"wheelDeltaY"in j?-j.wheelDeltaY:"wheelDelta"in j?-j.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(j,$){switch(j){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(j){return j=j.detail,typeof j=="object"&&"data"in j?j.data:null}var ie=!1;function je(j,$){switch(j){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return j=$.data,j===ee&&fe?null:j;default:return null}}function ke(j,$){if(ie)return j==="compositionend"||!ae&&ge(j,$)?(j=nd(),md=ld=kd=null,ie=!1,j):null;switch(j){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(j){var $=j&&j.nodeName&&j.nodeName.toLowerCase();return $==="input"?!!le[j.type]:$==="textarea"}function ne(j,$,_e,et){Eb(et),$=oe($,"onChange"),0<$.length&&(_e=new td("onChange","change",null,_e,et),j.push({event:_e,listeners:$}))}var pe=null,qe=null;function re(j){se(j,0)}function te(j){var $=ue(j);if(Wa($))return j}function ve(j,$){if(j==="change")return $}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(j){if(j.propertyName==="value"&&te(qe)){var $=[];ne($,qe,j,xb(j)),Jb(re,$)}}function Ce(j,$,_e){j==="focusin"?(Ae(),pe=$,qe=_e,pe.attachEvent("onpropertychange",Be)):j==="focusout"&&Ae()}function De(j){if(j==="selectionchange"||j==="keyup"||j==="keydown")return te(qe)}function Ee(j,$){if(j==="click")return te($)}function Fe(j,$){if(j==="input"||j==="change")return te($)}function Ge(j,$){return j===$&&(j!==0||1/j===1/$)||j!==j&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(j,$){if(He(j,$))return!0;if(typeof j!="object"||j===null||typeof $!="object"||$===null)return!1;var _e=Object.keys(j),et=Object.keys($);if(_e.length!==et.length)return!1;for(et=0;et<_e.length;et++){var tt=_e[et];if(!ja.call($,tt)||!He(j[tt],$[tt]))return!1}return!0}function Je(j){for(;j&&j.firstChild;)j=j.firstChild;return j}function Ke(j,$){var _e=Je(j);j=0;for(var et;_e;){if(_e.nodeType===3){if(et=j+_e.textContent.length,j<=$&&et>=$)return{node:_e,offset:$-j};j=et}e:{for(;_e;){if(_e.nextSibling){_e=_e.nextSibling;break e}_e=_e.parentNode}_e=void 0}_e=Je(_e)}}function Le(j,$){return j&&$?j===$?!0:j&&j.nodeType===3?!1:$&&$.nodeType===3?Le(j,$.parentNode):"contains"in j?j.contains($):j.compareDocumentPosition?!!(j.compareDocumentPosition($)&16):!1:!1}function Me(){for(var j=window,$=Xa();$ instanceof j.HTMLIFrameElement;){try{var _e=typeof $.contentWindow.location.href=="string"}catch{_e=!1}if(_e)j=$.contentWindow;else break;$=Xa(j.document)}return $}function Ne(j){var $=j&&j.nodeName&&j.nodeName.toLowerCase();return $&&($==="input"&&(j.type==="text"||j.type==="search"||j.type==="tel"||j.type==="url"||j.type==="password")||$==="textarea"||j.contentEditable==="true")}function Oe(j){var $=Me(),_e=j.focusedElem,et=j.selectionRange;if($!==_e&&_e&&_e.ownerDocument&&Le(_e.ownerDocument.documentElement,_e)){if(et!==null&&Ne(_e)){if($=et.start,j=et.end,j===void 0&&(j=$),"selectionStart"in _e)_e.selectionStart=$,_e.selectionEnd=Math.min(j,_e.value.length);else if(j=($=_e.ownerDocument||document)&&$.defaultView||window,j.getSelection){j=j.getSelection();var tt=_e.textContent.length,st=Math.min(et.start,tt);et=et.end===void 0?st:Math.min(et.end,tt),!j.extend&&st>et&&(tt=et,et=st,st=tt),tt=Ke(_e,st);var gt=Ke(_e,et);tt&&gt&&(j.rangeCount!==1||j.anchorNode!==tt.node||j.anchorOffset!==tt.offset||j.focusNode!==gt.node||j.focusOffset!==gt.offset)&&($=$.createRange(),$.setStart(tt.node,tt.offset),j.removeAllRanges(),st>et?(j.addRange($),j.extend(gt.node,gt.offset)):($.setEnd(gt.node,gt.offset),j.addRange($)))}}for($=[],j=_e;j=j.parentNode;)j.nodeType===1&&$.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof _e.focus=="function"&&_e.focus(),_e=0;_e<$.length;_e++)j=$[_e],j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(j,$,_e){var et=_e.window===_e?_e.document:_e.nodeType===9?_e:_e.ownerDocument;Te||Qe==null||Qe!==Xa(et)||(et=Qe,"selectionStart"in et&&Ne(et)?et={start:et.selectionStart,end:et.selectionEnd}:(et=(et.ownerDocument&&et.ownerDocument.defaultView||window).getSelection(),et={anchorNode:et.anchorNode,anchorOffset:et.anchorOffset,focusNode:et.focusNode,focusOffset:et.focusOffset}),Se&&Ie(Se,et)||(Se=et,et=oe(Re,"onSelect"),0<et.length&&($=new td("onSelect","select",null,$,_e),j.push({event:$,listeners:et}),$.target=Qe)))}function Ve(j,$){var _e={};return _e[j.toLowerCase()]=$.toLowerCase(),_e["Webkit"+j]="webkit"+$,_e["Moz"+j]="moz"+$,_e}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(j){if(Xe[j])return Xe[j];if(!We[j])return j;var $=We[j],_e;for(_e in $)if($.hasOwnProperty(_e)&&_e in Ye)return Xe[j]=$[_e];return j}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(j,$){df.set(j,$),fa($,[j])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(j,$,_e){var et=j.type||"unknown-event";j.currentTarget=_e,Ub(et,$,void 0,j),j.currentTarget=null}function se(j,$){$=($&4)!==0;for(var _e=0;_e<j.length;_e++){var et=j[_e],tt=et.event;et=et.listeners;e:{var st=void 0;if($)for(var gt=et.length-1;0<=gt;gt--){var lt=et[gt],nt=lt.instance,ut=lt.currentTarget;if(lt=lt.listener,nt!==st&&tt.isPropagationStopped())break e;nf(tt,lt,ut),st=nt}else for(gt=0;gt<et.length;gt++){if(lt=et[gt],nt=lt.instance,ut=lt.currentTarget,lt=lt.listener,nt!==st&&tt.isPropagationStopped())break e;nf(tt,lt,ut),st=nt}}}if(Qb)throw j=Rb,Qb=!1,Rb=null,j}function D$1(j,$){var _e=$[of];_e===void 0&&(_e=$[of]=new Set);var et=j+"__bubble";_e.has(et)||(pf($,j,2,!1),_e.add(et))}function qf(j,$,_e){var et=0;$&&(et|=4),pf(_e,j,et,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(j){if(!j[rf]){j[rf]=!0,da.forEach(function(_e){_e!=="selectionchange"&&(mf.has(_e)||qf(_e,!1,j),qf(_e,!0,j))});var $=j.nodeType===9?j:j.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(j,$,_e,et){switch(jd($)){case 1:var tt=ed;break;case 4:tt=gd;break;default:tt=fd}_e=tt.bind(null,$,_e,j),tt=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(tt=!0),et?tt!==void 0?j.addEventListener($,_e,{capture:!0,passive:tt}):j.addEventListener($,_e,!0):tt!==void 0?j.addEventListener($,_e,{passive:tt}):j.addEventListener($,_e,!1)}function hd(j,$,_e,et,tt){var st=et;if(($&1)===0&&($&2)===0&&et!==null)e:for(;;){if(et===null)return;var gt=et.tag;if(gt===3||gt===4){var lt=et.stateNode.containerInfo;if(lt===tt||lt.nodeType===8&&lt.parentNode===tt)break;if(gt===4)for(gt=et.return;gt!==null;){var nt=gt.tag;if((nt===3||nt===4)&&(nt=gt.stateNode.containerInfo,nt===tt||nt.nodeType===8&&nt.parentNode===tt))return;gt=gt.return}for(;lt!==null;){if(gt=Wc(lt),gt===null)return;if(nt=gt.tag,nt===5||nt===6){et=st=gt;continue e}lt=lt.parentNode}}et=et.return}Jb(function(){var ut=st,ht=xb(_e),at=[];e:{var it=df.get(j);if(it!==void 0){var rt=td,ot=j;switch(j){case"keypress":if(od(_e)===0)break e;case"keydown":case"keyup":rt=Rd;break;case"focusin":ot="focus",rt=Fd;break;case"focusout":ot="blur",rt=Fd;break;case"beforeblur":case"afterblur":rt=Fd;break;case"click":if(_e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Vd;break;case $e:case af:case bf:rt=Hd;break;case cf:rt=Xd;break;case"scroll":rt=vd;break;case"wheel":rt=Zd;break;case"copy":case"cut":case"paste":rt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Td}var ft=($&4)!==0,ct=!ft&&j==="scroll",dt=ft?it!==null?it+"Capture":null:it;ft=[];for(var pt=ut,mt;pt!==null;){mt=pt;var _t=mt.stateNode;if(mt.tag===5&&_t!==null&&(mt=_t,dt!==null&&(_t=Kb(pt,dt),_t!=null&&ft.push(tf(pt,_t,mt)))),ct)break;pt=pt.return}0<ft.length&&(it=new rt(it,ot,null,_e,ht),at.push({event:it,listeners:ft}))}}if(($&7)===0){e:{if(it=j==="mouseover"||j==="pointerover",rt=j==="mouseout"||j==="pointerout",it&&_e!==wb&&(ot=_e.relatedTarget||_e.fromElement)&&(Wc(ot)||ot[uf]))break e;if((rt||it)&&(it=ht.window===ht?ht:(it=ht.ownerDocument)?it.defaultView||it.parentWindow:window,rt?(ot=_e.relatedTarget||_e.toElement,rt=ut,ot=ot?Wc(ot):null,ot!==null&&(ct=Vb(ot),ot!==ct||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(rt=null,ot=ut),rt!==ot)){if(ft=Bd,_t="onMouseLeave",dt="onMouseEnter",pt="mouse",(j==="pointerout"||j==="pointerover")&&(ft=Td,_t="onPointerLeave",dt="onPointerEnter",pt="pointer"),ct=rt==null?it:ue(rt),mt=ot==null?it:ue(ot),it=new ft(_t,pt+"leave",rt,_e,ht),it.target=ct,it.relatedTarget=mt,_t=null,Wc(ht)===ut&&(ft=new ft(dt,pt+"enter",ot,_e,ht),ft.target=mt,ft.relatedTarget=ct,_t=ft),ct=_t,rt&&ot)t:{for(ft=rt,dt=ot,pt=0,mt=ft;mt;mt=vf(mt))pt++;for(mt=0,_t=dt;_t;_t=vf(_t))mt++;for(;0<pt-mt;)ft=vf(ft),pt--;for(;0<mt-pt;)dt=vf(dt),mt--;for(;pt--;){if(ft===dt||dt!==null&&ft===dt.alternate)break t;ft=vf(ft),dt=vf(dt)}ft=null}else ft=null;rt!==null&&wf(at,it,rt,ft,!1),ot!==null&&ct!==null&&wf(at,ct,ot,ft,!0)}}e:{if(it=ut?ue(ut):window,rt=it.nodeName&&it.nodeName.toLowerCase(),rt==="select"||rt==="input"&&it.type==="file")var vt=ve;else if(me(it))if(we)vt=Fe;else{vt=De;var yt=Ce}else(rt=it.nodeName)&&rt.toLowerCase()==="input"&&(it.type==="checkbox"||it.type==="radio")&&(vt=Ee);if(vt&&(vt=vt(j,ut))){ne(at,vt,_e,ht);break e}yt&&yt(j,it,ut),j==="focusout"&&(yt=it._wrapperState)&&yt.controlled&&it.type==="number"&&cb(it,"number",it.value)}switch(yt=ut?ue(ut):window,j){case"focusin":(me(yt)||yt.contentEditable==="true")&&(Qe=yt,Re=ut,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(at,_e,ht);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(at,_e,ht)}var Ct;if(ae)e:{switch(j){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else ie?ge(j,_e)&&(bt="onCompositionEnd"):j==="keydown"&&_e.keyCode===229&&(bt="onCompositionStart");bt&&(de&&_e.locale!=="ko"&&(ie||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&ie&&(Ct=nd()):(kd=ht,ld="value"in kd?kd.value:kd.textContent,ie=!0)),yt=oe(ut,bt),0<yt.length&&(bt=new Ld(bt,j,null,_e,ht),at.push({event:bt,listeners:yt}),Ct?bt.data=Ct:(Ct=he(_e),Ct!==null&&(bt.data=Ct)))),(Ct=ce?je(j,_e):ke(j,_e))&&(ut=oe(ut,"onBeforeInput"),0<ut.length&&(ht=new Ld("onBeforeInput","beforeinput",null,_e,ht),at.push({event:ht,listeners:ut}),ht.data=Ct))}se(at,$)})}function tf(j,$,_e){return{instance:j,listener:$,currentTarget:_e}}function oe(j,$){for(var _e=$+"Capture",et=[];j!==null;){var tt=j,st=tt.stateNode;tt.tag===5&&st!==null&&(tt=st,st=Kb(j,_e),st!=null&&et.unshift(tf(j,st,tt)),st=Kb(j,$),st!=null&&et.push(tf(j,st,tt))),j=j.return}return et}function vf(j){if(j===null)return null;do j=j.return;while(j&&j.tag!==5);return j||null}function wf(j,$,_e,et,tt){for(var st=$._reactName,gt=[];_e!==null&&_e!==et;){var lt=_e,nt=lt.alternate,ut=lt.stateNode;if(nt!==null&&nt===et)break;lt.tag===5&&ut!==null&&(lt=ut,tt?(nt=Kb(_e,st),nt!=null&&gt.unshift(tf(_e,nt,lt))):tt||(nt=Kb(_e,st),nt!=null&&gt.push(tf(_e,nt,lt)))),_e=_e.return}gt.length!==0&&j.push({event:$,listeners:gt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(j){return(typeof j=="string"?j:""+j).replace(xf,`
`).replace(yf,"")}function Af(j,$,_e){if($=zf($),zf(j)!==$&&_e)throw Error(p$9(425))}function Bf(){}var Cf=null,Df=null;function Ef(j,$){return j==="textarea"||j==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(j){return Hf.resolve(null).then(j).catch(If)}:Ff;function If(j){setTimeout(function(){throw j})}function Kf(j,$){var _e=$,et=0;do{var tt=_e.nextSibling;if(j.removeChild(_e),tt&&tt.nodeType===8)if(_e=tt.data,_e==="/$"){if(et===0){j.removeChild(tt),bd($);return}et--}else _e!=="$"&&_e!=="$?"&&_e!=="$!"||et++;_e=tt}while(_e);bd($)}function Lf(j){for(;j!=null;j=j.nextSibling){var $=j.nodeType;if($===1||$===3)break;if($===8){if($=j.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return j}function Mf(j){j=j.previousSibling;for(var $=0;j;){if(j.nodeType===8){var _e=j.data;if(_e==="$"||_e==="$!"||_e==="$?"){if($===0)return j;$--}else _e==="/$"&&$++}j=j.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(j){var $=j[Of];if($)return $;for(var _e=j.parentNode;_e;){if($=_e[uf]||_e[Of]){if(_e=$.alternate,$.child!==null||_e!==null&&_e.child!==null)for(j=Mf(j);j!==null;){if(_e=j[Of])return _e;j=Mf(j)}return $}j=_e,_e=j.parentNode}return null}function Cb(j){return j=j[Of]||j[uf],!j||j.tag!==5&&j.tag!==6&&j.tag!==13&&j.tag!==3?null:j}function ue(j){if(j.tag===5||j.tag===6)return j.stateNode;throw Error(p$9(33))}function Db(j){return j[Pf]||null}var Sf=[],Tf=-1;function Uf(j){return{current:j}}function E$6(j){0>Tf||(j.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(j,$){Tf++,Sf[Tf]=j.current,j.current=$}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(j,$){var _e=j.type.contextTypes;if(!_e)return Vf;var et=j.stateNode;if(et&&et.__reactInternalMemoizedUnmaskedChildContext===$)return et.__reactInternalMemoizedMaskedChildContext;var tt={},st;for(st in _e)tt[st]=$[st];return et&&(j=j.stateNode,j.__reactInternalMemoizedUnmaskedChildContext=$,j.__reactInternalMemoizedMaskedChildContext=tt),tt}function Zf(j){return j=j.childContextTypes,j!=null}function $f(){E$6(Wf),E$6(H)}function ag(j,$,_e){if(H.current!==Vf)throw Error(p$9(168));G(H,$),G(Wf,_e)}function bg(j,$,_e){var et=j.stateNode;if($=$.childContextTypes,typeof et.getChildContext!="function")return _e;et=et.getChildContext();for(var tt in et)if(!(tt in $))throw Error(p$9(108,Ra(j)||"Unknown",tt));return A({},_e,et)}function cg(j){return j=(j=j.stateNode)&&j.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,j),G(Wf,Wf.current),!0}function dg(j,$,_e){var et=j.stateNode;if(!et)throw Error(p$9(169));_e?(j=bg(j,$,Xf),et.__reactInternalMemoizedMergedChildContext=j,E$6(Wf),E$6(H),G(H,j)):E$6(Wf),G(Wf,_e)}var eg=null,fg=!1,gg=!1;function hg(j){eg===null?eg=[j]:eg.push(j)}function ig(j){fg=!0,hg(j)}function jg(){if(!gg&&eg!==null){gg=!0;var j=0,$=C$4;try{var _e=eg;for(C$4=1;j<_e.length;j++){var et=_e[j];do et=et(!0);while(et!==null)}eg=null,fg=!1}catch(tt){throw eg!==null&&(eg=eg.slice(j+1)),ac(fc,jg),tt}finally{C$4=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(j,$){kg[lg++]=ng,kg[lg++]=mg,mg=j,ng=$}function ug(j,$,_e){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=j;var et=rg;j=sg;var tt=32-oc(et)-1;et&=~(1<<tt),_e+=1;var st=32-oc($)+tt;if(30<st){var gt=tt-tt%5;st=(et&(1<<gt)-1).toString(32),et>>=gt,tt-=gt,rg=1<<32-oc($)+tt|_e<<tt|et,sg=st+j}else rg=1<<st|_e<<tt|et,sg=j}function vg(j){j.return!==null&&(tg(j,1),ug(j,1,0))}function wg(j){for(;j===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;j===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$2=!1,zg=null;function Ag(j,$){var _e=Bg(5,null,null,0);_e.elementType="DELETED",_e.stateNode=$,_e.return=j,$=j.deletions,$===null?(j.deletions=[_e],j.flags|=16):$.push(_e)}function Cg(j,$){switch(j.tag){case 5:var _e=j.type;return $=$.nodeType!==1||_e.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(j.stateNode=$,xg=j,yg=Lf($.firstChild),!0):!1;case 6:return $=j.pendingProps===""||$.nodeType!==3?null:$,$!==null?(j.stateNode=$,xg=j,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(_e=qg!==null?{id:rg,overflow:sg}:null,j.memoizedState={dehydrated:$,treeContext:_e,retryLane:1073741824},_e=Bg(18,null,null,0),_e.stateNode=$,_e.return=j,j.child=_e,xg=j,yg=null,!0):!1;default:return!1}}function Dg(j){return(j.mode&1)!==0&&(j.flags&128)===0}function Eg(j){if(I$2){var $=yg;if($){var _e=$;if(!Cg(j,$)){if(Dg(j))throw Error(p$9(418));$=Lf(_e.nextSibling);var et=xg;$&&Cg(j,$)?Ag(et,_e):(j.flags=j.flags&-4097|2,I$2=!1,xg=j)}}else{if(Dg(j))throw Error(p$9(418));j.flags=j.flags&-4097|2,I$2=!1,xg=j}}}function Fg(j){for(j=j.return;j!==null&&j.tag!==5&&j.tag!==3&&j.tag!==13;)j=j.return;xg=j}function Gg(j){if(j!==xg)return!1;if(!I$2)return Fg(j),I$2=!0,!1;var $;if(($=j.tag!==3)&&!($=j.tag!==5)&&($=j.type,$=$!=="head"&&$!=="body"&&!Ef(j.type,j.memoizedProps)),$&&($=yg)){if(Dg(j))throw Hg(),Error(p$9(418));for(;$;)Ag(j,$),$=Lf($.nextSibling)}if(Fg(j),j.tag===13){if(j=j.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(p$9(317));e:{for(j=j.nextSibling,$=0;j;){if(j.nodeType===8){var _e=j.data;if(_e==="/$"){if($===0){yg=Lf(j.nextSibling);break e}$--}else _e!=="$"&&_e!=="$!"&&_e!=="$?"||$++}j=j.nextSibling}yg=null}}else yg=xg?Lf(j.stateNode.nextSibling):null;return!0}function Hg(){for(var j=yg;j;)j=Lf(j.nextSibling)}function Ig(){yg=xg=null,I$2=!1}function Jg(j){zg===null?zg=[j]:zg.push(j)}var Kg=ua.ReactCurrentBatchConfig;function Lg(j,$){if(j&&j.defaultProps){$=A({},$),j=j.defaultProps;for(var _e in j)$[_e]===void 0&&($[_e]=j[_e]);return $}return $}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(j){var $=Mg.current;E$6(Mg),j._currentValue=$}function Sg(j,$,_e){for(;j!==null;){var et=j.alternate;if((j.childLanes&$)!==$?(j.childLanes|=$,et!==null&&(et.childLanes|=$)):et!==null&&(et.childLanes&$)!==$&&(et.childLanes|=$),j===_e)break;j=j.return}}function Tg(j,$){Ng=j,Pg=Og=null,j=j.dependencies,j!==null&&j.firstContext!==null&&((j.lanes&$)!==0&&(Ug=!0),j.firstContext=null)}function Vg(j){var $=j._currentValue;if(Pg!==j)if(j={context:j,memoizedValue:$,next:null},Og===null){if(Ng===null)throw Error(p$9(308));Og=j,Ng.dependencies={lanes:0,firstContext:j}}else Og=Og.next=j;return $}var Wg=null;function Xg(j){Wg===null?Wg=[j]:Wg.push(j)}function Yg(j,$,_e,et){var tt=$.interleaved;return tt===null?(_e.next=_e,Xg($)):(_e.next=tt.next,tt.next=_e),$.interleaved=_e,Zg(j,et)}function Zg(j,$){j.lanes|=$;var _e=j.alternate;for(_e!==null&&(_e.lanes|=$),_e=j,j=j.return;j!==null;)j.childLanes|=$,_e=j.alternate,_e!==null&&(_e.childLanes|=$),_e=j,j=j.return;return _e.tag===3?_e.stateNode:null}var $g=!1;function ah(j){j.updateQueue={baseState:j.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(j,$){j=j.updateQueue,$.updateQueue===j&&($.updateQueue={baseState:j.baseState,firstBaseUpdate:j.firstBaseUpdate,lastBaseUpdate:j.lastBaseUpdate,shared:j.shared,effects:j.effects})}function ch(j,$){return{eventTime:j,lane:$,tag:0,payload:null,callback:null,next:null}}function dh(j,$,_e){var et=j.updateQueue;if(et===null)return null;if(et=et.shared,(K&2)!==0){var tt=et.pending;return tt===null?$.next=$:($.next=tt.next,tt.next=$),et.pending=$,Zg(j,_e)}return tt=et.interleaved,tt===null?($.next=$,Xg(et)):($.next=tt.next,tt.next=$),et.interleaved=$,Zg(j,_e)}function eh(j,$,_e){if($=$.updateQueue,$!==null&&($=$.shared,(_e&4194240)!==0)){var et=$.lanes;et&=j.pendingLanes,_e|=et,$.lanes=_e,Cc(j,_e)}}function fh(j,$){var _e=j.updateQueue,et=j.alternate;if(et!==null&&(et=et.updateQueue,_e===et)){var tt=null,st=null;if(_e=_e.firstBaseUpdate,_e!==null){do{var gt={eventTime:_e.eventTime,lane:_e.lane,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null};st===null?tt=st=gt:st=st.next=gt,_e=_e.next}while(_e!==null);st===null?tt=st=$:st=st.next=$}else tt=st=$;_e={baseState:et.baseState,firstBaseUpdate:tt,lastBaseUpdate:st,shared:et.shared,effects:et.effects},j.updateQueue=_e;return}j=_e.lastBaseUpdate,j===null?_e.firstBaseUpdate=$:j.next=$,_e.lastBaseUpdate=$}function gh(j,$,_e,et){var tt=j.updateQueue;$g=!1;var st=tt.firstBaseUpdate,gt=tt.lastBaseUpdate,lt=tt.shared.pending;if(lt!==null){tt.shared.pending=null;var nt=lt,ut=nt.next;nt.next=null,gt===null?st=ut:gt.next=ut,gt=nt;var ht=j.alternate;ht!==null&&(ht=ht.updateQueue,lt=ht.lastBaseUpdate,lt!==gt&&(lt===null?ht.firstBaseUpdate=ut:lt.next=ut,ht.lastBaseUpdate=nt))}if(st!==null){var at=tt.baseState;gt=0,ht=ut=nt=null,lt=st;do{var it=lt.lane,rt=lt.eventTime;if((et&it)===it){ht!==null&&(ht=ht.next={eventTime:rt,lane:0,tag:lt.tag,payload:lt.payload,callback:lt.callback,next:null});e:{var ot=j,ft=lt;switch(it=$,rt=_e,ft.tag){case 1:if(ot=ft.payload,typeof ot=="function"){at=ot.call(rt,at,it);break e}at=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=ft.payload,it=typeof ot=="function"?ot.call(rt,at,it):ot,it==null)break e;at=A({},at,it);break e;case 2:$g=!0}}lt.callback!==null&&lt.lane!==0&&(j.flags|=64,it=tt.effects,it===null?tt.effects=[lt]:it.push(lt))}else rt={eventTime:rt,lane:it,tag:lt.tag,payload:lt.payload,callback:lt.callback,next:null},ht===null?(ut=ht=rt,nt=at):ht=ht.next=rt,gt|=it;if(lt=lt.next,lt===null){if(lt=tt.shared.pending,lt===null)break;it=lt,lt=it.next,it.next=null,tt.lastBaseUpdate=it,tt.shared.pending=null}}while(1);if(ht===null&&(nt=at),tt.baseState=nt,tt.firstBaseUpdate=ut,tt.lastBaseUpdate=ht,$=tt.shared.interleaved,$!==null){tt=$;do gt|=tt.lane,tt=tt.next;while(tt!==$)}else st===null&&(tt.shared.lanes=0);hh|=gt,j.lanes=gt,j.memoizedState=at}}function ih(j,$,_e){if(j=$.effects,$.effects=null,j!==null)for($=0;$<j.length;$++){var et=j[$],tt=et.callback;if(tt!==null){if(et.callback=null,et=_e,typeof tt!="function")throw Error(p$9(191,tt));tt.call(et)}}}var jh=new aa.Component().refs;function kh(j,$,_e,et){$=j.memoizedState,_e=_e(et,$),_e=_e==null?$:A({},$,_e),j.memoizedState=_e,j.lanes===0&&(j.updateQueue.baseState=_e)}var nh={isMounted:function(j){return(j=j._reactInternals)?Vb(j)===j:!1},enqueueSetState:function(j,$,_e){j=j._reactInternals;var et=L$1(),tt=lh(j),st=ch(et,tt);st.payload=$,_e!=null&&(st.callback=_e),$=dh(j,st,tt),$!==null&&(mh($,j,tt,et),eh($,j,tt))},enqueueReplaceState:function(j,$,_e){j=j._reactInternals;var et=L$1(),tt=lh(j),st=ch(et,tt);st.tag=1,st.payload=$,_e!=null&&(st.callback=_e),$=dh(j,st,tt),$!==null&&(mh($,j,tt,et),eh($,j,tt))},enqueueForceUpdate:function(j,$){j=j._reactInternals;var _e=L$1(),et=lh(j),tt=ch(_e,et);tt.tag=2,$!=null&&(tt.callback=$),$=dh(j,tt,et),$!==null&&(mh($,j,et,_e),eh($,j,et))}};function oh(j,$,_e,et,tt,st,gt){return j=j.stateNode,typeof j.shouldComponentUpdate=="function"?j.shouldComponentUpdate(et,st,gt):$.prototype&&$.prototype.isPureReactComponent?!Ie(_e,et)||!Ie(tt,st):!0}function ph(j,$,_e){var et=!1,tt=Vf,st=$.contextType;return typeof st=="object"&&st!==null?st=Vg(st):(tt=Zf($)?Xf:H.current,et=$.contextTypes,st=(et=et!=null)?Yf(j,tt):Vf),$=new $(_e,st),j.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=nh,j.stateNode=$,$._reactInternals=j,et&&(j=j.stateNode,j.__reactInternalMemoizedUnmaskedChildContext=tt,j.__reactInternalMemoizedMaskedChildContext=st),$}function qh(j,$,_e,et){j=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(_e,et),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(_e,et),$.state!==j&&nh.enqueueReplaceState($,$.state,null)}function rh(j,$,_e,et){var tt=j.stateNode;tt.props=_e,tt.state=j.memoizedState,tt.refs=jh,ah(j);var st=$.contextType;typeof st=="object"&&st!==null?tt.context=Vg(st):(st=Zf($)?Xf:H.current,tt.context=Yf(j,st)),tt.state=j.memoizedState,st=$.getDerivedStateFromProps,typeof st=="function"&&(kh(j,$,st,_e),tt.state=j.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof tt.getSnapshotBeforeUpdate=="function"||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||($=tt.state,typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount(),$!==tt.state&&nh.enqueueReplaceState(tt,tt.state,null),gh(j,_e,tt,et),tt.state=j.memoizedState),typeof tt.componentDidMount=="function"&&(j.flags|=4194308)}function sh(j,$,_e){if(j=_e.ref,j!==null&&typeof j!="function"&&typeof j!="object"){if(_e._owner){if(_e=_e._owner,_e){if(_e.tag!==1)throw Error(p$9(309));var et=_e.stateNode}if(!et)throw Error(p$9(147,j));var tt=et,st=""+j;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===st?$.ref:($=function(gt){var lt=tt.refs;lt===jh&&(lt=tt.refs={}),gt===null?delete lt[st]:lt[st]=gt},$._stringRef=st,$)}if(typeof j!="string")throw Error(p$9(284));if(!_e._owner)throw Error(p$9(290,j))}return j}function th(j,$){throw j=Object.prototype.toString.call($),Error(p$9(31,j==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":j))}function uh(j){var $=j._init;return $(j._payload)}function vh(j){function $(dt,pt){if(j){var mt=dt.deletions;mt===null?(dt.deletions=[pt],dt.flags|=16):mt.push(pt)}}function _e(dt,pt){if(!j)return null;for(;pt!==null;)$(dt,pt),pt=pt.sibling;return null}function et(dt,pt){for(dt=new Map;pt!==null;)pt.key!==null?dt.set(pt.key,pt):dt.set(pt.index,pt),pt=pt.sibling;return dt}function tt(dt,pt){return dt=wh(dt,pt),dt.index=0,dt.sibling=null,dt}function st(dt,pt,mt){return dt.index=mt,j?(mt=dt.alternate,mt!==null?(mt=mt.index,mt<pt?(dt.flags|=2,pt):mt):(dt.flags|=2,pt)):(dt.flags|=1048576,pt)}function gt(dt){return j&&dt.alternate===null&&(dt.flags|=2),dt}function lt(dt,pt,mt,_t){return pt===null||pt.tag!==6?(pt=xh(mt,dt.mode,_t),pt.return=dt,pt):(pt=tt(pt,mt),pt.return=dt,pt)}function nt(dt,pt,mt,_t){var vt=mt.type;return vt===ya?ht(dt,pt,mt.props.children,_t,mt.key):pt!==null&&(pt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ha&&uh(vt)===pt.type)?(_t=tt(pt,mt.props),_t.ref=sh(dt,pt,mt),_t.return=dt,_t):(_t=yh(mt.type,mt.key,mt.props,null,dt.mode,_t),_t.ref=sh(dt,pt,mt),_t.return=dt,_t)}function ut(dt,pt,mt,_t){return pt===null||pt.tag!==4||pt.stateNode.containerInfo!==mt.containerInfo||pt.stateNode.implementation!==mt.implementation?(pt=zh(mt,dt.mode,_t),pt.return=dt,pt):(pt=tt(pt,mt.children||[]),pt.return=dt,pt)}function ht(dt,pt,mt,_t,vt){return pt===null||pt.tag!==7?(pt=Ah(mt,dt.mode,_t,vt),pt.return=dt,pt):(pt=tt(pt,mt),pt.return=dt,pt)}function at(dt,pt,mt){if(typeof pt=="string"&&pt!==""||typeof pt=="number")return pt=xh(""+pt,dt.mode,mt),pt.return=dt,pt;if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return mt=yh(pt.type,pt.key,pt.props,null,dt.mode,mt),mt.ref=sh(dt,null,pt),mt.return=dt,mt;case wa:return pt=zh(pt,dt.mode,mt),pt.return=dt,pt;case Ha:var _t=pt._init;return at(dt,_t(pt._payload),mt)}if(eb(pt)||Ka(pt))return pt=Ah(pt,dt.mode,mt,null),pt.return=dt,pt;th(dt,pt)}return null}function it(dt,pt,mt,_t){var vt=pt!==null?pt.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number")return vt!==null?null:lt(dt,pt,""+mt,_t);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return mt.key===vt?nt(dt,pt,mt,_t):null;case wa:return mt.key===vt?ut(dt,pt,mt,_t):null;case Ha:return vt=mt._init,it(dt,pt,vt(mt._payload),_t)}if(eb(mt)||Ka(mt))return vt!==null?null:ht(dt,pt,mt,_t,null);th(dt,mt)}return null}function rt(dt,pt,mt,_t,vt){if(typeof _t=="string"&&_t!==""||typeof _t=="number")return dt=dt.get(mt)||null,lt(pt,dt,""+_t,vt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:return dt=dt.get(_t.key===null?mt:_t.key)||null,nt(pt,dt,_t,vt);case wa:return dt=dt.get(_t.key===null?mt:_t.key)||null,ut(pt,dt,_t,vt);case Ha:var yt=_t._init;return rt(dt,pt,mt,yt(_t._payload),vt)}if(eb(_t)||Ka(_t))return dt=dt.get(mt)||null,ht(pt,dt,_t,vt,null);th(pt,_t)}return null}function ot(dt,pt,mt,_t){for(var vt=null,yt=null,Ct=pt,bt=pt=0,Dt=null;Ct!==null&&bt<mt.length;bt++){Ct.index>bt?(Dt=Ct,Ct=null):Dt=Ct.sibling;var wt=it(dt,Ct,mt[bt],_t);if(wt===null){Ct===null&&(Ct=Dt);break}j&&Ct&&wt.alternate===null&&$(dt,Ct),pt=st(wt,pt,bt),yt===null?vt=wt:yt.sibling=wt,yt=wt,Ct=Dt}if(bt===mt.length)return _e(dt,Ct),I$2&&tg(dt,bt),vt;if(Ct===null){for(;bt<mt.length;bt++)Ct=at(dt,mt[bt],_t),Ct!==null&&(pt=st(Ct,pt,bt),yt===null?vt=Ct:yt.sibling=Ct,yt=Ct);return I$2&&tg(dt,bt),vt}for(Ct=et(dt,Ct);bt<mt.length;bt++)Dt=rt(Ct,dt,bt,mt[bt],_t),Dt!==null&&(j&&Dt.alternate!==null&&Ct.delete(Dt.key===null?bt:Dt.key),pt=st(Dt,pt,bt),yt===null?vt=Dt:yt.sibling=Dt,yt=Dt);return j&&Ct.forEach(function(Ft){return $(dt,Ft)}),I$2&&tg(dt,bt),vt}function ft(dt,pt,mt,_t){var vt=Ka(mt);if(typeof vt!="function")throw Error(p$9(150));if(mt=vt.call(mt),mt==null)throw Error(p$9(151));for(var yt=vt=null,Ct=pt,bt=pt=0,Dt=null,wt=mt.next();Ct!==null&&!wt.done;bt++,wt=mt.next()){Ct.index>bt?(Dt=Ct,Ct=null):Dt=Ct.sibling;var Ft=it(dt,Ct,wt.value,_t);if(Ft===null){Ct===null&&(Ct=Dt);break}j&&Ct&&Ft.alternate===null&&$(dt,Ct),pt=st(Ft,pt,bt),yt===null?vt=Ft:yt.sibling=Ft,yt=Ft,Ct=Dt}if(wt.done)return _e(dt,Ct),I$2&&tg(dt,bt),vt;if(Ct===null){for(;!wt.done;bt++,wt=mt.next())wt=at(dt,wt.value,_t),wt!==null&&(pt=st(wt,pt,bt),yt===null?vt=wt:yt.sibling=wt,yt=wt);return I$2&&tg(dt,bt),vt}for(Ct=et(dt,Ct);!wt.done;bt++,wt=mt.next())wt=rt(Ct,dt,bt,wt.value,_t),wt!==null&&(j&&wt.alternate!==null&&Ct.delete(wt.key===null?bt:wt.key),pt=st(wt,pt,bt),yt===null?vt=wt:yt.sibling=wt,yt=wt);return j&&Ct.forEach(function(Lt){return $(dt,Lt)}),I$2&&tg(dt,bt),vt}function ct(dt,pt,mt,_t){if(typeof mt=="object"&&mt!==null&&mt.type===ya&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:e:{for(var vt=mt.key,yt=pt;yt!==null;){if(yt.key===vt){if(vt=mt.type,vt===ya){if(yt.tag===7){_e(dt,yt.sibling),pt=tt(yt,mt.props.children),pt.return=dt,dt=pt;break e}}else if(yt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Ha&&uh(vt)===yt.type){_e(dt,yt.sibling),pt=tt(yt,mt.props),pt.ref=sh(dt,yt,mt),pt.return=dt,dt=pt;break e}_e(dt,yt);break}else $(dt,yt);yt=yt.sibling}mt.type===ya?(pt=Ah(mt.props.children,dt.mode,_t,mt.key),pt.return=dt,dt=pt):(_t=yh(mt.type,mt.key,mt.props,null,dt.mode,_t),_t.ref=sh(dt,pt,mt),_t.return=dt,dt=_t)}return gt(dt);case wa:e:{for(yt=mt.key;pt!==null;){if(pt.key===yt)if(pt.tag===4&&pt.stateNode.containerInfo===mt.containerInfo&&pt.stateNode.implementation===mt.implementation){_e(dt,pt.sibling),pt=tt(pt,mt.children||[]),pt.return=dt,dt=pt;break e}else{_e(dt,pt);break}else $(dt,pt);pt=pt.sibling}pt=zh(mt,dt.mode,_t),pt.return=dt,dt=pt}return gt(dt);case Ha:return yt=mt._init,ct(dt,pt,yt(mt._payload),_t)}if(eb(mt))return ot(dt,pt,mt,_t);if(Ka(mt))return ft(dt,pt,mt,_t);th(dt,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"?(mt=""+mt,pt!==null&&pt.tag===6?(_e(dt,pt.sibling),pt=tt(pt,mt),pt.return=dt,dt=pt):(_e(dt,pt),pt=xh(mt,dt.mode,_t),pt.return=dt,dt=pt),gt(dt)):_e(dt,pt)}return ct}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(j){if(j===Dh)throw Error(p$9(174));return j}function Ih(j,$){switch(G(Gh,$),G(Fh,j),G(Eh,Dh),j=$.nodeType,j){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:j=j===8?$.parentNode:$,$=j.namespaceURI||null,j=j.tagName,$=lb($,j)}E$6(Eh),G(Eh,$)}function Jh(){E$6(Eh),E$6(Fh),E$6(Gh)}function Kh(j){Hh(Gh.current);var $=Hh(Eh.current),_e=lb($,j.type);$!==_e&&(G(Fh,j),G(Eh,_e))}function Lh(j){Fh.current===j&&(E$6(Eh),E$6(Fh))}var M$1=Uf(0);function Mh(j){for(var $=j;$!==null;){if($.tag===13){var _e=$.memoizedState;if(_e!==null&&(_e=_e.dehydrated,_e===null||_e.data==="$?"||_e.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if(($.flags&128)!==0)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===j)break;for(;$.sibling===null;){if($.return===null||$.return===j)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Nh=[];function Oh(){for(var j=0;j<Nh.length;j++)Nh[j]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O$1=null,P$3=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$9(321))}function Wh(j,$){if($===null)return!1;for(var _e=0;_e<$.length&&_e<j.length;_e++)if(!He(j[_e],$[_e]))return!1;return!0}function Xh(j,$,_e,et,tt,st){if(Rh=st,N$1=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Ph.current=j===null||j.memoizedState===null?Yh:Zh,j=_e(et,tt),Th){st=0;do{if(Th=!1,Uh=0,25<=st)throw Error(p$9(301));st+=1,P$3=O$1=null,$.updateQueue=null,Ph.current=$h,j=_e(et,tt)}while(Th)}if(Ph.current=ai,$=O$1!==null&&O$1.next!==null,Rh=0,P$3=O$1=N$1=null,Sh=!1,$)throw Error(p$9(300));return j}function bi(){var j=Uh!==0;return Uh=0,j}function ci(){var j={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$3===null?N$1.memoizedState=P$3=j:P$3=P$3.next=j,P$3}function di(){if(O$1===null){var j=N$1.alternate;j=j!==null?j.memoizedState:null}else j=O$1.next;var $=P$3===null?N$1.memoizedState:P$3.next;if($!==null)P$3=$,O$1=j;else{if(j===null)throw Error(p$9(310));O$1=j,j={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$3===null?N$1.memoizedState=P$3=j:P$3=P$3.next=j}return P$3}function ei(j,$){return typeof $=="function"?$(j):$}function fi(j){var $=di(),_e=$.queue;if(_e===null)throw Error(p$9(311));_e.lastRenderedReducer=j;var et=O$1,tt=et.baseQueue,st=_e.pending;if(st!==null){if(tt!==null){var gt=tt.next;tt.next=st.next,st.next=gt}et.baseQueue=tt=st,_e.pending=null}if(tt!==null){st=tt.next,et=et.baseState;var lt=gt=null,nt=null,ut=st;do{var ht=ut.lane;if((Rh&ht)===ht)nt!==null&&(nt=nt.next={lane:0,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),et=ut.hasEagerState?ut.eagerState:j(et,ut.action);else{var at={lane:ht,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null};nt===null?(lt=nt=at,gt=et):nt=nt.next=at,N$1.lanes|=ht,hh|=ht}ut=ut.next}while(ut!==null&&ut!==st);nt===null?gt=et:nt.next=lt,He(et,$.memoizedState)||(Ug=!0),$.memoizedState=et,$.baseState=gt,$.baseQueue=nt,_e.lastRenderedState=et}if(j=_e.interleaved,j!==null){tt=j;do st=tt.lane,N$1.lanes|=st,hh|=st,tt=tt.next;while(tt!==j)}else tt===null&&(_e.lanes=0);return[$.memoizedState,_e.dispatch]}function gi(j){var $=di(),_e=$.queue;if(_e===null)throw Error(p$9(311));_e.lastRenderedReducer=j;var et=_e.dispatch,tt=_e.pending,st=$.memoizedState;if(tt!==null){_e.pending=null;var gt=tt=tt.next;do st=j(st,gt.action),gt=gt.next;while(gt!==tt);He(st,$.memoizedState)||(Ug=!0),$.memoizedState=st,$.baseQueue===null&&($.baseState=st),_e.lastRenderedState=st}return[st,et]}function hi(){}function ii(j,$){var _e=N$1,et=di(),tt=$(),st=!He(et.memoizedState,tt);if(st&&(et.memoizedState=tt,Ug=!0),et=et.queue,ji(ki.bind(null,_e,et,j),[j]),et.getSnapshot!==$||st||P$3!==null&&P$3.memoizedState.tag&1){if(_e.flags|=2048,li(9,mi.bind(null,_e,et,tt,$),void 0,null),R===null)throw Error(p$9(349));(Rh&30)!==0||ni(_e,$,tt)}return tt}function ni(j,$,_e){j.flags|=16384,j={getSnapshot:$,value:_e},$=N$1.updateQueue,$===null?($={lastEffect:null,stores:null},N$1.updateQueue=$,$.stores=[j]):(_e=$.stores,_e===null?$.stores=[j]:_e.push(j))}function mi(j,$,_e,et){$.value=_e,$.getSnapshot=et,oi($)&&pi(j)}function ki(j,$,_e){return _e(function(){oi($)&&pi(j)})}function oi(j){var $=j.getSnapshot;j=j.value;try{var _e=$();return!He(j,_e)}catch{return!0}}function pi(j){var $=Zg(j,1);$!==null&&mh($,j,1,-1)}function qi(j){var $=ci();return typeof j=="function"&&(j=j()),$.memoizedState=$.baseState=j,j={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:j},$.queue=j,j=j.dispatch=ri.bind(null,N$1,j),[$.memoizedState,j]}function li(j,$,_e,et){return j={tag:j,create:$,destroy:_e,deps:et,next:null},$=N$1.updateQueue,$===null?($={lastEffect:null,stores:null},N$1.updateQueue=$,$.lastEffect=j.next=j):(_e=$.lastEffect,_e===null?$.lastEffect=j.next=j:(et=_e.next,_e.next=j,j.next=et,$.lastEffect=j)),j}function si(){return di().memoizedState}function ti(j,$,_e,et){var tt=ci();N$1.flags|=j,tt.memoizedState=li(1|$,_e,void 0,et===void 0?null:et)}function ui(j,$,_e,et){var tt=di();et=et===void 0?null:et;var st=void 0;if(O$1!==null){var gt=O$1.memoizedState;if(st=gt.destroy,et!==null&&Wh(et,gt.deps)){tt.memoizedState=li($,_e,st,et);return}}N$1.flags|=j,tt.memoizedState=li(1|$,_e,st,et)}function vi(j,$){return ti(8390656,8,j,$)}function ji(j,$){return ui(2048,8,j,$)}function wi(j,$){return ui(4,2,j,$)}function xi(j,$){return ui(4,4,j,$)}function yi(j,$){if(typeof $=="function")return j=j(),$(j),function(){$(null)};if($!=null)return j=j(),$.current=j,function(){$.current=null}}function zi(j,$,_e){return _e=_e!=null?_e.concat([j]):null,ui(4,4,yi.bind(null,$,j),_e)}function Ai(){}function Bi(j,$){var _e=di();$=$===void 0?null:$;var et=_e.memoizedState;return et!==null&&$!==null&&Wh($,et[1])?et[0]:(_e.memoizedState=[j,$],j)}function Ci(j,$){var _e=di();$=$===void 0?null:$;var et=_e.memoizedState;return et!==null&&$!==null&&Wh($,et[1])?et[0]:(j=j(),_e.memoizedState=[j,$],j)}function Di(j,$,_e){return(Rh&21)===0?(j.baseState&&(j.baseState=!1,Ug=!0),j.memoizedState=_e):(He(_e,$)||(_e=yc(),N$1.lanes|=_e,hh|=_e,j.baseState=!0),$)}function Ei(j,$){var _e=C$4;C$4=_e!==0&&4>_e?_e:4,j(!0);var et=Qh.transition;Qh.transition={};try{j(!1),$()}finally{C$4=_e,Qh.transition=et}}function Fi(){return di().memoizedState}function Gi(j,$,_e){var et=lh(j);if(_e={lane:et,action:_e,hasEagerState:!1,eagerState:null,next:null},Hi(j))Ii($,_e);else if(_e=Yg(j,$,_e,et),_e!==null){var tt=L$1();mh(_e,j,et,tt),Ji(_e,$,et)}}function ri(j,$,_e){var et=lh(j),tt={lane:et,action:_e,hasEagerState:!1,eagerState:null,next:null};if(Hi(j))Ii($,tt);else{var st=j.alternate;if(j.lanes===0&&(st===null||st.lanes===0)&&(st=$.lastRenderedReducer,st!==null))try{var gt=$.lastRenderedState,lt=st(gt,_e);if(tt.hasEagerState=!0,tt.eagerState=lt,He(lt,gt)){var nt=$.interleaved;nt===null?(tt.next=tt,Xg($)):(tt.next=nt.next,nt.next=tt),$.interleaved=tt;return}}catch{}finally{}_e=Yg(j,$,tt,et),_e!==null&&(tt=L$1(),mh(_e,j,et,tt),Ji(_e,$,et))}}function Hi(j){var $=j.alternate;return j===N$1||$!==null&&$===N$1}function Ii(j,$){Th=Sh=!0;var _e=j.pending;_e===null?$.next=$:($.next=_e.next,_e.next=$),j.pending=$}function Ji(j,$,_e){if((_e&4194240)!==0){var et=$.lanes;et&=j.pendingLanes,_e|=et,$.lanes=_e,Cc(j,_e)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(j,$){return ci().memoizedState=[j,$===void 0?null:$],j},useContext:Vg,useEffect:vi,useImperativeHandle:function(j,$,_e){return _e=_e!=null?_e.concat([j]):null,ti(4194308,4,yi.bind(null,$,j),_e)},useLayoutEffect:function(j,$){return ti(4194308,4,j,$)},useInsertionEffect:function(j,$){return ti(4,2,j,$)},useMemo:function(j,$){var _e=ci();return $=$===void 0?null:$,j=j(),_e.memoizedState=[j,$],j},useReducer:function(j,$,_e){var et=ci();return $=_e!==void 0?_e($):$,et.memoizedState=et.baseState=$,j={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:j,lastRenderedState:$},et.queue=j,j=j.dispatch=Gi.bind(null,N$1,j),[et.memoizedState,j]},useRef:function(j){var $=ci();return j={current:j},$.memoizedState=j},useState:qi,useDebugValue:Ai,useDeferredValue:function(j){return ci().memoizedState=j},useTransition:function(){var j=qi(!1),$=j[0];return j=Ei.bind(null,j[1]),ci().memoizedState=j,[$,j]},useMutableSource:function(){},useSyncExternalStore:function(j,$,_e){var et=N$1,tt=ci();if(I$2){if(_e===void 0)throw Error(p$9(407));_e=_e()}else{if(_e=$(),R===null)throw Error(p$9(349));(Rh&30)!==0||ni(et,$,_e)}tt.memoizedState=_e;var st={value:_e,getSnapshot:$};return tt.queue=st,vi(ki.bind(null,et,st,j),[j]),et.flags|=2048,li(9,mi.bind(null,et,st,_e,$),void 0,null),_e},useId:function(){var j=ci(),$=R.identifierPrefix;if(I$2){var _e=sg,et=rg;_e=(et&~(1<<32-oc(et)-1)).toString(32)+_e,$=":"+$+"R"+_e,_e=Uh++,0<_e&&($+="H"+_e.toString(32)),$+=":"}else _e=Vh++,$=":"+$+"r"+_e.toString(32)+":";return j.memoizedState=$},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(j){var $=di();return Di($,O$1.memoizedState,j)},useTransition:function(){var j=fi(ei)[0],$=di().memoizedState;return[j,$]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(j){var $=di();return O$1===null?$.memoizedState=j:Di($,O$1.memoizedState,j)},useTransition:function(){var j=gi(ei)[0],$=di().memoizedState;return[j,$]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(j,$){try{var _e="",et=$;do _e+=Pa(et),et=et.return;while(et);var tt=_e}catch(st){tt=`
Error generating stack: `+st.message+`
`+st.stack}return{value:j,source:$,stack:tt,digest:null}}function Li(j,$,_e){return{value:j,source:null,stack:_e!=null?_e:null,digest:$!=null?$:null}}function Mi(j,$){try{console.error($.value)}catch(_e){setTimeout(function(){throw _e})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(j,$,_e){_e=ch(-1,_e),_e.tag=3,_e.payload={element:null};var et=$.value;return _e.callback=function(){Pi||(Pi=!0,Qi=et),Mi(j,$)},_e}function Ri(j,$,_e){_e=ch(-1,_e),_e.tag=3;var et=j.type.getDerivedStateFromError;if(typeof et=="function"){var tt=$.value;_e.payload=function(){return et(tt)},_e.callback=function(){Mi(j,$)}}var st=j.stateNode;return st!==null&&typeof st.componentDidCatch=="function"&&(_e.callback=function(){Mi(j,$),typeof et!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var gt=$.stack;this.componentDidCatch($.value,{componentStack:gt!==null?gt:""})}),_e}function Ti(j,$,_e){var et=j.pingCache;if(et===null){et=j.pingCache=new Ni;var tt=new Set;et.set($,tt)}else tt=et.get($),tt===void 0&&(tt=new Set,et.set($,tt));tt.has(_e)||(tt.add(_e),j=Ui.bind(null,j,$,_e),$.then(j,j))}function Vi(j){do{var $;if(($=j.tag===13)&&($=j.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return j;j=j.return}while(j!==null);return null}function Wi(j,$,_e,et,tt){return(j.mode&1)===0?(j===$?j.flags|=65536:(j.flags|=128,_e.flags|=131072,_e.flags&=-52805,_e.tag===1&&(_e.alternate===null?_e.tag=17:($=ch(-1,1),$.tag=2,dh(_e,$,1))),_e.lanes|=1),j):(j.flags|=65536,j.lanes=tt,j)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(j,$,_e,et){$.child=j===null?Ch($,null,_e,et):Bh($,j.child,_e,et)}function Zi(j,$,_e,et,tt){_e=_e.render;var st=$.ref;return Tg($,tt),et=Xh(j,$,_e,et,st,tt),_e=bi(),j!==null&&!Ug?($.updateQueue=j.updateQueue,$.flags&=-2053,j.lanes&=~tt,$i(j,$,tt)):(I$2&&_e&&vg($),$.flags|=1,Yi(j,$,et,tt),$.child)}function aj(j,$,_e,et,tt){if(j===null){var st=_e.type;return typeof st=="function"&&!bj(st)&&st.defaultProps===void 0&&_e.compare===null&&_e.defaultProps===void 0?($.tag=15,$.type=st,cj(j,$,st,et,tt)):(j=yh(_e.type,null,et,$,$.mode,tt),j.ref=$.ref,j.return=$,$.child=j)}if(st=j.child,(j.lanes&tt)===0){var gt=st.memoizedProps;if(_e=_e.compare,_e=_e!==null?_e:Ie,_e(gt,et)&&j.ref===$.ref)return $i(j,$,tt)}return $.flags|=1,j=wh(st,et),j.ref=$.ref,j.return=$,$.child=j}function cj(j,$,_e,et,tt){if(j!==null){var st=j.memoizedProps;if(Ie(st,et)&&j.ref===$.ref)if(Ug=!1,$.pendingProps=et=st,(j.lanes&tt)!==0)(j.flags&131072)!==0&&(Ug=!0);else return $.lanes=j.lanes,$i(j,$,tt)}return dj(j,$,_e,et,tt)}function ej(j,$,_e){var et=$.pendingProps,tt=et.children,st=j!==null?j.memoizedState:null;if(et.mode==="hidden")if(($.mode&1)===0)$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=_e;else{if((_e&1073741824)===0)return j=st!==null?st.baseLanes|_e:_e,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:j,cachePool:null,transitions:null},$.updateQueue=null,G(fj,gj),gj|=j,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},et=st!==null?st.baseLanes:_e,G(fj,gj),gj|=et}else st!==null?(et=st.baseLanes|_e,$.memoizedState=null):et=_e,G(fj,gj),gj|=et;return Yi(j,$,tt,_e),$.child}function hj(j,$){var _e=$.ref;(j===null&&_e!==null||j!==null&&j.ref!==_e)&&($.flags|=512,$.flags|=2097152)}function dj(j,$,_e,et,tt){var st=Zf(_e)?Xf:H.current;return st=Yf($,st),Tg($,tt),_e=Xh(j,$,_e,et,st,tt),et=bi(),j!==null&&!Ug?($.updateQueue=j.updateQueue,$.flags&=-2053,j.lanes&=~tt,$i(j,$,tt)):(I$2&&et&&vg($),$.flags|=1,Yi(j,$,_e,tt),$.child)}function ij(j,$,_e,et,tt){if(Zf(_e)){var st=!0;cg($)}else st=!1;if(Tg($,tt),$.stateNode===null)jj(j,$),ph($,_e,et),rh($,_e,et,tt),et=!0;else if(j===null){var gt=$.stateNode,lt=$.memoizedProps;gt.props=lt;var nt=gt.context,ut=_e.contextType;typeof ut=="object"&&ut!==null?ut=Vg(ut):(ut=Zf(_e)?Xf:H.current,ut=Yf($,ut));var ht=_e.getDerivedStateFromProps,at=typeof ht=="function"||typeof gt.getSnapshotBeforeUpdate=="function";at||typeof gt.UNSAFE_componentWillReceiveProps!="function"&&typeof gt.componentWillReceiveProps!="function"||(lt!==et||nt!==ut)&&qh($,gt,et,ut),$g=!1;var it=$.memoizedState;gt.state=it,gh($,et,gt,tt),nt=$.memoizedState,lt!==et||it!==nt||Wf.current||$g?(typeof ht=="function"&&(kh($,_e,ht,et),nt=$.memoizedState),(lt=$g||oh($,_e,lt,et,it,nt,ut))?(at||typeof gt.UNSAFE_componentWillMount!="function"&&typeof gt.componentWillMount!="function"||(typeof gt.componentWillMount=="function"&&gt.componentWillMount(),typeof gt.UNSAFE_componentWillMount=="function"&&gt.UNSAFE_componentWillMount()),typeof gt.componentDidMount=="function"&&($.flags|=4194308)):(typeof gt.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=et,$.memoizedState=nt),gt.props=et,gt.state=nt,gt.context=ut,et=lt):(typeof gt.componentDidMount=="function"&&($.flags|=4194308),et=!1)}else{gt=$.stateNode,bh(j,$),lt=$.memoizedProps,ut=$.type===$.elementType?lt:Lg($.type,lt),gt.props=ut,at=$.pendingProps,it=gt.context,nt=_e.contextType,typeof nt=="object"&&nt!==null?nt=Vg(nt):(nt=Zf(_e)?Xf:H.current,nt=Yf($,nt));var rt=_e.getDerivedStateFromProps;(ht=typeof rt=="function"||typeof gt.getSnapshotBeforeUpdate=="function")||typeof gt.UNSAFE_componentWillReceiveProps!="function"&&typeof gt.componentWillReceiveProps!="function"||(lt!==at||it!==nt)&&qh($,gt,et,nt),$g=!1,it=$.memoizedState,gt.state=it,gh($,et,gt,tt);var ot=$.memoizedState;lt!==at||it!==ot||Wf.current||$g?(typeof rt=="function"&&(kh($,_e,rt,et),ot=$.memoizedState),(ut=$g||oh($,_e,ut,et,it,ot,nt)||!1)?(ht||typeof gt.UNSAFE_componentWillUpdate!="function"&&typeof gt.componentWillUpdate!="function"||(typeof gt.componentWillUpdate=="function"&&gt.componentWillUpdate(et,ot,nt),typeof gt.UNSAFE_componentWillUpdate=="function"&&gt.UNSAFE_componentWillUpdate(et,ot,nt)),typeof gt.componentDidUpdate=="function"&&($.flags|=4),typeof gt.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof gt.componentDidUpdate!="function"||lt===j.memoizedProps&&it===j.memoizedState||($.flags|=4),typeof gt.getSnapshotBeforeUpdate!="function"||lt===j.memoizedProps&&it===j.memoizedState||($.flags|=1024),$.memoizedProps=et,$.memoizedState=ot),gt.props=et,gt.state=ot,gt.context=nt,et=ut):(typeof gt.componentDidUpdate!="function"||lt===j.memoizedProps&&it===j.memoizedState||($.flags|=4),typeof gt.getSnapshotBeforeUpdate!="function"||lt===j.memoizedProps&&it===j.memoizedState||($.flags|=1024),et=!1)}return kj(j,$,_e,et,st,tt)}function kj(j,$,_e,et,tt,st){hj(j,$);var gt=($.flags&128)!==0;if(!et&&!gt)return tt&&dg($,_e,!1),$i(j,$,st);et=$.stateNode,Xi.current=$;var lt=gt&&typeof _e.getDerivedStateFromError!="function"?null:et.render();return $.flags|=1,j!==null&&gt?($.child=Bh($,j.child,null,st),$.child=Bh($,null,lt,st)):Yi(j,$,lt,st),$.memoizedState=et.state,tt&&dg($,_e,!0),$.child}function lj(j){var $=j.stateNode;$.pendingContext?ag(j,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(j,$.context,!1),Ih(j,$.containerInfo)}function mj(j,$,_e,et,tt){return Ig(),Jg(tt),$.flags|=256,Yi(j,$,_e,et),$.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(j){return{baseLanes:j,cachePool:null,transitions:null}}function pj(j,$,_e){var et=$.pendingProps,tt=M$1.current,st=!1,gt=($.flags&128)!==0,lt;if((lt=gt)||(lt=j!==null&&j.memoizedState===null?!1:(tt&2)!==0),lt?(st=!0,$.flags&=-129):(j===null||j.memoizedState!==null)&&(tt|=1),G(M$1,tt&1),j===null)return Eg($),j=$.memoizedState,j!==null&&(j=j.dehydrated,j!==null)?(($.mode&1)===0?$.lanes=1:j.data==="$!"?$.lanes=8:$.lanes=1073741824,null):(gt=et.children,j=et.fallback,st?(et=$.mode,st=$.child,gt={mode:"hidden",children:gt},(et&1)===0&&st!==null?(st.childLanes=0,st.pendingProps=gt):st=qj(gt,et,0,null),j=Ah(j,et,_e,null),st.return=$,j.return=$,st.sibling=j,$.child=st,$.child.memoizedState=oj(_e),$.memoizedState=nj,j):rj($,gt));if(tt=j.memoizedState,tt!==null&&(lt=tt.dehydrated,lt!==null))return sj(j,$,gt,et,lt,tt,_e);if(st){st=et.fallback,gt=$.mode,tt=j.child,lt=tt.sibling;var nt={mode:"hidden",children:et.children};return(gt&1)===0&&$.child!==tt?(et=$.child,et.childLanes=0,et.pendingProps=nt,$.deletions=null):(et=wh(tt,nt),et.subtreeFlags=tt.subtreeFlags&14680064),lt!==null?st=wh(lt,st):(st=Ah(st,gt,_e,null),st.flags|=2),st.return=$,et.return=$,et.sibling=st,$.child=et,et=st,st=$.child,gt=j.child.memoizedState,gt=gt===null?oj(_e):{baseLanes:gt.baseLanes|_e,cachePool:null,transitions:gt.transitions},st.memoizedState=gt,st.childLanes=j.childLanes&~_e,$.memoizedState=nj,et}return st=j.child,j=st.sibling,et=wh(st,{mode:"visible",children:et.children}),($.mode&1)===0&&(et.lanes=_e),et.return=$,et.sibling=null,j!==null&&(_e=$.deletions,_e===null?($.deletions=[j],$.flags|=16):_e.push(j)),$.child=et,$.memoizedState=null,et}function rj(j,$){return $=qj({mode:"visible",children:$},j.mode,0,null),$.return=j,j.child=$}function tj(j,$,_e,et){return et!==null&&Jg(et),Bh($,j.child,null,_e),j=rj($,$.pendingProps.children),j.flags|=2,$.memoizedState=null,j}function sj(j,$,_e,et,tt,st,gt){if(_e)return $.flags&256?($.flags&=-257,et=Li(Error(p$9(422))),tj(j,$,gt,et)):$.memoizedState!==null?($.child=j.child,$.flags|=128,null):(st=et.fallback,tt=$.mode,et=qj({mode:"visible",children:et.children},tt,0,null),st=Ah(st,tt,gt,null),st.flags|=2,et.return=$,st.return=$,et.sibling=st,$.child=et,($.mode&1)!==0&&Bh($,j.child,null,gt),$.child.memoizedState=oj(gt),$.memoizedState=nj,st);if(($.mode&1)===0)return tj(j,$,gt,null);if(tt.data==="$!"){if(et=tt.nextSibling&&tt.nextSibling.dataset,et)var lt=et.dgst;return et=lt,st=Error(p$9(419)),et=Li(st,et,void 0),tj(j,$,gt,et)}if(lt=(gt&j.childLanes)!==0,Ug||lt){if(et=R,et!==null){switch(gt&-gt){case 4:tt=2;break;case 16:tt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:tt=32;break;case 536870912:tt=268435456;break;default:tt=0}tt=(tt&(et.suspendedLanes|gt))!==0?0:tt,tt!==0&&tt!==st.retryLane&&(st.retryLane=tt,Zg(j,tt),mh(et,j,tt,-1))}return uj(),et=Li(Error(p$9(421))),tj(j,$,gt,et)}return tt.data==="$?"?($.flags|=128,$.child=j.child,$=vj.bind(null,j),tt._reactRetry=$,null):(j=st.treeContext,yg=Lf(tt.nextSibling),xg=$,I$2=!0,zg=null,j!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=j.id,sg=j.overflow,qg=$),$=rj($,et.children),$.flags|=4096,$)}function wj(j,$,_e){j.lanes|=$;var et=j.alternate;et!==null&&(et.lanes|=$),Sg(j.return,$,_e)}function xj(j,$,_e,et,tt){var st=j.memoizedState;st===null?j.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:et,tail:_e,tailMode:tt}:(st.isBackwards=$,st.rendering=null,st.renderingStartTime=0,st.last=et,st.tail=_e,st.tailMode=tt)}function yj(j,$,_e){var et=$.pendingProps,tt=et.revealOrder,st=et.tail;if(Yi(j,$,et.children,_e),et=M$1.current,(et&2)!==0)et=et&1|2,$.flags|=128;else{if(j!==null&&(j.flags&128)!==0)e:for(j=$.child;j!==null;){if(j.tag===13)j.memoizedState!==null&&wj(j,_e,$);else if(j.tag===19)wj(j,_e,$);else if(j.child!==null){j.child.return=j,j=j.child;continue}if(j===$)break e;for(;j.sibling===null;){if(j.return===null||j.return===$)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}et&=1}if(G(M$1,et),($.mode&1)===0)$.memoizedState=null;else switch(tt){case"forwards":for(_e=$.child,tt=null;_e!==null;)j=_e.alternate,j!==null&&Mh(j)===null&&(tt=_e),_e=_e.sibling;_e=tt,_e===null?(tt=$.child,$.child=null):(tt=_e.sibling,_e.sibling=null),xj($,!1,tt,_e,st);break;case"backwards":for(_e=null,tt=$.child,$.child=null;tt!==null;){if(j=tt.alternate,j!==null&&Mh(j)===null){$.child=tt;break}j=tt.sibling,tt.sibling=_e,_e=tt,tt=j}xj($,!0,_e,null,st);break;case"together":xj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function jj(j,$){($.mode&1)===0&&j!==null&&(j.alternate=null,$.alternate=null,$.flags|=2)}function $i(j,$,_e){if(j!==null&&($.dependencies=j.dependencies),hh|=$.lanes,(_e&$.childLanes)===0)return null;if(j!==null&&$.child!==j.child)throw Error(p$9(153));if($.child!==null){for(j=$.child,_e=wh(j,j.pendingProps),$.child=_e,_e.return=$;j.sibling!==null;)j=j.sibling,_e=_e.sibling=wh(j,j.pendingProps),_e.return=$;_e.sibling=null}return $.child}function zj(j,$,_e){switch($.tag){case 3:lj($),Ig();break;case 5:Kh($);break;case 1:Zf($.type)&&cg($);break;case 4:Ih($,$.stateNode.containerInfo);break;case 10:var et=$.type._context,tt=$.memoizedProps.value;G(Mg,et._currentValue),et._currentValue=tt;break;case 13:if(et=$.memoizedState,et!==null)return et.dehydrated!==null?(G(M$1,M$1.current&1),$.flags|=128,null):(_e&$.child.childLanes)!==0?pj(j,$,_e):(G(M$1,M$1.current&1),j=$i(j,$,_e),j!==null?j.sibling:null);G(M$1,M$1.current&1);break;case 19:if(et=(_e&$.childLanes)!==0,(j.flags&128)!==0){if(et)return yj(j,$,_e);$.flags|=128}if(tt=$.memoizedState,tt!==null&&(tt.rendering=null,tt.tail=null,tt.lastEffect=null),G(M$1,M$1.current),et)break;return null;case 22:case 23:return $.lanes=0,ej(j,$,_e)}return $i(j,$,_e)}var Aj,Bj,Cj,Dj;Aj=function(j,$){for(var _e=$.child;_e!==null;){if(_e.tag===5||_e.tag===6)j.appendChild(_e.stateNode);else if(_e.tag!==4&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}};Bj=function(){};Cj=function(j,$,_e,et){var tt=j.memoizedProps;if(tt!==et){j=$.stateNode,Hh(Eh.current);var st=null;switch(_e){case"input":tt=Ya(j,tt),et=Ya(j,et),st=[];break;case"select":tt=A({},tt,{value:void 0}),et=A({},et,{value:void 0}),st=[];break;case"textarea":tt=gb(j,tt),et=gb(j,et),st=[];break;default:typeof tt.onClick!="function"&&typeof et.onClick=="function"&&(j.onclick=Bf)}ub(_e,et);var gt;_e=null;for(ut in tt)if(!et.hasOwnProperty(ut)&&tt.hasOwnProperty(ut)&&tt[ut]!=null)if(ut==="style"){var lt=tt[ut];for(gt in lt)lt.hasOwnProperty(gt)&&(_e||(_e={}),_e[gt]="")}else ut!=="dangerouslySetInnerHTML"&&ut!=="children"&&ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&ut!=="autoFocus"&&(ea.hasOwnProperty(ut)?st||(st=[]):(st=st||[]).push(ut,null));for(ut in et){var nt=et[ut];if(lt=tt!=null?tt[ut]:void 0,et.hasOwnProperty(ut)&&nt!==lt&&(nt!=null||lt!=null))if(ut==="style")if(lt){for(gt in lt)!lt.hasOwnProperty(gt)||nt&&nt.hasOwnProperty(gt)||(_e||(_e={}),_e[gt]="");for(gt in nt)nt.hasOwnProperty(gt)&&lt[gt]!==nt[gt]&&(_e||(_e={}),_e[gt]=nt[gt])}else _e||(st||(st=[]),st.push(ut,_e)),_e=nt;else ut==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,lt=lt?lt.__html:void 0,nt!=null&&lt!==nt&&(st=st||[]).push(ut,nt)):ut==="children"?typeof nt!="string"&&typeof nt!="number"||(st=st||[]).push(ut,""+nt):ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ut)?(nt!=null&&ut==="onScroll"&&D$1("scroll",j),st||lt===nt||(st=[])):(st=st||[]).push(ut,nt))}_e&&(st=st||[]).push("style",_e);var ut=st;($.updateQueue=ut)&&($.flags|=4)}};Dj=function(j,$,_e,et){_e!==et&&($.flags|=4)};function Ej(j,$){if(!I$2)switch(j.tailMode){case"hidden":$=j.tail;for(var _e=null;$!==null;)$.alternate!==null&&(_e=$),$=$.sibling;_e===null?j.tail=null:_e.sibling=null;break;case"collapsed":_e=j.tail;for(var et=null;_e!==null;)_e.alternate!==null&&(et=_e),_e=_e.sibling;et===null?$||j.tail===null?j.tail=null:j.tail.sibling=null:et.sibling=null}}function S$4(j){var $=j.alternate!==null&&j.alternate.child===j.child,_e=0,et=0;if($)for(var tt=j.child;tt!==null;)_e|=tt.lanes|tt.childLanes,et|=tt.subtreeFlags&14680064,et|=tt.flags&14680064,tt.return=j,tt=tt.sibling;else for(tt=j.child;tt!==null;)_e|=tt.lanes|tt.childLanes,et|=tt.subtreeFlags,et|=tt.flags,tt.return=j,tt=tt.sibling;return j.subtreeFlags|=et,j.childLanes=_e,$}function Fj(j,$,_e){var et=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4($),null;case 1:return Zf($.type)&&$f(),S$4($),null;case 3:return et=$.stateNode,Jh(),E$6(Wf),E$6(H),Oh(),et.pendingContext&&(et.context=et.pendingContext,et.pendingContext=null),(j===null||j.child===null)&&(Gg($)?$.flags|=4:j===null||j.memoizedState.isDehydrated&&($.flags&256)===0||($.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(j,$),S$4($),null;case 5:Lh($);var tt=Hh(Gh.current);if(_e=$.type,j!==null&&$.stateNode!=null)Cj(j,$,_e,et,tt),j.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!et){if($.stateNode===null)throw Error(p$9(166));return S$4($),null}if(j=Hh(Eh.current),Gg($)){et=$.stateNode,_e=$.type;var st=$.memoizedProps;switch(et[Of]=$,et[Pf]=st,j=($.mode&1)!==0,_e){case"dialog":D$1("cancel",et),D$1("close",et);break;case"iframe":case"object":case"embed":D$1("load",et);break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D$1(lf[tt],et);break;case"source":D$1("error",et);break;case"img":case"image":case"link":D$1("error",et),D$1("load",et);break;case"details":D$1("toggle",et);break;case"input":Za(et,st),D$1("invalid",et);break;case"select":et._wrapperState={wasMultiple:!!st.multiple},D$1("invalid",et);break;case"textarea":hb(et,st),D$1("invalid",et)}ub(_e,st),tt=null;for(var gt in st)if(st.hasOwnProperty(gt)){var lt=st[gt];gt==="children"?typeof lt=="string"?et.textContent!==lt&&(st.suppressHydrationWarning!==!0&&Af(et.textContent,lt,j),tt=["children",lt]):typeof lt=="number"&&et.textContent!==""+lt&&(st.suppressHydrationWarning!==!0&&Af(et.textContent,lt,j),tt=["children",""+lt]):ea.hasOwnProperty(gt)&&lt!=null&&gt==="onScroll"&&D$1("scroll",et)}switch(_e){case"input":Va(et),db(et,st,!0);break;case"textarea":Va(et),jb(et);break;case"select":case"option":break;default:typeof st.onClick=="function"&&(et.onclick=Bf)}et=tt,$.updateQueue=et,et!==null&&($.flags|=4)}else{gt=tt.nodeType===9?tt:tt.ownerDocument,j==="http://www.w3.org/1999/xhtml"&&(j=kb(_e)),j==="http://www.w3.org/1999/xhtml"?_e==="script"?(j=gt.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild)):typeof et.is=="string"?j=gt.createElement(_e,{is:et.is}):(j=gt.createElement(_e),_e==="select"&&(gt=j,et.multiple?gt.multiple=!0:et.size&&(gt.size=et.size))):j=gt.createElementNS(j,_e),j[Of]=$,j[Pf]=et,Aj(j,$,!1,!1),$.stateNode=j;e:{switch(gt=vb(_e,et),_e){case"dialog":D$1("cancel",j),D$1("close",j),tt=et;break;case"iframe":case"object":case"embed":D$1("load",j),tt=et;break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D$1(lf[tt],j);tt=et;break;case"source":D$1("error",j),tt=et;break;case"img":case"image":case"link":D$1("error",j),D$1("load",j),tt=et;break;case"details":D$1("toggle",j),tt=et;break;case"input":Za(j,et),tt=Ya(j,et),D$1("invalid",j);break;case"option":tt=et;break;case"select":j._wrapperState={wasMultiple:!!et.multiple},tt=A({},et,{value:void 0}),D$1("invalid",j);break;case"textarea":hb(j,et),tt=gb(j,et),D$1("invalid",j);break;default:tt=et}ub(_e,tt),lt=tt;for(st in lt)if(lt.hasOwnProperty(st)){var nt=lt[st];st==="style"?sb(j,nt):st==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,nt!=null&&nb(j,nt)):st==="children"?typeof nt=="string"?(_e!=="textarea"||nt!=="")&&ob(j,nt):typeof nt=="number"&&ob(j,""+nt):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(ea.hasOwnProperty(st)?nt!=null&&st==="onScroll"&&D$1("scroll",j):nt!=null&&ta(j,st,nt,gt))}switch(_e){case"input":Va(j),db(j,et,!1);break;case"textarea":Va(j),jb(j);break;case"option":et.value!=null&&j.setAttribute("value",""+Sa(et.value));break;case"select":j.multiple=!!et.multiple,st=et.value,st!=null?fb(j,!!et.multiple,st,!1):et.defaultValue!=null&&fb(j,!!et.multiple,et.defaultValue,!0);break;default:typeof tt.onClick=="function"&&(j.onclick=Bf)}switch(_e){case"button":case"input":case"select":case"textarea":et=!!et.autoFocus;break e;case"img":et=!0;break e;default:et=!1}}et&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S$4($),null;case 6:if(j&&$.stateNode!=null)Dj(j,$,j.memoizedProps,et);else{if(typeof et!="string"&&$.stateNode===null)throw Error(p$9(166));if(_e=Hh(Gh.current),Hh(Eh.current),Gg($)){if(et=$.stateNode,_e=$.memoizedProps,et[Of]=$,(st=et.nodeValue!==_e)&&(j=xg,j!==null))switch(j.tag){case 3:Af(et.nodeValue,_e,(j.mode&1)!==0);break;case 5:j.memoizedProps.suppressHydrationWarning!==!0&&Af(et.nodeValue,_e,(j.mode&1)!==0)}st&&($.flags|=4)}else et=(_e.nodeType===9?_e:_e.ownerDocument).createTextNode(et),et[Of]=$,$.stateNode=et}return S$4($),null;case 13:if(E$6(M$1),et=$.memoizedState,j===null||j.memoizedState!==null&&j.memoizedState.dehydrated!==null){if(I$2&&yg!==null&&($.mode&1)!==0&&($.flags&128)===0)Hg(),Ig(),$.flags|=98560,st=!1;else if(st=Gg($),et!==null&&et.dehydrated!==null){if(j===null){if(!st)throw Error(p$9(318));if(st=$.memoizedState,st=st!==null?st.dehydrated:null,!st)throw Error(p$9(317));st[Of]=$}else Ig(),($.flags&128)===0&&($.memoizedState=null),$.flags|=4;S$4($),st=!1}else zg!==null&&(Gj(zg),zg=null),st=!0;if(!st)return $.flags&65536?$:null}return($.flags&128)!==0?($.lanes=_e,$):(et=et!==null,et!==(j!==null&&j.memoizedState!==null)&&et&&($.child.flags|=8192,($.mode&1)!==0&&(j===null||(M$1.current&1)!==0?T$1===0&&(T$1=3):uj())),$.updateQueue!==null&&($.flags|=4),S$4($),null);case 4:return Jh(),Bj(j,$),j===null&&sf($.stateNode.containerInfo),S$4($),null;case 10:return Rg($.type._context),S$4($),null;case 17:return Zf($.type)&&$f(),S$4($),null;case 19:if(E$6(M$1),st=$.memoizedState,st===null)return S$4($),null;if(et=($.flags&128)!==0,gt=st.rendering,gt===null)if(et)Ej(st,!1);else{if(T$1!==0||j!==null&&(j.flags&128)!==0)for(j=$.child;j!==null;){if(gt=Mh(j),gt!==null){for($.flags|=128,Ej(st,!1),et=gt.updateQueue,et!==null&&($.updateQueue=et,$.flags|=4),$.subtreeFlags=0,et=_e,_e=$.child;_e!==null;)st=_e,j=et,st.flags&=14680066,gt=st.alternate,gt===null?(st.childLanes=0,st.lanes=j,st.child=null,st.subtreeFlags=0,st.memoizedProps=null,st.memoizedState=null,st.updateQueue=null,st.dependencies=null,st.stateNode=null):(st.childLanes=gt.childLanes,st.lanes=gt.lanes,st.child=gt.child,st.subtreeFlags=0,st.deletions=null,st.memoizedProps=gt.memoizedProps,st.memoizedState=gt.memoizedState,st.updateQueue=gt.updateQueue,st.type=gt.type,j=gt.dependencies,st.dependencies=j===null?null:{lanes:j.lanes,firstContext:j.firstContext}),_e=_e.sibling;return G(M$1,M$1.current&1|2),$.child}j=j.sibling}st.tail!==null&&B()>Hj&&($.flags|=128,et=!0,Ej(st,!1),$.lanes=4194304)}else{if(!et)if(j=Mh(gt),j!==null){if($.flags|=128,et=!0,_e=j.updateQueue,_e!==null&&($.updateQueue=_e,$.flags|=4),Ej(st,!0),st.tail===null&&st.tailMode==="hidden"&&!gt.alternate&&!I$2)return S$4($),null}else 2*B()-st.renderingStartTime>Hj&&_e!==1073741824&&($.flags|=128,et=!0,Ej(st,!1),$.lanes=4194304);st.isBackwards?(gt.sibling=$.child,$.child=gt):(_e=st.last,_e!==null?_e.sibling=gt:$.child=gt,st.last=gt)}return st.tail!==null?($=st.tail,st.rendering=$,st.tail=$.sibling,st.renderingStartTime=B(),$.sibling=null,_e=M$1.current,G(M$1,et?_e&1|2:_e&1),$):(S$4($),null);case 22:case 23:return Ij(),et=$.memoizedState!==null,j!==null&&j.memoizedState!==null!==et&&($.flags|=8192),et&&($.mode&1)!==0?(gj&1073741824)!==0&&(S$4($),$.subtreeFlags&6&&($.flags|=8192)):S$4($),null;case 24:return null;case 25:return null}throw Error(p$9(156,$.tag))}function Jj(j,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),j=$.flags,j&65536?($.flags=j&-65537|128,$):null;case 3:return Jh(),E$6(Wf),E$6(H),Oh(),j=$.flags,(j&65536)!==0&&(j&128)===0?($.flags=j&-65537|128,$):null;case 5:return Lh($),null;case 13:if(E$6(M$1),j=$.memoizedState,j!==null&&j.dehydrated!==null){if($.alternate===null)throw Error(p$9(340));Ig()}return j=$.flags,j&65536?($.flags=j&-65537|128,$):null;case 19:return E$6(M$1),null;case 4:return Jh(),null;case 10:return Rg($.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(j,$){var _e=j.ref;if(_e!==null)if(typeof _e=="function")try{_e(null)}catch(et){W(j,$,et)}else _e.current=null}function Nj(j,$,_e){try{_e()}catch(et){W(j,$,et)}}var Oj=!1;function Pj(j,$){if(Cf=dd,j=Me(),Ne(j)){if("selectionStart"in j)var _e={start:j.selectionStart,end:j.selectionEnd};else e:{_e=(_e=j.ownerDocument)&&_e.defaultView||window;var et=_e.getSelection&&_e.getSelection();if(et&&et.rangeCount!==0){_e=et.anchorNode;var tt=et.anchorOffset,st=et.focusNode;et=et.focusOffset;try{_e.nodeType,st.nodeType}catch{_e=null;break e}var gt=0,lt=-1,nt=-1,ut=0,ht=0,at=j,it=null;t:for(;;){for(var rt;at!==_e||tt!==0&&at.nodeType!==3||(lt=gt+tt),at!==st||et!==0&&at.nodeType!==3||(nt=gt+et),at.nodeType===3&&(gt+=at.nodeValue.length),(rt=at.firstChild)!==null;)it=at,at=rt;for(;;){if(at===j)break t;if(it===_e&&++ut===tt&&(lt=gt),it===st&&++ht===et&&(nt=gt),(rt=at.nextSibling)!==null)break;at=it,it=at.parentNode}at=rt}_e=lt===-1||nt===-1?null:{start:lt,end:nt}}else _e=null}_e=_e||{start:0,end:0}}else _e=null;for(Df={focusedElem:j,selectionRange:_e},dd=!1,V=$;V!==null;)if($=V,j=$.child,($.subtreeFlags&1028)!==0&&j!==null)j.return=$,V=j;else for(;V!==null;){$=V;try{var ot=$.alternate;if(($.flags&1024)!==0)switch($.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var ft=ot.memoizedProps,ct=ot.memoizedState,dt=$.stateNode,pt=dt.getSnapshotBeforeUpdate($.elementType===$.type?ft:Lg($.type,ft),ct);dt.__reactInternalSnapshotBeforeUpdate=pt}break;case 3:var mt=$.stateNode.containerInfo;mt.nodeType===1?mt.textContent="":mt.nodeType===9&&mt.documentElement&&mt.removeChild(mt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$9(163))}}catch(_t){W($,$.return,_t)}if(j=$.sibling,j!==null){j.return=$.return,V=j;break}V=$.return}return ot=Oj,Oj=!1,ot}function Qj(j,$,_e){var et=$.updateQueue;if(et=et!==null?et.lastEffect:null,et!==null){var tt=et=et.next;do{if((tt.tag&j)===j){var st=tt.destroy;tt.destroy=void 0,st!==void 0&&Nj($,_e,st)}tt=tt.next}while(tt!==et)}}function Rj(j,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var _e=$=$.next;do{if((_e.tag&j)===j){var et=_e.create;_e.destroy=et()}_e=_e.next}while(_e!==$)}}function Sj(j){var $=j.ref;if($!==null){var _e=j.stateNode;switch(j.tag){case 5:j=_e;break;default:j=_e}typeof $=="function"?$(j):$.current=j}}function Tj(j){var $=j.alternate;$!==null&&(j.alternate=null,Tj($)),j.child=null,j.deletions=null,j.sibling=null,j.tag===5&&($=j.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),j.stateNode=null,j.return=null,j.dependencies=null,j.memoizedProps=null,j.memoizedState=null,j.pendingProps=null,j.stateNode=null,j.updateQueue=null}function Uj(j){return j.tag===5||j.tag===3||j.tag===4}function Vj(j){e:for(;;){for(;j.sibling===null;){if(j.return===null||Uj(j.return))return null;j=j.return}for(j.sibling.return=j.return,j=j.sibling;j.tag!==5&&j.tag!==6&&j.tag!==18;){if(j.flags&2||j.child===null||j.tag===4)continue e;j.child.return=j,j=j.child}if(!(j.flags&2))return j.stateNode}}function Wj(j,$,_e){var et=j.tag;if(et===5||et===6)j=j.stateNode,$?_e.nodeType===8?_e.parentNode.insertBefore(j,$):_e.insertBefore(j,$):(_e.nodeType===8?($=_e.parentNode,$.insertBefore(j,_e)):($=_e,$.appendChild(j)),_e=_e._reactRootContainer,_e!=null||$.onclick!==null||($.onclick=Bf));else if(et!==4&&(j=j.child,j!==null))for(Wj(j,$,_e),j=j.sibling;j!==null;)Wj(j,$,_e),j=j.sibling}function Xj(j,$,_e){var et=j.tag;if(et===5||et===6)j=j.stateNode,$?_e.insertBefore(j,$):_e.appendChild(j);else if(et!==4&&(j=j.child,j!==null))for(Xj(j,$,_e),j=j.sibling;j!==null;)Xj(j,$,_e),j=j.sibling}var X=null,Yj=!1;function Zj(j,$,_e){for(_e=_e.child;_e!==null;)ak(j,$,_e),_e=_e.sibling}function ak(j,$,_e){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,_e)}catch{}switch(_e.tag){case 5:U||Mj(_e,$);case 6:var et=X,tt=Yj;X=null,Zj(j,$,_e),X=et,Yj=tt,X!==null&&(Yj?(j=X,_e=_e.stateNode,j.nodeType===8?j.parentNode.removeChild(_e):j.removeChild(_e)):X.removeChild(_e.stateNode));break;case 18:X!==null&&(Yj?(j=X,_e=_e.stateNode,j.nodeType===8?Kf(j.parentNode,_e):j.nodeType===1&&Kf(j,_e),bd(j)):Kf(X,_e.stateNode));break;case 4:et=X,tt=Yj,X=_e.stateNode.containerInfo,Yj=!0,Zj(j,$,_e),X=et,Yj=tt;break;case 0:case 11:case 14:case 15:if(!U&&(et=_e.updateQueue,et!==null&&(et=et.lastEffect,et!==null))){tt=et=et.next;do{var st=tt,gt=st.destroy;st=st.tag,gt!==void 0&&((st&2)!==0||(st&4)!==0)&&Nj(_e,$,gt),tt=tt.next}while(tt!==et)}Zj(j,$,_e);break;case 1:if(!U&&(Mj(_e,$),et=_e.stateNode,typeof et.componentWillUnmount=="function"))try{et.props=_e.memoizedProps,et.state=_e.memoizedState,et.componentWillUnmount()}catch(lt){W(_e,$,lt)}Zj(j,$,_e);break;case 21:Zj(j,$,_e);break;case 22:_e.mode&1?(U=(et=U)||_e.memoizedState!==null,Zj(j,$,_e),U=et):Zj(j,$,_e);break;default:Zj(j,$,_e)}}function bk(j){var $=j.updateQueue;if($!==null){j.updateQueue=null;var _e=j.stateNode;_e===null&&(_e=j.stateNode=new Lj),$.forEach(function(et){var tt=ck.bind(null,j,et);_e.has(et)||(_e.add(et),et.then(tt,tt))})}}function dk(j,$){var _e=$.deletions;if(_e!==null)for(var et=0;et<_e.length;et++){var tt=_e[et];try{var st=j,gt=$,lt=gt;e:for(;lt!==null;){switch(lt.tag){case 5:X=lt.stateNode,Yj=!1;break e;case 3:X=lt.stateNode.containerInfo,Yj=!0;break e;case 4:X=lt.stateNode.containerInfo,Yj=!0;break e}lt=lt.return}if(X===null)throw Error(p$9(160));ak(st,gt,tt),X=null,Yj=!1;var nt=tt.alternate;nt!==null&&(nt.return=null),tt.return=null}catch(ut){W(tt,$,ut)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)ek($,j),$=$.sibling}function ek(j,$){var _e=j.alternate,et=j.flags;switch(j.tag){case 0:case 11:case 14:case 15:if(dk($,j),fk(j),et&4){try{Qj(3,j,j.return),Rj(3,j)}catch(ft){W(j,j.return,ft)}try{Qj(5,j,j.return)}catch(ft){W(j,j.return,ft)}}break;case 1:dk($,j),fk(j),et&512&&_e!==null&&Mj(_e,_e.return);break;case 5:if(dk($,j),fk(j),et&512&&_e!==null&&Mj(_e,_e.return),j.flags&32){var tt=j.stateNode;try{ob(tt,"")}catch(ft){W(j,j.return,ft)}}if(et&4&&(tt=j.stateNode,tt!=null)){var st=j.memoizedProps,gt=_e!==null?_e.memoizedProps:st,lt=j.type,nt=j.updateQueue;if(j.updateQueue=null,nt!==null)try{lt==="input"&&st.type==="radio"&&st.name!=null&&ab(tt,st),vb(lt,gt);var ut=vb(lt,st);for(gt=0;gt<nt.length;gt+=2){var ht=nt[gt],at=nt[gt+1];ht==="style"?sb(tt,at):ht==="dangerouslySetInnerHTML"?nb(tt,at):ht==="children"?ob(tt,at):ta(tt,ht,at,ut)}switch(lt){case"input":bb(tt,st);break;case"textarea":ib(tt,st);break;case"select":var it=tt._wrapperState.wasMultiple;tt._wrapperState.wasMultiple=!!st.multiple;var rt=st.value;rt!=null?fb(tt,!!st.multiple,rt,!1):it!==!!st.multiple&&(st.defaultValue!=null?fb(tt,!!st.multiple,st.defaultValue,!0):fb(tt,!!st.multiple,st.multiple?[]:"",!1))}tt[Pf]=st}catch(ft){W(j,j.return,ft)}}break;case 6:if(dk($,j),fk(j),et&4){if(j.stateNode===null)throw Error(p$9(162));tt=j.stateNode,st=j.memoizedProps;try{tt.nodeValue=st}catch(ft){W(j,j.return,ft)}}break;case 3:if(dk($,j),fk(j),et&4&&_e!==null&&_e.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(ft){W(j,j.return,ft)}break;case 4:dk($,j),fk(j);break;case 13:dk($,j),fk(j),tt=j.child,tt.flags&8192&&(st=tt.memoizedState!==null,tt.stateNode.isHidden=st,!st||tt.alternate!==null&&tt.alternate.memoizedState!==null||(gk=B())),et&4&&bk(j);break;case 22:if(ht=_e!==null&&_e.memoizedState!==null,j.mode&1?(U=(ut=U)||ht,dk($,j),U=ut):dk($,j),fk(j),et&8192){if(ut=j.memoizedState!==null,(j.stateNode.isHidden=ut)&&!ht&&(j.mode&1)!==0)for(V=j,ht=j.child;ht!==null;){for(at=V=ht;V!==null;){switch(it=V,rt=it.child,it.tag){case 0:case 11:case 14:case 15:Qj(4,it,it.return);break;case 1:Mj(it,it.return);var ot=it.stateNode;if(typeof ot.componentWillUnmount=="function"){et=it,_e=it.return;try{$=et,ot.props=$.memoizedProps,ot.state=$.memoizedState,ot.componentWillUnmount()}catch(ft){W(et,_e,ft)}}break;case 5:Mj(it,it.return);break;case 22:if(it.memoizedState!==null){hk(at);continue}}rt!==null?(rt.return=it,V=rt):hk(at)}ht=ht.sibling}e:for(ht=null,at=j;;){if(at.tag===5){if(ht===null){ht=at;try{tt=at.stateNode,ut?(st=tt.style,typeof st.setProperty=="function"?st.setProperty("display","none","important"):st.display="none"):(lt=at.stateNode,nt=at.memoizedProps.style,gt=nt!=null&&nt.hasOwnProperty("display")?nt.display:null,lt.style.display=rb("display",gt))}catch(ft){W(j,j.return,ft)}}}else if(at.tag===6){if(ht===null)try{at.stateNode.nodeValue=ut?"":at.memoizedProps}catch(ft){W(j,j.return,ft)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===j)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===j)break e;for(;at.sibling===null;){if(at.return===null||at.return===j)break e;ht===at&&(ht=null),at=at.return}ht===at&&(ht=null),at.sibling.return=at.return,at=at.sibling}}break;case 19:dk($,j),fk(j),et&4&&bk(j);break;case 21:break;default:dk($,j),fk(j)}}function fk(j){var $=j.flags;if($&2){try{e:{for(var _e=j.return;_e!==null;){if(Uj(_e)){var et=_e;break e}_e=_e.return}throw Error(p$9(160))}switch(et.tag){case 5:var tt=et.stateNode;et.flags&32&&(ob(tt,""),et.flags&=-33);var st=Vj(j);Xj(j,st,tt);break;case 3:case 4:var gt=et.stateNode.containerInfo,lt=Vj(j);Wj(j,lt,gt);break;default:throw Error(p$9(161))}}catch(nt){W(j,j.return,nt)}j.flags&=-3}$&4096&&(j.flags&=-4097)}function ik(j,$,_e){V=j,jk(j)}function jk(j,$,_e){for(var et=(j.mode&1)!==0;V!==null;){var tt=V,st=tt.child;if(tt.tag===22&&et){var gt=tt.memoizedState!==null||Kj;if(!gt){var lt=tt.alternate,nt=lt!==null&&lt.memoizedState!==null||U;lt=Kj;var ut=U;if(Kj=gt,(U=nt)&&!ut)for(V=tt;V!==null;)gt=V,nt=gt.child,gt.tag===22&&gt.memoizedState!==null?kk(tt):nt!==null?(nt.return=gt,V=nt):kk(tt);for(;st!==null;)V=st,jk(st),st=st.sibling;V=tt,Kj=lt,U=ut}lk(j)}else(tt.subtreeFlags&8772)!==0&&st!==null?(st.return=tt,V=st):lk(j)}}function lk(j){for(;V!==null;){var $=V;if(($.flags&8772)!==0){var _e=$.alternate;try{if(($.flags&8772)!==0)switch($.tag){case 0:case 11:case 15:U||Rj(5,$);break;case 1:var et=$.stateNode;if($.flags&4&&!U)if(_e===null)et.componentDidMount();else{var tt=$.elementType===$.type?_e.memoizedProps:Lg($.type,_e.memoizedProps);et.componentDidUpdate(tt,_e.memoizedState,et.__reactInternalSnapshotBeforeUpdate)}var st=$.updateQueue;st!==null&&ih($,st,et);break;case 3:var gt=$.updateQueue;if(gt!==null){if(_e=null,$.child!==null)switch($.child.tag){case 5:_e=$.child.stateNode;break;case 1:_e=$.child.stateNode}ih($,gt,_e)}break;case 5:var lt=$.stateNode;if(_e===null&&$.flags&4){_e=lt;var nt=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":nt.autoFocus&&_e.focus();break;case"img":nt.src&&(_e.src=nt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var ut=$.alternate;if(ut!==null){var ht=ut.memoizedState;if(ht!==null){var at=ht.dehydrated;at!==null&&bd(at)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$9(163))}U||$.flags&512&&Sj($)}catch(it){W($,$.return,it)}}if($===j){V=null;break}if(_e=$.sibling,_e!==null){_e.return=$.return,V=_e;break}V=$.return}}function hk(j){for(;V!==null;){var $=V;if($===j){V=null;break}var _e=$.sibling;if(_e!==null){_e.return=$.return,V=_e;break}V=$.return}}function kk(j){for(;V!==null;){var $=V;try{switch($.tag){case 0:case 11:case 15:var _e=$.return;try{Rj(4,$)}catch(nt){W($,_e,nt)}break;case 1:var et=$.stateNode;if(typeof et.componentDidMount=="function"){var tt=$.return;try{et.componentDidMount()}catch(nt){W($,tt,nt)}}var st=$.return;try{Sj($)}catch(nt){W($,st,nt)}break;case 5:var gt=$.return;try{Sj($)}catch(nt){W($,gt,nt)}}}catch(nt){W($,$.return,nt)}if($===j){V=null;break}var lt=$.sibling;if(lt!==null){lt.return=$.return,V=lt;break}V=$.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return(K&6)!==0?B():Bk!==-1?Bk:Bk=B()}function lh(j){return(j.mode&1)===0?1:(K&2)!==0&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(j=C$4,j!==0||(j=window.event,j=j===void 0?16:jd(j.type)),j)}function mh(j,$,_e,et){if(50<zk)throw zk=0,Ak=null,Error(p$9(185));Ac(j,_e,et),((K&2)===0||j!==R)&&(j===R&&((K&2)===0&&(rk|=_e),T$1===4&&Dk(j,Z)),Ek(j,et),_e===1&&K===0&&($.mode&1)===0&&(Hj=B()+500,fg&&jg()))}function Ek(j,$){var _e=j.callbackNode;wc(j,$);var et=uc(j,j===R?Z:0);if(et===0)_e!==null&&bc(_e),j.callbackNode=null,j.callbackPriority=0;else if($=et&-et,j.callbackPriority!==$){if(_e!=null&&bc(_e),$===1)j.tag===0?ig(Fk.bind(null,j)):hg(Fk.bind(null,j)),Jf(function(){(K&6)===0&&jg()}),_e=null;else{switch(Dc(et)){case 1:_e=fc;break;case 4:_e=gc;break;case 16:_e=hc;break;case 536870912:_e=jc;break;default:_e=hc}_e=Gk(_e,Hk.bind(null,j))}j.callbackPriority=$,j.callbackNode=_e}}function Hk(j,$){if(Bk=-1,Ck=0,(K&6)!==0)throw Error(p$9(327));var _e=j.callbackNode;if(Ik()&&j.callbackNode!==_e)return null;var et=uc(j,j===R?Z:0);if(et===0)return null;if((et&30)!==0||(et&j.expiredLanes)!==0||$)$=Jk(j,et);else{$=et;var tt=K;K|=2;var st=Kk();(R!==j||Z!==$)&&(vk=null,Hj=B()+500,Lk(j,$));do try{Mk();break}catch(lt){Nk(j,lt)}while(1);Qg(),nk.current=st,K=tt,Y!==null?$=0:(R=null,Z=0,$=T$1)}if($!==0){if($===2&&(tt=xc(j),tt!==0&&(et=tt,$=Ok(j,tt))),$===1)throw _e=qk,Lk(j,0),Dk(j,et),Ek(j,B()),_e;if($===6)Dk(j,et);else{if(tt=j.current.alternate,(et&30)===0&&!Pk(tt)&&($=Jk(j,et),$===2&&(st=xc(j),st!==0&&(et=st,$=Ok(j,st))),$===1))throw _e=qk,Lk(j,0),Dk(j,et),Ek(j,B()),_e;switch(j.finishedWork=tt,j.finishedLanes=et,$){case 0:case 1:throw Error(p$9(345));case 2:Qk(j,uk,vk);break;case 3:if(Dk(j,et),(et&130023424)===et&&($=gk+500-B(),10<$)){if(uc(j,0)!==0)break;if(tt=j.suspendedLanes,(tt&et)!==et){L$1(),j.pingedLanes|=j.suspendedLanes&tt;break}j.timeoutHandle=Ff(Qk.bind(null,j,uk,vk),$);break}Qk(j,uk,vk);break;case 4:if(Dk(j,et),(et&4194240)===et)break;for($=j.eventTimes,tt=-1;0<et;){var gt=31-oc(et);st=1<<gt,gt=$[gt],gt>tt&&(tt=gt),et&=~st}if(et=tt,et=B()-et,et=(120>et?120:480>et?480:1080>et?1080:1920>et?1920:3e3>et?3e3:4320>et?4320:1960*mk(et/1960))-et,10<et){j.timeoutHandle=Ff(Qk.bind(null,j,uk,vk),et);break}Qk(j,uk,vk);break;case 5:Qk(j,uk,vk);break;default:throw Error(p$9(329))}}}return Ek(j,B()),j.callbackNode===_e?Hk.bind(null,j):null}function Ok(j,$){var _e=tk;return j.current.memoizedState.isDehydrated&&(Lk(j,$).flags|=256),j=Jk(j,$),j!==2&&($=uk,uk=_e,$!==null&&Gj($)),j}function Gj(j){uk===null?uk=j:uk.push.apply(uk,j)}function Pk(j){for(var $=j;;){if($.flags&16384){var _e=$.updateQueue;if(_e!==null&&(_e=_e.stores,_e!==null))for(var et=0;et<_e.length;et++){var tt=_e[et],st=tt.getSnapshot;tt=tt.value;try{if(!He(st(),tt))return!1}catch{return!1}}}if(_e=$.child,$.subtreeFlags&16384&&_e!==null)_e.return=$,$=_e;else{if($===j)break;for(;$.sibling===null;){if($.return===null||$.return===j)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Dk(j,$){for($&=~sk,$&=~rk,j.suspendedLanes|=$,j.pingedLanes&=~$,j=j.expirationTimes;0<$;){var _e=31-oc($),et=1<<_e;j[_e]=-1,$&=~et}}function Fk(j){if((K&6)!==0)throw Error(p$9(327));Ik();var $=uc(j,0);if(($&1)===0)return Ek(j,B()),null;var _e=Jk(j,$);if(j.tag!==0&&_e===2){var et=xc(j);et!==0&&($=et,_e=Ok(j,et))}if(_e===1)throw _e=qk,Lk(j,0),Dk(j,$),Ek(j,B()),_e;if(_e===6)throw Error(p$9(345));return j.finishedWork=j.current.alternate,j.finishedLanes=$,Qk(j,uk,vk),Ek(j,B()),null}function Rk(j,$){var _e=K;K|=1;try{return j($)}finally{K=_e,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(j){xk!==null&&xk.tag===0&&(K&6)===0&&Ik();var $=K;K|=1;var _e=pk.transition,et=C$4;try{if(pk.transition=null,C$4=1,j)return j()}finally{C$4=et,pk.transition=_e,K=$,(K&6)===0&&jg()}}function Ij(){gj=fj.current,E$6(fj)}function Lk(j,$){j.finishedWork=null,j.finishedLanes=0;var _e=j.timeoutHandle;if(_e!==-1&&(j.timeoutHandle=-1,Gf(_e)),Y!==null)for(_e=Y.return;_e!==null;){var et=_e;switch(wg(et),et.tag){case 1:et=et.type.childContextTypes,et!=null&&$f();break;case 3:Jh(),E$6(Wf),E$6(H),Oh();break;case 5:Lh(et);break;case 4:Jh();break;case 13:E$6(M$1);break;case 19:E$6(M$1);break;case 10:Rg(et.type._context);break;case 22:case 23:Ij()}_e=_e.return}if(R=j,Y=j=wh(j.current,null),Z=gj=$,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for($=0;$<Wg.length;$++)if(_e=Wg[$],et=_e.interleaved,et!==null){_e.interleaved=null;var tt=et.next,st=_e.pending;if(st!==null){var gt=st.next;st.next=tt,et.next=gt}_e.pending=et}Wg=null}return j}function Nk(j,$){do{var _e=Y;try{if(Qg(),Ph.current=ai,Sh){for(var et=N$1.memoizedState;et!==null;){var tt=et.queue;tt!==null&&(tt.pending=null),et=et.next}Sh=!1}if(Rh=0,P$3=O$1=N$1=null,Th=!1,Uh=0,ok.current=null,_e===null||_e.return===null){T$1=1,qk=$,Y=null;break}e:{var st=j,gt=_e.return,lt=_e,nt=$;if($=Z,lt.flags|=32768,nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var ut=nt,ht=lt,at=ht.tag;if((ht.mode&1)===0&&(at===0||at===11||at===15)){var it=ht.alternate;it?(ht.updateQueue=it.updateQueue,ht.memoizedState=it.memoizedState,ht.lanes=it.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var rt=Vi(gt);if(rt!==null){rt.flags&=-257,Wi(rt,gt,lt,st,$),rt.mode&1&&Ti(st,ut,$),$=rt,nt=ut;var ot=$.updateQueue;if(ot===null){var ft=new Set;ft.add(nt),$.updateQueue=ft}else ot.add(nt);break e}else{if(($&1)===0){Ti(st,ut,$),uj();break e}nt=Error(p$9(426))}}else if(I$2&&lt.mode&1){var ct=Vi(gt);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),Wi(ct,gt,lt,st,$),Jg(Ki(nt,lt));break e}}st=nt=Ki(nt,lt),T$1!==4&&(T$1=2),tk===null?tk=[st]:tk.push(st),st=gt;do{switch(st.tag){case 3:st.flags|=65536,$&=-$,st.lanes|=$;var dt=Oi(st,nt,$);fh(st,dt);break e;case 1:lt=nt;var pt=st.type,mt=st.stateNode;if((st.flags&128)===0&&(typeof pt.getDerivedStateFromError=="function"||mt!==null&&typeof mt.componentDidCatch=="function"&&(Si===null||!Si.has(mt)))){st.flags|=65536,$&=-$,st.lanes|=$;var _t=Ri(st,lt,$);fh(st,_t);break e}}st=st.return}while(st!==null)}Tk(_e)}catch(vt){$=vt,Y===_e&&_e!==null&&(Y=_e=_e.return);continue}break}while(1)}function Kk(){var j=nk.current;return nk.current=ai,j===null?ai:j}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R,Z)}function Jk(j,$){var _e=K;K|=2;var et=Kk();(R!==j||Z!==$)&&(vk=null,Lk(j,$));do try{Uk();break}catch(tt){Nk(j,tt)}while(1);if(Qg(),K=_e,nk.current=et,Y!==null)throw Error(p$9(261));return R=null,Z=0,T$1}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(j){var $=Wk(j.alternate,j,gj);j.memoizedProps=j.pendingProps,$===null?Tk(j):Y=$,ok.current=null}function Tk(j){var $=j;do{var _e=$.alternate;if(j=$.return,($.flags&32768)===0){if(_e=Fj(_e,$,gj),_e!==null){Y=_e;return}}else{if(_e=Jj(_e,$),_e!==null){_e.flags&=32767,Y=_e;return}if(j!==null)j.flags|=32768,j.subtreeFlags=0,j.deletions=null;else{T$1=6,Y=null;return}}if($=$.sibling,$!==null){Y=$;return}Y=$=j}while($!==null);T$1===0&&(T$1=5)}function Qk(j,$,_e){var et=C$4,tt=pk.transition;try{pk.transition=null,C$4=1,Xk(j,$,_e,et)}finally{pk.transition=tt,C$4=et}return null}function Xk(j,$,_e,et){do Ik();while(xk!==null);if((K&6)!==0)throw Error(p$9(327));_e=j.finishedWork;var tt=j.finishedLanes;if(_e===null)return null;if(j.finishedWork=null,j.finishedLanes=0,_e===j.current)throw Error(p$9(177));j.callbackNode=null,j.callbackPriority=0;var st=_e.lanes|_e.childLanes;if(Bc(j,st),j===R&&(Y=R=null,Z=0),(_e.subtreeFlags&2064)===0&&(_e.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),st=(_e.flags&15990)!==0,(_e.subtreeFlags&15990)!==0||st){st=pk.transition,pk.transition=null;var gt=C$4;C$4=1;var lt=K;K|=4,ok.current=null,Pj(j,_e),ek(_e,j),Oe(Df),dd=!!Cf,Df=Cf=null,j.current=_e,ik(_e),dc(),K=lt,C$4=gt,pk.transition=st}else j.current=_e;if(wk&&(wk=!1,xk=j,yk=tt),st=j.pendingLanes,st===0&&(Si=null),mc(_e.stateNode),Ek(j,B()),$!==null)for(et=j.onRecoverableError,_e=0;_e<$.length;_e++)tt=$[_e],et(tt.value,{componentStack:tt.stack,digest:tt.digest});if(Pi)throw Pi=!1,j=Qi,Qi=null,j;return(yk&1)!==0&&j.tag!==0&&Ik(),st=j.pendingLanes,(st&1)!==0?j===Ak?zk++:(zk=0,Ak=j):zk=0,jg(),null}function Ik(){if(xk!==null){var j=Dc(yk),$=pk.transition,_e=C$4;try{if(pk.transition=null,C$4=16>j?16:j,xk===null)var et=!1;else{if(j=xk,xk=null,yk=0,(K&6)!==0)throw Error(p$9(331));var tt=K;for(K|=4,V=j.current;V!==null;){var st=V,gt=st.child;if((V.flags&16)!==0){var lt=st.deletions;if(lt!==null){for(var nt=0;nt<lt.length;nt++){var ut=lt[nt];for(V=ut;V!==null;){var ht=V;switch(ht.tag){case 0:case 11:case 15:Qj(8,ht,st)}var at=ht.child;if(at!==null)at.return=ht,V=at;else for(;V!==null;){ht=V;var it=ht.sibling,rt=ht.return;if(Tj(ht),ht===ut){V=null;break}if(it!==null){it.return=rt,V=it;break}V=rt}}}var ot=st.alternate;if(ot!==null){var ft=ot.child;if(ft!==null){ot.child=null;do{var ct=ft.sibling;ft.sibling=null,ft=ct}while(ft!==null)}}V=st}}if((st.subtreeFlags&2064)!==0&&gt!==null)gt.return=st,V=gt;else e:for(;V!==null;){if(st=V,(st.flags&2048)!==0)switch(st.tag){case 0:case 11:case 15:Qj(9,st,st.return)}var dt=st.sibling;if(dt!==null){dt.return=st.return,V=dt;break e}V=st.return}}var pt=j.current;for(V=pt;V!==null;){gt=V;var mt=gt.child;if((gt.subtreeFlags&2064)!==0&&mt!==null)mt.return=gt,V=mt;else e:for(gt=pt;V!==null;){if(lt=V,(lt.flags&2048)!==0)try{switch(lt.tag){case 0:case 11:case 15:Rj(9,lt)}}catch(vt){W(lt,lt.return,vt)}if(lt===gt){V=null;break e}var _t=lt.sibling;if(_t!==null){_t.return=lt.return,V=_t;break e}V=lt.return}}if(K=tt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,j)}catch{}et=!0}return et}finally{C$4=_e,pk.transition=$}}return!1}function Yk(j,$,_e){$=Ki(_e,$),$=Oi(j,$,1),j=dh(j,$,1),$=L$1(),j!==null&&(Ac(j,1,$),Ek(j,$))}function W(j,$,_e){if(j.tag===3)Yk(j,j,_e);else for(;$!==null;){if($.tag===3){Yk($,j,_e);break}else if($.tag===1){var et=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof et.componentDidCatch=="function"&&(Si===null||!Si.has(et))){j=Ki(_e,j),j=Ri($,j,1),$=dh($,j,1),j=L$1(),$!==null&&(Ac($,1,j),Ek($,j));break}}$=$.return}}function Ui(j,$,_e){var et=j.pingCache;et!==null&&et.delete($),$=L$1(),j.pingedLanes|=j.suspendedLanes&_e,R===j&&(Z&_e)===_e&&(T$1===4||T$1===3&&(Z&130023424)===Z&&500>B()-gk?Lk(j,0):sk|=_e),Ek(j,$)}function Zk(j,$){$===0&&((j.mode&1)===0?$=1:($=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var _e=L$1();j=Zg(j,$),j!==null&&(Ac(j,$,_e),Ek(j,_e))}function vj(j){var $=j.memoizedState,_e=0;$!==null&&(_e=$.retryLane),Zk(j,_e)}function ck(j,$){var _e=0;switch(j.tag){case 13:var et=j.stateNode,tt=j.memoizedState;tt!==null&&(_e=tt.retryLane);break;case 19:et=j.stateNode;break;default:throw Error(p$9(314))}et!==null&&et.delete($),Zk(j,_e)}var Wk;Wk=function(j,$,_e){if(j!==null)if(j.memoizedProps!==$.pendingProps||Wf.current)Ug=!0;else{if((j.lanes&_e)===0&&($.flags&128)===0)return Ug=!1,zj(j,$,_e);Ug=(j.flags&131072)!==0}else Ug=!1,I$2&&($.flags&1048576)!==0&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var et=$.type;jj(j,$),j=$.pendingProps;var tt=Yf($,H.current);Tg($,_e),tt=Xh(null,$,et,j,tt,_e);var st=bi();return $.flags|=1,typeof tt=="object"&&tt!==null&&typeof tt.render=="function"&&tt.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(et)?(st=!0,cg($)):st=!1,$.memoizedState=tt.state!==null&&tt.state!==void 0?tt.state:null,ah($),tt.updater=nh,$.stateNode=tt,tt._reactInternals=$,rh($,et,j,_e),$=kj(null,$,et,!0,st,_e)):($.tag=0,I$2&&st&&vg($),Yi(null,$,tt,_e),$=$.child),$;case 16:et=$.elementType;e:{switch(jj(j,$),j=$.pendingProps,tt=et._init,et=tt(et._payload),$.type=et,tt=$.tag=$k(et),j=Lg(et,j),tt){case 0:$=dj(null,$,et,j,_e);break e;case 1:$=ij(null,$,et,j,_e);break e;case 11:$=Zi(null,$,et,j,_e);break e;case 14:$=aj(null,$,et,Lg(et.type,j),_e);break e}throw Error(p$9(306,et,""))}return $;case 0:return et=$.type,tt=$.pendingProps,tt=$.elementType===et?tt:Lg(et,tt),dj(j,$,et,tt,_e);case 1:return et=$.type,tt=$.pendingProps,tt=$.elementType===et?tt:Lg(et,tt),ij(j,$,et,tt,_e);case 3:e:{if(lj($),j===null)throw Error(p$9(387));et=$.pendingProps,st=$.memoizedState,tt=st.element,bh(j,$),gh($,et,null,_e);var gt=$.memoizedState;if(et=gt.element,st.isDehydrated)if(st={element:et,isDehydrated:!1,cache:gt.cache,pendingSuspenseBoundaries:gt.pendingSuspenseBoundaries,transitions:gt.transitions},$.updateQueue.baseState=st,$.memoizedState=st,$.flags&256){tt=Ki(Error(p$9(423)),$),$=mj(j,$,et,_e,tt);break e}else if(et!==tt){tt=Ki(Error(p$9(424)),$),$=mj(j,$,et,_e,tt);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I$2=!0,zg=null,_e=Ch($,null,et,_e),$.child=_e;_e;)_e.flags=_e.flags&-3|4096,_e=_e.sibling;else{if(Ig(),et===tt){$=$i(j,$,_e);break e}Yi(j,$,et,_e)}$=$.child}return $;case 5:return Kh($),j===null&&Eg($),et=$.type,tt=$.pendingProps,st=j!==null?j.memoizedProps:null,gt=tt.children,Ef(et,tt)?gt=null:st!==null&&Ef(et,st)&&($.flags|=32),hj(j,$),Yi(j,$,gt,_e),$.child;case 6:return j===null&&Eg($),null;case 13:return pj(j,$,_e);case 4:return Ih($,$.stateNode.containerInfo),et=$.pendingProps,j===null?$.child=Bh($,null,et,_e):Yi(j,$,et,_e),$.child;case 11:return et=$.type,tt=$.pendingProps,tt=$.elementType===et?tt:Lg(et,tt),Zi(j,$,et,tt,_e);case 7:return Yi(j,$,$.pendingProps,_e),$.child;case 8:return Yi(j,$,$.pendingProps.children,_e),$.child;case 12:return Yi(j,$,$.pendingProps.children,_e),$.child;case 10:e:{if(et=$.type._context,tt=$.pendingProps,st=$.memoizedProps,gt=tt.value,G(Mg,et._currentValue),et._currentValue=gt,st!==null)if(He(st.value,gt)){if(st.children===tt.children&&!Wf.current){$=$i(j,$,_e);break e}}else for(st=$.child,st!==null&&(st.return=$);st!==null;){var lt=st.dependencies;if(lt!==null){gt=st.child;for(var nt=lt.firstContext;nt!==null;){if(nt.context===et){if(st.tag===1){nt=ch(-1,_e&-_e),nt.tag=2;var ut=st.updateQueue;if(ut!==null){ut=ut.shared;var ht=ut.pending;ht===null?nt.next=nt:(nt.next=ht.next,ht.next=nt),ut.pending=nt}}st.lanes|=_e,nt=st.alternate,nt!==null&&(nt.lanes|=_e),Sg(st.return,_e,$),lt.lanes|=_e;break}nt=nt.next}}else if(st.tag===10)gt=st.type===$.type?null:st.child;else if(st.tag===18){if(gt=st.return,gt===null)throw Error(p$9(341));gt.lanes|=_e,lt=gt.alternate,lt!==null&&(lt.lanes|=_e),Sg(gt,_e,$),gt=st.sibling}else gt=st.child;if(gt!==null)gt.return=st;else for(gt=st;gt!==null;){if(gt===$){gt=null;break}if(st=gt.sibling,st!==null){st.return=gt.return,gt=st;break}gt=gt.return}st=gt}Yi(j,$,tt.children,_e),$=$.child}return $;case 9:return tt=$.type,et=$.pendingProps.children,Tg($,_e),tt=Vg(tt),et=et(tt),$.flags|=1,Yi(j,$,et,_e),$.child;case 14:return et=$.type,tt=Lg(et,$.pendingProps),tt=Lg(et.type,tt),aj(j,$,et,tt,_e);case 15:return cj(j,$,$.type,$.pendingProps,_e);case 17:return et=$.type,tt=$.pendingProps,tt=$.elementType===et?tt:Lg(et,tt),jj(j,$),$.tag=1,Zf(et)?(j=!0,cg($)):j=!1,Tg($,_e),ph($,et,tt),rh($,et,tt,_e),kj(null,$,et,!0,j,_e);case 19:return yj(j,$,_e);case 22:return ej(j,$,_e)}throw Error(p$9(156,$.tag))};function Gk(j,$){return ac(j,$)}function al(j,$,_e,et){this.tag=j,this.key=_e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=et,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(j,$,_e,et){return new al(j,$,_e,et)}function bj(j){return j=j.prototype,!(!j||!j.isReactComponent)}function $k(j){if(typeof j=="function")return bj(j)?1:0;if(j!=null){if(j=j.$$typeof,j===Da)return 11;if(j===Ga)return 14}return 2}function wh(j,$){var _e=j.alternate;return _e===null?(_e=Bg(j.tag,$,j.key,j.mode),_e.elementType=j.elementType,_e.type=j.type,_e.stateNode=j.stateNode,_e.alternate=j,j.alternate=_e):(_e.pendingProps=$,_e.type=j.type,_e.flags=0,_e.subtreeFlags=0,_e.deletions=null),_e.flags=j.flags&14680064,_e.childLanes=j.childLanes,_e.lanes=j.lanes,_e.child=j.child,_e.memoizedProps=j.memoizedProps,_e.memoizedState=j.memoizedState,_e.updateQueue=j.updateQueue,$=j.dependencies,_e.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},_e.sibling=j.sibling,_e.index=j.index,_e.ref=j.ref,_e}function yh(j,$,_e,et,tt,st){var gt=2;if(et=j,typeof j=="function")bj(j)&&(gt=1);else if(typeof j=="string")gt=5;else e:switch(j){case ya:return Ah(_e.children,tt,st,$);case za:gt=8,tt|=8;break;case Aa:return j=Bg(12,_e,$,tt|2),j.elementType=Aa,j.lanes=st,j;case Ea:return j=Bg(13,_e,$,tt),j.elementType=Ea,j.lanes=st,j;case Fa:return j=Bg(19,_e,$,tt),j.elementType=Fa,j.lanes=st,j;case Ia:return qj(_e,tt,st,$);default:if(typeof j=="object"&&j!==null)switch(j.$$typeof){case Ba:gt=10;break e;case Ca:gt=9;break e;case Da:gt=11;break e;case Ga:gt=14;break e;case Ha:gt=16,et=null;break e}throw Error(p$9(130,j==null?j:typeof j,""))}return $=Bg(gt,_e,$,tt),$.elementType=j,$.type=et,$.lanes=st,$}function Ah(j,$,_e,et){return j=Bg(7,j,et,$),j.lanes=_e,j}function qj(j,$,_e,et){return j=Bg(22,j,et,$),j.elementType=Ia,j.lanes=_e,j.stateNode={isHidden:!1},j}function xh(j,$,_e){return j=Bg(6,j,null,$),j.lanes=_e,j}function zh(j,$,_e){return $=Bg(4,j.children!==null?j.children:[],j.key,$),$.lanes=_e,$.stateNode={containerInfo:j.containerInfo,pendingChildren:null,implementation:j.implementation},$}function bl(j,$,_e,et,tt){this.tag=$,this.containerInfo=j,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=et,this.onRecoverableError=tt,this.mutableSourceEagerHydrationData=null}function cl(j,$,_e,et,tt,st,gt,lt,nt){return j=new bl(j,$,_e,lt,nt),$===1?($=1,st===!0&&($|=8)):$=0,st=Bg(3,null,null,$),j.current=st,st.stateNode=j,st.memoizedState={element:et,isDehydrated:_e,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(st),j}function dl(j,$,_e){var et=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:et==null?null:""+et,children:j,containerInfo:$,implementation:_e}}function el(j){if(!j)return Vf;j=j._reactInternals;e:{if(Vb(j)!==j||j.tag!==1)throw Error(p$9(170));var $=j;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$9(171))}if(j.tag===1){var _e=j.type;if(Zf(_e))return bg(j,_e,$)}return $}function fl(j,$,_e,et,tt,st,gt,lt,nt){return j=cl(_e,et,!0,j,tt,st,gt,lt,nt),j.context=el(null),_e=j.current,et=L$1(),tt=lh(_e),st=ch(et,tt),st.callback=$!=null?$:null,dh(_e,st,tt),j.current.lanes=tt,Ac(j,tt,et),Ek(j,et),j}function gl(j,$,_e,et){var tt=$.current,st=L$1(),gt=lh(tt);return _e=el(_e),$.context===null?$.context=_e:$.pendingContext=_e,$=ch(st,gt),$.payload={element:j},et=et===void 0?null:et,et!==null&&($.callback=et),j=dh(tt,$,gt),j!==null&&(mh(j,tt,gt,st),eh(j,tt,gt)),gt}function hl(j){if(j=j.current,!j.child)return null;switch(j.child.tag){case 5:return j.child.stateNode;default:return j.child.stateNode}}function il(j,$){if(j=j.memoizedState,j!==null&&j.dehydrated!==null){var _e=j.retryLane;j.retryLane=_e!==0&&_e<$?_e:$}}function jl(j,$){il(j,$),(j=j.alternate)&&il(j,$)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(j){console.error(j)};function ml(j){this._internalRoot=j}nl.prototype.render=ml.prototype.render=function(j){var $=this._internalRoot;if($===null)throw Error(p$9(409));gl(j,$,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var j=this._internalRoot;if(j!==null){this._internalRoot=null;var $=j.containerInfo;Sk(function(){gl(null,j,null,null)}),$[uf]=null}};function nl(j){this._internalRoot=j}nl.prototype.unstable_scheduleHydration=function(j){if(j){var $=Hc();j={blockedOn:null,target:j,priority:$};for(var _e=0;_e<Qc.length&&$!==0&&$<Qc[_e].priority;_e++);Qc.splice(_e,0,j),_e===0&&Vc(j)}};function ol(j){return!(!j||j.nodeType!==1&&j.nodeType!==9&&j.nodeType!==11)}function pl(j){return!(!j||j.nodeType!==1&&j.nodeType!==9&&j.nodeType!==11&&(j.nodeType!==8||j.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(j,$,_e,et,tt){if(tt){if(typeof et=="function"){var st=et;et=function(){var ut=hl(gt);st.call(ut)}}var gt=fl($,et,j,0,null,!1,!1,"",ql);return j._reactRootContainer=gt,j[uf]=gt.current,sf(j.nodeType===8?j.parentNode:j),Sk(),gt}for(;tt=j.lastChild;)j.removeChild(tt);if(typeof et=="function"){var lt=et;et=function(){var ut=hl(nt);lt.call(ut)}}var nt=cl(j,0,!1,null,null,!1,!1,"",ql);return j._reactRootContainer=nt,j[uf]=nt.current,sf(j.nodeType===8?j.parentNode:j),Sk(function(){gl($,nt,_e,et)}),nt}function sl(j,$,_e,et,tt){var st=_e._reactRootContainer;if(st){var gt=st;if(typeof tt=="function"){var lt=tt;tt=function(){var nt=hl(gt);lt.call(nt)}}gl($,gt,j,tt)}else gt=rl(_e,$,j,tt,et);return hl(gt)}Ec=function(j){switch(j.tag){case 3:var $=j.stateNode;if($.current.memoizedState.isDehydrated){var _e=tc($.pendingLanes);_e!==0&&(Cc($,_e|1),Ek($,B()),(K&6)===0&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var et=Zg(j,1);if(et!==null){var tt=L$1();mh(et,j,1,tt)}}),jl(j,1)}};Fc=function(j){if(j.tag===13){var $=Zg(j,134217728);if($!==null){var _e=L$1();mh($,j,134217728,_e)}jl(j,134217728)}};Gc=function(j){if(j.tag===13){var $=lh(j),_e=Zg(j,$);if(_e!==null){var et=L$1();mh(_e,j,$,et)}jl(j,$)}};Hc=function(){return C$4};Ic=function(j,$){var _e=C$4;try{return C$4=j,$()}finally{C$4=_e}};yb=function(j,$,_e){switch($){case"input":if(bb(j,_e),$=_e.name,_e.type==="radio"&&$!=null){for(_e=j;_e.parentNode;)_e=_e.parentNode;for(_e=_e.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<_e.length;$++){var et=_e[$];if(et!==j&&et.form===j.form){var tt=Db(et);if(!tt)throw Error(p$9(90));Wa(et),bb(et,tt)}}}break;case"textarea":ib(j,_e);break;case"select":$=_e.value,$!=null&&fb(j,!!_e.multiple,$,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(j){return j=Zb(j),j===null?null:j.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(j,$){var _e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol($))throw Error(p$9(200));return dl(j,$,null,_e)};reactDom_production_min.createRoot=function(j,$){if(!ol(j))throw Error(p$9(299));var _e=!1,et="",tt=ll;return $!=null&&($.unstable_strictMode===!0&&(_e=!0),$.identifierPrefix!==void 0&&(et=$.identifierPrefix),$.onRecoverableError!==void 0&&(tt=$.onRecoverableError)),$=cl(j,1,!1,null,null,_e,!1,et,tt),j[uf]=$.current,sf(j.nodeType===8?j.parentNode:j),new ml($)};reactDom_production_min.findDOMNode=function(j){if(j==null)return null;if(j.nodeType===1)return j;var $=j._reactInternals;if($===void 0)throw typeof j.render=="function"?Error(p$9(188)):(j=Object.keys(j).join(","),Error(p$9(268,j)));return j=Zb($),j=j===null?null:j.stateNode,j};reactDom_production_min.flushSync=function(j){return Sk(j)};reactDom_production_min.hydrate=function(j,$,_e){if(!pl($))throw Error(p$9(200));return sl(null,j,$,!0,_e)};reactDom_production_min.hydrateRoot=function(j,$,_e){if(!ol(j))throw Error(p$9(405));var et=_e!=null&&_e.hydratedSources||null,tt=!1,st="",gt=ll;if(_e!=null&&(_e.unstable_strictMode===!0&&(tt=!0),_e.identifierPrefix!==void 0&&(st=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(gt=_e.onRecoverableError)),$=fl($,null,j,1,_e!=null?_e:null,tt,!1,st,gt),j[uf]=$.current,sf(j),et)for(j=0;j<et.length;j++)_e=et[j],tt=_e._getVersion,tt=tt(_e._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[_e,tt]:$.mutableSourceEagerHydrationData.push(_e,tt);return new nl($)};reactDom_production_min.render=function(j,$,_e){if(!pl($))throw Error(p$9(200));return sl(null,j,$,!1,_e)};reactDom_production_min.unmountComponentAtNode=function(j){if(!pl(j))throw Error(p$9(40));return j._reactRootContainer?(Sk(function(){sl(null,null,j,!1,function(){j._reactRootContainer=null,j[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(j,$,_e,et){if(!pl(_e))throw Error(p$9(200));if(j==null||j._reactInternals===void 0)throw Error(p$9(38));return sl(j,$,_e,!1,et)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(j){function $(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($)}catch(_e){console.error(_e)}}$(),j.exports=reactDom_production_min})(reactDom);var m$a=reactDom.exports;client.createRoot=m$a.createRoot,client.hydrateRoot=m$a.hydrateRoot;/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(j){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var et in _e)Object.prototype.hasOwnProperty.call(_e,et)&&(j[et]=_e[et])}return j},_extends$1.apply(this,arguments)}var Action;(function(j){j.Pop="POP",j.Push="PUSH",j.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(j){j===void 0&&(j={});function $(tt,st){let{pathname:gt="/",search:lt="",hash:nt=""}=parsePath(tt.location.hash.substr(1));return createLocation("",{pathname:gt,search:lt,hash:nt},st.state&&st.state.usr||null,st.state&&st.state.key||"default")}function _e(tt,st){let gt=tt.document.querySelector("base"),lt="";if(gt&&gt.getAttribute("href")){let nt=tt.location.href,ut=nt.indexOf("#");lt=ut===-1?nt:nt.slice(0,ut)}return lt+"#"+(typeof st=="string"?st:createPath(st))}function et(tt,st){warning$1(tt.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(st)+")")}return getUrlBasedHistory($,_e,et,j)}function warning$1(j,$){if(!j){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(j){return{usr:j.state,key:j.key}}function createLocation(j,$,_e,et){return _e===void 0&&(_e=null),_extends$1({pathname:typeof j=="string"?j:j.pathname,search:"",hash:""},typeof $=="string"?parsePath($):$,{state:_e,key:$&&$.key||et||createKey()})}function createPath(j){let{pathname:$="/",search:_e="",hash:et=""}=j;return _e&&_e!=="?"&&($+=_e.charAt(0)==="?"?_e:"?"+_e),et&&et!=="#"&&($+=et.charAt(0)==="#"?et:"#"+et),$}function parsePath(j){let $={};if(j){let _e=j.indexOf("#");_e>=0&&($.hash=j.substr(_e),j=j.substr(0,_e));let et=j.indexOf("?");et>=0&&($.search=j.substr(et),j=j.substr(0,et)),j&&($.pathname=j)}return $}function createURL(j){let $=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",_e=typeof j=="string"?j:createPath(j);return new URL(_e,$)}function getUrlBasedHistory(j,$,_e,et){et===void 0&&(et={});let{window:tt=document.defaultView,v5Compat:st=!1}=et,gt=tt.history,lt=Action.Pop,nt=null;function ut(){lt=Action.Pop,nt&&nt({action:lt,location:it.location})}function ht(rt,ot){lt=Action.Push;let ft=createLocation(it.location,rt,ot);_e&&_e(ft,rt);let ct=getHistoryState(ft),dt=it.createHref(ft);try{gt.pushState(ct,"",dt)}catch{tt.location.assign(dt)}st&&nt&&nt({action:lt,location:it.location})}function at(rt,ot){lt=Action.Replace;let ft=createLocation(it.location,rt,ot);_e&&_e(ft,rt);let ct=getHistoryState(ft),dt=it.createHref(ft);gt.replaceState(ct,"",dt),st&&nt&&nt({action:lt,location:it.location})}let it={get action(){return lt},get location(){return j(tt,gt)},listen(rt){if(nt)throw new Error("A history only accepts one active listener");return tt.addEventListener(PopStateEventType,ut),nt=rt,()=>{tt.removeEventListener(PopStateEventType,ut),nt=null}},createHref(rt){return $(tt,rt)},encodeLocation(rt){let ot=createURL(createPath(rt));return _extends$1({},rt,{pathname:ot.pathname,search:ot.search,hash:ot.hash})},push:ht,replace:at,go(rt){return gt.go(rt)}};return it}var ResultType;(function(j){j.data="data",j.deferred="deferred",j.redirect="redirect",j.error="error"})(ResultType||(ResultType={}));function matchRoutes(j,$,_e){_e===void 0&&(_e="/");let et=typeof $=="string"?parsePath($):$,tt=stripBasename(et.pathname||"/",_e);if(tt==null)return null;let st=flattenRoutes(j);rankRouteBranches(st);let gt=null;for(let lt=0;gt==null&&lt<st.length;++lt)gt=matchRouteBranch(st[lt],safelyDecodeURI(tt));return gt}function flattenRoutes(j,$,_e,et){return $===void 0&&($=[]),_e===void 0&&(_e=[]),et===void 0&&(et=""),j.forEach((tt,st)=>{let gt={relativePath:tt.path||"",caseSensitive:tt.caseSensitive===!0,childrenIndex:st,route:tt};gt.relativePath.startsWith("/")&&(invariant(gt.relativePath.startsWith(et),'Absolute route path "'+gt.relativePath+'" nested under path '+('"'+et+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),gt.relativePath=gt.relativePath.slice(et.length));let lt=joinPaths([et,gt.relativePath]),nt=_e.concat(gt);tt.children&&tt.children.length>0&&(invariant(tt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+lt+'".')),flattenRoutes(tt.children,$,nt,lt)),!(tt.path==null&&!tt.index)&&$.push({path:lt,score:computeScore(lt,tt.index),routesMeta:nt})}),$}function rankRouteBranches(j){j.sort(($,_e)=>$.score!==_e.score?_e.score-$.score:compareIndexes($.routesMeta.map(et=>et.childrenIndex),_e.routesMeta.map(et=>et.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=j=>j==="*";function computeScore(j,$){let _e=j.split("/"),et=_e.length;return _e.some(isSplat)&&(et+=splatPenalty),$&&(et+=indexRouteValue),_e.filter(tt=>!isSplat(tt)).reduce((tt,st)=>tt+(paramRe.test(st)?dynamicSegmentValue:st===""?emptySegmentValue:staticSegmentValue),et)}function compareIndexes(j,$){return j.length===$.length&&j.slice(0,-1).every((et,tt)=>et===$[tt])?j[j.length-1]-$[$.length-1]:0}function matchRouteBranch(j,$){let{routesMeta:_e}=j,et={},tt="/",st=[];for(let gt=0;gt<_e.length;++gt){let lt=_e[gt],nt=gt===_e.length-1,ut=tt==="/"?$:$.slice(tt.length)||"/",ht=matchPath({path:lt.relativePath,caseSensitive:lt.caseSensitive,end:nt},ut);if(!ht)return null;Object.assign(et,ht.params);let at=lt.route;st.push({params:et,pathname:joinPaths([tt,ht.pathname]),pathnameBase:normalizePathname(joinPaths([tt,ht.pathnameBase])),route:at}),ht.pathnameBase!=="/"&&(tt=joinPaths([tt,ht.pathnameBase]))}return st}function matchPath(j,$){typeof j=="string"&&(j={path:j,caseSensitive:!1,end:!0});let[_e,et]=compilePath(j.path,j.caseSensitive,j.end),tt=$.match(_e);if(!tt)return null;let st=tt[0],gt=st.replace(/(.)\/+$/,"$1"),lt=tt.slice(1);return{params:et.reduce((ut,ht,at)=>{if(ht==="*"){let it=lt[at]||"";gt=st.slice(0,st.length-it.length).replace(/(.)\/+$/,"$1")}return ut[ht]=safelyDecodeURIComponent(lt[at]||"",ht),ut},{}),pathname:st,pathnameBase:gt,pattern:j}}function compilePath(j,$,_e){$===void 0&&($=!1),_e===void 0&&(_e=!0),warning(j==="*"||!j.endsWith("*")||j.endsWith("/*"),'Route path "'+j+'" will be treated as if it were '+('"'+j.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+j.replace(/\*$/,"/*")+'".'));let et=[],tt="^"+j.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(gt,lt)=>(et.push(lt),"([^\\/]+)"));return j.endsWith("*")?(et.push("*"),tt+=j==="*"||j==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):_e?tt+="\\/*$":j!==""&&j!=="/"&&(tt+="(?:(?=\\/|$))"),[new RegExp(tt,$?void 0:"i"),et]}function safelyDecodeURI(j){try{return decodeURI(j)}catch($){return warning(!1,'The URL path "'+j+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+$+").")),j}}function safelyDecodeURIComponent(j,$){try{return decodeURIComponent(j)}catch(_e){return warning(!1,'The value for the URL param "'+$+'" will not be decoded because'+(' the string "'+j+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+_e+").")),j}}function stripBasename(j,$){if($==="/")return j;if(!j.toLowerCase().startsWith($.toLowerCase()))return null;let _e=$.endsWith("/")?$.length-1:$.length,et=j.charAt(_e);return et&&et!=="/"?null:j.slice(_e)||"/"}function invariant(j,$){if(j===!1||j===null||typeof j>"u")throw new Error($)}function warning(j,$){if(!j){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function resolvePath(j,$){$===void 0&&($="/");let{pathname:_e,search:et="",hash:tt=""}=typeof j=="string"?parsePath(j):j;return{pathname:_e?_e.startsWith("/")?_e:resolvePathname(_e,$):$,search:normalizeSearch(et),hash:normalizeHash(tt)}}function resolvePathname(j,$){let _e=$.replace(/\/+$/,"").split("/");return j.split("/").forEach(tt=>{tt===".."?_e.length>1&&_e.pop():tt!=="."&&_e.push(tt)}),_e.length>1?_e.join("/"):"/"}function getInvalidPathError(j,$,_e,et){return"Cannot include a '"+j+"' character in a manually specified "+("`to."+$+"` field ["+JSON.stringify(et)+"].  Please separate it out to the ")+("`to."+_e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(j){return j.filter(($,_e)=>_e===0||$.route.path&&$.route.path.length>0)}function resolveTo(j,$,_e,et){et===void 0&&(et=!1);let tt;typeof j=="string"?tt=parsePath(j):(tt=_extends$1({},j),invariant(!tt.pathname||!tt.pathname.includes("?"),getInvalidPathError("?","pathname","search",tt)),invariant(!tt.pathname||!tt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",tt)),invariant(!tt.search||!tt.search.includes("#"),getInvalidPathError("#","search","hash",tt)));let st=j===""||tt.pathname==="",gt=st?"/":tt.pathname,lt;if(et||gt==null)lt=_e;else{let at=$.length-1;if(gt.startsWith("..")){let it=gt.split("/");for(;it[0]==="..";)it.shift(),at-=1;tt.pathname=it.join("/")}lt=at>=0?$[at]:"/"}let nt=resolvePath(tt,lt),ut=gt&&gt!=="/"&&gt.endsWith("/"),ht=(st||gt===".")&&_e.endsWith("/");return!nt.pathname.endsWith("/")&&(ut||ht)&&(nt.pathname+="/"),nt}const joinPaths=j=>j.join("/").replace(/\/\/+/g,"/"),normalizePathname=j=>j.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=j=>!j||j==="?"?"":j.startsWith("?")?j:"?"+j,normalizeHash=j=>!j||j==="#"?"":j.startsWith("#")?j:"#"+j;class ErrorResponse{constructor($,_e,et){this.status=$,this.statusText=_e||"",this.data=et}}function isRouteErrorResponse(j){return j instanceof ErrorResponse}const validActionMethods=new Set(["POST","PUT","PATCH","DELETE"]);[...validActionMethods];var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$9=react.exports,k$4=Symbol.for("react.element"),l$f=Symbol.for("react.fragment"),m$9=Object.prototype.hasOwnProperty,n$g=f$9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$8={key:!0,ref:!0,__self:!0,__source:!0};function q(j,$,_e){var et,tt={},st=null,gt=null;_e!==void 0&&(st=""+_e),$.key!==void 0&&(st=""+$.key),$.ref!==void 0&&(gt=$.ref);for(et in $)m$9.call($,et)&&!p$8.hasOwnProperty(et)&&(tt[et]=$[et]);if(j&&j.defaultProps)for(et in $=j.defaultProps,$)tt[et]===void 0&&(tt[et]=$[et]);return{$$typeof:k$4,type:j,key:st,ref:gt,props:tt,_owner:n$g.current}}reactJsxRuntime_production_min.Fragment=l$f;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;(function(j){j.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment=jsxRuntime.exports.Fragment,jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs;/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(j){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var et in _e)Object.prototype.hasOwnProperty.call(_e,et)&&(j[et]=_e[et])}return j},_extends.apply(this,arguments)}function isPolyfill(j,$){return j===$&&(j!==0||1/j===1/$)||j!==j&&$!==$}const is=typeof Object.is=="function"?Object.is:isPolyfill,{useState,useEffect,useLayoutEffect,useDebugValue}=React$1;function useSyncExternalStore$2(j,$,_e){const et=$(),[{inst:tt},st]=useState({inst:{value:et,getSnapshot:$}});return useLayoutEffect(()=>{tt.value=et,tt.getSnapshot=$,checkIfSnapshotChanged(tt)&&st({inst:tt})},[j,et,$]),useEffect(()=>(checkIfSnapshotChanged(tt)&&st({inst:tt}),j(()=>{checkIfSnapshotChanged(tt)&&st({inst:tt})})),[j]),useDebugValue(et),et}function checkIfSnapshotChanged(j){const $=j.getSnapshot,_e=j.value;try{const et=$();return!is(_e,et)}catch{return!0}}function useSyncExternalStore$1(j,$,_e){return $()}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServerEnvironment=!canUseDOM,shim=isServerEnvironment?useSyncExternalStore$1:useSyncExternalStore$2;"useSyncExternalStore"in React$1&&(j=>j.useSyncExternalStore)(React$1);const DataStaticRouterContext=react.exports.createContext(null),DataRouterContext=react.exports.createContext(null),DataRouterStateContext=react.exports.createContext(null),NavigationContext=react.exports.createContext(null),LocationContext=react.exports.createContext(null),RouteContext=react.exports.createContext({outlet:null,matches:[]}),RouteErrorContext=react.exports.createContext(null);function useInRouterContext(){return react.exports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),react.exports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant(!1);let{basename:j,navigator:$}=react.exports.useContext(NavigationContext),{matches:_e}=react.exports.useContext(RouteContext),{pathname:et}=useLocation(),tt=JSON.stringify(getPathContributingMatches(_e).map(lt=>lt.pathnameBase)),st=react.exports.useRef(!1);return react.exports.useEffect(()=>{st.current=!0}),react.exports.useCallback(function(lt,nt){if(nt===void 0&&(nt={}),!st.current)return;if(typeof lt=="number"){$.go(lt);return}let ut=resolveTo(lt,JSON.parse(tt),et,nt.relative==="path");j!=="/"&&(ut.pathname=ut.pathname==="/"?j:joinPaths([j,ut.pathname])),(nt.replace?$.replace:$.push)(ut,nt.state,nt)},[j,$,tt,et])}function useRoutes(j,$){useInRouterContext()||invariant(!1);let _e=react.exports.useContext(DataRouterStateContext),{matches:et}=react.exports.useContext(RouteContext),tt=et[et.length-1],st=tt?tt.params:{};tt&&tt.pathname;let gt=tt?tt.pathnameBase:"/";tt&&tt.route;let lt=useLocation(),nt;if($){var ut;let ot=typeof $=="string"?parsePath($):$;gt==="/"||((ut=ot.pathname)==null?void 0:ut.startsWith(gt))||invariant(!1),nt=ot}else nt=lt;let ht=nt.pathname||"/",at=gt==="/"?ht:ht.slice(gt.length)||"/",it=matchRoutes(j,{pathname:at}),rt=_renderMatches(it&&it.map(ot=>Object.assign({},ot,{params:Object.assign({},st,ot.params),pathname:joinPaths([gt,ot.pathname]),pathnameBase:ot.pathnameBase==="/"?gt:joinPaths([gt,ot.pathnameBase])})),et,_e||void 0);return $&&rt?jsx(LocationContext.Provider,{value:{location:_extends({pathname:"/",search:"",hash:"",state:null,key:"default"},nt),navigationType:Action.Pop},children:rt}):rt}function DefaultErrorElement(){let j=useRouteError(),$=isRouteErrorResponse(j)?j.status+" "+j.statusText:j instanceof Error?j.message:JSON.stringify(j),_e=j instanceof Error?j.stack:null,et="rgba(200,200,200, 0.5)",tt={padding:"0.5rem",backgroundColor:et},st={padding:"2px 4px",backgroundColor:et};return jsxs(Fragment,{children:[jsx("h2",{children:"Unhandled Thrown Error!"}),jsx("h3",{style:{fontStyle:"italic"},children:$}),_e?jsx("pre",{style:tt,children:_e}):null,jsx("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),jsxs("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",jsx("code",{style:st,children:"errorElement"})," props on\xA0",jsx("code",{style:st,children:"<Route>"})]})]})}class RenderErrorBoundary extends react.exports.Component{constructor($){super($),this.state={location:$.location,error:$.error}}static getDerivedStateFromError($){return{error:$}}static getDerivedStateFromProps($,_e){return _e.location!==$.location?{error:$.error,location:$.location}:{error:$.error||_e.error,location:_e.location}}componentDidCatch($,_e){console.error("React Router caught the following error during render",$,_e)}render(){return this.state.error?jsx(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function RenderedRoute(j){let{routeContext:$,match:_e,children:et}=j,tt=react.exports.useContext(DataStaticRouterContext);return tt&&_e.route.errorElement&&(tt._deepestRenderedBoundaryId=_e.route.id),jsx(RouteContext.Provider,{value:$,children:et})}function _renderMatches(j,$,_e){if($===void 0&&($=[]),j==null)if(_e!=null&&_e.errors)j=_e.matches;else return null;let et=j,tt=_e==null?void 0:_e.errors;if(tt!=null){let st=et.findIndex(gt=>gt.route.id&&(tt==null?void 0:tt[gt.route.id]));st>=0||invariant(!1),et=et.slice(0,Math.min(et.length,st+1))}return et.reduceRight((st,gt,lt)=>{let nt=gt.route.id?tt==null?void 0:tt[gt.route.id]:null,ut=_e?gt.route.errorElement||jsx(DefaultErrorElement,{}):null,ht=()=>jsx(RenderedRoute,{match:gt,routeContext:{outlet:st,matches:$.concat(et.slice(0,lt+1))},children:nt?ut:gt.route.element!==void 0?gt.route.element:st});return _e&&(gt.route.errorElement||lt===0)?jsx(RenderErrorBoundary,{location:_e.location,component:ut,error:nt,children:ht()}):ht()},null)}var DataRouterHook$1;(function(j){j.UseRevalidator="useRevalidator"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(j){j.UseLoaderData="useLoaderData",j.UseActionData="useActionData",j.UseRouteError="useRouteError",j.UseNavigation="useNavigation",j.UseRouteLoaderData="useRouteLoaderData",j.UseMatches="useMatches",j.UseRevalidator="useRevalidator"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState(j){let $=react.exports.useContext(DataRouterStateContext);return $||invariant(!1),$}function useRouteError(){var j;let $=react.exports.useContext(RouteErrorContext),_e=useDataRouterState(DataRouterStateHook$1.UseRouteError),et=react.exports.useContext(RouteContext),tt=et.matches[et.matches.length-1];return $||(et||invariant(!1),tt.route.id||invariant(!1),(j=_e.errors)==null?void 0:j[tt.route.id])}function Route(j){invariant(!1)}function Router(j){let{basename:$="/",children:_e=null,location:et,navigationType:tt=Action.Pop,navigator:st,static:gt=!1}=j;useInRouterContext()&&invariant(!1);let lt=$.replace(/^\/*/,"/"),nt=react.exports.useMemo(()=>({basename:lt,navigator:st,static:gt}),[lt,st,gt]);typeof et=="string"&&(et=parsePath(et));let{pathname:ut="/",search:ht="",hash:at="",state:it=null,key:rt="default"}=et,ot=react.exports.useMemo(()=>{let ft=stripBasename(ut,lt);return ft==null?null:{pathname:ft,search:ht,hash:at,state:it,key:rt}},[lt,ut,ht,at,it,rt]);return ot==null?null:jsx(NavigationContext.Provider,{value:nt,children:jsx(LocationContext.Provider,{children:_e,value:{location:ot,navigationType:tt}})})}function Routes(j){let{children:$,location:_e}=j,et=react.exports.useContext(DataRouterContext),tt=et&&!$?et.router.routes:createRoutesFromChildren($);return useRoutes(tt,_e)}var AwaitRenderStatus;(function(j){j[j.pending=0]="pending",j[j.success=1]="success",j[j.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(j,$){$===void 0&&($=[]);let _e=[];return react.exports.Children.forEach(j,(et,tt)=>{if(!react.exports.isValidElement(et))return;if(et.type===react.exports.Fragment){_e.push.apply(_e,createRoutesFromChildren(et.props.children,$));return}et.type!==Route&&invariant(!1),!et.props.index||!et.props.children||invariant(!1);let st=[...$,tt],gt={id:et.props.id||st.join("-"),caseSensitive:et.props.caseSensitive,element:et.props.element,index:et.props.index,path:et.props.path,loader:et.props.loader,action:et.props.action,errorElement:et.props.errorElement,hasErrorBoundary:et.props.errorElement!=null,shouldRevalidate:et.props.shouldRevalidate,handle:et.props.handle};et.props.children&&(gt.children=createRoutesFromChildren(et.props.children,st)),_e.push(gt)}),_e}/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function createSearchParams(j){return j===void 0&&(j=""),new URLSearchParams(typeof j=="string"||Array.isArray(j)||j instanceof URLSearchParams?j:Object.keys(j).reduce(($,_e)=>{let et=j[_e];return $.concat(Array.isArray(et)?et.map(tt=>[_e,tt]):[[_e,et]])},[]))}function getSearchParamsForLocation(j,$){let _e=createSearchParams(j);for(let et of $.keys())_e.has(et)||$.getAll(et).forEach(tt=>{_e.append(et,tt)});return _e}function HashRouter(j){let{basename:$,children:_e,window:et}=j,tt=react.exports.useRef();tt.current==null&&(tt.current=createHashHistory({window:et,v5Compat:!0}));let st=tt.current,[gt,lt]=react.exports.useState({action:st.action,location:st.location});return react.exports.useLayoutEffect(()=>st.listen(lt),[st]),jsx(Router,{basename:$,children:_e,location:gt.location,navigationType:gt.action,navigator:st})}var DataRouterHook;(function(j){j.UseScrollRestoration="useScrollRestoration",j.UseSubmitImpl="useSubmitImpl",j.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(j){j.UseFetchers="useFetchers",j.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useSearchParams(j){let $=react.exports.useRef(createSearchParams(j)),_e=useLocation(),et=react.exports.useMemo(()=>getSearchParamsForLocation(_e.search,$.current),[_e.search]),tt=useNavigate(),st=react.exports.useCallback((gt,lt)=>{const nt=createSearchParams(typeof gt=="function"?gt(et):gt);tt("?"+nt,lt)},[tt,et]);return[et,st]}const backgroundSmall="/f2eproject/assets/heroSmall.886c0e55.svg";function _assertThisInitialized(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function _inheritsLoose(j,$){j.prototype=Object.create($.prototype),j.prototype.constructor=j,j.__proto__=$}/*!
 * GSAP 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _config={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_defaults$1={duration:.5,overwrite:!1,delay:0},_suppressOverwrites$1,_reverting$1,_context$1,_bigNum$1=1e8,_tinyNum=1/_bigNum$1,_2PI=Math.PI*2,_HALF_PI=_2PI/4,_gsID=0,_sqrt=Math.sqrt,_cos=Math.cos,_sin=Math.sin,_isString$1=function($){return typeof $=="string"},_isFunction$1=function($){return typeof $=="function"},_isNumber$1=function($){return typeof $=="number"},_isUndefined=function($){return typeof $>"u"},_isObject$1=function($){return typeof $=="object"},_isNotFalse=function($){return $!==!1},_windowExists$2=function(){return typeof window<"u"},_isFuncOrString=function($){return _isFunction$1($)||_isString$1($)},_isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_isArray=Array.isArray,_strictNumExp=/(?:-?\.?\d|\.)+/gi,_numExp=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_numWithUnitExp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_complexStringNumExp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_relExp=/[+-]=-?[.\d]+/,_delimitedValueExp=/[^,'"\[\]\s]+/gi,_unitExp=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,_globalTimeline,_win$3,_coreInitted$2,_doc$3,_globals={},_installScope={},_coreReady,_install=function($){return(_installScope=_merge($,_globals))&&gsap$3},_missingPlugin=function($,_e){return console.warn("Invalid property",$,"set to",_e,"Missing plugin? gsap.registerPlugin()")},_warn=function($,_e){return!_e&&console.warn($)},_addGlobal=function($,_e){return $&&(_globals[$]=_e)&&_installScope&&(_installScope[$]=_e)||_globals},_emptyFunc=function(){return 0},_startAtRevertConfig={suppressEvents:!0,isStart:!0,kill:!1},_revertConfigNoKill={suppressEvents:!0,kill:!1},_revertConfig={suppressEvents:!0},_reservedProps={},_lazyTweens=[],_lazyLookup={},_lastRenderedFrame,_plugins={},_effects={},_nextGCFrame=30,_harnessPlugins=[],_callbackNames="",_harness=function($){var _e=$[0],et,tt;if(_isObject$1(_e)||_isFunction$1(_e)||($=[$]),!(et=(_e._gsap||{}).harness)){for(tt=_harnessPlugins.length;tt--&&!_harnessPlugins[tt].targetTest(_e););et=_harnessPlugins[tt]}for(tt=$.length;tt--;)$[tt]&&($[tt]._gsap||($[tt]._gsap=new GSCache($[tt],et)))||$.splice(tt,1);return $},_getCache=function($){return $._gsap||_harness(toArray($))[0]._gsap},_getProperty=function($,_e,et){return(et=$[_e])&&_isFunction$1(et)?$[_e]():_isUndefined(et)&&$.getAttribute&&$.getAttribute(_e)||et},_forEachName=function($,_e){return($=$.split(",")).forEach(_e)||$},_round$1=function($){return Math.round($*1e5)/1e5||0},_roundPrecise=function($){return Math.round($*1e7)/1e7||0},_parseRelative=function($,_e){var et=_e.charAt(0),tt=parseFloat(_e.substr(2));return $=parseFloat($),et==="+"?$+tt:et==="-"?$-tt:et==="*"?$*tt:$/tt},_arrayContainsAny=function($,_e){for(var et=_e.length,tt=0;$.indexOf(_e[tt])<0&&++tt<et;);return tt<et},_lazyRender=function(){var $=_lazyTweens.length,_e=_lazyTweens.slice(0),et,tt;for(_lazyLookup={},_lazyTweens.length=0,et=0;et<$;et++)tt=_e[et],tt&&tt._lazy&&(tt.render(tt._lazy[0],tt._lazy[1],!0)._lazy=0)},_lazySafeRender=function($,_e,et,tt){_lazyTweens.length&&_lazyRender(),$.render(_e,et,tt||_reverting$1&&_e<0&&($._initted||$._startAt)),_lazyTweens.length&&_lazyRender()},_numericIfPossible=function($){var _e=parseFloat($);return(_e||_e===0)&&($+"").match(_delimitedValueExp).length<2?_e:_isString$1($)?$.trim():$},_passThrough$1=function($){return $},_setDefaults$1=function($,_e){for(var et in _e)et in $||($[et]=_e[et]);return $},_setKeyframeDefaults=function($){return function(_e,et){for(var tt in et)tt in _e||tt==="duration"&&$||tt==="ease"||(_e[tt]=et[tt])}},_merge=function($,_e){for(var et in _e)$[et]=_e[et];return $},_mergeDeep=function j($,_e){for(var et in _e)et!=="__proto__"&&et!=="constructor"&&et!=="prototype"&&($[et]=_isObject$1(_e[et])?j($[et]||($[et]={}),_e[et]):_e[et]);return $},_copyExcluding=function($,_e){var et={},tt;for(tt in $)tt in _e||(et[tt]=$[tt]);return et},_inheritDefaults=function($){var _e=$.parent||_globalTimeline,et=$.keyframes?_setKeyframeDefaults(_isArray($.keyframes)):_setDefaults$1;if(_isNotFalse($.inherit))for(;_e;)et($,_e.vars.defaults),_e=_e.parent||_e._dp;return $},_arraysMatch=function($,_e){for(var et=$.length,tt=et===_e.length;tt&&et--&&$[et]===_e[et];);return et<0},_addLinkedListItem=function($,_e,et,tt,st){et===void 0&&(et="_first"),tt===void 0&&(tt="_last");var gt=$[tt],lt;if(st)for(lt=_e[st];gt&&gt[st]>lt;)gt=gt._prev;return gt?(_e._next=gt._next,gt._next=_e):(_e._next=$[et],$[et]=_e),_e._next?_e._next._prev=_e:$[tt]=_e,_e._prev=gt,_e.parent=_e._dp=$,_e},_removeLinkedListItem=function($,_e,et,tt){et===void 0&&(et="_first"),tt===void 0&&(tt="_last");var st=_e._prev,gt=_e._next;st?st._next=gt:$[et]===_e&&($[et]=gt),gt?gt._prev=st:$[tt]===_e&&($[tt]=st),_e._next=_e._prev=_e.parent=null},_removeFromParent=function($,_e){$.parent&&(!_e||$.parent.autoRemoveChildren)&&$.parent.remove($),$._act=0},_uncache=function($,_e){if($&&(!_e||_e._end>$._dur||_e._start<0))for(var et=$;et;)et._dirty=1,et=et.parent;return $},_recacheAncestors=function($){for(var _e=$.parent;_e&&_e.parent;)_e._dirty=1,_e.totalDuration(),_e=_e.parent;return $},_rewindStartAt=function($,_e,et,tt){return $._startAt&&(_reverting$1?$._startAt.revert(_revertConfigNoKill):$.vars.immediateRender&&!$.vars.autoRevert||$._startAt.render(_e,!0,tt))},_hasNoPausedAncestors=function j($){return!$||$._ts&&j($.parent)},_elapsedCycleDuration=function($){return $._repeat?_animationCycle($._tTime,$=$.duration()+$._rDelay)*$:0},_animationCycle=function($,_e){var et=Math.floor($/=_e);return $&&et===$?et-1:et},_parentToChildTotalTime=function($,_e){return($-_e._start)*_e._ts+(_e._ts>=0?0:_e._dirty?_e.totalDuration():_e._tDur)},_setEnd=function($){return $._end=_roundPrecise($._start+($._tDur/Math.abs($._ts||$._rts||_tinyNum)||0))},_alignPlayhead=function($,_e){var et=$._dp;return et&&et.smoothChildTiming&&$._ts&&($._start=_roundPrecise(et._time-($._ts>0?_e/$._ts:(($._dirty?$.totalDuration():$._tDur)-_e)/-$._ts)),_setEnd($),et._dirty||_uncache(et,$)),$},_postAddChecks=function($,_e){var et;if((_e._time||_e._initted&&!_e._dur)&&(et=_parentToChildTotalTime($.rawTime(),_e),(!_e._dur||_clamp$1(0,_e.totalDuration(),et)-_e._tTime>_tinyNum)&&_e.render(et,!0)),_uncache($,_e)._dp&&$._initted&&$._time>=$._dur&&$._ts){if($._dur<$.duration())for(et=$;et._dp;)et.rawTime()>=0&&et.totalTime(et._tTime),et=et._dp;$._zTime=-_tinyNum}},_addToTimeline=function($,_e,et,tt){return _e.parent&&_removeFromParent(_e),_e._start=_roundPrecise((_isNumber$1(et)?et:et||$!==_globalTimeline?_parsePosition$1($,et,_e):$._time)+_e._delay),_e._end=_roundPrecise(_e._start+(_e.totalDuration()/Math.abs(_e.timeScale())||0)),_addLinkedListItem($,_e,"_first","_last",$._sort?"_start":0),_isFromOrFromStart(_e)||($._recent=_e),tt||_postAddChecks($,_e),$._ts<0&&_alignPlayhead($,$._tTime),$},_scrollTrigger=function($,_e){return(_globals.ScrollTrigger||_missingPlugin("scrollTrigger",_e))&&_globals.ScrollTrigger.create(_e,$)},_attemptInitTween=function($,_e,et,tt,st){if(_initTween($,_e,st),!$._initted)return 1;if(!et&&$._pt&&!_reverting$1&&($._dur&&$.vars.lazy!==!1||!$._dur&&$.vars.lazy)&&_lastRenderedFrame!==_ticker.frame)return _lazyTweens.push($),$._lazy=[st,tt],1},_parentPlayheadIsBeforeStart=function j($){var _e=$.parent;return _e&&_e._ts&&_e._initted&&!_e._lock&&(_e.rawTime()<0||j(_e))},_isFromOrFromStart=function($){var _e=$.data;return _e==="isFromStart"||_e==="isStart"},_renderZeroDurationTween=function($,_e,et,tt){var st=$.ratio,gt=_e<0||!_e&&(!$._start&&_parentPlayheadIsBeforeStart($)&&!(!$._initted&&_isFromOrFromStart($))||($._ts<0||$._dp._ts<0)&&!_isFromOrFromStart($))?0:1,lt=$._rDelay,nt=0,ut,ht,at;if(lt&&$._repeat&&(nt=_clamp$1(0,$._tDur,_e),ht=_animationCycle(nt,lt),$._yoyo&&ht&1&&(gt=1-gt),ht!==_animationCycle($._tTime,lt)&&(st=1-gt,$.vars.repeatRefresh&&$._initted&&$.invalidate())),gt!==st||_reverting$1||tt||$._zTime===_tinyNum||!_e&&$._zTime){if(!$._initted&&_attemptInitTween($,_e,tt,et,nt))return;for(at=$._zTime,$._zTime=_e||(et?_tinyNum:0),et||(et=_e&&!at),$.ratio=gt,$._from&&(gt=1-gt),$._time=0,$._tTime=nt,ut=$._pt;ut;)ut.r(gt,ut.d),ut=ut._next;_e<0&&_rewindStartAt($,_e,et,!0),$._onUpdate&&!et&&_callback$1($,"onUpdate"),nt&&$._repeat&&!et&&$.parent&&_callback$1($,"onRepeat"),(_e>=$._tDur||_e<0)&&$.ratio===gt&&(gt&&_removeFromParent($,1),!et&&!_reverting$1&&(_callback$1($,gt?"onComplete":"onReverseComplete",!0),$._prom&&$._prom()))}else $._zTime||($._zTime=_e)},_findNextPauseTween=function($,_e,et){var tt;if(et>_e)for(tt=$._first;tt&&tt._start<=et;){if(tt.data==="isPause"&&tt._start>_e)return tt;tt=tt._next}else for(tt=$._last;tt&&tt._start>=et;){if(tt.data==="isPause"&&tt._start<_e)return tt;tt=tt._prev}},_setDuration=function($,_e,et,tt){var st=$._repeat,gt=_roundPrecise(_e)||0,lt=$._tTime/$._tDur;return lt&&!tt&&($._time*=gt/$._dur),$._dur=gt,$._tDur=st?st<0?1e10:_roundPrecise(gt*(st+1)+$._rDelay*st):gt,lt>0&&!tt&&_alignPlayhead($,$._tTime=$._tDur*lt),$.parent&&_setEnd($),et||_uncache($.parent,$),$},_onUpdateTotalDuration=function($){return $ instanceof Timeline?_uncache($):_setDuration($,$._dur)},_zeroPosition={_start:0,endTime:_emptyFunc,totalDuration:_emptyFunc},_parsePosition$1=function j($,_e,et){var tt=$.labels,st=$._recent||_zeroPosition,gt=$.duration()>=_bigNum$1?st.endTime(!1):$._dur,lt,nt,ut;return _isString$1(_e)&&(isNaN(_e)||_e in tt)?(nt=_e.charAt(0),ut=_e.substr(-1)==="%",lt=_e.indexOf("="),nt==="<"||nt===">"?(lt>=0&&(_e=_e.replace(/=/,"")),(nt==="<"?st._start:st.endTime(st._repeat>=0))+(parseFloat(_e.substr(1))||0)*(ut?(lt<0?st:et).totalDuration()/100:1)):lt<0?(_e in tt||(tt[_e]=gt),tt[_e]):(nt=parseFloat(_e.charAt(lt-1)+_e.substr(lt+1)),ut&&et&&(nt=nt/100*(_isArray(et)?et[0]:et).totalDuration()),lt>1?j($,_e.substr(0,lt-1),et)+nt:gt+nt)):_e==null?gt:+_e},_createTweenType=function($,_e,et){var tt=_isNumber$1(_e[1]),st=(tt?2:1)+($<2?0:1),gt=_e[st],lt,nt;if(tt&&(gt.duration=_e[1]),gt.parent=et,$){for(lt=gt,nt=et;nt&&!("immediateRender"in lt);)lt=nt.vars.defaults||{},nt=_isNotFalse(nt.vars.inherit)&&nt.parent;gt.immediateRender=_isNotFalse(lt.immediateRender),$<2?gt.runBackwards=1:gt.startAt=_e[st-1]}return new Tween(_e[0],gt,_e[st+1])},_conditionalReturn=function($,_e){return $||$===0?_e($):_e},_clamp$1=function($,_e,et){return et<$?$:et>_e?_e:et},getUnit=function($,_e){return!_isString$1($)||!(_e=_unitExp.exec($))?"":_e[1]},clamp=function($,_e,et){return _conditionalReturn(et,function(tt){return _clamp$1($,_e,tt)})},_slice=[].slice,_isArrayLike=function($,_e){return $&&_isObject$1($)&&"length"in $&&(!_e&&!$.length||$.length-1 in $&&_isObject$1($[0]))&&!$.nodeType&&$!==_win$3},_flatten=function($,_e,et){return et===void 0&&(et=[]),$.forEach(function(tt){var st;return _isString$1(tt)&&!_e||_isArrayLike(tt,1)?(st=et).push.apply(st,toArray(tt)):et.push(tt)})||et},toArray=function($,_e,et){return _context$1&&!_e&&_context$1.selector?_context$1.selector($):_isString$1($)&&!et&&(_coreInitted$2||!_wake())?_slice.call((_e||_doc$3).querySelectorAll($),0):_isArray($)?_flatten($,et):_isArrayLike($)?_slice.call($,0):$?[$]:[]},selector=function($){return $=toArray($)[0]||_warn("Invalid scope")||{},function(_e){var et=$.current||$.nativeElement||$;return toArray(_e,et.querySelectorAll?et:et===$?_warn("Invalid scope")||_doc$3.createElement("div"):$)}},shuffle=function($){return $.sort(function(){return .5-Math.random()})},distribute=function($){if(_isFunction$1($))return $;var _e=_isObject$1($)?$:{each:$},et=_parseEase(_e.ease),tt=_e.from||0,st=parseFloat(_e.base)||0,gt={},lt=tt>0&&tt<1,nt=isNaN(tt)||lt,ut=_e.axis,ht=tt,at=tt;return _isString$1(tt)?ht=at={center:.5,edges:.5,end:1}[tt]||0:!lt&&nt&&(ht=tt[0],at=tt[1]),function(it,rt,ot){var ft=(ot||_e).length,ct=gt[ft],dt,pt,mt,_t,vt,yt,Ct,bt,Dt;if(!ct){if(Dt=_e.grid==="auto"?0:(_e.grid||[1,_bigNum$1])[1],!Dt){for(Ct=-_bigNum$1;Ct<(Ct=ot[Dt++].getBoundingClientRect().left)&&Dt<ft;);Dt--}for(ct=gt[ft]=[],dt=nt?Math.min(Dt,ft)*ht-.5:tt%Dt,pt=Dt===_bigNum$1?0:nt?ft*at/Dt-.5:tt/Dt|0,Ct=0,bt=_bigNum$1,yt=0;yt<ft;yt++)mt=yt%Dt-dt,_t=pt-(yt/Dt|0),ct[yt]=vt=ut?Math.abs(ut==="y"?_t:mt):_sqrt(mt*mt+_t*_t),vt>Ct&&(Ct=vt),vt<bt&&(bt=vt);tt==="random"&&shuffle(ct),ct.max=Ct-bt,ct.min=bt,ct.v=ft=(parseFloat(_e.amount)||parseFloat(_e.each)*(Dt>ft?ft-1:ut?ut==="y"?ft/Dt:Dt:Math.max(Dt,ft/Dt))||0)*(tt==="edges"?-1:1),ct.b=ft<0?st-ft:st,ct.u=getUnit(_e.amount||_e.each)||0,et=et&&ft<0?_invertEase(et):et}return ft=(ct[it]-ct.min)/ct.max||0,_roundPrecise(ct.b+(et?et(ft):ft)*ct.v)+ct.u}},_roundModifier=function($){var _e=Math.pow(10,(($+"").split(".")[1]||"").length);return function(et){var tt=_roundPrecise(Math.round(parseFloat(et)/$)*$*_e);return(tt-tt%1)/_e+(_isNumber$1(et)?0:getUnit(et))}},snap=function($,_e){var et=_isArray($),tt,st;return!et&&_isObject$1($)&&(tt=et=$.radius||_bigNum$1,$.values?($=toArray($.values),(st=!_isNumber$1($[0]))&&(tt*=tt)):$=_roundModifier($.increment)),_conditionalReturn(_e,et?_isFunction$1($)?function(gt){return st=$(gt),Math.abs(st-gt)<=tt?st:gt}:function(gt){for(var lt=parseFloat(st?gt.x:gt),nt=parseFloat(st?gt.y:0),ut=_bigNum$1,ht=0,at=$.length,it,rt;at--;)st?(it=$[at].x-lt,rt=$[at].y-nt,it=it*it+rt*rt):it=Math.abs($[at]-lt),it<ut&&(ut=it,ht=at);return ht=!tt||ut<=tt?$[ht]:gt,st||ht===gt||_isNumber$1(gt)?ht:ht+getUnit(gt)}:_roundModifier($))},random=function($,_e,et,tt){return _conditionalReturn(_isArray($)?!_e:et===!0?!!(et=0):!tt,function(){return _isArray($)?$[~~(Math.random()*$.length)]:(et=et||1e-5)&&(tt=et<1?Math.pow(10,(et+"").length-2):1)&&Math.floor(Math.round(($-et/2+Math.random()*(_e-$+et*.99))/et)*et*tt)/tt})},pipe=function(){for(var $=arguments.length,_e=new Array($),et=0;et<$;et++)_e[et]=arguments[et];return function(tt){return _e.reduce(function(st,gt){return gt(st)},tt)}},unitize=function($,_e){return function(et){return $(parseFloat(et))+(_e||getUnit(et))}},normalize=function($,_e,et){return mapRange($,_e,0,1,et)},_wrapArray=function($,_e,et){return _conditionalReturn(et,function(tt){return $[~~_e(tt)]})},wrap=function j($,_e,et){var tt=_e-$;return _isArray($)?_wrapArray($,j(0,$.length),_e):_conditionalReturn(et,function(st){return(tt+(st-$)%tt)%tt+$})},wrapYoyo=function j($,_e,et){var tt=_e-$,st=tt*2;return _isArray($)?_wrapArray($,j(0,$.length-1),_e):_conditionalReturn(et,function(gt){return gt=(st+(gt-$)%st)%st||0,$+(gt>tt?st-gt:gt)})},_replaceRandom=function($){for(var _e=0,et="",tt,st,gt,lt;~(tt=$.indexOf("random(",_e));)gt=$.indexOf(")",tt),lt=$.charAt(tt+7)==="[",st=$.substr(tt+7,gt-tt-7).match(lt?_delimitedValueExp:_strictNumExp),et+=$.substr(_e,tt-_e)+random(lt?st:+st[0],lt?0:+st[1],+st[2]||1e-5),_e=gt+1;return et+$.substr(_e,$.length-_e)},mapRange=function($,_e,et,tt,st){var gt=_e-$,lt=tt-et;return _conditionalReturn(st,function(nt){return et+((nt-$)/gt*lt||0)})},interpolate=function j($,_e,et,tt){var st=isNaN($+_e)?0:function(rt){return(1-rt)*$+rt*_e};if(!st){var gt=_isString$1($),lt={},nt,ut,ht,at,it;if(et===!0&&(tt=1)&&(et=null),gt)$={p:$},_e={p:_e};else if(_isArray($)&&!_isArray(_e)){for(ht=[],at=$.length,it=at-2,ut=1;ut<at;ut++)ht.push(j($[ut-1],$[ut]));at--,st=function(ot){ot*=at;var ft=Math.min(it,~~ot);return ht[ft](ot-ft)},et=_e}else tt||($=_merge(_isArray($)?[]:{},$));if(!ht){for(nt in _e)_addPropTween.call(lt,$,nt,"get",_e[nt]);st=function(ot){return _renderPropTweens(ot,lt)||(gt?$.p:$)}}}return _conditionalReturn(et,st)},_getLabelInDirection=function($,_e,et){var tt=$.labels,st=_bigNum$1,gt,lt,nt;for(gt in tt)lt=tt[gt]-_e,lt<0==!!et&&lt&&st>(lt=Math.abs(lt))&&(nt=gt,st=lt);return nt},_callback$1=function($,_e,et){var tt=$.vars,st=tt[_e],gt=_context$1,lt=$._ctx,nt,ut,ht;if(!!st)return nt=tt[_e+"Params"],ut=tt.callbackScope||$,et&&_lazyTweens.length&&_lazyRender(),lt&&(_context$1=lt),ht=nt?st.apply(ut,nt):st.call(ut),_context$1=gt,ht},_interrupt=function($){return _removeFromParent($),$.scrollTrigger&&$.scrollTrigger.kill(!!_reverting$1),$.progress()<1&&_callback$1($,"onInterrupt"),$},_quickTween,_createPlugin=function($){$=!$.name&&$.default||$;var _e=$.name,et=_isFunction$1($),tt=_e&&!et&&$.init?function(){this._props=[]}:$,st={init:_emptyFunc,render:_renderPropTweens,add:_addPropTween,kill:_killPropTweensOf,modifier:_addPluginModifier,rawVars:0},gt={targetTest:0,get:0,getSetter:_getSetter,aliases:{},register:0};if(_wake(),$!==tt){if(_plugins[_e])return;_setDefaults$1(tt,_setDefaults$1(_copyExcluding($,st),gt)),_merge(tt.prototype,_merge(st,_copyExcluding($,gt))),_plugins[tt.prop=_e]=tt,$.targetTest&&(_harnessPlugins.push(tt),_reservedProps[_e]=1),_e=(_e==="css"?"CSS":_e.charAt(0).toUpperCase()+_e.substr(1))+"Plugin"}_addGlobal(_e,tt),$.register&&$.register(gsap$3,tt,PropTween)},_255=255,_colorLookup={aqua:[0,_255,_255],lime:[0,_255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_255],navy:[0,0,128],white:[_255,_255,_255],olive:[128,128,0],yellow:[_255,_255,0],orange:[_255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_255,0,0],pink:[_255,192,203],cyan:[0,_255,_255],transparent:[_255,_255,_255,0]},_hue=function($,_e,et){return $+=$<0?1:$>1?-1:0,($*6<1?_e+(et-_e)*$*6:$<.5?et:$*3<2?_e+(et-_e)*(2/3-$)*6:_e)*_255+.5|0},splitColor=function($,_e,et){var tt=$?_isNumber$1($)?[$>>16,$>>8&_255,$&_255]:0:_colorLookup.black,st,gt,lt,nt,ut,ht,at,it,rt,ot;if(!tt){if($.substr(-1)===","&&($=$.substr(0,$.length-1)),_colorLookup[$])tt=_colorLookup[$];else if($.charAt(0)==="#"){if($.length<6&&(st=$.charAt(1),gt=$.charAt(2),lt=$.charAt(3),$="#"+st+st+gt+gt+lt+lt+($.length===5?$.charAt(4)+$.charAt(4):"")),$.length===9)return tt=parseInt($.substr(1,6),16),[tt>>16,tt>>8&_255,tt&_255,parseInt($.substr(7),16)/255];$=parseInt($.substr(1),16),tt=[$>>16,$>>8&_255,$&_255]}else if($.substr(0,3)==="hsl"){if(tt=ot=$.match(_strictNumExp),!_e)nt=+tt[0]%360/360,ut=+tt[1]/100,ht=+tt[2]/100,gt=ht<=.5?ht*(ut+1):ht+ut-ht*ut,st=ht*2-gt,tt.length>3&&(tt[3]*=1),tt[0]=_hue(nt+1/3,st,gt),tt[1]=_hue(nt,st,gt),tt[2]=_hue(nt-1/3,st,gt);else if(~$.indexOf("="))return tt=$.match(_numExp),et&&tt.length<4&&(tt[3]=1),tt}else tt=$.match(_strictNumExp)||_colorLookup.transparent;tt=tt.map(Number)}return _e&&!ot&&(st=tt[0]/_255,gt=tt[1]/_255,lt=tt[2]/_255,at=Math.max(st,gt,lt),it=Math.min(st,gt,lt),ht=(at+it)/2,at===it?nt=ut=0:(rt=at-it,ut=ht>.5?rt/(2-at-it):rt/(at+it),nt=at===st?(gt-lt)/rt+(gt<lt?6:0):at===gt?(lt-st)/rt+2:(st-gt)/rt+4,nt*=60),tt[0]=~~(nt+.5),tt[1]=~~(ut*100+.5),tt[2]=~~(ht*100+.5)),et&&tt.length<4&&(tt[3]=1),tt},_colorOrderData=function($){var _e=[],et=[],tt=-1;return $.split(_colorExp).forEach(function(st){var gt=st.match(_numWithUnitExp)||[];_e.push.apply(_e,gt),et.push(tt+=gt.length+1)}),_e.c=et,_e},_formatColors=function($,_e,et){var tt="",st=($+tt).match(_colorExp),gt=_e?"hsla(":"rgba(",lt=0,nt,ut,ht,at;if(!st)return $;if(st=st.map(function(it){return(it=splitColor(it,_e,1))&&gt+(_e?it[0]+","+it[1]+"%,"+it[2]+"%,"+it[3]:it.join(","))+")"}),et&&(ht=_colorOrderData($),nt=et.c,nt.join(tt)!==ht.c.join(tt)))for(ut=$.replace(_colorExp,"1").split(_numWithUnitExp),at=ut.length-1;lt<at;lt++)tt+=ut[lt]+(~nt.indexOf(lt)?st.shift()||gt+"0,0,0,0)":(ht.length?ht:st.length?st:et).shift());if(!ut)for(ut=$.split(_colorExp),at=ut.length-1;lt<at;lt++)tt+=ut[lt]+st[lt];return tt+ut[at]},_colorExp=function(){var j="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",$;for($ in _colorLookup)j+="|"+$+"\\b";return new RegExp(j+")","gi")}(),_hslExp=/hsl[a]?\(/,_colorStringFilter=function($){var _e=$.join(" "),et;if(_colorExp.lastIndex=0,_colorExp.test(_e))return et=_hslExp.test(_e),$[1]=_formatColors($[1],et),$[0]=_formatColors($[0],et,_colorOrderData($[1])),!0},_tickerActive,_ticker=function(){var j=Date.now,$=500,_e=33,et=j(),tt=et,st=1e3/240,gt=st,lt=[],nt,ut,ht,at,it,rt,ot=function ft(ct){var dt=j()-tt,pt=ct===!0,mt,_t,vt,yt;if(dt>$&&(et+=dt-_e),tt+=dt,vt=tt-et,mt=vt-gt,(mt>0||pt)&&(yt=++at.frame,it=vt-at.time*1e3,at.time=vt=vt/1e3,gt+=mt+(mt>=st?4:st-mt),_t=1),pt||(nt=ut(ft)),_t)for(rt=0;rt<lt.length;rt++)lt[rt](vt,it,yt,ct)};return at={time:0,frame:0,tick:function(){ot(!0)},deltaRatio:function(ct){return it/(1e3/(ct||60))},wake:function(){_coreReady&&(!_coreInitted$2&&_windowExists$2()&&(_win$3=_coreInitted$2=window,_doc$3=_win$3.document||{},_globals.gsap=gsap$3,(_win$3.gsapVersions||(_win$3.gsapVersions=[])).push(gsap$3.version),_install(_installScope||_win$3.GreenSockGlobals||!_win$3.gsap&&_win$3||{}),ht=_win$3.requestAnimationFrame),nt&&at.sleep(),ut=ht||function(ct){return setTimeout(ct,gt-at.time*1e3+1|0)},_tickerActive=1,ot(2))},sleep:function(){(ht?_win$3.cancelAnimationFrame:clearTimeout)(nt),_tickerActive=0,ut=_emptyFunc},lagSmoothing:function(ct,dt){$=ct||1/_tinyNum,_e=Math.min(dt,$,0)},fps:function(ct){st=1e3/(ct||240),gt=at.time*1e3+st},add:function(ct,dt,pt){var mt=dt?function(_t,vt,yt,Ct){ct(_t,vt,yt,Ct),at.remove(mt)}:ct;return at.remove(ct),lt[pt?"unshift":"push"](mt),_wake(),mt},remove:function(ct,dt){~(dt=lt.indexOf(ct))&&lt.splice(dt,1)&&rt>=dt&&rt--},_listeners:lt},at}(),_wake=function(){return!_tickerActive&&_ticker.wake()},_easeMap={},_customEaseExp=/^[\d.\-M][\d.\-,\s]/,_quotesExp=/["']/g,_parseObjectInString=function($){for(var _e={},et=$.substr(1,$.length-3).split(":"),tt=et[0],st=1,gt=et.length,lt,nt,ut;st<gt;st++)nt=et[st],lt=st!==gt-1?nt.lastIndexOf(","):nt.length,ut=nt.substr(0,lt),_e[tt]=isNaN(ut)?ut.replace(_quotesExp,"").trim():+ut,tt=nt.substr(lt+1).trim();return _e},_valueInParentheses=function($){var _e=$.indexOf("(")+1,et=$.indexOf(")"),tt=$.indexOf("(",_e);return $.substring(_e,~tt&&tt<et?$.indexOf(")",et+1):et)},_configEaseFromString=function($){var _e=($+"").split("("),et=_easeMap[_e[0]];return et&&_e.length>1&&et.config?et.config.apply(null,~$.indexOf("{")?[_parseObjectInString(_e[1])]:_valueInParentheses($).split(",").map(_numericIfPossible)):_easeMap._CE&&_customEaseExp.test($)?_easeMap._CE("",$):et},_invertEase=function($){return function(_e){return 1-$(1-_e)}},_propagateYoyoEase=function j($,_e){for(var et=$._first,tt;et;)et instanceof Timeline?j(et,_e):et.vars.yoyoEase&&(!et._yoyo||!et._repeat)&&et._yoyo!==_e&&(et.timeline?j(et.timeline,_e):(tt=et._ease,et._ease=et._yEase,et._yEase=tt,et._yoyo=_e)),et=et._next},_parseEase=function($,_e){return $&&(_isFunction$1($)?$:_easeMap[$]||_configEaseFromString($))||_e},_insertEase=function($,_e,et,tt){et===void 0&&(et=function(nt){return 1-_e(1-nt)}),tt===void 0&&(tt=function(nt){return nt<.5?_e(nt*2)/2:1-_e((1-nt)*2)/2});var st={easeIn:_e,easeOut:et,easeInOut:tt},gt;return _forEachName($,function(lt){_easeMap[lt]=_globals[lt]=st,_easeMap[gt=lt.toLowerCase()]=et;for(var nt in st)_easeMap[gt+(nt==="easeIn"?".in":nt==="easeOut"?".out":".inOut")]=_easeMap[lt+"."+nt]=st[nt]}),st},_easeInOutFromOut=function($){return function(_e){return _e<.5?(1-$(1-_e*2))/2:.5+$((_e-.5)*2)/2}},_configElastic=function j($,_e,et){var tt=_e>=1?_e:1,st=(et||($?.3:.45))/(_e<1?_e:1),gt=st/_2PI*(Math.asin(1/tt)||0),lt=function(ht){return ht===1?1:tt*Math.pow(2,-10*ht)*_sin((ht-gt)*st)+1},nt=$==="out"?lt:$==="in"?function(ut){return 1-lt(1-ut)}:_easeInOutFromOut(lt);return st=_2PI/st,nt.config=function(ut,ht){return j($,ut,ht)},nt},_configBack=function j($,_e){_e===void 0&&(_e=1.70158);var et=function(gt){return gt?--gt*gt*((_e+1)*gt+_e)+1:0},tt=$==="out"?et:$==="in"?function(st){return 1-et(1-st)}:_easeInOutFromOut(et);return tt.config=function(st){return j($,st)},tt};_forEachName("Linear,Quad,Cubic,Quart,Quint,Strong",function(j,$){var _e=$<5?$+1:$;_insertEase(j+",Power"+(_e-1),$?function(et){return Math.pow(et,_e)}:function(et){return et},function(et){return 1-Math.pow(1-et,_e)},function(et){return et<.5?Math.pow(et*2,_e)/2:1-Math.pow((1-et)*2,_e)/2})});_easeMap.Linear.easeNone=_easeMap.none=_easeMap.Linear.easeIn;_insertEase("Elastic",_configElastic("in"),_configElastic("out"),_configElastic());(function(j,$){var _e=1/$,et=2*_e,tt=2.5*_e,st=function(lt){return lt<_e?j*lt*lt:lt<et?j*Math.pow(lt-1.5/$,2)+.75:lt<tt?j*(lt-=2.25/$)*lt+.9375:j*Math.pow(lt-2.625/$,2)+.984375};_insertEase("Bounce",function(gt){return 1-st(1-gt)},st)})(7.5625,2.75);_insertEase("Expo",function(j){return j?Math.pow(2,10*(j-1)):0});_insertEase("Circ",function(j){return-(_sqrt(1-j*j)-1)});_insertEase("Sine",function(j){return j===1?1:-_cos(j*_HALF_PI)+1});_insertEase("Back",_configBack("in"),_configBack("out"),_configBack());_easeMap.SteppedEase=_easeMap.steps=_globals.SteppedEase={config:function($,_e){$===void 0&&($=1);var et=1/$,tt=$+(_e?0:1),st=_e?1:0,gt=1-_tinyNum;return function(lt){return((tt*_clamp$1(0,gt,lt)|0)+st)*et}}};_defaults$1.ease=_easeMap["quad.out"];_forEachName("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(j){return _callbackNames+=j+","+j+"Params,"});var GSCache=function($,_e){this.id=_gsID++,$._gsap=this,this.target=$,this.harness=_e,this.get=_e?_e.get:_getProperty,this.set=_e?_e.getSetter:_getSetter},Animation=function(){function j(_e){this.vars=_e,this._delay=+_e.delay||0,(this._repeat=_e.repeat===1/0?-2:_e.repeat||0)&&(this._rDelay=_e.repeatDelay||0,this._yoyo=!!_e.yoyo||!!_e.yoyoEase),this._ts=1,_setDuration(this,+_e.duration,1,1),this.data=_e.data,_context$1&&(this._ctx=_context$1,_context$1.data.push(this)),_tickerActive||_ticker.wake()}var $=j.prototype;return $.delay=function(et){return et||et===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+et-this._delay),this._delay=et,this):this._delay},$.duration=function(et){return arguments.length?this.totalDuration(this._repeat>0?et+(et+this._rDelay)*this._repeat:et):this.totalDuration()&&this._dur},$.totalDuration=function(et){return arguments.length?(this._dirty=0,_setDuration(this,this._repeat<0?et:(et-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},$.totalTime=function(et,tt){if(_wake(),!arguments.length)return this._tTime;var st=this._dp;if(st&&st.smoothChildTiming&&this._ts){for(_alignPlayhead(this,et),!st._dp||st.parent||_postAddChecks(st,this);st&&st.parent;)st.parent._time!==st._start+(st._ts>=0?st._tTime/st._ts:(st.totalDuration()-st._tTime)/-st._ts)&&st.totalTime(st._tTime,!0),st=st.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&et<this._tDur||this._ts<0&&et>0||!this._tDur&&!et)&&_addToTimeline(this._dp,this,this._start-this._delay)}return(this._tTime!==et||!this._dur&&!tt||this._initted&&Math.abs(this._zTime)===_tinyNum||!et&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=et),_lazySafeRender(this,et,tt)),this},$.time=function(et,tt){return arguments.length?this.totalTime(Math.min(this.totalDuration(),et+_elapsedCycleDuration(this))%(this._dur+this._rDelay)||(et?this._dur:0),tt):this._time},$.totalProgress=function(et,tt){return arguments.length?this.totalTime(this.totalDuration()*et,tt):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},$.progress=function(et,tt){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-et:et)+_elapsedCycleDuration(this),tt):this.duration()?Math.min(1,this._time/this._dur):this.ratio},$.iteration=function(et,tt){var st=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(et-1)*st,tt):this._repeat?_animationCycle(this._tTime,st)+1:1},$.timeScale=function(et){if(!arguments.length)return this._rts===-_tinyNum?0:this._rts;if(this._rts===et)return this;var tt=this.parent&&this._ts?_parentToChildTotalTime(this.parent._time,this):this._tTime;return this._rts=+et||0,this._ts=this._ps||et===-_tinyNum?0:this._rts,this.totalTime(_clamp$1(-this._delay,this._tDur,tt),!0),_setEnd(this),_recacheAncestors(this)},$.paused=function(et){return arguments.length?(this._ps!==et&&(this._ps=et,et?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_wake(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==_tinyNum&&(this._tTime-=_tinyNum)))),this):this._ps},$.startTime=function(et){if(arguments.length){this._start=et;var tt=this.parent||this._dp;return tt&&(tt._sort||!this.parent)&&_addToTimeline(tt,this,et-this._delay),this}return this._start},$.endTime=function(et){return this._start+(_isNotFalse(et)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},$.rawTime=function(et){var tt=this.parent||this._dp;return tt?et&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_parentToChildTotalTime(tt.rawTime(et),this):this._tTime:this._tTime},$.revert=function(et){et===void 0&&(et=_revertConfig);var tt=_reverting$1;return _reverting$1=et,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(et),this.totalTime(-.01,et.suppressEvents)),this.data!=="nested"&&et.kill!==!1&&this.kill(),_reverting$1=tt,this},$.globalTime=function(et){for(var tt=this,st=arguments.length?et:tt.rawTime();tt;)st=tt._start+st/(tt._ts||1),tt=tt._dp;return!this.parent&&this.vars.immediateRender?-1:st},$.repeat=function(et){return arguments.length?(this._repeat=et===1/0?-2:et,_onUpdateTotalDuration(this)):this._repeat===-2?1/0:this._repeat},$.repeatDelay=function(et){if(arguments.length){var tt=this._time;return this._rDelay=et,_onUpdateTotalDuration(this),tt?this.time(tt):this}return this._rDelay},$.yoyo=function(et){return arguments.length?(this._yoyo=et,this):this._yoyo},$.seek=function(et,tt){return this.totalTime(_parsePosition$1(this,et),_isNotFalse(tt))},$.restart=function(et,tt){return this.play().totalTime(et?-this._delay:0,_isNotFalse(tt))},$.play=function(et,tt){return et!=null&&this.seek(et,tt),this.reversed(!1).paused(!1)},$.reverse=function(et,tt){return et!=null&&this.seek(et||this.totalDuration(),tt),this.reversed(!0).paused(!1)},$.pause=function(et,tt){return et!=null&&this.seek(et,tt),this.paused(!0)},$.resume=function(){return this.paused(!1)},$.reversed=function(et){return arguments.length?(!!et!==this.reversed()&&this.timeScale(-this._rts||(et?-_tinyNum:0)),this):this._rts<0},$.invalidate=function(){return this._initted=this._act=0,this._zTime=-_tinyNum,this},$.isActive=function(){var et=this.parent||this._dp,tt=this._start,st;return!!(!et||this._ts&&this._initted&&et.isActive()&&(st=et.rawTime(!0))>=tt&&st<this.endTime(!0)-_tinyNum)},$.eventCallback=function(et,tt,st){var gt=this.vars;return arguments.length>1?(tt?(gt[et]=tt,st&&(gt[et+"Params"]=st),et==="onUpdate"&&(this._onUpdate=tt)):delete gt[et],this):gt[et]},$.then=function(et){var tt=this;return new Promise(function(st){var gt=_isFunction$1(et)?et:_passThrough$1,lt=function(){var ut=tt.then;tt.then=null,_isFunction$1(gt)&&(gt=gt(tt))&&(gt.then||gt===tt)&&(tt.then=ut),st(gt),tt.then=ut};tt._initted&&tt.totalProgress()===1&&tt._ts>=0||!tt._tTime&&tt._ts<0?lt():tt._prom=lt})},$.kill=function(){_interrupt(this)},j}();_setDefaults$1(Animation.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-_tinyNum,_prom:0,_ps:!1,_rts:1});var Timeline=function(j){_inheritsLoose($,j);function $(et,tt){var st;return et===void 0&&(et={}),st=j.call(this,et)||this,st.labels={},st.smoothChildTiming=!!et.smoothChildTiming,st.autoRemoveChildren=!!et.autoRemoveChildren,st._sort=_isNotFalse(et.sortChildren),_globalTimeline&&_addToTimeline(et.parent||_globalTimeline,_assertThisInitialized(st),tt),et.reversed&&st.reverse(),et.paused&&st.paused(!0),et.scrollTrigger&&_scrollTrigger(_assertThisInitialized(st),et.scrollTrigger),st}var _e=$.prototype;return _e.to=function(tt,st,gt){return _createTweenType(0,arguments,this),this},_e.from=function(tt,st,gt){return _createTweenType(1,arguments,this),this},_e.fromTo=function(tt,st,gt,lt){return _createTweenType(2,arguments,this),this},_e.set=function(tt,st,gt){return st.duration=0,st.parent=this,_inheritDefaults(st).repeatDelay||(st.repeat=0),st.immediateRender=!!st.immediateRender,new Tween(tt,st,_parsePosition$1(this,gt),1),this},_e.call=function(tt,st,gt){return _addToTimeline(this,Tween.delayedCall(0,tt,st),gt)},_e.staggerTo=function(tt,st,gt,lt,nt,ut,ht){return gt.duration=st,gt.stagger=gt.stagger||lt,gt.onComplete=ut,gt.onCompleteParams=ht,gt.parent=this,new Tween(tt,gt,_parsePosition$1(this,nt)),this},_e.staggerFrom=function(tt,st,gt,lt,nt,ut,ht){return gt.runBackwards=1,_inheritDefaults(gt).immediateRender=_isNotFalse(gt.immediateRender),this.staggerTo(tt,st,gt,lt,nt,ut,ht)},_e.staggerFromTo=function(tt,st,gt,lt,nt,ut,ht,at){return lt.startAt=gt,_inheritDefaults(lt).immediateRender=_isNotFalse(lt.immediateRender),this.staggerTo(tt,st,lt,nt,ut,ht,at)},_e.render=function(tt,st,gt){var lt=this._time,nt=this._dirty?this.totalDuration():this._tDur,ut=this._dur,ht=tt<=0?0:_roundPrecise(tt),at=this._zTime<0!=tt<0&&(this._initted||!ut),it,rt,ot,ft,ct,dt,pt,mt,_t,vt,yt,Ct;if(this!==_globalTimeline&&ht>nt&&tt>=0&&(ht=nt),ht!==this._tTime||gt||at){if(lt!==this._time&&ut&&(ht+=this._time-lt,tt+=this._time-lt),it=ht,_t=this._start,mt=this._ts,dt=!mt,at&&(ut||(lt=this._zTime),(tt||!st)&&(this._zTime=tt)),this._repeat){if(yt=this._yoyo,ct=ut+this._rDelay,this._repeat<-1&&tt<0)return this.totalTime(ct*100+tt,st,gt);if(it=_roundPrecise(ht%ct),ht===nt?(ft=this._repeat,it=ut):(ft=~~(ht/ct),ft&&ft===ht/ct&&(it=ut,ft--),it>ut&&(it=ut)),vt=_animationCycle(this._tTime,ct),!lt&&this._tTime&&vt!==ft&&(vt=ft),yt&&ft&1&&(it=ut-it,Ct=1),ft!==vt&&!this._lock){var bt=yt&&vt&1,Dt=bt===(yt&&ft&1);if(ft<vt&&(bt=!bt),lt=bt?0:ut,this._lock=1,this.render(lt||(Ct?0:_roundPrecise(ft*ct)),st,!ut)._lock=0,this._tTime=ht,!st&&this.parent&&_callback$1(this,"onRepeat"),this.vars.repeatRefresh&&!Ct&&(this.invalidate()._lock=1),lt&&lt!==this._time||dt!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(ut=this._dur,nt=this._tDur,Dt&&(this._lock=2,lt=bt?ut:-1e-4,this.render(lt,!0),this.vars.repeatRefresh&&!Ct&&this.invalidate()),this._lock=0,!this._ts&&!dt)return this;_propagateYoyoEase(this,Ct)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(pt=_findNextPauseTween(this,_roundPrecise(lt),_roundPrecise(it)),pt&&(ht-=it-(it=pt._start))),this._tTime=ht,this._time=it,this._act=!mt,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=tt,lt=0),!lt&&it&&!st&&(_callback$1(this,"onStart"),this._tTime!==ht))return this;if(it>=lt&&tt>=0)for(rt=this._first;rt;){if(ot=rt._next,(rt._act||it>=rt._start)&&rt._ts&&pt!==rt){if(rt.parent!==this)return this.render(tt,st,gt);if(rt.render(rt._ts>0?(it-rt._start)*rt._ts:(rt._dirty?rt.totalDuration():rt._tDur)+(it-rt._start)*rt._ts,st,gt),it!==this._time||!this._ts&&!dt){pt=0,ot&&(ht+=this._zTime=-_tinyNum);break}}rt=ot}else{rt=this._last;for(var wt=tt<0?tt:it;rt;){if(ot=rt._prev,(rt._act||wt<=rt._end)&&rt._ts&&pt!==rt){if(rt.parent!==this)return this.render(tt,st,gt);if(rt.render(rt._ts>0?(wt-rt._start)*rt._ts:(rt._dirty?rt.totalDuration():rt._tDur)+(wt-rt._start)*rt._ts,st,gt||_reverting$1&&(rt._initted||rt._startAt)),it!==this._time||!this._ts&&!dt){pt=0,ot&&(ht+=this._zTime=wt?-_tinyNum:_tinyNum);break}}rt=ot}}if(pt&&!st&&(this.pause(),pt.render(it>=lt?0:-_tinyNum)._zTime=it>=lt?1:-1,this._ts))return this._start=_t,_setEnd(this),this.render(tt,st,gt);this._onUpdate&&!st&&_callback$1(this,"onUpdate",!0),(ht===nt&&this._tTime>=this.totalDuration()||!ht&&lt)&&(_t===this._start||Math.abs(mt)!==Math.abs(this._ts))&&(this._lock||((tt||!ut)&&(ht===nt&&this._ts>0||!ht&&this._ts<0)&&_removeFromParent(this,1),!st&&!(tt<0&&!lt)&&(ht||lt||!nt)&&(_callback$1(this,ht===nt&&tt>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(ht<nt&&this.timeScale()>0)&&this._prom())))}return this},_e.add=function(tt,st){var gt=this;if(_isNumber$1(st)||(st=_parsePosition$1(this,st,tt)),!(tt instanceof Animation)){if(_isArray(tt))return tt.forEach(function(lt){return gt.add(lt,st)}),this;if(_isString$1(tt))return this.addLabel(tt,st);if(_isFunction$1(tt))tt=Tween.delayedCall(0,tt);else return this}return this!==tt?_addToTimeline(this,tt,st):this},_e.getChildren=function(tt,st,gt,lt){tt===void 0&&(tt=!0),st===void 0&&(st=!0),gt===void 0&&(gt=!0),lt===void 0&&(lt=-_bigNum$1);for(var nt=[],ut=this._first;ut;)ut._start>=lt&&(ut instanceof Tween?st&&nt.push(ut):(gt&&nt.push(ut),tt&&nt.push.apply(nt,ut.getChildren(!0,st,gt)))),ut=ut._next;return nt},_e.getById=function(tt){for(var st=this.getChildren(1,1,1),gt=st.length;gt--;)if(st[gt].vars.id===tt)return st[gt]},_e.remove=function(tt){return _isString$1(tt)?this.removeLabel(tt):_isFunction$1(tt)?this.killTweensOf(tt):(_removeLinkedListItem(this,tt),tt===this._recent&&(this._recent=this._last),_uncache(this))},_e.totalTime=function(tt,st){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_roundPrecise(_ticker.time-(this._ts>0?tt/this._ts:(this.totalDuration()-tt)/-this._ts))),j.prototype.totalTime.call(this,tt,st),this._forcing=0,this):this._tTime},_e.addLabel=function(tt,st){return this.labels[tt]=_parsePosition$1(this,st),this},_e.removeLabel=function(tt){return delete this.labels[tt],this},_e.addPause=function(tt,st,gt){var lt=Tween.delayedCall(0,st||_emptyFunc,gt);return lt.data="isPause",this._hasPause=1,_addToTimeline(this,lt,_parsePosition$1(this,tt))},_e.removePause=function(tt){var st=this._first;for(tt=_parsePosition$1(this,tt);st;)st._start===tt&&st.data==="isPause"&&_removeFromParent(st),st=st._next},_e.killTweensOf=function(tt,st,gt){for(var lt=this.getTweensOf(tt,gt),nt=lt.length;nt--;)_overwritingTween!==lt[nt]&&lt[nt].kill(tt,st);return this},_e.getTweensOf=function(tt,st){for(var gt=[],lt=toArray(tt),nt=this._first,ut=_isNumber$1(st),ht;nt;)nt instanceof Tween?_arrayContainsAny(nt._targets,lt)&&(ut?(!_overwritingTween||nt._initted&&nt._ts)&&nt.globalTime(0)<=st&&nt.globalTime(nt.totalDuration())>st:!st||nt.isActive())&&gt.push(nt):(ht=nt.getTweensOf(lt,st)).length&&gt.push.apply(gt,ht),nt=nt._next;return gt},_e.tweenTo=function(tt,st){st=st||{};var gt=this,lt=_parsePosition$1(gt,tt),nt=st,ut=nt.startAt,ht=nt.onStart,at=nt.onStartParams,it=nt.immediateRender,rt,ot=Tween.to(gt,_setDefaults$1({ease:st.ease||"none",lazy:!1,immediateRender:!1,time:lt,overwrite:"auto",duration:st.duration||Math.abs((lt-(ut&&"time"in ut?ut.time:gt._time))/gt.timeScale())||_tinyNum,onStart:function(){if(gt.pause(),!rt){var ct=st.duration||Math.abs((lt-(ut&&"time"in ut?ut.time:gt._time))/gt.timeScale());ot._dur!==ct&&_setDuration(ot,ct,0,1).render(ot._time,!0,!0),rt=1}ht&&ht.apply(ot,at||[])}},st));return it?ot.render(0):ot},_e.tweenFromTo=function(tt,st,gt){return this.tweenTo(st,_setDefaults$1({startAt:{time:_parsePosition$1(this,tt)}},gt))},_e.recent=function(){return this._recent},_e.nextLabel=function(tt){return tt===void 0&&(tt=this._time),_getLabelInDirection(this,_parsePosition$1(this,tt))},_e.previousLabel=function(tt){return tt===void 0&&(tt=this._time),_getLabelInDirection(this,_parsePosition$1(this,tt),1)},_e.currentLabel=function(tt){return arguments.length?this.seek(tt,!0):this.previousLabel(this._time+_tinyNum)},_e.shiftChildren=function(tt,st,gt){gt===void 0&&(gt=0);for(var lt=this._first,nt=this.labels,ut;lt;)lt._start>=gt&&(lt._start+=tt,lt._end+=tt),lt=lt._next;if(st)for(ut in nt)nt[ut]>=gt&&(nt[ut]+=tt);return _uncache(this)},_e.invalidate=function(tt){var st=this._first;for(this._lock=0;st;)st.invalidate(tt),st=st._next;return j.prototype.invalidate.call(this,tt)},_e.clear=function(tt){tt===void 0&&(tt=!0);for(var st=this._first,gt;st;)gt=st._next,this.remove(st),st=gt;return this._dp&&(this._time=this._tTime=this._pTime=0),tt&&(this.labels={}),_uncache(this)},_e.totalDuration=function(tt){var st=0,gt=this,lt=gt._last,nt=_bigNum$1,ut,ht,at;if(arguments.length)return gt.timeScale((gt._repeat<0?gt.duration():gt.totalDuration())/(gt.reversed()?-tt:tt));if(gt._dirty){for(at=gt.parent;lt;)ut=lt._prev,lt._dirty&&lt.totalDuration(),ht=lt._start,ht>nt&&gt._sort&&lt._ts&&!gt._lock?(gt._lock=1,_addToTimeline(gt,lt,ht-lt._delay,1)._lock=0):nt=ht,ht<0&&lt._ts&&(st-=ht,(!at&&!gt._dp||at&&at.smoothChildTiming)&&(gt._start+=ht/gt._ts,gt._time-=ht,gt._tTime-=ht),gt.shiftChildren(-ht,!1,-1/0),nt=0),lt._end>st&&lt._ts&&(st=lt._end),lt=ut;_setDuration(gt,gt===_globalTimeline&&gt._time>st?gt._time:st,1,1),gt._dirty=0}return gt._tDur},$.updateRoot=function(tt){if(_globalTimeline._ts&&(_lazySafeRender(_globalTimeline,_parentToChildTotalTime(tt,_globalTimeline)),_lastRenderedFrame=_ticker.frame),_ticker.frame>=_nextGCFrame){_nextGCFrame+=_config.autoSleep||120;var st=_globalTimeline._first;if((!st||!st._ts)&&_config.autoSleep&&_ticker._listeners.length<2){for(;st&&!st._ts;)st=st._next;st||_ticker.sleep()}}},$}(Animation);_setDefaults$1(Timeline.prototype,{_lock:0,_hasPause:0,_forcing:0});var _addComplexStringPropTween=function($,_e,et,tt,st,gt,lt){var nt=new PropTween(this._pt,$,_e,0,1,_renderComplexString,null,st),ut=0,ht=0,at,it,rt,ot,ft,ct,dt,pt;for(nt.b=et,nt.e=tt,et+="",tt+="",(dt=~tt.indexOf("random("))&&(tt=_replaceRandom(tt)),gt&&(pt=[et,tt],gt(pt,$,_e),et=pt[0],tt=pt[1]),it=et.match(_complexStringNumExp)||[];at=_complexStringNumExp.exec(tt);)ot=at[0],ft=tt.substring(ut,at.index),rt?rt=(rt+1)%5:ft.substr(-5)==="rgba("&&(rt=1),ot!==it[ht++]&&(ct=parseFloat(it[ht-1])||0,nt._pt={_next:nt._pt,p:ft||ht===1?ft:",",s:ct,c:ot.charAt(1)==="="?_parseRelative(ct,ot)-ct:parseFloat(ot)-ct,m:rt&&rt<4?Math.round:0},ut=_complexStringNumExp.lastIndex);return nt.c=ut<tt.length?tt.substring(ut,tt.length):"",nt.fp=lt,(_relExp.test(tt)||dt)&&(nt.e=0),this._pt=nt,nt},_addPropTween=function($,_e,et,tt,st,gt,lt,nt,ut,ht){_isFunction$1(tt)&&(tt=tt(st||0,$,gt));var at=$[_e],it=et!=="get"?et:_isFunction$1(at)?ut?$[_e.indexOf("set")||!_isFunction$1($["get"+_e.substr(3)])?_e:"get"+_e.substr(3)](ut):$[_e]():at,rt=_isFunction$1(at)?ut?_setterFuncWithParam:_setterFunc:_setterPlain,ot;if(_isString$1(tt)&&(~tt.indexOf("random(")&&(tt=_replaceRandom(tt)),tt.charAt(1)==="="&&(ot=_parseRelative(it,tt)+(getUnit(it)||0),(ot||ot===0)&&(tt=ot))),!ht||it!==tt||_forceAllPropTweens)return!isNaN(it*tt)&&tt!==""?(ot=new PropTween(this._pt,$,_e,+it||0,tt-(it||0),typeof at=="boolean"?_renderBoolean:_renderPlain,0,rt),ut&&(ot.fp=ut),lt&&ot.modifier(lt,this,$),this._pt=ot):(!at&&!(_e in $)&&_missingPlugin(_e,tt),_addComplexStringPropTween.call(this,$,_e,it,tt,rt,nt||_config.stringFilter,ut))},_processVars=function($,_e,et,tt,st){if(_isFunction$1($)&&($=_parseFuncOrString($,st,_e,et,tt)),!_isObject$1($)||$.style&&$.nodeType||_isArray($)||_isTypedArray($))return _isString$1($)?_parseFuncOrString($,st,_e,et,tt):$;var gt={},lt;for(lt in $)gt[lt]=_parseFuncOrString($[lt],st,_e,et,tt);return gt},_checkPlugin=function($,_e,et,tt,st,gt){var lt,nt,ut,ht;if(_plugins[$]&&(lt=new _plugins[$]).init(st,lt.rawVars?_e[$]:_processVars(_e[$],tt,st,gt,et),et,tt,gt)!==!1&&(et._pt=nt=new PropTween(et._pt,st,$,0,1,lt.render,lt,0,lt.priority),et!==_quickTween))for(ut=et._ptLookup[et._targets.indexOf(st)],ht=lt._props.length;ht--;)ut[lt._props[ht]]=nt;return lt},_overwritingTween,_forceAllPropTweens,_initTween=function j($,_e,et){var tt=$.vars,st=tt.ease,gt=tt.startAt,lt=tt.immediateRender,nt=tt.lazy,ut=tt.onUpdate,ht=tt.onUpdateParams,at=tt.callbackScope,it=tt.runBackwards,rt=tt.yoyoEase,ot=tt.keyframes,ft=tt.autoRevert,ct=$._dur,dt=$._startAt,pt=$._targets,mt=$.parent,_t=mt&&mt.data==="nested"?mt.vars.targets:pt,vt=$._overwrite==="auto"&&!_suppressOverwrites$1,yt=$.timeline,Ct,bt,Dt,wt,Ft,Lt,Qt,Ut,Xt,qt,Jt,Gt,Et;if(yt&&(!ot||!st)&&(st="none"),$._ease=_parseEase(st,_defaults$1.ease),$._yEase=rt?_invertEase(_parseEase(rt===!0?st:rt,_defaults$1.ease)):0,rt&&$._yoyo&&!$._repeat&&(rt=$._yEase,$._yEase=$._ease,$._ease=rt),$._from=!yt&&!!tt.runBackwards,!yt||ot&&!tt.stagger){if(Ut=pt[0]?_getCache(pt[0]).harness:0,Gt=Ut&&tt[Ut.prop],Ct=_copyExcluding(tt,_reservedProps),dt&&(dt._zTime<0&&dt.progress(1),_e<0&&it&&lt&&!ft?dt.render(-1,!0):dt.revert(it&&ct?_revertConfigNoKill:_startAtRevertConfig),dt._lazy=0),gt){if(_removeFromParent($._startAt=Tween.set(pt,_setDefaults$1({data:"isStart",overwrite:!1,parent:mt,immediateRender:!0,lazy:_isNotFalse(nt),startAt:null,delay:0,onUpdate:ut,onUpdateParams:ht,callbackScope:at,stagger:0},gt))),$._startAt._dp=0,_e<0&&(_reverting$1||!lt&&!ft)&&$._startAt.revert(_revertConfigNoKill),lt&&ct&&_e<=0&&et<=0){_e&&($._zTime=_e);return}}else if(it&&ct&&!dt){if(_e&&(lt=!1),Dt=_setDefaults$1({overwrite:!1,data:"isFromStart",lazy:lt&&_isNotFalse(nt),immediateRender:lt,stagger:0,parent:mt},Ct),Gt&&(Dt[Ut.prop]=Gt),_removeFromParent($._startAt=Tween.set(pt,Dt)),$._startAt._dp=0,_e<0&&(_reverting$1?$._startAt.revert(_revertConfigNoKill):$._startAt.render(-1,!0)),$._zTime=_e,!lt)j($._startAt,_tinyNum,_tinyNum);else if(!_e)return}for($._pt=$._ptCache=0,nt=ct&&_isNotFalse(nt)||nt&&!ct,bt=0;bt<pt.length;bt++){if(Ft=pt[bt],Qt=Ft._gsap||_harness(pt)[bt]._gsap,$._ptLookup[bt]=qt={},_lazyLookup[Qt.id]&&_lazyTweens.length&&_lazyRender(),Jt=_t===pt?bt:_t.indexOf(Ft),Ut&&(Xt=new Ut).init(Ft,Gt||Ct,$,Jt,_t)!==!1&&($._pt=wt=new PropTween($._pt,Ft,Xt.name,0,1,Xt.render,Xt,0,Xt.priority),Xt._props.forEach(function(At){qt[At]=wt}),Xt.priority&&(Lt=1)),!Ut||Gt)for(Dt in Ct)_plugins[Dt]&&(Xt=_checkPlugin(Dt,Ct,$,Jt,Ft,_t))?Xt.priority&&(Lt=1):qt[Dt]=wt=_addPropTween.call($,Ft,Dt,"get",Ct[Dt],Jt,_t,0,tt.stringFilter);$._op&&$._op[bt]&&$.kill(Ft,$._op[bt]),vt&&$._pt&&(_overwritingTween=$,_globalTimeline.killTweensOf(Ft,qt,$.globalTime(_e)),Et=!$.parent,_overwritingTween=0),$._pt&&nt&&(_lazyLookup[Qt.id]=1)}Lt&&_sortPropTweensByPriority($),$._onInit&&$._onInit($)}$._onUpdate=ut,$._initted=(!$._op||$._pt)&&!Et,ot&&_e<=0&&yt.render(_bigNum$1,!0,!0)},_updatePropTweens=function($,_e,et,tt,st,gt,lt){var nt=($._pt&&$._ptCache||($._ptCache={}))[_e],ut,ht,at,it;if(!nt)for(nt=$._ptCache[_e]=[],at=$._ptLookup,it=$._targets.length;it--;){if(ut=at[it][_e],ut&&ut.d&&ut.d._pt)for(ut=ut.d._pt;ut&&ut.p!==_e&&ut.fp!==_e;)ut=ut._next;if(!ut)return _forceAllPropTweens=1,$.vars[_e]="+=0",_initTween($,lt),_forceAllPropTweens=0,1;nt.push(ut)}for(it=nt.length;it--;)ht=nt[it],ut=ht._pt||ht,ut.s=(tt||tt===0)&&!st?tt:ut.s+(tt||0)+gt*ut.c,ut.c=et-ut.s,ht.e&&(ht.e=_round$1(et)+getUnit(ht.e)),ht.b&&(ht.b=ut.s+getUnit(ht.b))},_addAliasesToVars=function($,_e){var et=$[0]?_getCache($[0]).harness:0,tt=et&&et.aliases,st,gt,lt,nt;if(!tt)return _e;st=_merge({},_e);for(gt in tt)if(gt in st)for(nt=tt[gt].split(","),lt=nt.length;lt--;)st[nt[lt]]=st[gt];return st},_parseKeyframe=function($,_e,et,tt){var st=_e.ease||tt||"power1.inOut",gt,lt;if(_isArray(_e))lt=et[$]||(et[$]=[]),_e.forEach(function(nt,ut){return lt.push({t:ut/(_e.length-1)*100,v:nt,e:st})});else for(gt in _e)lt=et[gt]||(et[gt]=[]),gt==="ease"||lt.push({t:parseFloat($),v:_e[gt],e:st})},_parseFuncOrString=function($,_e,et,tt,st){return _isFunction$1($)?$.call(_e,et,tt,st):_isString$1($)&&~$.indexOf("random(")?_replaceRandom($):$},_staggerTweenProps=_callbackNames+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",_staggerPropsToSkip={};_forEachName(_staggerTweenProps+",id,stagger,delay,duration,paused,scrollTrigger",function(j){return _staggerPropsToSkip[j]=1});var Tween=function(j){_inheritsLoose($,j);function $(et,tt,st,gt){var lt;typeof tt=="number"&&(st.duration=tt,tt=st,st=null),lt=j.call(this,gt?tt:_inheritDefaults(tt))||this;var nt=lt.vars,ut=nt.duration,ht=nt.delay,at=nt.immediateRender,it=nt.stagger,rt=nt.overwrite,ot=nt.keyframes,ft=nt.defaults,ct=nt.scrollTrigger,dt=nt.yoyoEase,pt=tt.parent||_globalTimeline,mt=(_isArray(et)||_isTypedArray(et)?_isNumber$1(et[0]):"length"in tt)?[et]:toArray(et),_t,vt,yt,Ct,bt,Dt,wt,Ft;if(lt._targets=mt.length?_harness(mt):_warn("GSAP target "+et+" not found. https://greensock.com",!_config.nullTargetWarn)||[],lt._ptLookup=[],lt._overwrite=rt,ot||it||_isFuncOrString(ut)||_isFuncOrString(ht)){if(tt=lt.vars,_t=lt.timeline=new Timeline({data:"nested",defaults:ft||{},targets:pt&&pt.data==="nested"?pt.vars.targets:mt}),_t.kill(),_t.parent=_t._dp=_assertThisInitialized(lt),_t._start=0,it||_isFuncOrString(ut)||_isFuncOrString(ht)){if(Ct=mt.length,wt=it&&distribute(it),_isObject$1(it))for(bt in it)~_staggerTweenProps.indexOf(bt)&&(Ft||(Ft={}),Ft[bt]=it[bt]);for(vt=0;vt<Ct;vt++)yt=_copyExcluding(tt,_staggerPropsToSkip),yt.stagger=0,dt&&(yt.yoyoEase=dt),Ft&&_merge(yt,Ft),Dt=mt[vt],yt.duration=+_parseFuncOrString(ut,_assertThisInitialized(lt),vt,Dt,mt),yt.delay=(+_parseFuncOrString(ht,_assertThisInitialized(lt),vt,Dt,mt)||0)-lt._delay,!it&&Ct===1&&yt.delay&&(lt._delay=ht=yt.delay,lt._start+=ht,yt.delay=0),_t.to(Dt,yt,wt?wt(vt,Dt,mt):0),_t._ease=_easeMap.none;_t.duration()?ut=ht=0:lt.timeline=0}else if(ot){_inheritDefaults(_setDefaults$1(_t.vars.defaults,{ease:"none"})),_t._ease=_parseEase(ot.ease||tt.ease||"none");var Lt=0,Qt,Ut,Xt;if(_isArray(ot))ot.forEach(function(qt){return _t.to(mt,qt,">")}),_t.duration();else{yt={};for(bt in ot)bt==="ease"||bt==="easeEach"||_parseKeyframe(bt,ot[bt],yt,ot.easeEach);for(bt in yt)for(Qt=yt[bt].sort(function(qt,Jt){return qt.t-Jt.t}),Lt=0,vt=0;vt<Qt.length;vt++)Ut=Qt[vt],Xt={ease:Ut.e,duration:(Ut.t-(vt?Qt[vt-1].t:0))/100*ut},Xt[bt]=Ut.v,_t.to(mt,Xt,Lt),Lt+=Xt.duration;_t.duration()<ut&&_t.to({},{duration:ut-_t.duration()})}}ut||lt.duration(ut=_t.duration())}else lt.timeline=0;return rt===!0&&!_suppressOverwrites$1&&(_overwritingTween=_assertThisInitialized(lt),_globalTimeline.killTweensOf(mt),_overwritingTween=0),_addToTimeline(pt,_assertThisInitialized(lt),st),tt.reversed&&lt.reverse(),tt.paused&&lt.paused(!0),(at||!ut&&!ot&&lt._start===_roundPrecise(pt._time)&&_isNotFalse(at)&&_hasNoPausedAncestors(_assertThisInitialized(lt))&&pt.data!=="nested")&&(lt._tTime=-_tinyNum,lt.render(Math.max(0,-ht)||0)),ct&&_scrollTrigger(_assertThisInitialized(lt),ct),lt}var _e=$.prototype;return _e.render=function(tt,st,gt){var lt=this._time,nt=this._tDur,ut=this._dur,ht=tt<0,at=tt>nt-_tinyNum&&!ht?nt:tt<_tinyNum?0:tt,it,rt,ot,ft,ct,dt,pt,mt,_t;if(!ut)_renderZeroDurationTween(this,tt,st,gt);else if(at!==this._tTime||!tt||gt||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==ht){if(it=at,mt=this.timeline,this._repeat){if(ft=ut+this._rDelay,this._repeat<-1&&ht)return this.totalTime(ft*100+tt,st,gt);if(it=_roundPrecise(at%ft),at===nt?(ot=this._repeat,it=ut):(ot=~~(at/ft),ot&&ot===at/ft&&(it=ut,ot--),it>ut&&(it=ut)),dt=this._yoyo&&ot&1,dt&&(_t=this._yEase,it=ut-it),ct=_animationCycle(this._tTime,ft),it===lt&&!gt&&this._initted)return this._tTime=at,this;ot!==ct&&(mt&&this._yEase&&_propagateYoyoEase(mt,dt),this.vars.repeatRefresh&&!dt&&!this._lock&&(this._lock=gt=1,this.render(_roundPrecise(ft*ot),!0).invalidate()._lock=0))}if(!this._initted){if(_attemptInitTween(this,ht?tt:it,gt,st,at))return this._tTime=0,this;if(lt!==this._time)return this;if(ut!==this._dur)return this.render(tt,st,gt)}if(this._tTime=at,this._time=it,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=pt=(_t||this._ease)(it/ut),this._from&&(this.ratio=pt=1-pt),it&&!lt&&!st&&(_callback$1(this,"onStart"),this._tTime!==at))return this;for(rt=this._pt;rt;)rt.r(pt,rt.d),rt=rt._next;mt&&mt.render(tt<0?tt:!it&&dt?-_tinyNum:mt._dur*mt._ease(it/this._dur),st,gt)||this._startAt&&(this._zTime=tt),this._onUpdate&&!st&&(ht&&_rewindStartAt(this,tt,st,gt),_callback$1(this,"onUpdate")),this._repeat&&ot!==ct&&this.vars.onRepeat&&!st&&this.parent&&_callback$1(this,"onRepeat"),(at===this._tDur||!at)&&this._tTime===at&&(ht&&!this._onUpdate&&_rewindStartAt(this,tt,!0,!0),(tt||!ut)&&(at===this._tDur&&this._ts>0||!at&&this._ts<0)&&_removeFromParent(this,1),!st&&!(ht&&!lt)&&(at||lt||dt)&&(_callback$1(this,at===nt?"onComplete":"onReverseComplete",!0),this._prom&&!(at<nt&&this.timeScale()>0)&&this._prom()))}return this},_e.targets=function(){return this._targets},_e.invalidate=function(tt){return(!tt||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(tt),j.prototype.invalidate.call(this,tt)},_e.resetTo=function(tt,st,gt,lt){_tickerActive||_ticker.wake(),this._ts||this.play();var nt=Math.min(this._dur,(this._dp._time-this._start)*this._ts),ut;return this._initted||_initTween(this,nt),ut=this._ease(nt/this._dur),_updatePropTweens(this,tt,st,gt,lt,ut,nt)?this.resetTo(tt,st,gt,lt):(_alignPlayhead(this,0),this.parent||_addLinkedListItem(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},_e.kill=function(tt,st){if(st===void 0&&(st="all"),!tt&&(!st||st==="all"))return this._lazy=this._pt=0,this.parent?_interrupt(this):this;if(this.timeline){var gt=this.timeline.totalDuration();return this.timeline.killTweensOf(tt,st,_overwritingTween&&_overwritingTween.vars.overwrite!==!0)._first||_interrupt(this),this.parent&&gt!==this.timeline.totalDuration()&&_setDuration(this,this._dur*this.timeline._tDur/gt,0,1),this}var lt=this._targets,nt=tt?toArray(tt):lt,ut=this._ptLookup,ht=this._pt,at,it,rt,ot,ft,ct,dt;if((!st||st==="all")&&_arraysMatch(lt,nt))return st==="all"&&(this._pt=0),_interrupt(this);for(at=this._op=this._op||[],st!=="all"&&(_isString$1(st)&&(ft={},_forEachName(st,function(pt){return ft[pt]=1}),st=ft),st=_addAliasesToVars(lt,st)),dt=lt.length;dt--;)if(~nt.indexOf(lt[dt])){it=ut[dt],st==="all"?(at[dt]=st,ot=it,rt={}):(rt=at[dt]=at[dt]||{},ot=st);for(ft in ot)ct=it&&it[ft],ct&&((!("kill"in ct.d)||ct.d.kill(ft)===!0)&&_removeLinkedListItem(this,ct,"_pt"),delete it[ft]),rt!=="all"&&(rt[ft]=1)}return this._initted&&!this._pt&&ht&&_interrupt(this),this},$.to=function(tt,st){return new $(tt,st,arguments[2])},$.from=function(tt,st){return _createTweenType(1,arguments)},$.delayedCall=function(tt,st,gt,lt){return new $(st,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:tt,onComplete:st,onReverseComplete:st,onCompleteParams:gt,onReverseCompleteParams:gt,callbackScope:lt})},$.fromTo=function(tt,st,gt){return _createTweenType(2,arguments)},$.set=function(tt,st){return st.duration=0,st.repeatDelay||(st.repeat=0),new $(tt,st)},$.killTweensOf=function(tt,st,gt){return _globalTimeline.killTweensOf(tt,st,gt)},$}(Animation);_setDefaults$1(Tween.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});_forEachName("staggerTo,staggerFrom,staggerFromTo",function(j){Tween[j]=function(){var $=new Timeline,_e=_slice.call(arguments,0);return _e.splice(j==="staggerFromTo"?5:4,0,0),$[j].apply($,_e)}});var _setterPlain=function($,_e,et){return $[_e]=et},_setterFunc=function($,_e,et){return $[_e](et)},_setterFuncWithParam=function($,_e,et,tt){return $[_e](tt.fp,et)},_setterAttribute=function($,_e,et){return $.setAttribute(_e,et)},_getSetter=function($,_e){return _isFunction$1($[_e])?_setterFunc:_isUndefined($[_e])&&$.setAttribute?_setterAttribute:_setterPlain},_renderPlain=function($,_e){return _e.set(_e.t,_e.p,Math.round((_e.s+_e.c*$)*1e6)/1e6,_e)},_renderBoolean=function($,_e){return _e.set(_e.t,_e.p,!!(_e.s+_e.c*$),_e)},_renderComplexString=function($,_e){var et=_e._pt,tt="";if(!$&&_e.b)tt=_e.b;else if($===1&&_e.e)tt=_e.e;else{for(;et;)tt=et.p+(et.m?et.m(et.s+et.c*$):Math.round((et.s+et.c*$)*1e4)/1e4)+tt,et=et._next;tt+=_e.c}_e.set(_e.t,_e.p,tt,_e)},_renderPropTweens=function($,_e){for(var et=_e._pt;et;)et.r($,et.d),et=et._next},_addPluginModifier=function($,_e,et,tt){for(var st=this._pt,gt;st;)gt=st._next,st.p===tt&&st.modifier($,_e,et),st=gt},_killPropTweensOf=function($){for(var _e=this._pt,et,tt;_e;)tt=_e._next,_e.p===$&&!_e.op||_e.op===$?_removeLinkedListItem(this,_e,"_pt"):_e.dep||(et=1),_e=tt;return!et},_setterWithModifier=function($,_e,et,tt){tt.mSet($,_e,tt.m.call(tt.tween,et,tt.mt),tt)},_sortPropTweensByPriority=function($){for(var _e=$._pt,et,tt,st,gt;_e;){for(et=_e._next,tt=st;tt&&tt.pr>_e.pr;)tt=tt._next;(_e._prev=tt?tt._prev:gt)?_e._prev._next=_e:st=_e,(_e._next=tt)?tt._prev=_e:gt=_e,_e=et}$._pt=st},PropTween=function(){function j(_e,et,tt,st,gt,lt,nt,ut,ht){this.t=et,this.s=st,this.c=gt,this.p=tt,this.r=lt||_renderPlain,this.d=nt||this,this.set=ut||_setterPlain,this.pr=ht||0,this._next=_e,_e&&(_e._prev=this)}var $=j.prototype;return $.modifier=function(et,tt,st){this.mSet=this.mSet||this.set,this.set=_setterWithModifier,this.m=et,this.mt=st,this.tween=tt},j}();_forEachName(_callbackNames+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(j){return _reservedProps[j]=1});_globals.TweenMax=_globals.TweenLite=Tween;_globals.TimelineLite=_globals.TimelineMax=Timeline;_globalTimeline=new Timeline({sortChildren:!1,defaults:_defaults$1,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});_config.stringFilter=_colorStringFilter;var _media=[],_listeners$1={},_emptyArray$1=[],_lastMediaTime=0,_dispatch$1=function($){return(_listeners$1[$]||_emptyArray$1).map(function(_e){return _e()})},_onMediaChange=function(){var $=Date.now(),_e=[];$-_lastMediaTime>2&&(_dispatch$1("matchMediaInit"),_media.forEach(function(et){var tt=et.queries,st=et.conditions,gt,lt,nt,ut;for(lt in tt)gt=_win$3.matchMedia(tt[lt]).matches,gt&&(nt=1),gt!==st[lt]&&(st[lt]=gt,ut=1);ut&&(et.revert(),nt&&_e.push(et))}),_dispatch$1("matchMediaRevert"),_e.forEach(function(et){return et.onMatch(et)}),_lastMediaTime=$,_dispatch$1("matchMedia"))},Context=function(){function j(_e,et){this.selector=et&&selector(et),this.data=[],this._r=[],this.isReverted=!1,_e&&this.add(_e)}var $=j.prototype;return $.add=function(et,tt,st){_isFunction$1(et)&&(st=tt,tt=et,et=_isFunction$1);var gt=this,lt=function(){var ut=_context$1,ht=gt.selector,at;return ut&&ut!==gt&&ut.data.push(gt),st&&(gt.selector=selector(st)),_context$1=gt,at=tt.apply(gt,arguments),_isFunction$1(at)&&gt._r.push(at),_context$1=ut,gt.selector=ht,gt.isReverted=!1,at};return gt.last=lt,et===_isFunction$1?lt(gt):et?gt[et]=lt:lt},$.ignore=function(et){var tt=_context$1;_context$1=null,et(this),_context$1=tt},$.getTweens=function(){var et=[];return this.data.forEach(function(tt){return tt instanceof j?et.push.apply(et,tt.getTweens()):tt instanceof Tween&&!(tt.parent&&tt.parent.data==="nested")&&et.push(tt)}),et},$.clear=function(){this._r.length=this.data.length=0},$.kill=function(et,tt){var st=this;if(et){var gt=this.getTweens();this.data.forEach(function(nt){nt.data==="isFlip"&&(nt.revert(),nt.getChildren(!0,!0,!1).forEach(function(ut){return gt.splice(gt.indexOf(ut),1)}))}),gt.map(function(nt){return{g:nt.globalTime(0),t:nt}}).sort(function(nt,ut){return ut.g-nt.g||-1}).forEach(function(nt){return nt.t.revert(et)}),this.data.forEach(function(nt){return!(nt instanceof Animation)&&nt.revert&&nt.revert(et)}),this._r.forEach(function(nt){return nt(et,st)}),this.isReverted=!0}else this.data.forEach(function(nt){return nt.kill&&nt.kill()});if(this.clear(),tt){var lt=_media.indexOf(this);~lt&&_media.splice(lt,1)}},$.revert=function(et){this.kill(et||{})},j}(),MatchMedia=function(){function j(_e){this.contexts=[],this.scope=_e}var $=j.prototype;return $.add=function(et,tt,st){_isObject$1(et)||(et={matches:et});var gt=new Context(0,st||this.scope),lt=gt.conditions={},nt,ut,ht;this.contexts.push(gt),tt=gt.add("onMatch",tt),gt.queries=et;for(ut in et)ut==="all"?ht=1:(nt=_win$3.matchMedia(et[ut]),nt&&(_media.indexOf(gt)<0&&_media.push(gt),(lt[ut]=nt.matches)&&(ht=1),nt.addListener?nt.addListener(_onMediaChange):nt.addEventListener("change",_onMediaChange)));return ht&&tt(gt),this},$.revert=function(et){this.kill(et||{})},$.kill=function(et){this.contexts.forEach(function(tt){return tt.kill(et,!0)})},j}(),_gsap={registerPlugin:function(){for(var $=arguments.length,_e=new Array($),et=0;et<$;et++)_e[et]=arguments[et];_e.forEach(function(tt){return _createPlugin(tt)})},timeline:function($){return new Timeline($)},getTweensOf:function($,_e){return _globalTimeline.getTweensOf($,_e)},getProperty:function($,_e,et,tt){_isString$1($)&&($=toArray($)[0]);var st=_getCache($||{}).get,gt=et?_passThrough$1:_numericIfPossible;return et==="native"&&(et=""),$&&(_e?gt((_plugins[_e]&&_plugins[_e].get||st)($,_e,et,tt)):function(lt,nt,ut){return gt((_plugins[lt]&&_plugins[lt].get||st)($,lt,nt,ut))})},quickSetter:function($,_e,et){if($=toArray($),$.length>1){var tt=$.map(function(ht){return gsap$3.quickSetter(ht,_e,et)}),st=tt.length;return function(ht){for(var at=st;at--;)tt[at](ht)}}$=$[0]||{};var gt=_plugins[_e],lt=_getCache($),nt=lt.harness&&(lt.harness.aliases||{})[_e]||_e,ut=gt?function(ht){var at=new gt;_quickTween._pt=0,at.init($,et?ht+et:ht,_quickTween,0,[$]),at.render(1,at),_quickTween._pt&&_renderPropTweens(1,_quickTween)}:lt.set($,nt);return gt?ut:function(ht){return ut($,nt,et?ht+et:ht,lt,1)}},quickTo:function($,_e,et){var tt,st=gsap$3.to($,_merge((tt={},tt[_e]="+=0.1",tt.paused=!0,tt),et||{})),gt=function(nt,ut,ht){return st.resetTo(_e,nt,ut,ht)};return gt.tween=st,gt},isTweening:function($){return _globalTimeline.getTweensOf($,!0).length>0},defaults:function($){return $&&$.ease&&($.ease=_parseEase($.ease,_defaults$1.ease)),_mergeDeep(_defaults$1,$||{})},config:function($){return _mergeDeep(_config,$||{})},registerEffect:function($){var _e=$.name,et=$.effect,tt=$.plugins,st=$.defaults,gt=$.extendTimeline;(tt||"").split(",").forEach(function(lt){return lt&&!_plugins[lt]&&!_globals[lt]&&_warn(_e+" effect requires "+lt+" plugin.")}),_effects[_e]=function(lt,nt,ut){return et(toArray(lt),_setDefaults$1(nt||{},st),ut)},gt&&(Timeline.prototype[_e]=function(lt,nt,ut){return this.add(_effects[_e](lt,_isObject$1(nt)?nt:(ut=nt)&&{},this),ut)})},registerEase:function($,_e){_easeMap[$]=_parseEase(_e)},parseEase:function($,_e){return arguments.length?_parseEase($,_e):_easeMap},getById:function($){return _globalTimeline.getById($)},exportRoot:function($,_e){$===void 0&&($={});var et=new Timeline($),tt,st;for(et.smoothChildTiming=_isNotFalse($.smoothChildTiming),_globalTimeline.remove(et),et._dp=0,et._time=et._tTime=_globalTimeline._time,tt=_globalTimeline._first;tt;)st=tt._next,(_e||!(!tt._dur&&tt instanceof Tween&&tt.vars.onComplete===tt._targets[0]))&&_addToTimeline(et,tt,tt._start-tt._delay),tt=st;return _addToTimeline(_globalTimeline,et,0),et},context:function($,_e){return $?new Context($,_e):_context$1},matchMedia:function($){return new MatchMedia($)},matchMediaRefresh:function(){return _media.forEach(function($){var _e=$.conditions,et,tt;for(tt in _e)_e[tt]&&(_e[tt]=!1,et=1);et&&$.revert()})||_onMediaChange()},addEventListener:function($,_e){var et=_listeners$1[$]||(_listeners$1[$]=[]);~et.indexOf(_e)||et.push(_e)},removeEventListener:function($,_e){var et=_listeners$1[$],tt=et&&et.indexOf(_e);tt>=0&&et.splice(tt,1)},utils:{wrap,wrapYoyo,distribute,random,snap,normalize,getUnit,clamp,splitColor,toArray,selector,mapRange,pipe,unitize,interpolate,shuffle},install:_install,effects:_effects,ticker:_ticker,updateRoot:Timeline.updateRoot,plugins:_plugins,globalTimeline:_globalTimeline,core:{PropTween,globals:_addGlobal,Tween,Timeline,Animation,getCache:_getCache,_removeLinkedListItem,reverting:function(){return _reverting$1},context:function($){return $&&_context$1&&(_context$1.data.push($),$._ctx=_context$1),_context$1},suppressOverwrites:function($){return _suppressOverwrites$1=$}}};_forEachName("to,from,fromTo,delayedCall,set,killTweensOf",function(j){return _gsap[j]=Tween[j]});_ticker.add(Timeline.updateRoot);_quickTween=_gsap.to({},{duration:0});var _getPluginPropTween=function($,_e){for(var et=$._pt;et&&et.p!==_e&&et.op!==_e&&et.fp!==_e;)et=et._next;return et},_addModifiers=function($,_e){var et=$._targets,tt,st,gt;for(tt in _e)for(st=et.length;st--;)gt=$._ptLookup[st][tt],gt&&(gt=gt.d)&&(gt._pt&&(gt=_getPluginPropTween(gt,tt)),gt&&gt.modifier&&gt.modifier(_e[tt],$,et[st],tt))},_buildModifierPlugin=function($,_e){return{name:$,rawVars:1,init:function(tt,st,gt){gt._onInit=function(lt){var nt,ut;if(_isString$1(st)&&(nt={},_forEachName(st,function(ht){return nt[ht]=1}),st=nt),_e){nt={};for(ut in st)nt[ut]=_e(st[ut]);st=nt}_addModifiers(lt,st)}}}},gsap$3=_gsap.registerPlugin({name:"attr",init:function($,_e,et,tt,st){var gt,lt,nt;this.tween=et;for(gt in _e)nt=$.getAttribute(gt)||"",lt=this.add($,"setAttribute",(nt||0)+"",_e[gt],tt,st,0,0,gt),lt.op=gt,lt.b=nt,this._props.push(gt)},render:function($,_e){for(var et=_e._pt;et;)_reverting$1?et.set(et.t,et.p,et.b,et):et.r($,et.d),et=et._next}},{name:"endArray",init:function($,_e){for(var et=_e.length;et--;)this.add($,et,$[et]||0,_e[et],0,0,0,0,0,1)}},_buildModifierPlugin("roundProps",_roundModifier),_buildModifierPlugin("modifiers"),_buildModifierPlugin("snap",snap))||_gsap;Tween.version=Timeline.version=gsap$3.version="3.11.3";_coreReady=1;_windowExists$2()&&_wake();_easeMap.Power0;_easeMap.Power1;_easeMap.Power2;_easeMap.Power3;_easeMap.Power4;_easeMap.Linear;_easeMap.Quad;_easeMap.Cubic;_easeMap.Quart;_easeMap.Quint;_easeMap.Strong;_easeMap.Elastic;_easeMap.Back;_easeMap.SteppedEase;_easeMap.Bounce;_easeMap.Sine;_easeMap.Expo;_easeMap.Circ;/*!
 * CSSPlugin 3.11.3
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _win$2,_doc$2,_docElement,_pluginInitted,_tempDiv$1,_recentSetterPlugin,_reverting,_windowExists$1=function(){return typeof window<"u"},_transformProps={},_RAD2DEG=180/Math.PI,_DEG2RAD=Math.PI/180,_atan2=Math.atan2,_bigNum=1e8,_capsExp$1=/([A-Z])/g,_horizontalExp=/(left|right|width|margin|padding|x)/i,_complexExp=/[\s,\(]\S/,_propertyAliases={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_renderCSSProp=function($,_e){return _e.set(_e.t,_e.p,Math.round((_e.s+_e.c*$)*1e4)/1e4+_e.u,_e)},_renderPropWithEnd=function($,_e){return _e.set(_e.t,_e.p,$===1?_e.e:Math.round((_e.s+_e.c*$)*1e4)/1e4+_e.u,_e)},_renderCSSPropWithBeginning=function($,_e){return _e.set(_e.t,_e.p,$?Math.round((_e.s+_e.c*$)*1e4)/1e4+_e.u:_e.b,_e)},_renderRoundedCSSProp=function($,_e){var et=_e.s+_e.c*$;_e.set(_e.t,_e.p,~~(et+(et<0?-.5:.5))+_e.u,_e)},_renderNonTweeningValue=function($,_e){return _e.set(_e.t,_e.p,$?_e.e:_e.b,_e)},_renderNonTweeningValueOnlyAtEnd=function($,_e){return _e.set(_e.t,_e.p,$!==1?_e.b:_e.e,_e)},_setterCSSStyle=function($,_e,et){return $.style[_e]=et},_setterCSSProp=function($,_e,et){return $.style.setProperty(_e,et)},_setterTransform=function($,_e,et){return $._gsap[_e]=et},_setterScale=function($,_e,et){return $._gsap.scaleX=$._gsap.scaleY=et},_setterScaleWithRender=function($,_e,et,tt,st){var gt=$._gsap;gt.scaleX=gt.scaleY=et,gt.renderTransform(st,gt)},_setterTransformWithRender=function($,_e,et,tt,st){var gt=$._gsap;gt[_e]=et,gt.renderTransform(st,gt)},_transformProp$1="transform",_transformOriginProp=_transformProp$1+"Origin",_saveStyle=function($,_e){var et=this,tt=this.target,st=tt.style;if($ in _transformProps){if(this.tfm=this.tfm||{},$!=="transform"&&($=_propertyAliases[$]||$,~$.indexOf(",")?$.split(",").forEach(function(gt){return et.tfm[gt]=_get(tt,gt)}):this.tfm[$]=tt._gsap.x?tt._gsap[$]:_get(tt,$)),this.props.indexOf(_transformProp$1)>=0)return;tt._gsap.svg&&(this.svgo=tt.getAttribute("data-svg-origin"),this.props.push(_transformOriginProp,_e,"")),$=_transformProp$1}(st||_e)&&this.props.push($,_e,st[$])},_removeIndependentTransforms=function($){$.translate&&($.removeProperty("translate"),$.removeProperty("scale"),$.removeProperty("rotate"))},_revertStyle=function(){var $=this.props,_e=this.target,et=_e.style,tt=_e._gsap,st,gt;for(st=0;st<$.length;st+=3)$[st+1]?_e[$[st]]=$[st+2]:$[st+2]?et[$[st]]=$[st+2]:et.removeProperty($[st].replace(_capsExp$1,"-$1").toLowerCase());if(this.tfm){for(gt in this.tfm)tt[gt]=this.tfm[gt];tt.svg&&(tt.renderTransform(),_e.setAttribute("data-svg-origin",this.svgo||"")),st=_reverting(),st&&!st.isStart&&!et[_transformProp$1]&&(_removeIndependentTransforms(et),tt.uncache=1)}},_getStyleSaver=function($,_e){var et={target:$,props:[],revert:_revertStyle,save:_saveStyle};return _e&&_e.split(",").forEach(function(tt){return et.save(tt)}),et},_supports3D,_createElement=function($,_e){var et=_doc$2.createElementNS?_doc$2.createElementNS((_e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),$):_doc$2.createElement($);return et.style?et:_doc$2.createElement($)},_getComputedProperty=function j($,_e,et){var tt=getComputedStyle($);return tt[_e]||tt.getPropertyValue(_e.replace(_capsExp$1,"-$1").toLowerCase())||tt.getPropertyValue(_e)||!et&&j($,_checkPropPrefix(_e)||_e,1)||""},_prefixes="O,Moz,ms,Ms,Webkit".split(","),_checkPropPrefix=function($,_e,et){var tt=_e||_tempDiv$1,st=tt.style,gt=5;if($ in st&&!et)return $;for($=$.charAt(0).toUpperCase()+$.substr(1);gt--&&!(_prefixes[gt]+$ in st););return gt<0?null:(gt===3?"ms":gt>=0?_prefixes[gt]:"")+$},_initCore$1=function(){_windowExists$1()&&window.document&&(_win$2=window,_doc$2=_win$2.document,_docElement=_doc$2.documentElement,_tempDiv$1=_createElement("div")||{style:{}},_createElement("div"),_transformProp$1=_checkPropPrefix(_transformProp$1),_transformOriginProp=_transformProp$1+"Origin",_tempDiv$1.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_supports3D=!!_checkPropPrefix("perspective"),_reverting=gsap$3.core.reverting,_pluginInitted=1)},_getBBoxHack=function j($){var _e=_createElement("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),et=this.parentNode,tt=this.nextSibling,st=this.style.cssText,gt;if(_docElement.appendChild(_e),_e.appendChild(this),this.style.display="block",$)try{gt=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=j}catch{}else this._gsapBBox&&(gt=this._gsapBBox());return et&&(tt?et.insertBefore(this,tt):et.appendChild(this)),_docElement.removeChild(_e),this.style.cssText=st,gt},_getAttributeFallbacks=function($,_e){for(var et=_e.length;et--;)if($.hasAttribute(_e[et]))return $.getAttribute(_e[et])},_getBBox=function($){var _e;try{_e=$.getBBox()}catch{_e=_getBBoxHack.call($,!0)}return _e&&(_e.width||_e.height)||$.getBBox===_getBBoxHack||(_e=_getBBoxHack.call($,!0)),_e&&!_e.width&&!_e.x&&!_e.y?{x:+_getAttributeFallbacks($,["x","cx","x1"])||0,y:+_getAttributeFallbacks($,["y","cy","y1"])||0,width:0,height:0}:_e},_isSVG=function($){return!!($.getCTM&&(!$.parentNode||$.ownerSVGElement)&&_getBBox($))},_removeProperty=function($,_e){if(_e){var et=$.style;_e in _transformProps&&_e!==_transformOriginProp&&(_e=_transformProp$1),et.removeProperty?((_e.substr(0,2)==="ms"||_e.substr(0,6)==="webkit")&&(_e="-"+_e),et.removeProperty(_e.replace(_capsExp$1,"-$1").toLowerCase())):et.removeAttribute(_e)}},_addNonTweeningPT=function($,_e,et,tt,st,gt){var lt=new PropTween($._pt,_e,et,0,1,gt?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue);return $._pt=lt,lt.b=tt,lt.e=st,$._props.push(et),lt},_nonConvertibleUnits={deg:1,rad:1,turn:1},_nonStandardLayouts={grid:1,flex:1},_convertToUnit=function j($,_e,et,tt){var st=parseFloat(et)||0,gt=(et+"").trim().substr((st+"").length)||"px",lt=_tempDiv$1.style,nt=_horizontalExp.test(_e),ut=$.tagName.toLowerCase()==="svg",ht=(ut?"client":"offset")+(nt?"Width":"Height"),at=100,it=tt==="px",rt=tt==="%",ot,ft,ct,dt;return tt===gt||!st||_nonConvertibleUnits[tt]||_nonConvertibleUnits[gt]?st:(gt!=="px"&&!it&&(st=j($,_e,et,"px")),dt=$.getCTM&&_isSVG($),(rt||gt==="%")&&(_transformProps[_e]||~_e.indexOf("adius"))?(ot=dt?$.getBBox()[nt?"width":"height"]:$[ht],_round$1(rt?st/ot*at:st/100*ot)):(lt[nt?"width":"height"]=at+(it?gt:tt),ft=~_e.indexOf("adius")||tt==="em"&&$.appendChild&&!ut?$:$.parentNode,dt&&(ft=($.ownerSVGElement||{}).parentNode),(!ft||ft===_doc$2||!ft.appendChild)&&(ft=_doc$2.body),ct=ft._gsap,ct&&rt&&ct.width&&nt&&ct.time===_ticker.time&&!ct.uncache?_round$1(st/ct.width*at):((rt||gt==="%")&&!_nonStandardLayouts[_getComputedProperty(ft,"display")]&&(lt.position=_getComputedProperty($,"position")),ft===$&&(lt.position="static"),ft.appendChild(_tempDiv$1),ot=_tempDiv$1[ht],ft.removeChild(_tempDiv$1),lt.position="absolute",nt&&rt&&(ct=_getCache(ft),ct.time=_ticker.time,ct.width=ft[ht]),_round$1(it?ot*st/at:ot&&st?at/ot*st:0))))},_get=function($,_e,et,tt){var st;return _pluginInitted||_initCore$1(),_e in _propertyAliases&&_e!=="transform"&&(_e=_propertyAliases[_e],~_e.indexOf(",")&&(_e=_e.split(",")[0])),_transformProps[_e]&&_e!=="transform"?(st=_parseTransform($,tt),st=_e!=="transformOrigin"?st[_e]:st.svg?st.origin:_firstTwoOnly(_getComputedProperty($,_transformOriginProp))+" "+st.zOrigin+"px"):(st=$.style[_e],(!st||st==="auto"||tt||~(st+"").indexOf("calc("))&&(st=_specialProps[_e]&&_specialProps[_e]($,_e,et)||_getComputedProperty($,_e)||_getProperty($,_e)||(_e==="opacity"?1:0))),et&&!~(st+"").trim().indexOf(" ")?_convertToUnit($,_e,st,et)+et:st},_tweenComplexCSSString=function($,_e,et,tt){if(!et||et==="none"){var st=_checkPropPrefix(_e,$,1),gt=st&&_getComputedProperty($,st,1);gt&&gt!==et?(_e=st,et=gt):_e==="borderColor"&&(et=_getComputedProperty($,"borderTopColor"))}var lt=new PropTween(this._pt,$.style,_e,0,1,_renderComplexString),nt=0,ut=0,ht,at,it,rt,ot,ft,ct,dt,pt,mt,_t,vt;if(lt.b=et,lt.e=tt,et+="",tt+="",tt==="auto"&&($.style[_e]=tt,tt=_getComputedProperty($,_e)||tt,$.style[_e]=et),ht=[et,tt],_colorStringFilter(ht),et=ht[0],tt=ht[1],it=et.match(_numWithUnitExp)||[],vt=tt.match(_numWithUnitExp)||[],vt.length){for(;at=_numWithUnitExp.exec(tt);)ct=at[0],pt=tt.substring(nt,at.index),ot?ot=(ot+1)%5:(pt.substr(-5)==="rgba("||pt.substr(-5)==="hsla(")&&(ot=1),ct!==(ft=it[ut++]||"")&&(rt=parseFloat(ft)||0,_t=ft.substr((rt+"").length),ct.charAt(1)==="="&&(ct=_parseRelative(rt,ct)+_t),dt=parseFloat(ct),mt=ct.substr((dt+"").length),nt=_numWithUnitExp.lastIndex-mt.length,mt||(mt=mt||_config.units[_e]||_t,nt===tt.length&&(tt+=mt,lt.e+=mt)),_t!==mt&&(rt=_convertToUnit($,_e,ft,mt)||0),lt._pt={_next:lt._pt,p:pt||ut===1?pt:",",s:rt,c:dt-rt,m:ot&&ot<4||_e==="zIndex"?Math.round:0});lt.c=nt<tt.length?tt.substring(nt,tt.length):""}else lt.r=_e==="display"&&tt==="none"?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue;return _relExp.test(tt)&&(lt.e=0),this._pt=lt,lt},_keywordToPercent={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_convertKeywordsToPercentages=function($){var _e=$.split(" "),et=_e[0],tt=_e[1]||"50%";return(et==="top"||et==="bottom"||tt==="left"||tt==="right")&&($=et,et=tt,tt=$),_e[0]=_keywordToPercent[et]||et,_e[1]=_keywordToPercent[tt]||tt,_e.join(" ")},_renderClearProps=function($,_e){if(_e.tween&&_e.tween._time===_e.tween._dur){var et=_e.t,tt=et.style,st=_e.u,gt=et._gsap,lt,nt,ut;if(st==="all"||st===!0)tt.cssText="",nt=1;else for(st=st.split(","),ut=st.length;--ut>-1;)lt=st[ut],_transformProps[lt]&&(nt=1,lt=lt==="transformOrigin"?_transformOriginProp:_transformProp$1),_removeProperty(et,lt);nt&&(_removeProperty(et,_transformProp$1),gt&&(gt.svg&&et.removeAttribute("transform"),_parseTransform(et,1),gt.uncache=1,_removeIndependentTransforms(tt)))}},_specialProps={clearProps:function($,_e,et,tt,st){if(st.data!=="isFromStart"){var gt=$._pt=new PropTween($._pt,_e,et,0,0,_renderClearProps);return gt.u=tt,gt.pr=-10,gt.tween=st,$._props.push(et),1}}},_identity2DMatrix=[1,0,0,1,0,0],_rotationalProperties={},_isNullTransform=function($){return $==="matrix(1, 0, 0, 1, 0, 0)"||$==="none"||!$},_getComputedTransformMatrixAsArray=function($){var _e=_getComputedProperty($,_transformProp$1);return _isNullTransform(_e)?_identity2DMatrix:_e.substr(7).match(_numExp).map(_round$1)},_getMatrix=function($,_e){var et=$._gsap||_getCache($),tt=$.style,st=_getComputedTransformMatrixAsArray($),gt,lt,nt,ut;return et.svg&&$.getAttribute("transform")?(nt=$.transform.baseVal.consolidate().matrix,st=[nt.a,nt.b,nt.c,nt.d,nt.e,nt.f],st.join(",")==="1,0,0,1,0,0"?_identity2DMatrix:st):(st===_identity2DMatrix&&!$.offsetParent&&$!==_docElement&&!et.svg&&(nt=tt.display,tt.display="block",gt=$.parentNode,(!gt||!$.offsetParent)&&(ut=1,lt=$.nextElementSibling,_docElement.appendChild($)),st=_getComputedTransformMatrixAsArray($),nt?tt.display=nt:_removeProperty($,"display"),ut&&(lt?gt.insertBefore($,lt):gt?gt.appendChild($):_docElement.removeChild($))),_e&&st.length>6?[st[0],st[1],st[4],st[5],st[12],st[13]]:st)},_applySVGOrigin=function($,_e,et,tt,st,gt){var lt=$._gsap,nt=st||_getMatrix($,!0),ut=lt.xOrigin||0,ht=lt.yOrigin||0,at=lt.xOffset||0,it=lt.yOffset||0,rt=nt[0],ot=nt[1],ft=nt[2],ct=nt[3],dt=nt[4],pt=nt[5],mt=_e.split(" "),_t=parseFloat(mt[0])||0,vt=parseFloat(mt[1])||0,yt,Ct,bt,Dt;et?nt!==_identity2DMatrix&&(Ct=rt*ct-ot*ft)&&(bt=_t*(ct/Ct)+vt*(-ft/Ct)+(ft*pt-ct*dt)/Ct,Dt=_t*(-ot/Ct)+vt*(rt/Ct)-(rt*pt-ot*dt)/Ct,_t=bt,vt=Dt):(yt=_getBBox($),_t=yt.x+(~mt[0].indexOf("%")?_t/100*yt.width:_t),vt=yt.y+(~(mt[1]||mt[0]).indexOf("%")?vt/100*yt.height:vt)),tt||tt!==!1&&lt.smooth?(dt=_t-ut,pt=vt-ht,lt.xOffset=at+(dt*rt+pt*ft)-dt,lt.yOffset=it+(dt*ot+pt*ct)-pt):lt.xOffset=lt.yOffset=0,lt.xOrigin=_t,lt.yOrigin=vt,lt.smooth=!!tt,lt.origin=_e,lt.originIsAbsolute=!!et,$.style[_transformOriginProp]="0px 0px",gt&&(_addNonTweeningPT(gt,lt,"xOrigin",ut,_t),_addNonTweeningPT(gt,lt,"yOrigin",ht,vt),_addNonTweeningPT(gt,lt,"xOffset",at,lt.xOffset),_addNonTweeningPT(gt,lt,"yOffset",it,lt.yOffset)),$.setAttribute("data-svg-origin",_t+" "+vt)},_parseTransform=function($,_e){var et=$._gsap||new GSCache($);if("x"in et&&!_e&&!et.uncache)return et;var tt=$.style,st=et.scaleX<0,gt="px",lt="deg",nt=getComputedStyle($),ut=_getComputedProperty($,_transformOriginProp)||"0",ht,at,it,rt,ot,ft,ct,dt,pt,mt,_t,vt,yt,Ct,bt,Dt,wt,Ft,Lt,Qt,Ut,Xt,qt,Jt,Gt,Et,At,It,Ot,Tt,St,xt;return ht=at=it=ft=ct=dt=pt=mt=_t=0,rt=ot=1,et.svg=!!($.getCTM&&_isSVG($)),nt.translate&&((nt.translate!=="none"||nt.scale!=="none"||nt.rotate!=="none")&&(tt[_transformProp$1]=(nt.translate!=="none"?"translate3d("+(nt.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(nt.rotate!=="none"?"rotate("+nt.rotate+") ":"")+(nt.scale!=="none"?"scale("+nt.scale.split(" ").join(",")+") ":"")+(nt[_transformProp$1]!=="none"?nt[_transformProp$1]:"")),tt.scale=tt.rotate=tt.translate="none"),Ct=_getMatrix($,et.svg),et.svg&&(et.uncache?(Gt=$.getBBox(),ut=et.xOrigin-Gt.x+"px "+(et.yOrigin-Gt.y)+"px",Jt=""):Jt=!_e&&$.getAttribute("data-svg-origin"),_applySVGOrigin($,Jt||ut,!!Jt||et.originIsAbsolute,et.smooth!==!1,Ct)),vt=et.xOrigin||0,yt=et.yOrigin||0,Ct!==_identity2DMatrix&&(Ft=Ct[0],Lt=Ct[1],Qt=Ct[2],Ut=Ct[3],ht=Xt=Ct[4],at=qt=Ct[5],Ct.length===6?(rt=Math.sqrt(Ft*Ft+Lt*Lt),ot=Math.sqrt(Ut*Ut+Qt*Qt),ft=Ft||Lt?_atan2(Lt,Ft)*_RAD2DEG:0,pt=Qt||Ut?_atan2(Qt,Ut)*_RAD2DEG+ft:0,pt&&(ot*=Math.abs(Math.cos(pt*_DEG2RAD))),et.svg&&(ht-=vt-(vt*Ft+yt*Qt),at-=yt-(vt*Lt+yt*Ut))):(xt=Ct[6],Tt=Ct[7],At=Ct[8],It=Ct[9],Ot=Ct[10],St=Ct[11],ht=Ct[12],at=Ct[13],it=Ct[14],bt=_atan2(xt,Ot),ct=bt*_RAD2DEG,bt&&(Dt=Math.cos(-bt),wt=Math.sin(-bt),Jt=Xt*Dt+At*wt,Gt=qt*Dt+It*wt,Et=xt*Dt+Ot*wt,At=Xt*-wt+At*Dt,It=qt*-wt+It*Dt,Ot=xt*-wt+Ot*Dt,St=Tt*-wt+St*Dt,Xt=Jt,qt=Gt,xt=Et),bt=_atan2(-Qt,Ot),dt=bt*_RAD2DEG,bt&&(Dt=Math.cos(-bt),wt=Math.sin(-bt),Jt=Ft*Dt-At*wt,Gt=Lt*Dt-It*wt,Et=Qt*Dt-Ot*wt,St=Ut*wt+St*Dt,Ft=Jt,Lt=Gt,Qt=Et),bt=_atan2(Lt,Ft),ft=bt*_RAD2DEG,bt&&(Dt=Math.cos(bt),wt=Math.sin(bt),Jt=Ft*Dt+Lt*wt,Gt=Xt*Dt+qt*wt,Lt=Lt*Dt-Ft*wt,qt=qt*Dt-Xt*wt,Ft=Jt,Xt=Gt),ct&&Math.abs(ct)+Math.abs(ft)>359.9&&(ct=ft=0,dt=180-dt),rt=_round$1(Math.sqrt(Ft*Ft+Lt*Lt+Qt*Qt)),ot=_round$1(Math.sqrt(qt*qt+xt*xt)),bt=_atan2(Xt,qt),pt=Math.abs(bt)>2e-4?bt*_RAD2DEG:0,_t=St?1/(St<0?-St:St):0),et.svg&&(Jt=$.getAttribute("transform"),et.forceCSS=$.setAttribute("transform","")||!_isNullTransform(_getComputedProperty($,_transformProp$1)),Jt&&$.setAttribute("transform",Jt))),Math.abs(pt)>90&&Math.abs(pt)<270&&(st?(rt*=-1,pt+=ft<=0?180:-180,ft+=ft<=0?180:-180):(ot*=-1,pt+=pt<=0?180:-180)),_e=_e||et.uncache,et.x=ht-((et.xPercent=ht&&(!_e&&et.xPercent||(Math.round($.offsetWidth/2)===Math.round(-ht)?-50:0)))?$.offsetWidth*et.xPercent/100:0)+gt,et.y=at-((et.yPercent=at&&(!_e&&et.yPercent||(Math.round($.offsetHeight/2)===Math.round(-at)?-50:0)))?$.offsetHeight*et.yPercent/100:0)+gt,et.z=it+gt,et.scaleX=_round$1(rt),et.scaleY=_round$1(ot),et.rotation=_round$1(ft)+lt,et.rotationX=_round$1(ct)+lt,et.rotationY=_round$1(dt)+lt,et.skewX=pt+lt,et.skewY=mt+lt,et.transformPerspective=_t+gt,(et.zOrigin=parseFloat(ut.split(" ")[2])||0)&&(tt[_transformOriginProp]=_firstTwoOnly(ut)),et.xOffset=et.yOffset=0,et.force3D=_config.force3D,et.renderTransform=et.svg?_renderSVGTransforms:_supports3D?_renderCSSTransforms:_renderNon3DTransforms,et.uncache=0,et},_firstTwoOnly=function($){return($=$.split(" "))[0]+" "+$[1]},_addPxTranslate=function($,_e,et){var tt=getUnit(_e);return _round$1(parseFloat(_e)+parseFloat(_convertToUnit($,"x",et+"px",tt)))+tt},_renderNon3DTransforms=function($,_e){_e.z="0px",_e.rotationY=_e.rotationX="0deg",_e.force3D=0,_renderCSSTransforms($,_e)},_zeroDeg="0deg",_zeroPx="0px",_endParenthesis=") ",_renderCSSTransforms=function($,_e){var et=_e||this,tt=et.xPercent,st=et.yPercent,gt=et.x,lt=et.y,nt=et.z,ut=et.rotation,ht=et.rotationY,at=et.rotationX,it=et.skewX,rt=et.skewY,ot=et.scaleX,ft=et.scaleY,ct=et.transformPerspective,dt=et.force3D,pt=et.target,mt=et.zOrigin,_t="",vt=dt==="auto"&&$&&$!==1||dt===!0;if(mt&&(at!==_zeroDeg||ht!==_zeroDeg)){var yt=parseFloat(ht)*_DEG2RAD,Ct=Math.sin(yt),bt=Math.cos(yt),Dt;yt=parseFloat(at)*_DEG2RAD,Dt=Math.cos(yt),gt=_addPxTranslate(pt,gt,Ct*Dt*-mt),lt=_addPxTranslate(pt,lt,-Math.sin(yt)*-mt),nt=_addPxTranslate(pt,nt,bt*Dt*-mt+mt)}ct!==_zeroPx&&(_t+="perspective("+ct+_endParenthesis),(tt||st)&&(_t+="translate("+tt+"%, "+st+"%) "),(vt||gt!==_zeroPx||lt!==_zeroPx||nt!==_zeroPx)&&(_t+=nt!==_zeroPx||vt?"translate3d("+gt+", "+lt+", "+nt+") ":"translate("+gt+", "+lt+_endParenthesis),ut!==_zeroDeg&&(_t+="rotate("+ut+_endParenthesis),ht!==_zeroDeg&&(_t+="rotateY("+ht+_endParenthesis),at!==_zeroDeg&&(_t+="rotateX("+at+_endParenthesis),(it!==_zeroDeg||rt!==_zeroDeg)&&(_t+="skew("+it+", "+rt+_endParenthesis),(ot!==1||ft!==1)&&(_t+="scale("+ot+", "+ft+_endParenthesis),pt.style[_transformProp$1]=_t||"translate(0, 0)"},_renderSVGTransforms=function($,_e){var et=_e||this,tt=et.xPercent,st=et.yPercent,gt=et.x,lt=et.y,nt=et.rotation,ut=et.skewX,ht=et.skewY,at=et.scaleX,it=et.scaleY,rt=et.target,ot=et.xOrigin,ft=et.yOrigin,ct=et.xOffset,dt=et.yOffset,pt=et.forceCSS,mt=parseFloat(gt),_t=parseFloat(lt),vt,yt,Ct,bt,Dt;nt=parseFloat(nt),ut=parseFloat(ut),ht=parseFloat(ht),ht&&(ht=parseFloat(ht),ut+=ht,nt+=ht),nt||ut?(nt*=_DEG2RAD,ut*=_DEG2RAD,vt=Math.cos(nt)*at,yt=Math.sin(nt)*at,Ct=Math.sin(nt-ut)*-it,bt=Math.cos(nt-ut)*it,ut&&(ht*=_DEG2RAD,Dt=Math.tan(ut-ht),Dt=Math.sqrt(1+Dt*Dt),Ct*=Dt,bt*=Dt,ht&&(Dt=Math.tan(ht),Dt=Math.sqrt(1+Dt*Dt),vt*=Dt,yt*=Dt)),vt=_round$1(vt),yt=_round$1(yt),Ct=_round$1(Ct),bt=_round$1(bt)):(vt=at,bt=it,yt=Ct=0),(mt&&!~(gt+"").indexOf("px")||_t&&!~(lt+"").indexOf("px"))&&(mt=_convertToUnit(rt,"x",gt,"px"),_t=_convertToUnit(rt,"y",lt,"px")),(ot||ft||ct||dt)&&(mt=_round$1(mt+ot-(ot*vt+ft*Ct)+ct),_t=_round$1(_t+ft-(ot*yt+ft*bt)+dt)),(tt||st)&&(Dt=rt.getBBox(),mt=_round$1(mt+tt/100*Dt.width),_t=_round$1(_t+st/100*Dt.height)),Dt="matrix("+vt+","+yt+","+Ct+","+bt+","+mt+","+_t+")",rt.setAttribute("transform",Dt),pt&&(rt.style[_transformProp$1]=Dt)},_addRotationalPropTween=function($,_e,et,tt,st){var gt=360,lt=_isString$1(st),nt=parseFloat(st)*(lt&&~st.indexOf("rad")?_RAD2DEG:1),ut=nt-tt,ht=tt+ut+"deg",at,it;return lt&&(at=st.split("_")[1],at==="short"&&(ut%=gt,ut!==ut%(gt/2)&&(ut+=ut<0?gt:-gt)),at==="cw"&&ut<0?ut=(ut+gt*_bigNum)%gt-~~(ut/gt)*gt:at==="ccw"&&ut>0&&(ut=(ut-gt*_bigNum)%gt-~~(ut/gt)*gt)),$._pt=it=new PropTween($._pt,_e,et,tt,ut,_renderPropWithEnd),it.e=ht,it.u="deg",$._props.push(et),it},_assign=function($,_e){for(var et in _e)$[et]=_e[et];return $},_addRawTransformPTs=function($,_e,et){var tt=_assign({},et._gsap),st="perspective,force3D,transformOrigin,svgOrigin",gt=et.style,lt,nt,ut,ht,at,it,rt,ot;tt.svg?(ut=et.getAttribute("transform"),et.setAttribute("transform",""),gt[_transformProp$1]=_e,lt=_parseTransform(et,1),_removeProperty(et,_transformProp$1),et.setAttribute("transform",ut)):(ut=getComputedStyle(et)[_transformProp$1],gt[_transformProp$1]=_e,lt=_parseTransform(et,1),gt[_transformProp$1]=ut);for(nt in _transformProps)ut=tt[nt],ht=lt[nt],ut!==ht&&st.indexOf(nt)<0&&(rt=getUnit(ut),ot=getUnit(ht),at=rt!==ot?_convertToUnit(et,nt,ut,ot):parseFloat(ut),it=parseFloat(ht),$._pt=new PropTween($._pt,lt,nt,at,it-at,_renderCSSProp),$._pt.u=ot||0,$._props.push(nt));_assign(lt,tt)};_forEachName("padding,margin,Width,Radius",function(j,$){var _e="Top",et="Right",tt="Bottom",st="Left",gt=($<3?[_e,et,tt,st]:[_e+st,_e+et,tt+et,tt+st]).map(function(lt){return $<2?j+lt:"border"+lt+j});_specialProps[$>1?"border"+j:j]=function(lt,nt,ut,ht,at){var it,rt;if(arguments.length<4)return it=gt.map(function(ot){return _get(lt,ot,ut)}),rt=it.join(" "),rt.split(it[0]).length===5?it[0]:rt;it=(ht+"").split(" "),rt={},gt.forEach(function(ot,ft){return rt[ot]=it[ft]=it[ft]||it[(ft-1)/2|0]}),lt.init(nt,rt,at)}});var CSSPlugin={name:"css",register:_initCore$1,targetTest:function($){return $.style&&$.nodeType},init:function($,_e,et,tt,st){var gt=this._props,lt=$.style,nt=et.vars.startAt,ut,ht,at,it,rt,ot,ft,ct,dt,pt,mt,_t,vt,yt,Ct,bt;_pluginInitted||_initCore$1(),this.styles=this.styles||_getStyleSaver($),bt=this.styles.props,this.tween=et;for(ft in _e)if(ft!=="autoRound"&&(ht=_e[ft],!(_plugins[ft]&&_checkPlugin(ft,_e,et,tt,$,st)))){if(rt=typeof ht,ot=_specialProps[ft],rt==="function"&&(ht=ht.call(et,tt,$,st),rt=typeof ht),rt==="string"&&~ht.indexOf("random(")&&(ht=_replaceRandom(ht)),ot)ot(this,$,ft,ht,et)&&(Ct=1);else if(ft.substr(0,2)==="--")ut=(getComputedStyle($).getPropertyValue(ft)+"").trim(),ht+="",_colorExp.lastIndex=0,_colorExp.test(ut)||(ct=getUnit(ut),dt=getUnit(ht)),dt?ct!==dt&&(ut=_convertToUnit($,ft,ut,dt)+dt):ct&&(ht+=ct),this.add(lt,"setProperty",ut,ht,tt,st,0,0,ft),gt.push(ft),bt.push(ft,0,lt[ft]);else if(rt!=="undefined"){if(nt&&ft in nt?(ut=typeof nt[ft]=="function"?nt[ft].call(et,tt,$,st):nt[ft],_isString$1(ut)&&~ut.indexOf("random(")&&(ut=_replaceRandom(ut)),getUnit(ut+"")||(ut+=_config.units[ft]||getUnit(_get($,ft))||""),(ut+"").charAt(1)==="="&&(ut=_get($,ft))):ut=_get($,ft),it=parseFloat(ut),pt=rt==="string"&&ht.charAt(1)==="="&&ht.substr(0,2),pt&&(ht=ht.substr(2)),at=parseFloat(ht),ft in _propertyAliases&&(ft==="autoAlpha"&&(it===1&&_get($,"visibility")==="hidden"&&at&&(it=0),bt.push("visibility",0,lt.visibility),_addNonTweeningPT(this,lt,"visibility",it?"inherit":"hidden",at?"inherit":"hidden",!at)),ft!=="scale"&&ft!=="transform"&&(ft=_propertyAliases[ft],~ft.indexOf(",")&&(ft=ft.split(",")[0]))),mt=ft in _transformProps,mt){if(this.styles.save(ft),_t||(vt=$._gsap,vt.renderTransform&&!_e.parseTransform||_parseTransform($,_e.parseTransform),yt=_e.smoothOrigin!==!1&&vt.smooth,_t=this._pt=new PropTween(this._pt,lt,_transformProp$1,0,1,vt.renderTransform,vt,0,-1),_t.dep=1),ft==="scale")this._pt=new PropTween(this._pt,vt,"scaleY",it,(pt?_parseRelative(it,pt+at):at)-it||0,_renderCSSProp),this._pt.u=0,gt.push("scaleY",ft),ft+="X";else if(ft==="transformOrigin"){bt.push(_transformOriginProp,0,lt[_transformOriginProp]),ht=_convertKeywordsToPercentages(ht),vt.svg?_applySVGOrigin($,ht,0,yt,0,this):(dt=parseFloat(ht.split(" ")[2])||0,dt!==vt.zOrigin&&_addNonTweeningPT(this,vt,"zOrigin",vt.zOrigin,dt),_addNonTweeningPT(this,lt,ft,_firstTwoOnly(ut),_firstTwoOnly(ht)));continue}else if(ft==="svgOrigin"){_applySVGOrigin($,ht,1,yt,0,this);continue}else if(ft in _rotationalProperties){_addRotationalPropTween(this,vt,ft,it,pt?_parseRelative(it,pt+ht):ht);continue}else if(ft==="smoothOrigin"){_addNonTweeningPT(this,vt,"smooth",vt.smooth,ht);continue}else if(ft==="force3D"){vt[ft]=ht;continue}else if(ft==="transform"){_addRawTransformPTs(this,ht,$);continue}}else ft in lt||(ft=_checkPropPrefix(ft)||ft);if(mt||(at||at===0)&&(it||it===0)&&!_complexExp.test(ht)&&ft in lt)ct=(ut+"").substr((it+"").length),at||(at=0),dt=getUnit(ht)||(ft in _config.units?_config.units[ft]:ct),ct!==dt&&(it=_convertToUnit($,ft,ut,dt)),this._pt=new PropTween(this._pt,mt?vt:lt,ft,it,(pt?_parseRelative(it,pt+at):at)-it,!mt&&(dt==="px"||ft==="zIndex")&&_e.autoRound!==!1?_renderRoundedCSSProp:_renderCSSProp),this._pt.u=dt||0,ct!==dt&&dt!=="%"&&(this._pt.b=ut,this._pt.r=_renderCSSPropWithBeginning);else if(ft in lt)_tweenComplexCSSString.call(this,$,ft,ut,pt?pt+ht:ht);else if(ft in $)this.add($,ft,ut||$[ft],pt?pt+ht:ht,tt,st);else{_missingPlugin(ft,ht);continue}mt||(ft in lt?bt.push(ft,0,lt[ft]):bt.push(ft,1,ut||$[ft])),gt.push(ft)}}Ct&&_sortPropTweensByPriority(this)},render:function($,_e){if(_e.tween._time||!_reverting())for(var et=_e._pt;et;)et.r($,et.d),et=et._next;else _e.styles.revert()},get:_get,aliases:_propertyAliases,getSetter:function($,_e,et){var tt=_propertyAliases[_e];return tt&&tt.indexOf(",")<0&&(_e=tt),_e in _transformProps&&_e!==_transformOriginProp&&($._gsap.x||_get($,"x"))?et&&_recentSetterPlugin===et?_e==="scale"?_setterScale:_setterTransform:(_recentSetterPlugin=et||{})&&(_e==="scale"?_setterScaleWithRender:_setterTransformWithRender):$.style&&!_isUndefined($.style[_e])?_setterCSSStyle:~_e.indexOf("-")?_setterCSSProp:_getSetter($,_e)},core:{_removeProperty,_getMatrix}};gsap$3.utils.checkPrefix=_checkPropPrefix;gsap$3.core.getStyleSaver=_getStyleSaver;(function(j,$,_e,et){var tt=_forEachName(j+","+$+","+_e,function(st){_transformProps[st]=1});_forEachName($,function(st){_config.units[st]="deg",_rotationalProperties[st]=1}),_propertyAliases[tt[13]]=j+","+$,_forEachName(et,function(st){var gt=st.split(":");_propertyAliases[gt[1]]=tt[gt[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");_forEachName("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(j){_config.units[j]="px"});gsap$3.registerPlugin(CSSPlugin);var gsapWithCSS=gsap$3.registerPlugin(CSSPlugin)||gsap$3;gsapWithCSS.core.Tween;function Hero(){const j=react.exports.useRef(),$={backgroundRepeat:"no-repeat",backgroundPosition:"35% 100%"};return react.exports.useLayoutEffect(()=>{const _e=gsapWithCSS.context(()=>{const et=gsapWithCSS.timeline(),tt=gsapWithCSS.timeline();gsapWithCSS.to(".loader",{delay:1.3,duration:1,scale:6}),tt.to(".text_hero",{opacity:0,alpha:0,delay:-1}),tt.to(".text_hero",{opacity:1,alpha:1,delay:3.5}),et.to(".bg",{backgroundSize:"120%",delay:1.3,alpha:0,ease:"linear",duration:1.5}),et.to(".bg",{scale:1.2,backgroundPosition:"50px 0",ease:"linear",alpha:1,duration:1})},j);return()=>_e.revert()},[]),react.exports.useLayoutEffect(()=>{let _e=document.querySelector(".text p");_e.innerHTML=_e.innerText.split("").map((et,tt)=>`<b style="transform:rotate(${tt*20}deg)">${et}</b>`).join("")},[]),jsxs("div",{ref:j,className:"relative flex h-[calc(100vh-96px)] items-center justify-center overflow-hidden",children:[jsx("div",{className:"bg relative h-[100%] flex-1",style:{backgroundImage:`url(${backgroundSmall})`,...$}}),jsxs("div",{className:"loader",children:[jsx("div",{className:"text",children:jsx("p",{children:"TheF2E4thTheF2E4th"})}),jsx("span",{children:jsx("i",{})})]}),jsx("div",{className:"text_hero",children:jsxs("h2",{className:"absolute left-[257px] top-[301px] text-center text-white",children:[jsxs("span",{className:"flex text-[20vh]",children:["The F",jsx("span",{className:"mt-14 text-[15vh]",children:"2"}),"E",jsx("span",{className:"relative mt-20 ml-10 block text-[15vh]",children:"4"}),"th"]}),jsx("span",{className:" text-5xl font-bold ",children:"\u4E92\u52D5\u5F0F\u7DB2\u7AD9\u8A2D\u8A08"})]})})]})}function SignUp(){return jsxs("div",{className:"fixed right-0 top-[20%] z-10 cursor-pointer  border  border-indigo-200 bg-black py-[13px] pl-[8px] pr-[44px] font-bold text-white transition-[color] duration-1000 before:absolute before:top-0 before:left-0 before:-z-10 before:block before:h-[100%] before:w-[0%] before:bg-white before:transition-all before:duration-1000 before:content-[''] hover:text-black before:hover:w-[100%] before:hover:border before:hover:border-black",children:[jsx("p",{children:"\u6211\u8981\u5831\u540D"}),jsx("span",{className:"text-3xl uppercase",children:"Sign Up"})]})}function QsSection(){return react.exports.useLayoutEffect(()=>{const j=gsapWithCSS.context(()=>{gsapWithCSS.to(".animation_ScrollBg",{y:"20%",duration:10,scrollTrigger:{trigger:".animation_ScrollArea",start:"top center",end:"bottom 20px",scrub:!0}})});return()=>j.revert()},[]),jsxs("section",{className:"before:contents-['']  animation_ScrollArea relative flex h-[636px] before:absolute before:top-0 before:left-[50%] before:block before:h-[100%] before:w-[1px] before:bg-black",children:[jsx("div",{className:"animation_ScrollBg"}),jsx("h2",{className:"seo_hidden",children:"\u60A8\u662F\u5426\u6709\u4EE5\u4E0B\u7684\u56F0\u64FE?"}),jsx("div",{className:"flex flex-1 items-center justify-center",children:jsxs("p",{className:"animation_text text-[10vh] font-extrabold",children:["\u60A8\u662F\u5426\u4E5F\u6709 ",jsx("br",{}),"\u4EE5\u4E0B\u7684\u56F0\u64FE?"]})}),jsx("div",{className:"animation_text flex flex-1 items-center justify-center",children:jsxs("ul",{children:[jsx("li",{className:"mb-7 text-4xl font-extrabold",children:"\u6EFF\u8DB3\u4E0D\u4E86\u540C\u4E8B\u7684\u8A31\u9858?"}),jsx("li",{className:"mb-7 text-4xl font-extrabold ",children:"\u52D5\u756B\u6280\u80FD\u6A39\u592A\u96DC\u7121\u5F9E\u4E0B\u624B?"}),jsx("li",{className:"text-4xl font-extrabold ",children:"\u7FA8\u6155\u5225\u4EBA\u9177\u9177\u7684\u7DB2\u9801\u52D5\u756B?"})]})})]})}const designer="/f2eproject/assets/designer.f49278db.svg",engineer="/f2eproject/assets/engineer.d603e9d0.svg";function Cooperation(){return react.exports.useLayoutEffect(()=>{const j=gsapWithCSS.context(()=>{gsapWithCSS.timeline({scrollTrigger:{trigger:".cooperation",start:"top center",end:"center",scrub:!0}}).fromTo(".imgAnimation",{alpha:0,ease:"power4.out",duration:2},{alpha:1,ease:"power4.out",duration:1})});return()=>j.revert()},[]),react.exports.useLayoutEffect(()=>{const j=gsapWithCSS.context(()=>{const $=gsapWithCSS.timeline({scrollTrigger:{trigger:".cooperation",start:"top center",end:"center",scrub:!0}}),_e=gsapWithCSS.timeline({scrollTrigger:{trigger:".cooperation",start:"top 20%",end:"top 24%",scrub:!0}});$.fromTo(".feText",{x:-100},{x:0,ease:"elastic.out(1, 0.3)",duration:1}),_e.fromTo(".uiText",{rotate:30},{rotate:0,ease:"elastic.out(1, 0.3)",duration:1})});return()=>j.revert()},[]),jsxs("section",{className:"cooperation flex h-[80vh] overflow-hidden px-[224px] py-[107px]",children:[jsx("h2",{className:"seo_hidden",children:"\u4E92\u76F8\u5408\u4F5C"}),jsxs("div",{className:"flex flex-1",children:[jsxs("div",{className:"ui mr-2 flex h-[600px] flex-col justify-between",children:[jsx("div",{className:"imgAnimation h-[500px] w-[445px]",style:{backgroundImage:`url(${engineer})`,backgroundRepeat:"no-repeat",backgroundPosition:"center 10%",backgroundSize:"contain"}}),jsx("p",{className:"feText inline-block bg-black p-[10px]  text-center  text-white",children:"Front-End Engineer"})]}),jsxs("div",{className:"fe flex h-[600px] flex-col justify-between",children:[jsx("div",{className:"imgAnimation relative h-[500px]  w-[375px]",style:{backgroundImage:`url(${designer})`,backgroundRepeat:"no-repeat",backgroundPosition:"bottom center",backgroundSize:"100%"}}),jsx("p",{className:"uiText inline-block bg-black p-[10px] text-center  text-white",children:"UI / UX Designer"})]})]}),jsxs("div",{className:"flex flex-1 flex-col items-center justify-end  text-center",children:[jsxs("div",{className:"w-[480px] border border-black",children:[jsx("p",{className:"bg-black px-[160px] py-[23px] text-4xl font-bold text-white",children:"\u672C\u5C46\u4E3B\u984C"}),jsxs("h3",{className:"border-b border-black px-[90px] py-[18.5px] text-6xl font-extrabold leading-[70px]",children:[jsx("span",{children:"\u4E92\u52D5\u5F0F"}),jsx("br",{}),jsx("span",{className:"text-5xl",children:"\u7DB2\u9801\u8A2D\u8A08"})]}),jsxs("p",{className:"flex text-4xl font-bold",children:[jsx("span",{className:"inline-block flex-1 border-r border-black px-[60px] py-[36px]",children:"\u8A2D\u8A08\u5E2B"}),jsx("span",{className:"inline-block flex-1 px-[60px] py-[36px]",children:"\u5DE5\u7A0B\u5E2B"})]})]}),jsx("p",{className:"mt-9 text-4xl font-bold text-pink-300",children:"\u651C\u624B\u5408\u4F5C"})]})]})}const go="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMOSURBVHgB5ZuLkdowEIbXmRRwVBBRQUIFMRWQqyDpwNeBSQV3HQAVkFQgXwWmA6uD0MFm168YBxs45JXs+2YWPxBY/6yeaymAgUDEBzqEZJ/IvpTG91QrqSntSHYge+VjEARH8B0WSbYm03g/miwiU+AblKkQ7YjsEx+CawSEtsnIViANPVQJC22zQamiTg96IvuD7snIvsNQYNEgvaB/PN+iI7gmERZdjIaia/ER7s4eqSszlxJeFIxFXWGxCvzGkC0vie4VPCKxFYZs0Tdo+QD97GE8YhlFpssqeJZOwfSjF/C3zvbBeY5v+gWJ/YHj5+mctuCMWAXjqrddcD1etBuxc0Wai4OC8cP1eNO+eeJh8u43KBqqKcFdVVJdtAVnMA3vNklI8LK6qIs0FtMvBdMjxMbUslmHb2vKx0WtLRdctswhCGGMgdlsBvP5PD8XgL2cD0YqD4tOqrfbLRyPx1zscrmUEh3VZyg8mc+yDJVSyI9m43O+NzC6EvuADnAk+qGKSznBgegVC47RIcKiIxa8R8cIit6IN1hdCIlO8+EkeoKA6CzgT7BEkiS53QP3ybvdrr4m0aC1zo9WQIvEcVx7x6axp21xKaY1OT6CRcIwhHvpKtLWwHfWaLHgFD1AqFvSLHiDjhEceOxZcIQOER5axnngDh3hYPLw9f1ND8uWWqMgLgMA1cAjAUE4xFOFdawPHbv5VZ+hcLFO0zT3qpBnKxRrDRqi2eUhTJM6GN8cS/+E6bKuTtqvWqboZUPenVcX7dnSFL188p74RHD5li2B6bAlTb+bN7peiKdQvF8dMwbOrOr5LwBQJphC0V5fs26rhjz9jOOlc3Ve0CPY99V3XfDi8kXXl50xrXJxF3fWBsaDIXvsS9AbxBuZaANXLD28GLUs/4BFH8BfOG+Lmxqpa0A/GzLO03BdKBar9DJ0Dy9Sj0ACLLYAbNAdGl3sdqGHrlDW2xo5LuUazgQOv43HvdA2WBT1CO1t1IrRcoN01Z6Ht1Bm9DMU8+vmNjzVSmrg3za8Q3n9OtRWvL+ubcHMOZDIRgAAAABJRU5ErkJggg==";function DesignFlow(){react.exports.useLayoutEffect(()=>{const _e=gsapWithCSS.context(()=>{let et=gsapWithCSS.utils.toArray(".blockBox");gsapWithCSS.to(et,{xPercent:-100,ease:"none",scrollTrigger:{trigger:".target",start:"top 50%",end:"top 55%",pin:!0,pinSpacing:!1,scrub:50,invalidateOnRefresh:!0}})});return()=>_e.revert()},[]);const[j,$]=react.exports.useState([{title:"\u7248\u584A\u8A2D\u8A08",text:"The F2E \u6D3B\u52D5\u7DB2\u7AD9\u8A2D\u8A08",tag:"#\u8996\u5DEE\u6EFE\u52D5"},{title:"\u51F1\u923F\u884C\u52D5\u79D1\u6280",text:"\u4ECA\u665A \u6211\u60F3\u4F86\u9EDE\u9EDE\u7C3D",tag:"#Canvas"},{title:"\u9226\u5766\u79D1\u6280",text:"Scrum  \u65B0\u624B\u6751",tag:"#JS draggable"}]);return jsxs("section",{className:"designFlow relative z-0 flex bg-black ",id:"container ",children:[jsxs("div",{className:"absolute z-10 flex h-[500px] w-[700px] flex-col justify-center bg-black px-3 text-left",children:[jsxs("h3",{className:"mb-2 text-[100px] font-black leading-[1.2] text-white",children:["\u5E74\u5EA6\u6700\u5F37\u5408\u4F5C",jsx("br",{}),"\u4E09\u5927\u4E3B\u984C\u4F86\u8972"]}),jsx("p",{className:"text-4xl leading-[1.2] text-gray-500",children:"\u5404\u8DEF\u5EE0\u5546\u5F37\u5F37\u806F\u624B"}),jsx("p",{className:" text-4xl leading-[1.2]  text-gray-500",children:"\u5171\u540C\u8A2D\u8A08\u51FA\u63A5\u5730\u5668\u7684\u7DB2\u9801\u4E92\u52D5\u6311\u6230\u95DC\u5361"})]}),jsx("div",{className:"target h-[500px] ",children:jsxs("section",{className:"content",id:"content",children:[jsx("h2",{className:"seo_hidden",children:"\u4E09\u5927\u4E3B\u984C\u4F86\u8972"}),j.map((_e,et)=>jsx("div",{className:"blockBox ",children:jsxs("div",{className:"item relative  flex h-[100%] flex-1 flex-col ",children:[jsxs("div",{className:"item_title flex justify-between",children:[_e.title,jsx("p",{className:"relative -top-5 -right-5 h-[150px] w-[150px] bg-white"})]}),jsxs("p",{className:"item_text text-[40px] ",children:[" ",_e.text]}),jsx("p",{className:"mb-2",children:_e.tag}),jsxs("p",{className:" flex items-center",children:["\u95B1\u8B80\u66F4\u591A",jsx("span",{className:"ml-4 block h-[60px] w-[60px]",style:{backgroundImage:`url(${go})`}})]}),jsxs("p",{className:" leading-0 absolute -bottom-5 right-5 text-[130px] font-black text-gray-200 opacity-25",children:["0",et+1]})]})},et))]})})]})}function TimeLine(){return jsxs("section",{className:"h-[850px] bg-gradient-to-b\r from-[#4363AE] to-[#E73863]\r py-[72px]\r px-[120px]",children:[jsx("h2",{className:"mb-[275px] text-center text-6xl text-white",children:"\u984D\u5916\u7AF6\u8CFD \u4E3B\u984C\u8C50\u539A\u734E\u91D1\u7B49\u8457\u4F60"}),jsxs("ul",{className:"timeline flex items-center justify-between",children:[jsxs("li",{className:"relative text-[32px] text-white",children:[jsx("div",{className:"mb-5 flex h-[96px]  w-[96px] items-center justify-center rounded-full bg-zinc-50/20",children:jsx("div",{className:"relative z-10 h-5 w-5 rounded-full bg-white"})}),jsx("p",{children:"10/13"})]}),jsxs("li",{className:"relative text-[32px] text-white",children:[jsx("div",{className:"mb-5 flex h-[96px]  w-[96px] items-center justify-center rounded-full bg-zinc-50/20",children:jsx("div",{className:"relative z-10 h-5 w-5 rounded-full bg-white"})}),jsx("p",{children:"10/30"})]}),jsxs("li",{className:"relative text-[32px] text-white",children:[jsx("div",{className:"mb-5 flex h-[96px]  w-[96px] items-center justify-center rounded-full bg-zinc-50/20",children:jsx("div",{className:"relative z-10 h-5 w-5 rounded-full bg-white"})}),jsx("p",{className:"info info-one",children:"10/31"})]}),jsxs("li",{className:"relative text-[32px] text-white",children:[jsx("div",{className:"mb-5 flex h-[96px]  w-[96px] items-center justify-center rounded-full bg-zinc-50/20",children:jsx("div",{className:"relative z-10 h-5 w-5 rounded-full bg-white"})}),jsx("p",{className:"info info-two",children:"11/07"})]}),jsxs("li",{className:"relative text-[32px] text-white",children:[jsx("div",{className:"mb-5 flex h-[96px]  w-[96px] items-center justify-center rounded-full bg-zinc-50/20",children:jsx("div",{className:"relative z-10 h-5 w-5 rounded-full bg-white"})}),jsx("p",{children:"11/28"})]})]})]})}/*!
 * strings: 3.11.3
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _trimExp=/(?:^\s+|\s+$)/g,emojiExp=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function getText(j){var $=j.nodeType,_e="";if($===1||$===9||$===11){if(typeof j.textContent=="string")return j.textContent;for(j=j.firstChild;j;j=j.nextSibling)_e+=getText(j)}else if($===3||$===4)return j.nodeValue;return _e}function splitInnerHTML(j,$,_e,et){for(var tt=j.firstChild,st=[],gt;tt;)tt.nodeType===3?(gt=(tt.nodeValue+"").replace(/^\n+/g,""),et||(gt=gt.replace(/\s+/g," ")),st.push.apply(st,emojiSafeSplit(gt,$,_e,et))):(tt.nodeName+"").toLowerCase()==="br"?st[st.length-1]+="<br>":st.push(tt.outerHTML),tt=tt.nextSibling;for(gt=st.length;gt--;)st[gt]==="&"&&st.splice(gt,1,"&amp;");return st}function emojiSafeSplit(j,$,_e,et){if(j+="",_e&&(j=j.trim?j.trim():j.replace(_trimExp,"")),$&&$!=="")return j.replace(/>/g,"&gt;").replace(/</g,"&lt;").split($);for(var tt=[],st=j.length,gt=0,lt,nt;gt<st;gt++)nt=j.charAt(gt),(nt.charCodeAt(0)>=55296&&nt.charCodeAt(0)<=56319||j.charCodeAt(gt+1)>=65024&&j.charCodeAt(gt+1)<=65039)&&(lt=((j.substr(gt,12).split(emojiExp)||[])[1]||"").length||2,nt=j.substr(gt,lt),tt.emoji=1,gt+=lt-1),tt.push(nt===">"?"&gt;":nt==="<"?"&lt;":et&&nt===" "&&(j.charAt(gt-1)===" "||j.charAt(gt+1)===" ")?"&nbsp;":nt);return tt}/*!
 * TextPlugin 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gsap$2,_tempDiv,_getGSAP$2=function(){return gsap$2||typeof window<"u"&&(gsap$2=window.gsap)&&gsap$2.registerPlugin&&gsap$2},TextPlugin={version:"3.11.3",name:"text",init:function($,_e,et){typeof _e!="object"&&(_e={value:_e});var tt=$.nodeName.toUpperCase(),st=this,gt=_e,lt=gt.newClass,nt=gt.oldClass,ut=gt.preserveSpaces,ht=gt.rtl,at=st.delimiter=_e.delimiter||"",it=st.fillChar=_e.fillChar||(_e.padSpace?"&nbsp;":""),rt,ot,ft,ct,dt,pt,mt,_t;if(st.svg=$.getBBox&&(tt==="TEXT"||tt==="TSPAN"),!("innerHTML"in $)&&!st.svg)return!1;if(st.target=$,!("value"in _e)){st.text=st.original=[""];return}for(ft=splitInnerHTML($,at,!1,ut),_tempDiv||(_tempDiv=document.createElement("div")),_tempDiv.innerHTML=_e.value,ot=splitInnerHTML(_tempDiv,at,!1,ut),st.from=et._from,(st.from||ht)&&!(ht&&st.from)&&(tt=ft,ft=ot,ot=tt),st.hasClass=!!(lt||nt),st.newClass=ht?nt:lt,st.oldClass=ht?lt:nt,tt=ft.length-ot.length,rt=tt<0?ft:ot,tt<0&&(tt=-tt);--tt>-1;)rt.push(it);if(_e.type==="diff"){for(ct=0,dt=[],pt=[],mt="",tt=0;tt<ot.length;tt++)_t=ot[tt],_t===ft[tt]?mt+=_t:(dt[ct]=mt+_t,pt[ct++]=mt+ft[tt],mt="");ot=dt,ft=pt,mt&&(ot.push(mt),ft.push(mt))}_e.speed&&et.duration(Math.min(.05/_e.speed*rt.length,_e.maxDuration||9999)),st.rtl=ht,st.original=ft,st.text=ot,st._props.push("text")},render:function($,_e){$>1?$=1:$<0&&($=0),_e.from&&($=1-$);var et=_e.text,tt=_e.hasClass,st=_e.newClass,gt=_e.oldClass,lt=_e.delimiter,nt=_e.target,ut=_e.fillChar,ht=_e.original,at=_e.rtl,it=et.length,rt=(at?1-$:$)*it+.5|0,ot,ft,ct;tt&&$?(ot=st&&rt,ft=gt&&rt!==it,ct=(ot?"<span class='"+st+"'>":"")+et.slice(0,rt).join(lt)+(ot?"</span>":"")+(ft?"<span class='"+gt+"'>":"")+lt+ht.slice(rt).join(lt)+(ft?"</span>":"")):ct=et.slice(0,rt).join(lt)+lt+ht.slice(rt).join(lt),_e.svg?nt.textContent=ct:nt.innerHTML=ut==="&nbsp;"&&~ct.indexOf("  ")?ct.split("  ").join("&nbsp;&nbsp;"):ct}};TextPlugin.splitInnerHTML=splitInnerHTML;TextPlugin.emojiSafeSplit=emojiSafeSplit;TextPlugin.getText=getText;_getGSAP$2()&&gsap$2.registerPlugin(TextPlugin);function Awards(){gsapWithCSS.registerPlugin(TextPlugin);const[j,$]=react.exports.useState([{title:"\u521D\u9078\u4F73\u4F5C",text:"\u6578\u4F4D\u734E\u72C0",num:"60\u4F4D",awards:""},{title:"\u521D\u9078\u4F73\u4F5C",text:"\u500B\u4EBA\u4F01\u696D\u734E",num:"6\u4F4D",awards:"3,000"},{title:"\u521D\u9078\u4F73\u4F5C",text:"\u6578\u4F4D\u734E\u72C0",num:"6\u4F4D",awards:"10,000"}]);return react.exports.useLayoutEffect(()=>{const _e=gsapWithCSS.context(()=>{gsapWithCSS.to(".typing",{text:"\u5340\u5340\u4FEE\u7149\u5DF2\u7D93\u7121\u6CD5\u6EFF\u8DB3\u4E86\u55CE\uFF1F\u9084\u6709\u6BD4\u8CFD\u7B49\u8457\u4F60\uFF01",duration:4.5,scrollTrigger:{trigger:".typing",toggleActions:"play pause resume reset"}}),gsapWithCSS.fromTo(".cursor",0,{visibility:"hidden"},{visibility:"visible",repeat:-1,yoyo:!0,repeatDelay:.3})});return()=>_e.revert()},[]),jsxs("section",{className:" awards h-[110vh] py-[110px] text-center font-black ",children:[jsxs("h2",{className:"awards-title relative mb-8 text-6xl before:absolute before:top-1/2 before:left-1/2 before:-z-10 before:block before:h-[50px] before:w-[65%] before:-translate-y-[10%] before:-translate-x-[50%] before:bg-slate-200 before:content-['']",children:[jsx("span",{className:"typing"}),jsx("span",{className:"cursor",children:"_"})]}),jsxs("div",{className:"border-b border-black pb-8",children:[jsx("h3",{className:"text-4xl",children:"\u8A55\u5BE9\u6A5F\u5236"}),jsx("span",{className:"my-4 inline-block h-1  w-12 bg-black"}),jsxs("div",{className:"flex justify-center",children:[jsxs("div",{className:"mr-4  w-[400px] border border-black",children:[jsx("p",{className:" border-b-[1px] border-black bg-blue-400 py-[13px] text-white",children:"\u521D\u9078"}),jsx("span",{className:" inline-block p-[12px]",children:"\u7531\u516D\u89D2\u5B78\u9662\u8207\u8D0A\u52A9\u5EE0\u5546\u8A0E\u8AD6\uFF0C \u9032\u884C\u6700\u5F8C\u7BE9\u9078\uFF0C\u4E26\u65BC 12/30(\u4E94) \u7531\u8A55\u5BE9\u9032\u884C\u76F4\u64AD\u516C\u5E03\u540D\u55AE\uFF01"})]}),jsxs("div",{className:"ml-4 w-[400px]  border border-black",children:[jsx("p",{className:" border-b-[1px] border-black bg-blue-400 py-[13px] text-white",children:"\u6C7A\u9078"}),jsx("span",{className:" inline-block p-[12px]",children:"\u5C07\u7531\u516D\u89D2\u5B78\u9662\u524D\u7AEF\u3001 UI \u8A55\u5BE9\u9032\u884C\u7B2C\u4E00\u6CE2\u7BE9\u9078\u3002"})]})]})]}),jsxs("div",{className:"mt-5",children:[jsx("h3",{className:"mb-5 text-[120px] leading-[1] text-gray-200",children:"AWARDS"}),jsx("span",{className:"relative inline-block text-4xl text-black",children:"\u734E\u9805"}),jsx("span",{className:"my-4  mx-auto flex h-1  w-12 bg-black"}),jsx("div",{className:"mb-5 flex justify-center",children:j.map((_e,et)=>jsxs("div",{className:"mr-4  w-[400px] border border-black",children:[jsx("p",{className:" border-b-[1px] border-black bg-pink-600 py-[13px] text-white",children:_e.text}),jsxs("p",{className:"py-[12px] text-[64px]",children:[_e.awards===""&&jsx("span",{className:"block font-bold",children:_e.text}),_e.awards!==""&&jsxs("span",{className:"block font-serif  font-bold",children:[jsx("span",{className:"text-2xl",children:"NTD"}),_e.awards]}),jsx("span",{className:" font-serif",children:_e.num})]})]},et))})]}),jsx("p",{children:"\u4EE5\u4E0A\u7686\u63D0\u4F9B\u5B8C\u8CFD\u6578\u4F4D\u734E\u72C0"})]})}const blockstudio_logo="/f2eproject/assets/blockstudio_logo.98f94cc4.svg",kdan_logo="/f2eproject/assets/kdan_logo.4eadea72.svg",titan_logo="/f2eproject/assets/titan_logo.8d539f2a.svg";function Footer(){const[j,$]=react.exports.useState([{url:kdan_logo},{url:titan_logo},{url:blockstudio_logo}]);return jsxs("div",{className:"h-[40vh] bg-black py-[50px] text-center text-white",children:[jsx("h2",{className:"mb-5 text-[40px] font-bold",children:"\u8D0A\u52A9\u55AE\u4F4D"}),jsx("div",{className:"flex justify-center",children:j.map((_e,et)=>jsx("div",{className:"imgAnimation mx-6 h-[200px] w-[200px]",style:{backgroundImage:`url(${_e.url})`,backgroundRepeat:"no-repeat",backgroundPosition:"center 10%",backgroundSize:"contain"}},et))})]})}function FirstPage(){return jsxs("div",{className:"relative overflow-hidden",children:[jsx("h1",{className:"seo_hidden",children:"F2E"}),jsx(SignUp,{}),jsxs("nav",{className:"px-6 py-5",children:[jsx("h2",{className:"seo_hidden",children:"\u9801\u9762\u5C0E\u89BD"}),jsxs("ul",{className:"flex items-center font-bold",children:[jsx("li",{className:"mr-auto text-2xl",children:"TheF2E"}),jsx("li",{className:"mr-8  cursor-pointer py-4 px-6 duration-300  ease-in-out hover:bg-black hover:text-white",children:"\u95DC\u5361\u8CC7\u8A0A"}),jsx("li",{className:"mr-8  cursor-pointer py-4  px-6 duration-300 ease-in-out hover:bg-black hover:text-white",children:"\u4F5C\u54C1\u5217\u8868"}),jsx("li",{className:"mr-8  cursor-pointer py-4  px-6 duration-300 ease-in-out hover:bg-black hover:text-white",children:"\u653B\u7565\u8CC7\u6E90"}),jsx("li",{className:"mr-8  cursor-pointer py-4  px-6 duration-300 ease-in-out hover:bg-black hover:text-white",children:"\u6C42\u8077\u5C08\u5340"}),jsx("li",{className:"cursor-pointer bg-black py-4 px-6 text-white",children:"\u767B\u5165"})]})]}),jsx(Hero,{}),jsx(QsSection,{}),jsx(Cooperation,{}),jsx(DesignFlow,{}),jsx(TimeLine,{}),jsx(Awards,{}),jsx(Footer,{})]})}const logo_small="/f2eproject/assets/logo_small.fd55a8e0.svg";function Header(){let[j,$]=useSearchParams();return jsx("header",{className:"py-[15px] px-6",children:jsxs("ul",{className:"flex items-center justify-between",children:[jsx("li",{className:"mr-auto h-[68px] w-[100px]",style:{backgroundImage:`url(${logo_small})`,backgroundRepeat:"no-repeat",backgroundPosition:"center 10%",backgroundSize:"contain"}}),jsx("li",{className:"mx-4 cursor-pointer rounded-sm bg-black py-2 px-6 text-white",onClick:()=>$(""),children:"\u670D\u52D9\u4ECB\u7D39"}),jsx("li",{className:"mx-4 cursor-pointer rounded-sm bg-black py-2 px-6 text-white",onClick:()=>$({methods:"sign"}),children:"\u7C3D\u7F72\u6587\u4EF6"}),jsx("li",{className:"mx-4 cursor-pointer rounded-sm bg-black py-2 px-6 text-white",children:"\u8A3B\u518A"}),jsx("li",{className:"mx-4 cursor-pointer rounded-sm bg-black py-2 px-6 text-white",children:"\u767B\u5165"})]})})}const background="/f2eproject/assets/background.b0feeddd.svg",modalContext=react.exports.createContext({hasShow:!1,setShow:()=>{},hasSignModelShow:!0,setSignModel:()=>{},file:{},setFile:()=>{}});function Main(){const{setShow:j}=react.exports.useContext(modalContext);return jsx("main",{className:"flex h-[100%] w-[100%] items-start justify-center bg-black py-[200px] text-center",style:{backgroundImage:`url(${background})`,backgroundRepeat:"no-repeat",backgroundPosition:"center 10%",backgroundSize:"cover"},children:jsxs("div",{className:"text-white",children:[jsxs("h2",{className:"mb-[100px] text-[64px] font-bold",children:["\u96A8\u6642\u96A8\u5730\u90FD\u80FD\u7C3D\uFF0C",jsx("br",{})," SIGNooo\u5E6B\u4F60\u7701\u4E0B\u5927\u7B46\u6642\u9593\uFF01"]}),jsxs("ul",{className:"mb-[160px] flex justify-around",children:[jsx("li",{className:"dot",children:"\u4E0A\u50B3\u6587\u4EF6"}),jsx("li",{className:"dot",children:"\u5EFA\u7ACB\u7C3D\u540D\u6A94"}),jsx("li",{className:"dot",children:"\u7C3D\u7F72\u6587\u4EF6"})]}),jsxs("div",{children:[jsx("p",{className:"mb-4 font-light ",children:"\u53EA\u9700\u4E09\u6B65\u9A5F\uFF0C\u7ACB\u5373\u7C3D\u7F72\u60A8\u7684\u6587\u4EF6\uFF01"}),jsx("button",{className:"inline-block rounded bg-white px-[65.5px] py-[19px] font-bold text-black",onClick:$=>j(_e=>!_e),children:"\u7ACB\u5373\u7C3D\u7F72\u6587\u4EF6"})]})]})})}var fabric={};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(j){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var $=$||{version:"5.2.4"};if(j.fabric=$,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?$.document=document:$.document=document.implementation.createHTMLDocument(""),$.window=window;else{var _e=require$$5,et=new _e.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;$.document=et.document,$.jsdomImplForWrapper=require$$5.implForWrapper,$.nodeCanvas=require$$5.Canvas,$.window=et,DOMParser=$.window.DOMParser}$.isTouchSupported="ontouchstart"in $.window||"ontouchstart"in $.document||$.window&&$.window.navigator&&$.window.navigator.maxTouchPoints>0,$.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",$.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],$.DPI=96,$.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",$.commaWsp="(?:\\s+,?\\s*|,\\s*)",$.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,$.reNonWord=/[ \n\.,;!\?\-]/,$.fontPaths={},$.iMatrix=[1,0,0,1,0,0],$.svgNS="http://www.w3.org/2000/svg",$.perfLimitSizeTotal=2097152,$.maxCacheSideLimit=4096,$.minCacheSideLimit=256,$.charWidthsCache={},$.textureSize=2048,$.disableStyleCopyPaste=!1,$.enableGLFiltering=!0,$.devicePixelRatio=$.window.devicePixelRatio||$.window.webkitDevicePixelRatio||$.window.mozDevicePixelRatio||1,$.browserShadowBlurConstant=1,$.arcToSegmentsCache={},$.boundsOfCurveCache={},$.cachesBoundsOfCurve=!0,$.forceGLPutImageData=!1,$.initFilterBackend=function(){if($.enableGLFiltering&&$.isWebglSupported&&$.isWebglSupported($.textureSize))return console.log("max texture size: "+$.maxTextureSize),new $.WebglFilterBackend({tileSize:$.textureSize});if($.Canvas2dFilterBackend)return new $.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=$),function(){function lt(rt,ot){if(!!this.__eventListeners[rt]){var ft=this.__eventListeners[rt];ot?ft[ft.indexOf(ot)]=!1:$.util.array.fill(ft,!1)}}function nt(rt,ot){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var ft in rt)this.on(ft,rt[ft]);else this.__eventListeners[rt]||(this.__eventListeners[rt]=[]),this.__eventListeners[rt].push(ot);return this}function ut(rt,ot){var ft=function(){ot.apply(this,arguments),this.off(rt,ft)}.bind(this);this.on(rt,ft)}function ht(rt,ot){if(arguments.length===1)for(var ft in rt)ut.call(this,ft,rt[ft]);else ut.call(this,rt,ot);return this}function at(rt,ot){if(!this.__eventListeners)return this;if(arguments.length===0)for(rt in this.__eventListeners)lt.call(this,rt);else if(arguments.length===1&&typeof arguments[0]=="object")for(var ft in rt)lt.call(this,ft,rt[ft]);else lt.call(this,rt,ot);return this}function it(rt,ot){if(!this.__eventListeners)return this;var ft=this.__eventListeners[rt];if(!ft)return this;for(var ct=0,dt=ft.length;ct<dt;ct++)ft[ct]&&ft[ct].call(this,ot||{});return this.__eventListeners[rt]=ft.filter(function(pt){return pt!==!1}),this}$.Observable={fire:it,on:nt,once:ht,off:at}}(),$.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var lt=0,nt=arguments.length;lt<nt;lt++)this._onObjectAdded(arguments[lt]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(lt,nt,ut){var ht=this._objects;return ut?ht[nt]=lt:ht.splice(nt,0,lt),this._onObjectAdded&&this._onObjectAdded(lt),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var lt=this._objects,nt,ut=!1,ht=0,at=arguments.length;ht<at;ht++)nt=lt.indexOf(arguments[ht]),nt!==-1&&(ut=!0,lt.splice(nt,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[ht]));return this.renderOnAddRemove&&ut&&this.requestRenderAll(),this},forEachObject:function(lt,nt){for(var ut=this.getObjects(),ht=0,at=ut.length;ht<at;ht++)lt.call(nt,ut[ht],ht,ut);return this},getObjects:function(lt){return typeof lt>"u"?this._objects.concat():this._objects.filter(function(nt){return nt.type===lt})},item:function(lt){return this._objects[lt]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(lt,nt){return this._objects.indexOf(lt)>-1?!0:nt?this._objects.some(function(ut){return typeof ut.contains=="function"&&ut.contains(lt,!0)}):!1},complexity:function(){return this._objects.reduce(function(lt,nt){return lt+=nt.complexity?nt.complexity():0,lt},0)}},$.CommonMethods={_setOptions:function(lt){for(var nt in lt)this.set(nt,lt[nt])},_initGradient:function(lt,nt){lt&&lt.colorStops&&!(lt instanceof $.Gradient)&&this.set(nt,new $.Gradient(lt))},_initPattern:function(lt,nt,ut){lt&&lt.source&&!(lt instanceof $.Pattern)?this.set(nt,new $.Pattern(lt,ut)):ut&&ut()},_setObject:function(lt){for(var nt in lt)this._set(nt,lt[nt])},set:function(lt,nt){return typeof lt=="object"?this._setObject(lt):this._set(lt,nt),this},_set:function(lt,nt){this[lt]=nt},toggle:function(lt){var nt=this.get(lt);return typeof nt=="boolean"&&this.set(lt,!nt),this},get:function(lt){return this[lt]}},function(lt){var nt=Math.sqrt,ut=Math.atan2,ht=Math.pow,at=Math.PI/180,it=Math.PI/2;$.util={cos:function(rt){if(rt===0)return 1;rt<0&&(rt=-rt);var ot=rt/it;switch(ot){case 1:case 3:return 0;case 2:return-1}return Math.cos(rt)},sin:function(rt){if(rt===0)return 0;var ot=rt/it,ft=1;switch(rt<0&&(ft=-1),ot){case 1:return ft;case 2:return 0;case 3:return-ft}return Math.sin(rt)},removeFromArray:function(rt,ot){var ft=rt.indexOf(ot);return ft!==-1&&rt.splice(ft,1),rt},getRandomInt:function(rt,ot){return Math.floor(Math.random()*(ot-rt+1))+rt},degreesToRadians:function(rt){return rt*at},radiansToDegrees:function(rt){return rt/at},rotatePoint:function(rt,ot,ft){var ct=new $.Point(rt.x-ot.x,rt.y-ot.y),dt=$.util.rotateVector(ct,ft);return new $.Point(dt.x,dt.y).addEquals(ot)},rotateVector:function(rt,ot){var ft=$.util.sin(ot),ct=$.util.cos(ot),dt=rt.x*ct-rt.y*ft,pt=rt.x*ft+rt.y*ct;return{x:dt,y:pt}},createVector:function(rt,ot){return new $.Point(ot.x-rt.x,ot.y-rt.y)},calcAngleBetweenVectors:function(rt,ot){return Math.acos((rt.x*ot.x+rt.y*ot.y)/(Math.hypot(rt.x,rt.y)*Math.hypot(ot.x,ot.y)))},getHatVector:function(rt){return new $.Point(rt.x,rt.y).multiply(1/Math.hypot(rt.x,rt.y))},getBisector:function(rt,ot,ft){var ct=$.util.createVector(rt,ot),dt=$.util.createVector(rt,ft),pt=$.util.calcAngleBetweenVectors(ct,dt),mt=$.util.calcAngleBetweenVectors($.util.rotateVector(ct,pt),dt),_t=pt*(mt===0?1:-1)/2;return{vector:$.util.getHatVector($.util.rotateVector(ct,_t)),angle:pt}},projectStrokeOnPoints:function(rt,ot,ft){var ct=[],dt=ot.strokeWidth/2,pt=ot.strokeUniform?new $.Point(1/ot.scaleX,1/ot.scaleY):new $.Point(1,1),mt=function(_t){var vt=dt/Math.hypot(_t.x,_t.y);return new $.Point(_t.x*vt*pt.x,_t.y*vt*pt.y)};return rt.length<=1||rt.forEach(function(_t,vt){var yt=new $.Point(_t.x,_t.y),Ct,bt;vt===0?(bt=rt[vt+1],Ct=ft?mt($.util.createVector(bt,yt)).addEquals(yt):rt[rt.length-1]):vt===rt.length-1?(Ct=rt[vt-1],bt=ft?mt($.util.createVector(Ct,yt)).addEquals(yt):rt[0]):(Ct=rt[vt-1],bt=rt[vt+1]);var Dt=$.util.getBisector(yt,Ct,bt),wt=Dt.vector,Ft=Dt.angle,Lt,Qt;if(ot.strokeLineJoin==="miter"&&(Lt=-dt/Math.sin(Ft/2),Qt=new $.Point(wt.x*Lt*pt.x,wt.y*Lt*pt.y),Math.hypot(Qt.x,Qt.y)/dt<=ot.strokeMiterLimit)){ct.push(yt.add(Qt)),ct.push(yt.subtract(Qt));return}Lt=-dt*Math.SQRT2,Qt=new $.Point(wt.x*Lt*pt.x,wt.y*Lt*pt.y),ct.push(yt.add(Qt)),ct.push(yt.subtract(Qt))}),ct},transformPoint:function(rt,ot,ft){return ft?new $.Point(ot[0]*rt.x+ot[2]*rt.y,ot[1]*rt.x+ot[3]*rt.y):new $.Point(ot[0]*rt.x+ot[2]*rt.y+ot[4],ot[1]*rt.x+ot[3]*rt.y+ot[5])},makeBoundingBoxFromPoints:function(rt,ot){if(ot)for(var ft=0;ft<rt.length;ft++)rt[ft]=$.util.transformPoint(rt[ft],ot);var ct=[rt[0].x,rt[1].x,rt[2].x,rt[3].x],dt=$.util.array.min(ct),pt=$.util.array.max(ct),mt=pt-dt,_t=[rt[0].y,rt[1].y,rt[2].y,rt[3].y],vt=$.util.array.min(_t),yt=$.util.array.max(_t),Ct=yt-vt;return{left:dt,top:vt,width:mt,height:Ct}},invertTransform:function(rt){var ot=1/(rt[0]*rt[3]-rt[1]*rt[2]),ft=[ot*rt[3],-ot*rt[1],-ot*rt[2],ot*rt[0]],ct=$.util.transformPoint({x:rt[4],y:rt[5]},ft,!0);return ft[4]=-ct.x,ft[5]=-ct.y,ft},toFixed:function(rt,ot){return parseFloat(Number(rt).toFixed(ot))},parseUnit:function(rt,ot){var ft=/\D{0,2}$/.exec(rt),ct=parseFloat(rt);switch(ot||(ot=$.Text.DEFAULT_SVG_FONT_SIZE),ft[0]){case"mm":return ct*$.DPI/25.4;case"cm":return ct*$.DPI/2.54;case"in":return ct*$.DPI;case"pt":return ct*$.DPI/72;case"pc":return ct*$.DPI/72*12;case"em":return ct*ot;default:return ct}},falseFunction:function(){return!1},getKlass:function(rt,ot){return rt=$.util.string.camelize(rt.charAt(0).toUpperCase()+rt.slice(1)),$.util.resolveNamespace(ot)[rt]},getSvgAttributes:function(rt){var ot=["instantiated_by_use","style","id","class"];switch(rt){case"linearGradient":ot=ot.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":ot=ot.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":ot=ot.concat(["offset","stop-color","stop-opacity"]);break}return ot},resolveNamespace:function(rt){if(!rt)return $;var ot=rt.split("."),ft=ot.length,ct,dt=lt||$.window;for(ct=0;ct<ft;++ct)dt=dt[ot[ct]];return dt},loadImage:function(rt,ot,ft,ct){if(!rt){ot&&ot.call(ft,rt);return}var dt=$.util.createImage(),pt=function(){ot&&ot.call(ft,dt,!1),dt=dt.onload=dt.onerror=null};dt.onload=pt,dt.onerror=function(){$.log("Error loading "+dt.src),ot&&ot.call(ft,null,!0),dt=dt.onload=dt.onerror=null},rt.indexOf("data")!==0&&ct!==void 0&&ct!==null&&(dt.crossOrigin=ct),rt.substring(0,14)==="data:image/svg"&&(dt.onload=null,$.util.loadImageInDom(dt,pt)),dt.src=rt},loadImageInDom:function(rt,ot){var ft=$.document.createElement("div");ft.style.width=ft.style.height="1px",ft.style.left=ft.style.top="-100%",ft.style.position="absolute",ft.appendChild(rt),$.document.querySelector("body").appendChild(ft),rt.onload=function(){ot(),ft.parentNode.removeChild(ft),ft=null}},enlivenObjects:function(rt,ot,ft,ct){rt=rt||[];var dt=[],pt=0,mt=rt.length;function _t(){++pt===mt&&ot&&ot(dt.filter(function(vt){return vt}))}if(!mt){ot&&ot(dt);return}rt.forEach(function(vt,yt){if(!vt||!vt.type){_t();return}var Ct=$.util.getKlass(vt.type,ft);Ct.fromObject(vt,function(bt,Dt){Dt||(dt[yt]=bt),ct&&ct(vt,bt,Dt),_t()})})},enlivenObjectEnlivables:function(rt,ot,ft){var ct=$.Object.ENLIVEN_PROPS.filter(function(dt){return!!rt[dt]});$.util.enlivenObjects(ct.map(function(dt){return rt[dt]}),function(dt){var pt={};ct.forEach(function(mt,_t){pt[mt]=dt[_t],ot&&(ot[mt]=dt[_t])}),ft&&ft(pt)})},enlivenPatterns:function(rt,ot){rt=rt||[];function ft(){++dt===pt&&ot&&ot(ct)}var ct=[],dt=0,pt=rt.length;if(!pt){ot&&ot(ct);return}rt.forEach(function(mt,_t){mt&&mt.source?new $.Pattern(mt,function(vt){ct[_t]=vt,ft()}):(ct[_t]=mt,ft())})},groupSVGElements:function(rt,ot,ft){var ct;return rt&&rt.length===1?(typeof ft<"u"&&(rt[0].sourcePath=ft),rt[0]):(ot&&(ot.width&&ot.height?ot.centerPoint={x:ot.width/2,y:ot.height/2}:(delete ot.width,delete ot.height)),ct=new $.Group(rt,ot),typeof ft<"u"&&(ct.sourcePath=ft),ct)},populateWithProperties:function(rt,ot,ft){if(ft&&Array.isArray(ft))for(var ct=0,dt=ft.length;ct<dt;ct++)ft[ct]in rt&&(ot[ft[ct]]=rt[ft[ct]])},createCanvasElement:function(){return $.document.createElement("canvas")},copyCanvasElement:function(rt){var ot=$.util.createCanvasElement();return ot.width=rt.width,ot.height=rt.height,ot.getContext("2d").drawImage(rt,0,0),ot},toDataURL:function(rt,ot,ft){return rt.toDataURL("image/"+ot,ft)},createImage:function(){return $.document.createElement("img")},multiplyTransformMatrices:function(rt,ot,ft){return[rt[0]*ot[0]+rt[2]*ot[1],rt[1]*ot[0]+rt[3]*ot[1],rt[0]*ot[2]+rt[2]*ot[3],rt[1]*ot[2]+rt[3]*ot[3],ft?0:rt[0]*ot[4]+rt[2]*ot[5]+rt[4],ft?0:rt[1]*ot[4]+rt[3]*ot[5]+rt[5]]},qrDecompose:function(rt){var ot=ut(rt[1],rt[0]),ft=ht(rt[0],2)+ht(rt[1],2),ct=nt(ft),dt=(rt[0]*rt[3]-rt[2]*rt[1])/ct,pt=ut(rt[0]*rt[2]+rt[1]*rt[3],ft);return{angle:ot/at,scaleX:ct,scaleY:dt,skewX:pt/at,skewY:0,translateX:rt[4],translateY:rt[5]}},calcRotateMatrix:function(rt){if(!rt.angle)return $.iMatrix.concat();var ot=$.util.degreesToRadians(rt.angle),ft=$.util.cos(ot),ct=$.util.sin(ot);return[ft,ct,-ct,ft,0,0]},calcDimensionsMatrix:function(rt){var ot=typeof rt.scaleX>"u"?1:rt.scaleX,ft=typeof rt.scaleY>"u"?1:rt.scaleY,ct=[rt.flipX?-ot:ot,0,0,rt.flipY?-ft:ft,0,0],dt=$.util.multiplyTransformMatrices,pt=$.util.degreesToRadians;return rt.skewX&&(ct=dt(ct,[1,0,Math.tan(pt(rt.skewX)),1],!0)),rt.skewY&&(ct=dt(ct,[1,Math.tan(pt(rt.skewY)),0,1],!0)),ct},composeMatrix:function(rt){var ot=[1,0,0,1,rt.translateX||0,rt.translateY||0],ft=$.util.multiplyTransformMatrices;return rt.angle&&(ot=ft(ot,$.util.calcRotateMatrix(rt))),(rt.scaleX!==1||rt.scaleY!==1||rt.skewX||rt.skewY||rt.flipX||rt.flipY)&&(ot=ft(ot,$.util.calcDimensionsMatrix(rt))),ot},resetObjectTransform:function(rt){rt.scaleX=1,rt.scaleY=1,rt.skewX=0,rt.skewY=0,rt.flipX=!1,rt.flipY=!1,rt.rotate(0)},saveObjectTransform:function(rt){return{scaleX:rt.scaleX,scaleY:rt.scaleY,skewX:rt.skewX,skewY:rt.skewY,angle:rt.angle,left:rt.left,flipX:rt.flipX,flipY:rt.flipY,top:rt.top}},isTransparent:function(rt,ot,ft,ct){ct>0&&(ot>ct?ot-=ct:ot=0,ft>ct?ft-=ct:ft=0);var dt=!0,pt,mt,_t=rt.getImageData(ot,ft,ct*2||1,ct*2||1),vt=_t.data.length;for(pt=3;pt<vt&&(mt=_t.data[pt],dt=mt<=0,dt!==!1);pt+=4);return _t=null,dt},parsePreserveAspectRatioAttribute:function(rt){var ot="meet",ft="Mid",ct="Mid",dt=rt.split(" "),pt;return dt&&dt.length&&(ot=dt.pop(),ot!=="meet"&&ot!=="slice"?(pt=ot,ot="meet"):dt.length&&(pt=dt.pop())),ft=pt!=="none"?pt.slice(1,4):"none",ct=pt!=="none"?pt.slice(5,8):"none",{meetOrSlice:ot,alignX:ft,alignY:ct}},clearFabricFontCache:function(rt){rt=(rt||"").toLowerCase(),rt?$.charWidthsCache[rt]&&delete $.charWidthsCache[rt]:$.charWidthsCache={}},limitDimsByArea:function(rt,ot){var ft=Math.sqrt(ot*rt),ct=Math.floor(ot/ft);return{x:Math.floor(ft),y:ct}},capValue:function(rt,ot,ft){return Math.max(rt,Math.min(ot,ft))},findScaleToFit:function(rt,ot){return Math.min(ot.width/rt.width,ot.height/rt.height)},findScaleToCover:function(rt,ot){return Math.max(ot.width/rt.width,ot.height/rt.height)},matrixToSVG:function(rt){return"matrix("+rt.map(function(ot){return $.util.toFixed(ot,$.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(rt,ot){var ft=$.util.invertTransform(ot),ct=$.util.multiplyTransformMatrices(ft,rt.calcOwnMatrix());$.util.applyTransformToObject(rt,ct)},addTransformToObject:function(rt,ot){$.util.applyTransformToObject(rt,$.util.multiplyTransformMatrices(ot,rt.calcOwnMatrix()))},applyTransformToObject:function(rt,ot){var ft=$.util.qrDecompose(ot),ct=new $.Point(ft.translateX,ft.translateY);rt.flipX=!1,rt.flipY=!1,rt.set("scaleX",ft.scaleX),rt.set("scaleY",ft.scaleY),rt.skewX=ft.skewX,rt.skewY=ft.skewY,rt.angle=ft.angle,rt.setPositionByOrigin(ct,"center","center")},sizeAfterTransform:function(rt,ot,ft){var ct=rt/2,dt=ot/2,pt=[{x:-ct,y:-dt},{x:ct,y:-dt},{x:-ct,y:dt},{x:ct,y:dt}],mt=$.util.calcDimensionsMatrix(ft),_t=$.util.makeBoundingBoxFromPoints(pt,mt);return{x:_t.width,y:_t.height}},mergeClipPaths:function(rt,ot){var ft=rt,ct=ot;ft.inverted&&!ct.inverted&&(ft=ot,ct=rt),$.util.applyTransformToObject(ct,$.util.multiplyTransformMatrices($.util.invertTransform(ft.calcTransformMatrix()),ct.calcTransformMatrix()));var dt=ft.inverted&&ct.inverted;return dt&&(ft.inverted=ct.inverted=!1),new $.Group([ft],{clipPath:ct,inverted:dt})},hasStyleChanged:function(rt,ot,ft){return ft=ft||!1,rt.fill!==ot.fill||rt.stroke!==ot.stroke||rt.strokeWidth!==ot.strokeWidth||rt.fontSize!==ot.fontSize||rt.fontFamily!==ot.fontFamily||rt.fontWeight!==ot.fontWeight||rt.fontStyle!==ot.fontStyle||rt.deltaY!==ot.deltaY||ft&&(rt.overline!==ot.overline||rt.underline!==ot.underline||rt.linethrough!==ot.linethrough)},stylesToArray:function(ft,ot){for(var ft=$.util.object.clone(ft,!0),ct=ot.split(`
`),dt=-1,pt={},mt=[],_t=0;_t<ct.length;_t++){if(!ft[_t]){dt+=ct[_t].length;continue}for(var vt=0;vt<ct[_t].length;vt++){dt++;var yt=ft[_t][vt];if(yt){var Ct=$.util.hasStyleChanged(pt,yt,!0);Ct?mt.push({start:dt,end:dt+1,style:yt}):mt[mt.length-1].end++}pt=yt||{}}}return mt},stylesFromArray:function(rt,ot){if(!Array.isArray(rt))return rt;for(var ft=ot.split(`
`),ct=-1,dt=0,pt={},mt=0;mt<ft.length;mt++)for(var _t=0;_t<ft[mt].length;_t++)ct++,rt[dt]&&rt[dt].start<=ct&&ct<rt[dt].end&&(pt[mt]=pt[mt]||{},pt[mt][_t]=Object.assign({},rt[dt].style),ct===rt[dt].end-1&&dt++);return pt}}}(j),function(){var lt=Array.prototype.join,nt={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},ut={m:"l",M:"L"};function ht(Et,At,It,Ot,Tt,St,xt,$t,Rt,Bt,Wt){var Kt=$.util.cos(Et),ln=$.util.sin(Et),en=$.util.cos(At),tn=$.util.sin(At),Ht=It*Tt*en-Ot*St*tn+xt,nn=Ot*Tt*en+It*St*tn+$t,Pt=Bt+Rt*(-It*Tt*ln-Ot*St*Kt),kt=Wt+Rt*(-Ot*Tt*ln+It*St*Kt),Nt=Ht+Rt*(It*Tt*tn+Ot*St*en),jt=nn+Rt*(Ot*Tt*tn-It*St*en);return["C",Pt,kt,Nt,jt,Ht,nn]}function at(Et,At,It,Ot,Tt,St,xt){var $t=Math.PI,Rt=xt*$t/180,Bt=$.util.sin(Rt),Wt=$.util.cos(Rt),Kt=0,ln=0;It=Math.abs(It),Ot=Math.abs(Ot);var en=-Wt*Et*.5-Bt*At*.5,tn=-Wt*At*.5+Bt*Et*.5,Ht=It*It,nn=Ot*Ot,Pt=tn*tn,kt=en*en,Nt=Ht*nn-Ht*Pt-nn*kt,jt=0;if(Nt<0){var Vt=Math.sqrt(1-Nt/(Ht*nn));It*=Vt,Ot*=Vt}else jt=(Tt===St?-1:1)*Math.sqrt(Nt/(Ht*Pt+nn*kt));var sn=jt*It*tn/Ot,rn=-jt*Ot*en/It,_n=Wt*sn-Bt*rn+Et*.5,cn=Bt*sn+Wt*rn+At*.5,An=it(1,0,(en-sn)/It,(tn-rn)/Ot),pn=it((en-sn)/It,(tn-rn)/Ot,(-en-sn)/It,(-tn-rn)/Ot);St===0&&pn>0?pn-=2*$t:St===1&&pn<0&&(pn+=2*$t);for(var xn=Math.ceil(Math.abs(pn/$t*2)),on=[],Cn=pn/xn,kn=8/3*Math.sin(Cn/4)*Math.sin(Cn/4)/Math.sin(Cn/2),jn=An+Cn,Gn=0;Gn<xn;Gn++)on[Gn]=ht(An,jn,Wt,Bt,It,Ot,_n,cn,kn,Kt,ln),Kt=on[Gn][5],ln=on[Gn][6],An=jn,jn+=Cn;return on}function it(Et,At,It,Ot){var Tt=Math.atan2(At,Et),St=Math.atan2(Ot,It);return St>=Tt?St-Tt:2*Math.PI-(Tt-St)}function rt(Et,At,It,Ot,Tt,St,xt,$t){var Rt;if($.cachesBoundsOfCurve&&(Rt=lt.call(arguments),$.boundsOfCurveCache[Rt]))return $.boundsOfCurveCache[Rt];var Bt=Math.sqrt,Wt=Math.min,Kt=Math.max,ln=Math.abs,en=[],tn=[[],[]],Ht,nn,Pt,kt,Nt,jt,Vt,sn;nn=6*Et-12*It+6*Tt,Ht=-3*Et+9*It-9*Tt+3*xt,Pt=3*It-3*Et;for(var rn=0;rn<2;++rn){if(rn>0&&(nn=6*At-12*Ot+6*St,Ht=-3*At+9*Ot-9*St+3*$t,Pt=3*Ot-3*At),ln(Ht)<1e-12){if(ln(nn)<1e-12)continue;kt=-Pt/nn,0<kt&&kt<1&&en.push(kt);continue}Vt=nn*nn-4*Pt*Ht,!(Vt<0)&&(sn=Bt(Vt),Nt=(-nn+sn)/(2*Ht),0<Nt&&Nt<1&&en.push(Nt),jt=(-nn-sn)/(2*Ht),0<jt&&jt<1&&en.push(jt))}for(var _n,cn,An=en.length,pn=An,xn;An--;)kt=en[An],xn=1-kt,_n=xn*xn*xn*Et+3*xn*xn*kt*It+3*xn*kt*kt*Tt+kt*kt*kt*xt,tn[0][An]=_n,cn=xn*xn*xn*At+3*xn*xn*kt*Ot+3*xn*kt*kt*St+kt*kt*kt*$t,tn[1][An]=cn;tn[0][pn]=Et,tn[1][pn]=At,tn[0][pn+1]=xt,tn[1][pn+1]=$t;var on=[{x:Wt.apply(null,tn[0]),y:Wt.apply(null,tn[1])},{x:Kt.apply(null,tn[0]),y:Kt.apply(null,tn[1])}];return $.cachesBoundsOfCurve&&($.boundsOfCurveCache[Rt]=on),on}function ot(Et,At,It){for(var Ot=It[1],Tt=It[2],St=It[3],xt=It[4],$t=It[5],Rt=It[6],Bt=It[7],Wt=at(Rt-Et,Bt-At,Ot,Tt,xt,$t,St),Kt=0,ln=Wt.length;Kt<ln;Kt++)Wt[Kt][1]+=Et,Wt[Kt][2]+=At,Wt[Kt][3]+=Et,Wt[Kt][4]+=At,Wt[Kt][5]+=Et,Wt[Kt][6]+=At;return Wt}function ft(Et){var At=0,It=0,Ot=Et.length,Tt=0,St=0,xt,$t,Rt,Bt=[],Wt,Kt,ln;for($t=0;$t<Ot;++$t){switch(Rt=!1,xt=Et[$t].slice(0),xt[0]){case"l":xt[0]="L",xt[1]+=At,xt[2]+=It;case"L":At=xt[1],It=xt[2];break;case"h":xt[1]+=At;case"H":xt[0]="L",xt[2]=It,At=xt[1];break;case"v":xt[1]+=It;case"V":xt[0]="L",It=xt[1],xt[1]=At,xt[2]=It;break;case"m":xt[0]="M",xt[1]+=At,xt[2]+=It;case"M":At=xt[1],It=xt[2],Tt=xt[1],St=xt[2];break;case"c":xt[0]="C",xt[1]+=At,xt[2]+=It,xt[3]+=At,xt[4]+=It,xt[5]+=At,xt[6]+=It;case"C":Kt=xt[3],ln=xt[4],At=xt[5],It=xt[6];break;case"s":xt[0]="S",xt[1]+=At,xt[2]+=It,xt[3]+=At,xt[4]+=It;case"S":Wt==="C"?(Kt=2*At-Kt,ln=2*It-ln):(Kt=At,ln=It),At=xt[3],It=xt[4],xt[0]="C",xt[5]=xt[3],xt[6]=xt[4],xt[3]=xt[1],xt[4]=xt[2],xt[1]=Kt,xt[2]=ln,Kt=xt[3],ln=xt[4];break;case"q":xt[0]="Q",xt[1]+=At,xt[2]+=It,xt[3]+=At,xt[4]+=It;case"Q":Kt=xt[1],ln=xt[2],At=xt[3],It=xt[4];break;case"t":xt[0]="T",xt[1]+=At,xt[2]+=It;case"T":Wt==="Q"?(Kt=2*At-Kt,ln=2*It-ln):(Kt=At,ln=It),xt[0]="Q",At=xt[1],It=xt[2],xt[1]=Kt,xt[2]=ln,xt[3]=At,xt[4]=It;break;case"a":xt[0]="A",xt[6]+=At,xt[7]+=It;case"A":Rt=!0,Bt=Bt.concat(ot(At,It,xt)),At=xt[6],It=xt[7];break;case"z":case"Z":At=Tt,It=St;break}Rt||Bt.push(xt),Wt=xt[0]}return Bt}function ct(Et,At,It,Ot){return Math.sqrt((It-Et)*(It-Et)+(Ot-At)*(Ot-At))}function dt(Et){return Et*Et*Et}function pt(Et){return 3*Et*Et*(1-Et)}function mt(Et){return 3*Et*(1-Et)*(1-Et)}function _t(Et){return(1-Et)*(1-Et)*(1-Et)}function vt(Et,At,It,Ot,Tt,St,xt,$t){return function(Rt){var Bt=dt(Rt),Wt=pt(Rt),Kt=mt(Rt),ln=_t(Rt);return{x:xt*Bt+Tt*Wt+It*Kt+Et*ln,y:$t*Bt+St*Wt+Ot*Kt+At*ln}}}function yt(Et,At,It,Ot,Tt,St,xt,$t){return function(Rt){var Bt=1-Rt,Wt=3*Bt*Bt*(It-Et)+6*Bt*Rt*(Tt-It)+3*Rt*Rt*(xt-Tt),Kt=3*Bt*Bt*(Ot-At)+6*Bt*Rt*(St-Ot)+3*Rt*Rt*($t-St);return Math.atan2(Kt,Wt)}}function Ct(Et){return Et*Et}function bt(Et){return 2*Et*(1-Et)}function Dt(Et){return(1-Et)*(1-Et)}function wt(Et,At,It,Ot,Tt,St){return function(xt){var $t=Ct(xt),Rt=bt(xt),Bt=Dt(xt);return{x:Tt*$t+It*Rt+Et*Bt,y:St*$t+Ot*Rt+At*Bt}}}function Ft(Et,At,It,Ot,Tt,St){return function(xt){var $t=1-xt,Rt=2*$t*(It-Et)+2*xt*(Tt-It),Bt=2*$t*(Ot-At)+2*xt*(St-Ot);return Math.atan2(Bt,Rt)}}function Lt(Et,At,It){var Ot={x:At,y:It},Tt,St=0,xt;for(xt=1;xt<=100;xt+=1)Tt=Et(xt/100),St+=ct(Ot.x,Ot.y,Tt.x,Tt.y),Ot=Tt;return St}function Qt(Et,At){for(var It=0,Ot=0,Tt=Et.iterator,St={x:Et.x,y:Et.y},xt,$t,Rt=.01,Bt=Et.angleFinder,Wt;Ot<At&&Rt>1e-4;)xt=Tt(It),Wt=It,$t=ct(St.x,St.y,xt.x,xt.y),$t+Ot>At?(It-=Rt,Rt/=2):(St=xt,It+=Rt,Ot+=$t);return xt.angle=Bt(Wt),xt}function Ut(Et){for(var At=0,It=Et.length,Ot,Tt=0,St=0,xt=0,$t=0,Rt=[],Bt,Wt,Kt,ln=0;ln<It;ln++){switch(Ot=Et[ln],Wt={x:Tt,y:St,command:Ot[0]},Ot[0]){case"M":Wt.length=0,xt=Tt=Ot[1],$t=St=Ot[2];break;case"L":Wt.length=ct(Tt,St,Ot[1],Ot[2]),Tt=Ot[1],St=Ot[2];break;case"C":Bt=vt(Tt,St,Ot[1],Ot[2],Ot[3],Ot[4],Ot[5],Ot[6]),Kt=yt(Tt,St,Ot[1],Ot[2],Ot[3],Ot[4],Ot[5],Ot[6]),Wt.iterator=Bt,Wt.angleFinder=Kt,Wt.length=Lt(Bt,Tt,St),Tt=Ot[5],St=Ot[6];break;case"Q":Bt=wt(Tt,St,Ot[1],Ot[2],Ot[3],Ot[4]),Kt=Ft(Tt,St,Ot[1],Ot[2],Ot[3],Ot[4]),Wt.iterator=Bt,Wt.angleFinder=Kt,Wt.length=Lt(Bt,Tt,St),Tt=Ot[3],St=Ot[4];break;case"Z":case"z":Wt.destX=xt,Wt.destY=$t,Wt.length=ct(Tt,St,xt,$t),Tt=xt,St=$t;break}At+=Wt.length,Rt.push(Wt)}return Rt.push({length:At,x:Tt,y:St}),Rt}function Xt(Et,At,It){It||(It=Ut(Et));for(var Ot=0;At-It[Ot].length>0&&Ot<It.length-2;)At-=It[Ot].length,Ot++;var Tt=It[Ot],St=At/Tt.length,xt=Tt.command,$t=Et[Ot],Rt;switch(xt){case"M":return{x:Tt.x,y:Tt.y,angle:0};case"Z":case"z":return Rt=new $.Point(Tt.x,Tt.y).lerp(new $.Point(Tt.destX,Tt.destY),St),Rt.angle=Math.atan2(Tt.destY-Tt.y,Tt.destX-Tt.x),Rt;case"L":return Rt=new $.Point(Tt.x,Tt.y).lerp(new $.Point($t[1],$t[2]),St),Rt.angle=Math.atan2($t[2]-Tt.y,$t[1]-Tt.x),Rt;case"C":return Qt(Tt,At);case"Q":return Qt(Tt,At)}}function qt(Et){var At=[],It=[],Ot,Tt,St=$.rePathCommand,xt="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",$t="("+xt+")"+$.commaWsp,Rt="([01])"+$.commaWsp+"?",Bt=$t+"?"+$t+"?"+$t+Rt+Rt+$t+"?("+xt+")",Wt=new RegExp(Bt,"g"),Kt,ln,en;if(!Et||!Et.match)return At;en=Et.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var tn=0,Ht,nn=en.length;tn<nn;tn++){Ot=en[tn],ln=Ot.slice(1).trim(),It.length=0;var Pt=Ot.charAt(0);if(Ht=[Pt],Pt.toLowerCase()==="a")for(var kt;kt=Wt.exec(ln);)for(var Nt=1;Nt<kt.length;Nt++)It.push(kt[Nt]);else for(;Kt=St.exec(ln);)It.push(Kt[0]);for(var Nt=0,jt=It.length;Nt<jt;Nt++)Tt=parseFloat(It[Nt]),isNaN(Tt)||Ht.push(Tt);var Vt=nt[Pt.toLowerCase()],sn=ut[Pt]||Pt;if(Ht.length-1>Vt)for(var rn=1,_n=Ht.length;rn<_n;rn+=Vt)At.push([Pt].concat(Ht.slice(rn,rn+Vt))),Pt=sn;else At.push(Ht)}return At}function Jt(Et,At){var It=[],Ot,Tt=new $.Point(Et[0].x,Et[0].y),St=new $.Point(Et[1].x,Et[1].y),xt=Et.length,$t=1,Rt=0,Bt=xt>2;for(At=At||0,Bt&&($t=Et[2].x<St.x?-1:Et[2].x===St.x?0:1,Rt=Et[2].y<St.y?-1:Et[2].y===St.y?0:1),It.push(["M",Tt.x-$t*At,Tt.y-Rt*At]),Ot=1;Ot<xt;Ot++){if(!Tt.eq(St)){var Wt=Tt.midPointFrom(St);It.push(["Q",Tt.x,Tt.y,Wt.x,Wt.y])}Tt=Et[Ot],Ot+1<Et.length&&(St=Et[Ot+1])}return Bt&&($t=Tt.x>Et[Ot-2].x?1:Tt.x===Et[Ot-2].x?0:-1,Rt=Tt.y>Et[Ot-2].y?1:Tt.y===Et[Ot-2].y?0:-1),It.push(["L",Tt.x+$t*At,Tt.y+Rt*At]),It}function Gt(Et,At,It){return It&&(At=$.util.multiplyTransformMatrices(At,[1,0,0,1,-It.x,-It.y])),Et.map(function(Ot){for(var Tt=Ot.slice(0),St={},xt=1;xt<Ot.length-1;xt+=2)St.x=Ot[xt],St.y=Ot[xt+1],St=$.util.transformPoint(St,At),Tt[xt]=St.x,Tt[xt+1]=St.y;return Tt})}$.util.joinPath=function(Et){return Et.map(function(At){return At.join(" ")}).join(" ")},$.util.parsePath=qt,$.util.makePathSimpler=ft,$.util.getSmoothPathFromPoints=Jt,$.util.getPathSegmentsInfo=Ut,$.util.getBoundsOfCurve=rt,$.util.getPointOnPath=Xt,$.util.transformPath=Gt}(),function(){var lt=Array.prototype.slice;function nt(rt,ot){for(var ft=lt.call(arguments,2),ct=[],dt=0,pt=rt.length;dt<pt;dt++)ct[dt]=ft.length?rt[dt][ot].apply(rt[dt],ft):rt[dt][ot].call(rt[dt]);return ct}function ut(rt,ot){return it(rt,ot,function(ft,ct){return ft>=ct})}function ht(rt,ot){return it(rt,ot,function(ft,ct){return ft<ct})}function at(rt,ot){for(var ft=rt.length;ft--;)rt[ft]=ot;return rt}function it(rt,ot,ft){if(!(!rt||rt.length===0)){var ct=rt.length-1,dt=ot?rt[ct][ot]:rt[ct];if(ot)for(;ct--;)ft(rt[ct][ot],dt)&&(dt=rt[ct][ot]);else for(;ct--;)ft(rt[ct],dt)&&(dt=rt[ct]);return dt}}$.util.array={fill:at,invoke:nt,min:ht,max:ut}}(),function(){function lt(ut,ht,at){if(at)if(!$.isLikelyNode&&ht instanceof Element)ut=ht;else if(ht instanceof Array){ut=[];for(var it=0,rt=ht.length;it<rt;it++)ut[it]=lt({},ht[it],at)}else if(ht&&typeof ht=="object")for(var ot in ht)ot==="canvas"||ot==="group"?ut[ot]=null:ht.hasOwnProperty(ot)&&(ut[ot]=lt({},ht[ot],at));else ut=ht;else for(var ot in ht)ut[ot]=ht[ot];return ut}function nt(ut,ht){return lt({},ut,ht)}$.util.object={extend:lt,clone:nt},$.util.object.extend($.util,$.Observable)}(),function(){function lt(it){return it.replace(/-+(.)?/g,function(rt,ot){return ot?ot.toUpperCase():""})}function nt(it,rt){return it.charAt(0).toUpperCase()+(rt?it.slice(1):it.slice(1).toLowerCase())}function ut(it){return it.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ht(it){var rt=0,ot,ft=[];for(rt=0,ot;rt<it.length;rt++)(ot=at(it,rt))!==!1&&ft.push(ot);return ft}function at(it,rt){var ot=it.charCodeAt(rt);if(isNaN(ot))return"";if(ot<55296||ot>57343)return it.charAt(rt);if(55296<=ot&&ot<=56319){if(it.length<=rt+1)throw"High surrogate without following low surrogate";var ft=it.charCodeAt(rt+1);if(56320>ft||ft>57343)throw"High surrogate without following low surrogate";return it.charAt(rt)+it.charAt(rt+1)}if(rt===0)throw"Low surrogate without preceding high surrogate";var ct=it.charCodeAt(rt-1);if(55296>ct||ct>56319)throw"Low surrogate without preceding high surrogate";return!1}$.util.string={camelize:lt,capitalize:nt,escapeXml:ut,graphemeSplit:ht}}(),function(){var lt=Array.prototype.slice,nt=function(){},ut=function(){for(var ot in{toString:1})if(ot==="toString")return!1;return!0}(),ht=function(ot,ft,ct){for(var dt in ft)dt in ot.prototype&&typeof ot.prototype[dt]=="function"&&(ft[dt]+"").indexOf("callSuper")>-1?ot.prototype[dt]=function(pt){return function(){var mt=this.constructor.superclass;this.constructor.superclass=ct;var _t=ft[pt].apply(this,arguments);if(this.constructor.superclass=mt,pt!=="initialize")return _t}}(dt):ot.prototype[dt]=ft[dt],ut&&(ft.toString!==Object.prototype.toString&&(ot.prototype.toString=ft.toString),ft.valueOf!==Object.prototype.valueOf&&(ot.prototype.valueOf=ft.valueOf))};function at(){}function it(ot){for(var ft=null,ct=this;ct.constructor.superclass;){var dt=ct.constructor.superclass.prototype[ot];if(ct[ot]!==dt){ft=dt;break}ct=ct.constructor.superclass.prototype}return ft?arguments.length>1?ft.apply(this,lt.call(arguments,1)):ft.call(this):console.log("tried to callSuper "+ot+", method not found in prototype chain",this)}function rt(){var ot=null,ft=lt.call(arguments,0);typeof ft[0]=="function"&&(ot=ft.shift());function ct(){this.initialize.apply(this,arguments)}ct.superclass=ot,ct.subclasses=[],ot&&(at.prototype=ot.prototype,ct.prototype=new at,ot.subclasses.push(ct));for(var dt=0,pt=ft.length;dt<pt;dt++)ht(ct,ft[dt],ot);return ct.prototype.initialize||(ct.prototype.initialize=nt),ct.prototype.constructor=ct,ct.prototype.callSuper=it,ct}$.util.createClass=rt}(),function(){var lt=!!$.document.createElement("div").attachEvent,nt=["touchstart","touchmove","touchend"];$.util.addListener=function(ht,at,it,rt){ht&&ht.addEventListener(at,it,lt?!1:rt)},$.util.removeListener=function(ht,at,it,rt){ht&&ht.removeEventListener(at,it,lt?!1:rt)};function ut(ht){var at=ht.changedTouches;return at&&at[0]?at[0]:ht}$.util.getPointer=function(ht){var at=ht.target,it=$.util.getScrollLeftTop(at),rt=ut(ht);return{x:rt.clientX+it.left,y:rt.clientY+it.top}},$.util.isTouchEvent=function(ht){return nt.indexOf(ht.type)>-1||ht.pointerType==="touch"}}(),function(){function lt(rt,ot){var ft=rt.style;if(!ft)return rt;if(typeof ot=="string")return rt.style.cssText+=";"+ot,ot.indexOf("opacity")>-1?it(rt,ot.match(/opacity:\s*(\d?\.?\d*)/)[1]):rt;for(var ct in ot)if(ct==="opacity")it(rt,ot[ct]);else{var dt=ct==="float"||ct==="cssFloat"?typeof ft.styleFloat>"u"?"cssFloat":"styleFloat":ct;ft.setProperty(dt,ot[ct])}return rt}var nt=$.document.createElement("div"),ut=typeof nt.style.opacity=="string",ht=typeof nt.style.filter=="string",at=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,it=function(rt){return rt};ut?it=function(rt,ot){return rt.style.opacity=ot,rt}:ht&&(it=function(rt,ot){var ft=rt.style;return rt.currentStyle&&!rt.currentStyle.hasLayout&&(ft.zoom=1),at.test(ft.filter)?(ot=ot>=.9999?"":"alpha(opacity="+ot*100+")",ft.filter=ft.filter.replace(at,ot)):ft.filter+=" alpha(opacity="+ot*100+")",rt}),$.util.setStyle=lt}(),function(){var lt=Array.prototype.slice;function nt(_t){return typeof _t=="string"?$.document.getElementById(_t):_t}var ut,ht=function(_t){return lt.call(_t,0)};try{ut=ht($.document.childNodes)instanceof Array}catch{}ut||(ht=function(_t){for(var vt=new Array(_t.length),yt=_t.length;yt--;)vt[yt]=_t[yt];return vt});function at(_t,vt){var yt=$.document.createElement(_t);for(var Ct in vt)Ct==="class"?yt.className=vt[Ct]:Ct==="for"?yt.htmlFor=vt[Ct]:yt.setAttribute(Ct,vt[Ct]);return yt}function it(_t,vt){_t&&(" "+_t.className+" ").indexOf(" "+vt+" ")===-1&&(_t.className+=(_t.className?" ":"")+vt)}function rt(_t,vt,yt){return typeof vt=="string"&&(vt=at(vt,yt)),_t.parentNode&&_t.parentNode.replaceChild(vt,_t),vt.appendChild(_t),vt}function ot(_t){for(var vt=0,yt=0,Ct=$.document.documentElement,bt=$.document.body||{scrollLeft:0,scrollTop:0};_t&&(_t.parentNode||_t.host)&&(_t=_t.parentNode||_t.host,_t===$.document?(vt=bt.scrollLeft||Ct.scrollLeft||0,yt=bt.scrollTop||Ct.scrollTop||0):(vt+=_t.scrollLeft||0,yt+=_t.scrollTop||0),!(_t.nodeType===1&&_t.style.position==="fixed")););return{left:vt,top:yt}}function ft(_t){var vt,yt=_t&&_t.ownerDocument,Ct={left:0,top:0},bt={left:0,top:0},Dt,wt={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!yt)return bt;for(var Ft in wt)bt[wt[Ft]]+=parseInt(ct(_t,Ft),10)||0;return vt=yt.documentElement,typeof _t.getBoundingClientRect<"u"&&(Ct=_t.getBoundingClientRect()),Dt=ot(_t),{left:Ct.left+Dt.left-(vt.clientLeft||0)+bt.left,top:Ct.top+Dt.top-(vt.clientTop||0)+bt.top}}var ct;$.document.defaultView&&$.document.defaultView.getComputedStyle?ct=function(_t,vt){var yt=$.document.defaultView.getComputedStyle(_t,null);return yt?yt[vt]:void 0}:ct=function(_t,vt){var yt=_t.style[vt];return!yt&&_t.currentStyle&&(yt=_t.currentStyle[vt]),yt},function(){var _t=$.document.documentElement.style,vt="userSelect"in _t?"userSelect":"MozUserSelect"in _t?"MozUserSelect":"WebkitUserSelect"in _t?"WebkitUserSelect":"KhtmlUserSelect"in _t?"KhtmlUserSelect":"";function yt(bt){return typeof bt.onselectstart<"u"&&(bt.onselectstart=$.util.falseFunction),vt?bt.style[vt]="none":typeof bt.unselectable=="string"&&(bt.unselectable="on"),bt}function Ct(bt){return typeof bt.onselectstart<"u"&&(bt.onselectstart=null),vt?bt.style[vt]="":typeof bt.unselectable=="string"&&(bt.unselectable=""),bt}$.util.makeElementUnselectable=yt,$.util.makeElementSelectable=Ct}();function dt(_t){var vt=$.jsdomImplForWrapper(_t);return vt._canvas||vt._image}function pt(_t){if(!!$.isLikelyNode){var vt=$.jsdomImplForWrapper(_t);vt&&(vt._image=null,vt._canvas=null,vt._currentSrc=null,vt._attributes=null,vt._classList=null)}}function mt(_t,vt){_t.imageSmoothingEnabled=_t.imageSmoothingEnabled||_t.webkitImageSmoothingEnabled||_t.mozImageSmoothingEnabled||_t.msImageSmoothingEnabled||_t.oImageSmoothingEnabled,_t.imageSmoothingEnabled=vt}$.util.setImageSmoothing=mt,$.util.getById=nt,$.util.toArray=ht,$.util.addClass=it,$.util.makeElement=at,$.util.wrapElement=rt,$.util.getScrollLeftTop=ot,$.util.getElementOffset=ft,$.util.getNodeCanvas=dt,$.util.cleanUpJsdomNode=pt}(),function(){function lt(ht,at){return ht+(/\?/.test(ht)?"&":"?")+at}function nt(){}function ut(ht,at){at||(at={});var it=at.method?at.method.toUpperCase():"GET",rt=at.onComplete||function(){},ot=new $.window.XMLHttpRequest,ft=at.body||at.parameters;return ot.onreadystatechange=function(){ot.readyState===4&&(rt(ot),ot.onreadystatechange=nt)},it==="GET"&&(ft=null,typeof at.parameters=="string"&&(ht=lt(ht,at.parameters))),ot.open(it,ht,!0),(it==="POST"||it==="PUT")&&ot.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),ot.send(ft),ot}$.util.request=ut}(),$.log=console.log,$.warn=console.warn,function(){var lt=$.util.object.extend,nt=$.util.object.clone,ut=[];$.util.object.extend(ut,{cancelAll:function(){var dt=this.splice(0);return dt.forEach(function(pt){pt.cancel()}),dt},cancelByCanvas:function(dt){if(!dt)return[];var pt=this.filter(function(mt){return typeof mt.target=="object"&&mt.target.canvas===dt});return pt.forEach(function(mt){mt.cancel()}),pt},cancelByTarget:function(dt){var pt=this.findAnimationsByTarget(dt);return pt.forEach(function(mt){mt.cancel()}),pt},findAnimationIndex:function(dt){return this.indexOf(this.findAnimation(dt))},findAnimation:function(dt){return this.find(function(pt){return pt.cancel===dt})},findAnimationsByTarget:function(dt){return dt?this.filter(function(pt){return pt.target===dt}):[]}});function ht(){return!1}function at(dt,pt,mt,_t){return-mt*Math.cos(dt/_t*(Math.PI/2))+mt+pt}function it(dt){dt||(dt={});var pt=!1,mt,_t=function(){var vt=$.runningAnimations.indexOf(mt);return vt>-1&&$.runningAnimations.splice(vt,1)[0]};return mt=lt(nt(dt),{cancel:function(){return pt=!0,_t()},currentValue:"startValue"in dt?dt.startValue:0,completionRate:0,durationRate:0}),$.runningAnimations.push(mt),ft(function(vt){var yt=vt||+new Date,Ct=dt.duration||500,bt=yt+Ct,Dt,wt=dt.onChange||ht,Ft=dt.abort||ht,Lt=dt.onComplete||ht,Qt=dt.easing||at,Ut="startValue"in dt?dt.startValue.length>0:!1,Xt="startValue"in dt?dt.startValue:0,qt="endValue"in dt?dt.endValue:100,Jt=dt.byValue||(Ut?Xt.map(function(Gt,Et){return qt[Et]-Xt[Et]}):qt-Xt);dt.onStart&&dt.onStart(),function Gt(Et){Dt=Et||+new Date;var At=Dt>bt?Ct:Dt-yt,It=At/Ct,Ot=Ut?Xt.map(function(St,xt){return Qt(At,Xt[xt],Jt[xt],Ct)}):Qt(At,Xt,Jt,Ct),Tt=Math.abs(Ut?(Ot[0]-Xt[0])/Jt[0]:(Ot-Xt)/Jt);if(mt.currentValue=Ut?Ot.slice():Ot,mt.completionRate=Tt,mt.durationRate=It,!pt){if(Ft(Ot,Tt,It)){_t();return}if(Dt>bt){mt.currentValue=Ut?qt.slice():qt,mt.completionRate=1,mt.durationRate=1,wt(Ut?qt.slice():qt,1,1),Lt(qt,1,1),_t();return}else wt(Ot,Tt,It),ft(Gt)}}(yt)}),mt.cancel}var rt=$.window.requestAnimationFrame||$.window.webkitRequestAnimationFrame||$.window.mozRequestAnimationFrame||$.window.oRequestAnimationFrame||$.window.msRequestAnimationFrame||function(dt){return $.window.setTimeout(dt,1e3/60)},ot=$.window.cancelAnimationFrame||$.window.clearTimeout;function ft(){return rt.apply($.window,arguments)}function ct(){return ot.apply($.window,arguments)}$.util.animate=it,$.util.requestAnimFrame=ft,$.util.cancelAnimFrame=ct,$.runningAnimations=ut}(),function(){function lt(ut,ht,at){var it="rgba("+parseInt(ut[0]+at*(ht[0]-ut[0]),10)+","+parseInt(ut[1]+at*(ht[1]-ut[1]),10)+","+parseInt(ut[2]+at*(ht[2]-ut[2]),10);return it+=","+(ut&&ht?parseFloat(ut[3]+at*(ht[3]-ut[3])):1),it+=")",it}function nt(ut,ht,at,it){var rt=new $.Color(ut).getSource(),ot=new $.Color(ht).getSource(),ft=it.onComplete,ct=it.onChange;return it=it||{},$.util.animate($.util.object.extend(it,{duration:at||500,startValue:rt,endValue:ot,byValue:ot,easing:function(dt,pt,mt,_t){var vt=it.colorEasing?it.colorEasing(dt,_t):1-Math.cos(dt/_t*(Math.PI/2));return lt(pt,mt,vt)},onComplete:function(dt,pt,mt){if(ft)return ft(lt(ot,ot,0),pt,mt)},onChange:function(dt,pt,mt){if(ct){if(Array.isArray(dt))return ct(lt(dt,dt,0),pt,mt);ct(dt,pt,mt)}}}))}$.util.animateColor=nt}(),function(){function lt(Et,At,It,Ot){return Et<Math.abs(At)?(Et=At,Ot=It/4):At===0&&Et===0?Ot=It/(2*Math.PI)*Math.asin(1):Ot=It/(2*Math.PI)*Math.asin(At/Et),{a:Et,c:At,p:It,s:Ot}}function nt(Et,At,It){return Et.a*Math.pow(2,10*(At-=1))*Math.sin((At*It-Et.s)*(2*Math.PI)/Et.p)}function ut(Et,At,It,Ot){return It*((Et=Et/Ot-1)*Et*Et+1)+At}function ht(Et,At,It,Ot){return Et/=Ot/2,Et<1?It/2*Et*Et*Et+At:It/2*((Et-=2)*Et*Et+2)+At}function at(Et,At,It,Ot){return It*(Et/=Ot)*Et*Et*Et+At}function it(Et,At,It,Ot){return-It*((Et=Et/Ot-1)*Et*Et*Et-1)+At}function rt(Et,At,It,Ot){return Et/=Ot/2,Et<1?It/2*Et*Et*Et*Et+At:-It/2*((Et-=2)*Et*Et*Et-2)+At}function ot(Et,At,It,Ot){return It*(Et/=Ot)*Et*Et*Et*Et+At}function ft(Et,At,It,Ot){return It*((Et=Et/Ot-1)*Et*Et*Et*Et+1)+At}function ct(Et,At,It,Ot){return Et/=Ot/2,Et<1?It/2*Et*Et*Et*Et*Et+At:It/2*((Et-=2)*Et*Et*Et*Et+2)+At}function dt(Et,At,It,Ot){return-It*Math.cos(Et/Ot*(Math.PI/2))+It+At}function pt(Et,At,It,Ot){return It*Math.sin(Et/Ot*(Math.PI/2))+At}function mt(Et,At,It,Ot){return-It/2*(Math.cos(Math.PI*Et/Ot)-1)+At}function _t(Et,At,It,Ot){return Et===0?At:It*Math.pow(2,10*(Et/Ot-1))+At}function vt(Et,At,It,Ot){return Et===Ot?At+It:It*(-Math.pow(2,-10*Et/Ot)+1)+At}function yt(Et,At,It,Ot){return Et===0?At:Et===Ot?At+It:(Et/=Ot/2,Et<1?It/2*Math.pow(2,10*(Et-1))+At:It/2*(-Math.pow(2,-10*--Et)+2)+At)}function Ct(Et,At,It,Ot){return-It*(Math.sqrt(1-(Et/=Ot)*Et)-1)+At}function bt(Et,At,It,Ot){return It*Math.sqrt(1-(Et=Et/Ot-1)*Et)+At}function Dt(Et,At,It,Ot){return Et/=Ot/2,Et<1?-It/2*(Math.sqrt(1-Et*Et)-1)+At:It/2*(Math.sqrt(1-(Et-=2)*Et)+1)+At}function wt(Et,At,It,Ot){var Tt=1.70158,St=0,xt=It;if(Et===0)return At;if(Et/=Ot,Et===1)return At+It;St||(St=Ot*.3);var $t=lt(xt,It,St,Tt);return-nt($t,Et,Ot)+At}function Ft(Et,At,It,Ot){var Tt=1.70158,St=0,xt=It;if(Et===0)return At;if(Et/=Ot,Et===1)return At+It;St||(St=Ot*.3);var $t=lt(xt,It,St,Tt);return $t.a*Math.pow(2,-10*Et)*Math.sin((Et*Ot-$t.s)*(2*Math.PI)/$t.p)+$t.c+At}function Lt(Et,At,It,Ot){var Tt=1.70158,St=0,xt=It;if(Et===0)return At;if(Et/=Ot/2,Et===2)return At+It;St||(St=Ot*(.3*1.5));var $t=lt(xt,It,St,Tt);return Et<1?-.5*nt($t,Et,Ot)+At:$t.a*Math.pow(2,-10*(Et-=1))*Math.sin((Et*Ot-$t.s)*(2*Math.PI)/$t.p)*.5+$t.c+At}function Qt(Et,At,It,Ot,Tt){return Tt===void 0&&(Tt=1.70158),It*(Et/=Ot)*Et*((Tt+1)*Et-Tt)+At}function Ut(Et,At,It,Ot,Tt){return Tt===void 0&&(Tt=1.70158),It*((Et=Et/Ot-1)*Et*((Tt+1)*Et+Tt)+1)+At}function Xt(Et,At,It,Ot,Tt){return Tt===void 0&&(Tt=1.70158),Et/=Ot/2,Et<1?It/2*(Et*Et*(((Tt*=1.525)+1)*Et-Tt))+At:It/2*((Et-=2)*Et*(((Tt*=1.525)+1)*Et+Tt)+2)+At}function qt(Et,At,It,Ot){return It-Jt(Ot-Et,0,It,Ot)+At}function Jt(Et,At,It,Ot){return(Et/=Ot)<1/2.75?It*(7.5625*Et*Et)+At:Et<2/2.75?It*(7.5625*(Et-=1.5/2.75)*Et+.75)+At:Et<2.5/2.75?It*(7.5625*(Et-=2.25/2.75)*Et+.9375)+At:It*(7.5625*(Et-=2.625/2.75)*Et+.984375)+At}function Gt(Et,At,It,Ot){return Et<Ot/2?qt(Et*2,0,It,Ot)*.5+At:Jt(Et*2-Ot,0,It,Ot)*.5+It*.5+At}$.util.ease={easeInQuad:function(Et,At,It,Ot){return It*(Et/=Ot)*Et+At},easeOutQuad:function(Et,At,It,Ot){return-It*(Et/=Ot)*(Et-2)+At},easeInOutQuad:function(Et,At,It,Ot){return Et/=Ot/2,Et<1?It/2*Et*Et+At:-It/2*(--Et*(Et-2)-1)+At},easeInCubic:function(Et,At,It,Ot){return It*(Et/=Ot)*Et*Et+At},easeOutCubic:ut,easeInOutCubic:ht,easeInQuart:at,easeOutQuart:it,easeInOutQuart:rt,easeInQuint:ot,easeOutQuint:ft,easeInOutQuint:ct,easeInSine:dt,easeOutSine:pt,easeInOutSine:mt,easeInExpo:_t,easeOutExpo:vt,easeInOutExpo:yt,easeInCirc:Ct,easeOutCirc:bt,easeInOutCirc:Dt,easeInElastic:wt,easeOutElastic:Ft,easeInOutElastic:Lt,easeInBack:Qt,easeOutBack:Ut,easeInOutBack:Xt,easeInBounce:qt,easeOutBounce:Jt,easeInOutBounce:Gt}}(),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.util.object.extend,ht=nt.util.object.clone,at=nt.util.toFixed,it=nt.util.parseUnit,rt=nt.util.multiplyTransformMatrices,ot=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],ft=["symbol","image","marker","pattern","view","svg"],ct=["pattern","defs","symbol","metadata","clipPath","mask","desc"],dt=["symbol","g","a","svg","clipPath","defs"],pt={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},mt={stroke:"strokeOpacity",fill:"fillOpacity"},_t="font-size",vt="clip-path";nt.svgValidTagNamesRegEx=bt(ot),nt.svgViewBoxElementsRegEx=bt(ft),nt.svgInvalidAncestorsRegEx=bt(ct),nt.svgValidParentsRegEx=bt(dt),nt.cssRules={},nt.gradientDefs={},nt.clipPaths={};function yt(St){return St in pt?pt[St]:St}function Ct(St,xt,$t,Rt){var Bt=Array.isArray(xt),Wt;if((St==="fill"||St==="stroke")&&xt==="none")xt="";else{if(St==="strokeUniform")return xt==="non-scaling-stroke";if(St==="strokeDashArray")xt==="none"?xt=null:xt=xt.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(St==="transformMatrix")$t&&$t.transformMatrix?xt=rt($t.transformMatrix,nt.parseTransformAttribute(xt)):xt=nt.parseTransformAttribute(xt);else if(St==="visible")xt=xt!=="none"&&xt!=="hidden",$t&&$t.visible===!1&&(xt=!1);else if(St==="opacity")xt=parseFloat(xt),$t&&typeof $t.opacity<"u"&&(xt*=$t.opacity);else if(St==="textAnchor")xt=xt==="start"?"left":xt==="end"?"right":"center";else if(St==="charSpacing")Wt=it(xt,Rt)/Rt*1e3;else if(St==="paintFirst"){var Kt=xt.indexOf("fill"),ln=xt.indexOf("stroke"),xt="fill";(Kt>-1&&ln>-1&&ln<Kt||Kt===-1&&ln>-1)&&(xt="stroke")}else{if(St==="href"||St==="xlink:href"||St==="font")return xt;if(St==="imageSmoothing")return xt==="optimizeQuality";Wt=Bt?xt.map(it):it(xt,Rt)}}return!Bt&&isNaN(Wt)?xt:Wt}function bt(St){return new RegExp("^("+St.join("|")+")\\b","i")}function Dt(St){for(var xt in mt)if(!(typeof St[mt[xt]]>"u"||St[xt]==="")){if(typeof St[xt]>"u"){if(!nt.Object.prototype[xt])continue;St[xt]=nt.Object.prototype[xt]}if(St[xt].indexOf("url(")!==0){var $t=new nt.Color(St[xt]);St[xt]=$t.setAlpha(at($t.getAlpha()*St[mt[xt]],2)).toRgba()}}return St}function wt(St,xt){var $t,Rt=[],Bt,Wt,Kt;for(Wt=0,Kt=xt.length;Wt<Kt;Wt++)$t=xt[Wt],Bt=St.getElementsByTagName($t),Rt=Rt.concat(Array.prototype.slice.call(Bt));return Rt}nt.parseTransformAttribute=function(){function St(rn,_n){var cn=nt.util.cos(_n[0]),An=nt.util.sin(_n[0]),pn=0,xn=0;_n.length===3&&(pn=_n[1],xn=_n[2]),rn[0]=cn,rn[1]=An,rn[2]=-An,rn[3]=cn,rn[4]=pn-(cn*pn-An*xn),rn[5]=xn-(An*pn+cn*xn)}function xt(rn,_n){var cn=_n[0],An=_n.length===2?_n[1]:_n[0];rn[0]=cn,rn[3]=An}function $t(rn,_n,cn){rn[cn]=Math.tan(nt.util.degreesToRadians(_n[0]))}function Rt(rn,_n){rn[4]=_n[0],_n.length===2&&(rn[5]=_n[1])}var Bt=nt.iMatrix,Wt=nt.reNum,Kt=nt.commaWsp,ln="(?:(skewX)\\s*\\(\\s*("+Wt+")\\s*\\))",en="(?:(skewY)\\s*\\(\\s*("+Wt+")\\s*\\))",tn="(?:(rotate)\\s*\\(\\s*("+Wt+")(?:"+Kt+"("+Wt+")"+Kt+"("+Wt+"))?\\s*\\))",Ht="(?:(scale)\\s*\\(\\s*("+Wt+")(?:"+Kt+"("+Wt+"))?\\s*\\))",nn="(?:(translate)\\s*\\(\\s*("+Wt+")(?:"+Kt+"("+Wt+"))?\\s*\\))",Pt="(?:(matrix)\\s*\\(\\s*("+Wt+")"+Kt+"("+Wt+")"+Kt+"("+Wt+")"+Kt+"("+Wt+")"+Kt+"("+Wt+")"+Kt+"("+Wt+")\\s*\\))",kt="(?:"+Pt+"|"+nn+"|"+Ht+"|"+tn+"|"+ln+"|"+en+")",Nt="(?:"+kt+"(?:"+Kt+"*"+kt+")*)",jt="^\\s*(?:"+Nt+"?)\\s*$",Vt=new RegExp(jt),sn=new RegExp(kt,"g");return function(rn){var _n=Bt.concat(),cn=[];if(!rn||rn&&!Vt.test(rn))return _n;rn.replace(sn,function(pn){var xn=new RegExp(kt).exec(pn).filter(function(kn){return!!kn}),on=xn[1],Cn=xn.slice(2).map(parseFloat);switch(on){case"translate":Rt(_n,Cn);break;case"rotate":Cn[0]=nt.util.degreesToRadians(Cn[0]),St(_n,Cn);break;case"scale":xt(_n,Cn);break;case"skewX":$t(_n,Cn,2);break;case"skewY":$t(_n,Cn,1);break;case"matrix":_n=Cn;break}cn.push(_n.concat()),_n=Bt.concat()});for(var An=cn[0];cn.length>1;)cn.shift(),An=nt.util.multiplyTransformMatrices(An,cn[0]);return An}}();function Ft(St,xt){var $t,Rt;St.replace(/;\s*$/,"").split(";").forEach(function(Bt){var Wt=Bt.split(":");$t=Wt[0].trim().toLowerCase(),Rt=Wt[1].trim(),xt[$t]=Rt})}function Lt(St,xt){var $t,Rt;for(var Bt in St)typeof St[Bt]>"u"||($t=Bt.toLowerCase(),Rt=St[Bt],xt[$t]=Rt)}function Qt(St,xt){var $t={};for(var Rt in nt.cssRules[xt])if(Ut(St,Rt.split(" ")))for(var Bt in nt.cssRules[xt][Rt])$t[Bt]=nt.cssRules[xt][Rt][Bt];return $t}function Ut(St,xt){var $t,Rt=!0;return $t=qt(St,xt.pop()),$t&&xt.length&&(Rt=Xt(St,xt)),$t&&Rt&&xt.length===0}function Xt(St,xt){for(var $t,Rt=!0;St.parentNode&&St.parentNode.nodeType===1&&xt.length;)Rt&&($t=xt.pop()),St=St.parentNode,Rt=qt(St,$t);return xt.length===0}function qt(St,xt){var $t=St.nodeName,Rt=St.getAttribute("class"),Bt=St.getAttribute("id"),Wt,Kt;if(Wt=new RegExp("^"+$t,"i"),xt=xt.replace(Wt,""),Bt&&xt.length&&(Wt=new RegExp("#"+Bt+"(?![a-zA-Z\\-]+)","i"),xt=xt.replace(Wt,"")),Rt&&xt.length)for(Rt=Rt.split(" "),Kt=Rt.length;Kt--;)Wt=new RegExp("\\."+Rt[Kt]+"(?![a-zA-Z\\-]+)","i"),xt=xt.replace(Wt,"");return xt.length===0}function Jt(St,xt){var $t;if(St.getElementById&&($t=St.getElementById(xt)),$t)return $t;var Rt,Bt,Wt,Kt=St.getElementsByTagName("*");for(Bt=0,Wt=Kt.length;Bt<Wt;Bt++)if(Rt=Kt[Bt],xt===Rt.getAttribute("id"))return Rt}function Gt(St){for(var xt=wt(St,["use","svg:use"]),$t=0;xt.length&&$t<xt.length;){var Rt=xt[$t],Bt=Rt.getAttribute("xlink:href")||Rt.getAttribute("href");if(Bt===null)return;var Wt=Bt.slice(1),Kt=Rt.getAttribute("x")||0,ln=Rt.getAttribute("y")||0,en=Jt(St,Wt).cloneNode(!0),tn=(en.getAttribute("transform")||"")+" translate("+Kt+", "+ln+")",Ht,nn=xt.length,Pt,kt,Nt,jt,Vt=nt.svgNS;if(At(en),/^svg$/i.test(en.nodeName)){var sn=en.ownerDocument.createElementNS(Vt,"g");for(kt=0,Nt=en.attributes,jt=Nt.length;kt<jt;kt++)Pt=Nt.item(kt),sn.setAttributeNS(Vt,Pt.nodeName,Pt.nodeValue);for(;en.firstChild;)sn.appendChild(en.firstChild);en=sn}for(kt=0,Nt=Rt.attributes,jt=Nt.length;kt<jt;kt++)Pt=Nt.item(kt),!(Pt.nodeName==="x"||Pt.nodeName==="y"||Pt.nodeName==="xlink:href"||Pt.nodeName==="href")&&(Pt.nodeName==="transform"?tn=Pt.nodeValue+" "+tn:en.setAttribute(Pt.nodeName,Pt.nodeValue));en.setAttribute("transform",tn),en.setAttribute("instantiated_by_use","1"),en.removeAttribute("id"),Ht=Rt.parentNode,Ht.replaceChild(en,Rt),xt.length===nn&&$t++}}var Et=new RegExp("^\\s*("+nt.reNum+"+)\\s*,?\\s*("+nt.reNum+"+)\\s*,?\\s*("+nt.reNum+"+)\\s*,?\\s*("+nt.reNum+"+)\\s*$");function At(St){if(!nt.svgViewBoxElementsRegEx.test(St.nodeName))return{};var xt=St.getAttribute("viewBox"),$t=1,Rt=1,Bt=0,Wt=0,Kt,ln,en,tn,Ht=St.getAttribute("width"),nn=St.getAttribute("height"),Pt=St.getAttribute("x")||0,kt=St.getAttribute("y")||0,Nt=St.getAttribute("preserveAspectRatio")||"",jt=!xt||!(xt=xt.match(Et)),Vt=!Ht||!nn||Ht==="100%"||nn==="100%",sn=jt&&Vt,rn={},_n="",cn=0,An=0;if(rn.width=0,rn.height=0,rn.toBeParsed=sn,jt&&(Pt||kt)&&St.parentNode&&St.parentNode.nodeName!=="#document"&&(_n=" translate("+it(Pt)+" "+it(kt)+") ",en=(St.getAttribute("transform")||"")+_n,St.setAttribute("transform",en),St.removeAttribute("x"),St.removeAttribute("y")),sn)return rn;if(jt)return rn.width=it(Ht),rn.height=it(nn),rn;if(Bt=-parseFloat(xt[1]),Wt=-parseFloat(xt[2]),Kt=parseFloat(xt[3]),ln=parseFloat(xt[4]),rn.minX=Bt,rn.minY=Wt,rn.viewBoxWidth=Kt,rn.viewBoxHeight=ln,Vt?(rn.width=Kt,rn.height=ln):(rn.width=it(Ht),rn.height=it(nn),$t=rn.width/Kt,Rt=rn.height/ln),Nt=nt.util.parsePreserveAspectRatioAttribute(Nt),Nt.alignX!=="none"&&(Nt.meetOrSlice==="meet"&&(Rt=$t=$t>Rt?Rt:$t),Nt.meetOrSlice==="slice"&&(Rt=$t=$t>Rt?$t:Rt),cn=rn.width-Kt*$t,An=rn.height-ln*$t,Nt.alignX==="Mid"&&(cn/=2),Nt.alignY==="Mid"&&(An/=2),Nt.alignX==="Min"&&(cn=0),Nt.alignY==="Min"&&(An=0)),$t===1&&Rt===1&&Bt===0&&Wt===0&&Pt===0&&kt===0)return rn;if((Pt||kt)&&St.parentNode.nodeName!=="#document"&&(_n=" translate("+it(Pt)+" "+it(kt)+") "),en=_n+" matrix("+$t+" 0 0 "+Rt+" "+(Bt*$t+cn)+" "+(Wt*Rt+An)+") ",St.nodeName==="svg"){for(tn=St.ownerDocument.createElementNS(nt.svgNS,"g");St.firstChild;)tn.appendChild(St.firstChild);St.appendChild(tn)}else tn=St,tn.removeAttribute("x"),tn.removeAttribute("y"),en=tn.getAttribute("transform")+en;return tn.setAttribute("transform",en),rn}function It(St,xt){for(;St&&(St=St.parentNode);)if(St.nodeName&&xt.test(St.nodeName.replace("svg:",""))&&!St.getAttribute("instantiated_by_use"))return!0;return!1}nt.parseSVGDocument=function(St,xt,$t,Rt){if(!!St){Gt(St);var Bt=nt.Object.__uid++,Wt,Kt,ln=At(St),en=nt.util.toArray(St.getElementsByTagName("*"));if(ln.crossOrigin=Rt&&Rt.crossOrigin,ln.svgUid=Bt,en.length===0&&nt.isLikelyNode){en=St.selectNodes('//*[name(.)!="svg"]');var tn=[];for(Wt=0,Kt=en.length;Wt<Kt;Wt++)tn[Wt]=en[Wt];en=tn}var Ht=en.filter(function(Pt){return At(Pt),nt.svgValidTagNamesRegEx.test(Pt.nodeName.replace("svg:",""))&&!It(Pt,nt.svgInvalidAncestorsRegEx)});if(!Ht||Ht&&!Ht.length){xt&&xt([],{});return}var nn={};en.filter(function(Pt){return Pt.nodeName.replace("svg:","")==="clipPath"}).forEach(function(Pt){var kt=Pt.getAttribute("id");nn[kt]=nt.util.toArray(Pt.getElementsByTagName("*")).filter(function(Nt){return nt.svgValidTagNamesRegEx.test(Nt.nodeName.replace("svg:",""))})}),nt.gradientDefs[Bt]=nt.getGradientDefs(St),nt.cssRules[Bt]=nt.getCSSRules(St),nt.clipPaths[Bt]=nn,nt.parseElements(Ht,function(Pt,kt){xt&&(xt(Pt,ln,kt,en),delete nt.gradientDefs[Bt],delete nt.cssRules[Bt],delete nt.clipPaths[Bt])},ht(ln),$t,Rt)}};function Ot(St,xt){var $t=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],Rt="xlink:href",Bt=xt.getAttribute(Rt).slice(1),Wt=Jt(St,Bt);if(Wt&&Wt.getAttribute(Rt)&&Ot(St,Wt),$t.forEach(function(ln){Wt&&!xt.hasAttribute(ln)&&Wt.hasAttribute(ln)&&xt.setAttribute(ln,Wt.getAttribute(ln))}),!xt.children.length)for(var Kt=Wt.cloneNode(!0);Kt.firstChild;)xt.appendChild(Kt.firstChild);xt.removeAttribute(Rt)}var Tt=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+nt.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+nt.reNum+"))?\\s+(.*)");ut(nt,{parseFontDeclaration:function(St,xt){var $t=St.match(Tt);if(!!$t){var Rt=$t[1],Bt=$t[3],Wt=$t[4],Kt=$t[5],ln=$t[6];Rt&&(xt.fontStyle=Rt),Bt&&(xt.fontWeight=isNaN(parseFloat(Bt))?Bt:parseFloat(Bt)),Wt&&(xt.fontSize=it(Wt)),ln&&(xt.fontFamily=ln),Kt&&(xt.lineHeight=Kt==="normal"?1:Kt)}},getGradientDefs:function(St){var xt=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],$t=wt(St,xt),Rt,Bt=0,Wt={};for(Bt=$t.length;Bt--;)Rt=$t[Bt],Rt.getAttribute("xlink:href")&&Ot(St,Rt),Wt[Rt.getAttribute("id")]=Rt;return Wt},parseAttributes:function(St,xt,$t){if(!!St){var Rt,Bt={},Wt,Kt;typeof $t>"u"&&($t=St.getAttribute("svgUid")),St.parentNode&&nt.svgValidParentsRegEx.test(St.parentNode.nodeName)&&(Bt=nt.parseAttributes(St.parentNode,xt,$t));var ln=xt.reduce(function(Nt,jt){return Rt=St.getAttribute(jt),Rt&&(Nt[jt]=Rt),Nt},{}),en=ut(Qt(St,$t),nt.parseStyleAttribute(St));ln=ut(ln,en),en[vt]&&St.setAttribute(vt,en[vt]),Wt=Kt=Bt.fontSize||nt.Text.DEFAULT_SVG_FONT_SIZE,ln[_t]&&(ln[_t]=Wt=it(ln[_t],Kt));var tn,Ht,nn={};for(var Pt in ln)tn=yt(Pt),Ht=Ct(tn,ln[Pt],Bt,Wt),nn[tn]=Ht;nn&&nn.font&&nt.parseFontDeclaration(nn.font,nn);var kt=ut(Bt,nn);return nt.svgValidParentsRegEx.test(St.nodeName)?kt:Dt(kt)}},parseElements:function(St,xt,$t,Rt,Bt){new nt.ElementsParser(St,xt,$t,Rt,Bt).parse()},parseStyleAttribute:function(St){var xt={},$t=St.getAttribute("style");return $t&&(typeof $t=="string"?Ft($t,xt):Lt($t,xt)),xt},parsePointsAttribute:function(St){if(!St)return null;St=St.replace(/,/g," ").trim(),St=St.split(/\s+/);var xt=[],$t,Rt;for($t=0,Rt=St.length;$t<Rt;$t+=2)xt.push({x:parseFloat(St[$t]),y:parseFloat(St[$t+1])});return xt},getCSSRules:function(St){var xt=St.getElementsByTagName("style"),$t,Rt,Bt={},Wt;for($t=0,Rt=xt.length;$t<Rt;$t++){var Kt=xt[$t].textContent;Kt=Kt.replace(/\/\*[\s\S]*?\*\//g,""),Kt.trim()!==""&&(Wt=Kt.split("}"),Wt=Wt.filter(function(ln){return ln.trim()}),Wt.forEach(function(ln){var en=ln.split("{"),tn={},Ht=en[1].trim(),nn=Ht.split(";").filter(function(jt){return jt.trim()});for($t=0,Rt=nn.length;$t<Rt;$t++){var Pt=nn[$t].split(":"),kt=Pt[0].trim(),Nt=Pt[1].trim();tn[kt]=Nt}ln=en[0].trim(),ln.split(",").forEach(function(jt){jt=jt.replace(/^svg/i,"").trim(),jt!==""&&(Bt[jt]?nt.util.object.extend(Bt[jt],tn):Bt[jt]=nt.util.object.clone(tn))})}))}return Bt},loadSVGFromURL:function(St,xt,$t,Rt){St=St.replace(/^\n\s*/,"").trim(),new nt.util.request(St,{method:"get",onComplete:Bt});function Bt(Wt){var Kt=Wt.responseXML;if(!Kt||!Kt.documentElement)return xt&&xt(null),!1;nt.parseSVGDocument(Kt.documentElement,function(ln,en,tn,Ht){xt&&xt(ln,en,tn,Ht)},$t,Rt)}},loadSVGFromString:function(St,xt,$t,Rt){var Bt=new nt.window.DOMParser,Wt=Bt.parseFromString(St.trim(),"text/xml");nt.parseSVGDocument(Wt.documentElement,function(Kt,ln,en,tn){xt(Kt,ln,en,tn)},$t,Rt)}})}(j),$.ElementsParser=function(lt,nt,ut,ht,at,it){this.elements=lt,this.callback=nt,this.options=ut,this.reviver=ht,this.svgUid=ut&&ut.svgUid||0,this.parsingOptions=at,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=it},function(lt){lt.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},lt.createObjects=function(){var nt=this;this.elements.forEach(function(ut,ht){ut.setAttribute("svgUid",nt.svgUid),nt.createObject(ut,ht)})},lt.findTag=function(nt){return $[$.util.string.capitalize(nt.tagName.replace("svg:",""))]},lt.createObject=function(nt,ut){var ht=this.findTag(nt);if(ht&&ht.fromElement)try{ht.fromElement(nt,this.createCallback(ut,nt),this.options)}catch(at){$.log(at)}else this.checkIfDone()},lt.createCallback=function(nt,ut){var ht=this;return function(at){var it;ht.resolveGradient(at,ut,"fill"),ht.resolveGradient(at,ut,"stroke"),at instanceof $.Image&&at._originalElement&&(it=at.parsePreserveAspectRatioAttribute(ut)),at._removeTransformMatrix(it),ht.resolveClipPath(at,ut),ht.reviver&&ht.reviver(ut,at),ht.instances[nt]=at,ht.checkIfDone()}},lt.extractPropertyDefinition=function(nt,ut,ht){var at=nt[ut],it=this.regexUrl;if(!!it.test(at)){it.lastIndex=0;var rt=it.exec(at)[1];return it.lastIndex=0,$[ht][this.svgUid][rt]}},lt.resolveGradient=function(nt,ut,ht){var at=this.extractPropertyDefinition(nt,ht,"gradientDefs");if(at){var it=ut.getAttribute(ht+"-opacity"),rt=$.Gradient.fromElement(at,nt,it,this.options);nt.set(ht,rt)}},lt.createClipPathCallback=function(nt,ut){return function(ht){ht._removeTransformMatrix(),ht.fillRule=ht.clipRule,ut.push(ht)}},lt.resolveClipPath=function(nt,ut){var ht=this.extractPropertyDefinition(nt,"clipPath","clipPaths"),at,it,rt,ot,ft,ct;if(ht){ot=[],rt=$.util.invertTransform(nt.calcTransformMatrix());for(var dt=ht[0].parentNode,pt=ut;pt.parentNode&&pt.getAttribute("clip-path")!==nt.clipPath;)pt=pt.parentNode;pt.parentNode.appendChild(dt);for(var mt=0;mt<ht.length;mt++)at=ht[mt],it=this.findTag(at),it.fromElement(at,this.createClipPathCallback(nt,ot),this.options);ot.length===1?ht=ot[0]:ht=new $.Group(ot),ft=$.util.multiplyTransformMatrices(rt,ht.calcTransformMatrix()),ht.clipPath&&this.resolveClipPath(ht,pt);var ct=$.util.qrDecompose(ft);ht.flipX=!1,ht.flipY=!1,ht.set("scaleX",ct.scaleX),ht.set("scaleY",ct.scaleY),ht.angle=ct.angle,ht.skewX=ct.skewX,ht.skewY=0,ht.setPositionByOrigin({x:ct.translateX,y:ct.translateY},"center","center"),nt.clipPath=ht}else delete nt.clipPath},lt.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(nt){return nt!=null}),this.callback(this.instances,this.elements))}}($.ElementsParser.prototype),function(lt){var nt=lt.fabric||(lt.fabric={});if(nt.Point){nt.warn("fabric.Point is already defined");return}nt.Point=ut;function ut(ht,at){this.x=ht,this.y=at}ut.prototype={type:"point",constructor:ut,add:function(ht){return new ut(this.x+ht.x,this.y+ht.y)},addEquals:function(ht){return this.x+=ht.x,this.y+=ht.y,this},scalarAdd:function(ht){return new ut(this.x+ht,this.y+ht)},scalarAddEquals:function(ht){return this.x+=ht,this.y+=ht,this},subtract:function(ht){return new ut(this.x-ht.x,this.y-ht.y)},subtractEquals:function(ht){return this.x-=ht.x,this.y-=ht.y,this},scalarSubtract:function(ht){return new ut(this.x-ht,this.y-ht)},scalarSubtractEquals:function(ht){return this.x-=ht,this.y-=ht,this},multiply:function(ht){return new ut(this.x*ht,this.y*ht)},multiplyEquals:function(ht){return this.x*=ht,this.y*=ht,this},divide:function(ht){return new ut(this.x/ht,this.y/ht)},divideEquals:function(ht){return this.x/=ht,this.y/=ht,this},eq:function(ht){return this.x===ht.x&&this.y===ht.y},lt:function(ht){return this.x<ht.x&&this.y<ht.y},lte:function(ht){return this.x<=ht.x&&this.y<=ht.y},gt:function(ht){return this.x>ht.x&&this.y>ht.y},gte:function(ht){return this.x>=ht.x&&this.y>=ht.y},lerp:function(ht,at){return typeof at>"u"&&(at=.5),at=Math.max(Math.min(1,at),0),new ut(this.x+(ht.x-this.x)*at,this.y+(ht.y-this.y)*at)},distanceFrom:function(ht){var at=this.x-ht.x,it=this.y-ht.y;return Math.sqrt(at*at+it*it)},midPointFrom:function(ht){return this.lerp(ht)},min:function(ht){return new ut(Math.min(this.x,ht.x),Math.min(this.y,ht.y))},max:function(ht){return new ut(Math.max(this.x,ht.x),Math.max(this.y,ht.y))},toString:function(){return this.x+","+this.y},setXY:function(ht,at){return this.x=ht,this.y=at,this},setX:function(ht){return this.x=ht,this},setY:function(ht){return this.y=ht,this},setFromPoint:function(ht){return this.x=ht.x,this.y=ht.y,this},swap:function(ht){var at=this.x,it=this.y;this.x=ht.x,this.y=ht.y,ht.x=at,ht.y=it},clone:function(){return new ut(this.x,this.y)}}}(j),function(lt){var nt=lt.fabric||(lt.fabric={});if(nt.Intersection){nt.warn("fabric.Intersection is already defined");return}function ut(ht){this.status=ht,this.points=[]}nt.Intersection=ut,nt.Intersection.prototype={constructor:ut,appendPoint:function(ht){return this.points.push(ht),this},appendPoints:function(ht){return this.points=this.points.concat(ht),this}},nt.Intersection.intersectLineLine=function(ht,at,it,rt){var ot,ft=(rt.x-it.x)*(ht.y-it.y)-(rt.y-it.y)*(ht.x-it.x),ct=(at.x-ht.x)*(ht.y-it.y)-(at.y-ht.y)*(ht.x-it.x),dt=(rt.y-it.y)*(at.x-ht.x)-(rt.x-it.x)*(at.y-ht.y);if(dt!==0){var pt=ft/dt,mt=ct/dt;0<=pt&&pt<=1&&0<=mt&&mt<=1?(ot=new ut("Intersection"),ot.appendPoint(new nt.Point(ht.x+pt*(at.x-ht.x),ht.y+pt*(at.y-ht.y)))):ot=new ut}else ft===0||ct===0?ot=new ut("Coincident"):ot=new ut("Parallel");return ot},nt.Intersection.intersectLinePolygon=function(ht,at,it){var rt=new ut,ot=it.length,ft,ct,dt,pt;for(pt=0;pt<ot;pt++)ft=it[pt],ct=it[(pt+1)%ot],dt=ut.intersectLineLine(ht,at,ft,ct),rt.appendPoints(dt.points);return rt.points.length>0&&(rt.status="Intersection"),rt},nt.Intersection.intersectPolygonPolygon=function(ht,at){var it=new ut,rt=ht.length,ot;for(ot=0;ot<rt;ot++){var ft=ht[ot],ct=ht[(ot+1)%rt],dt=ut.intersectLinePolygon(ft,ct,at);it.appendPoints(dt.points)}return it.points.length>0&&(it.status="Intersection"),it},nt.Intersection.intersectPolygonRectangle=function(ht,at,it){var rt=at.min(it),ot=at.max(it),ft=new nt.Point(ot.x,rt.y),ct=new nt.Point(rt.x,ot.y),dt=ut.intersectLinePolygon(rt,ft,ht),pt=ut.intersectLinePolygon(ft,ot,ht),mt=ut.intersectLinePolygon(ot,ct,ht),_t=ut.intersectLinePolygon(ct,rt,ht),vt=new ut;return vt.appendPoints(dt.points),vt.appendPoints(pt.points),vt.appendPoints(mt.points),vt.appendPoints(_t.points),vt.points.length>0&&(vt.status="Intersection"),vt}}(j),function(lt){var nt=lt.fabric||(lt.fabric={});if(nt.Color){nt.warn("fabric.Color is already defined.");return}function ut(at){at?this._tryParsingColor(at):this.setSource([0,0,0,1])}nt.Color=ut,nt.Color.prototype={_tryParsingColor:function(at){var it;at in ut.colorNameMap&&(at=ut.colorNameMap[at]),at==="transparent"&&(it=[255,255,255,0]),it||(it=ut.sourceFromHex(at)),it||(it=ut.sourceFromRgb(at)),it||(it=ut.sourceFromHsl(at)),it||(it=[0,0,0,1]),it&&this.setSource(it)},_rgbToHsl:function(at,it,rt){at/=255,it/=255,rt/=255;var ot,ft,ct,dt=nt.util.array.max([at,it,rt]),pt=nt.util.array.min([at,it,rt]);if(ct=(dt+pt)/2,dt===pt)ot=ft=0;else{var mt=dt-pt;switch(ft=ct>.5?mt/(2-dt-pt):mt/(dt+pt),dt){case at:ot=(it-rt)/mt+(it<rt?6:0);break;case it:ot=(rt-at)/mt+2;break;case rt:ot=(at-it)/mt+4;break}ot/=6}return[Math.round(ot*360),Math.round(ft*100),Math.round(ct*100)]},getSource:function(){return this._source},setSource:function(at){this._source=at},toRgb:function(){var at=this.getSource();return"rgb("+at[0]+","+at[1]+","+at[2]+")"},toRgba:function(){var at=this.getSource();return"rgba("+at[0]+","+at[1]+","+at[2]+","+at[3]+")"},toHsl:function(){var at=this.getSource(),it=this._rgbToHsl(at[0],at[1],at[2]);return"hsl("+it[0]+","+it[1]+"%,"+it[2]+"%)"},toHsla:function(){var at=this.getSource(),it=this._rgbToHsl(at[0],at[1],at[2]);return"hsla("+it[0]+","+it[1]+"%,"+it[2]+"%,"+at[3]+")"},toHex:function(){var at=this.getSource(),it,rt,ot;return it=at[0].toString(16),it=it.length===1?"0"+it:it,rt=at[1].toString(16),rt=rt.length===1?"0"+rt:rt,ot=at[2].toString(16),ot=ot.length===1?"0"+ot:ot,it.toUpperCase()+rt.toUpperCase()+ot.toUpperCase()},toHexa:function(){var at=this.getSource(),it;return it=Math.round(at[3]*255),it=it.toString(16),it=it.length===1?"0"+it:it,this.toHex()+it.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(at){var it=this.getSource();return it[3]=at,this.setSource(it),this},toGrayscale:function(){var at=this.getSource(),it=parseInt((at[0]*.3+at[1]*.59+at[2]*.11).toFixed(0),10),rt=at[3];return this.setSource([it,it,it,rt]),this},toBlackWhite:function(at){var it=this.getSource(),rt=(it[0]*.3+it[1]*.59+it[2]*.11).toFixed(0),ot=it[3];return at=at||127,rt=Number(rt)<Number(at)?0:255,this.setSource([rt,rt,rt,ot]),this},overlayWith:function(at){at instanceof ut||(at=new ut(at));var it=[],rt=this.getAlpha(),ot=.5,ft=this.getSource(),ct=at.getSource(),dt;for(dt=0;dt<3;dt++)it.push(Math.round(ft[dt]*(1-ot)+ct[dt]*ot));return it[3]=rt,this.setSource(it),this}},nt.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,nt.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,nt.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,nt.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function ht(at,it,rt){return rt<0&&(rt+=1),rt>1&&(rt-=1),rt<1/6?at+(it-at)*6*rt:rt<1/2?it:rt<2/3?at+(it-at)*(2/3-rt)*6:at}nt.Color.fromRgb=function(at){return ut.fromSource(ut.sourceFromRgb(at))},nt.Color.sourceFromRgb=function(at){var it=at.match(ut.reRGBa);if(it){var rt=parseInt(it[1],10)/(/%$/.test(it[1])?100:1)*(/%$/.test(it[1])?255:1),ot=parseInt(it[2],10)/(/%$/.test(it[2])?100:1)*(/%$/.test(it[2])?255:1),ft=parseInt(it[3],10)/(/%$/.test(it[3])?100:1)*(/%$/.test(it[3])?255:1);return[parseInt(rt,10),parseInt(ot,10),parseInt(ft,10),it[4]?parseFloat(it[4]):1]}},nt.Color.fromRgba=ut.fromRgb,nt.Color.fromHsl=function(at){return ut.fromSource(ut.sourceFromHsl(at))},nt.Color.sourceFromHsl=function(at){var it=at.match(ut.reHSLa);if(!!it){var rt=(parseFloat(it[1])%360+360)%360/360,ot=parseFloat(it[2])/(/%$/.test(it[2])?100:1),ft=parseFloat(it[3])/(/%$/.test(it[3])?100:1),ct,dt,pt;if(ot===0)ct=dt=pt=ft;else{var mt=ft<=.5?ft*(ot+1):ft+ot-ft*ot,_t=ft*2-mt;ct=ht(_t,mt,rt+1/3),dt=ht(_t,mt,rt),pt=ht(_t,mt,rt-1/3)}return[Math.round(ct*255),Math.round(dt*255),Math.round(pt*255),it[4]?parseFloat(it[4]):1]}},nt.Color.fromHsla=ut.fromHsl,nt.Color.fromHex=function(at){return ut.fromSource(ut.sourceFromHex(at))},nt.Color.sourceFromHex=function(at){if(at.match(ut.reHex)){var it=at.slice(at.indexOf("#")+1),rt=it.length===3||it.length===4,ot=it.length===8||it.length===4,ft=rt?it.charAt(0)+it.charAt(0):it.substring(0,2),ct=rt?it.charAt(1)+it.charAt(1):it.substring(2,4),dt=rt?it.charAt(2)+it.charAt(2):it.substring(4,6),pt=ot?rt?it.charAt(3)+it.charAt(3):it.substring(6,8):"FF";return[parseInt(ft,16),parseInt(ct,16),parseInt(dt,16),parseFloat((parseInt(pt,16)/255).toFixed(2))]}},nt.Color.fromSource=function(at){var it=new ut;return it.setSource(at),it}}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=["e","se","s","sw","w","nw","n","ne","e"],ht=["ns","nesw","ew","nwse"],at={},it="left",rt="top",ot="right",ft="bottom",ct="center",dt={top:ft,bottom:rt,left:ot,right:it,center:ct},pt=nt.util.radiansToDegrees,mt=Math.sign||function(tn){return(tn>0)-(tn<0)||+tn};function _t(tn,Ht){var nn=tn.angle+pt(Math.atan2(Ht.y,Ht.x))+360;return Math.round(nn%360/45)}function vt(tn,Ht){var nn=Ht.transform.target,Pt=nn.canvas,kt=nt.util.object.clone(Ht);kt.target=nn,Pt&&Pt.fire("object:"+tn,kt),nn.fire(tn,Ht)}function yt(tn,Ht){var nn=Ht.canvas,Pt=nn.uniScaleKey,kt=tn[Pt];return nn.uniformScaling&&!kt||!nn.uniformScaling&&kt}function Ct(tn){return tn.originX===ct&&tn.originY===ct}function bt(tn,Ht,nn){var Pt=tn.lockScalingX,kt=tn.lockScalingY;return!!(Pt&&kt||!Ht&&(Pt||kt)&&nn||Pt&&Ht==="x"||kt&&Ht==="y")}function Dt(tn,Ht,nn){var Pt="not-allowed",kt=yt(tn,nn),Nt="";if(Ht.x!==0&&Ht.y===0?Nt="x":Ht.x===0&&Ht.y!==0&&(Nt="y"),bt(nn,Nt,kt))return Pt;var jt=_t(nn,Ht);return ut[jt]+"-resize"}function wt(tn,Ht,nn){var Pt="not-allowed";if(Ht.x!==0&&nn.lockSkewingY||Ht.y!==0&&nn.lockSkewingX)return Pt;var kt=_t(nn,Ht)%4;return ht[kt]+"-resize"}function Ft(tn,Ht,nn){return tn[nn.canvas.altActionKey]?at.skewCursorStyleHandler(tn,Ht,nn):at.scaleCursorStyleHandler(tn,Ht,nn)}function Lt(tn,Ht,nn){var Pt=tn[nn.canvas.altActionKey];if(Ht.x===0)return Pt?"skewX":"scaleY";if(Ht.y===0)return Pt?"skewY":"scaleX"}function Qt(tn,Ht,nn){return nn.lockRotation?"not-allowed":Ht.cursorStyle}function Ut(tn,Ht,nn,Pt){return{e:tn,transform:Ht,pointer:{x:nn,y:Pt}}}function Xt(tn){return function(Ht,nn,Pt,kt){var Nt=nn.target,jt=Nt.getCenterPoint(),Vt=Nt.translateToOriginPoint(jt,nn.originX,nn.originY),sn=tn(Ht,nn,Pt,kt);return Nt.setPositionByOrigin(Vt,nn.originX,nn.originY),sn}}function qt(tn,Ht){return function(nn,Pt,kt,Nt){var jt=Ht(nn,Pt,kt,Nt);return jt&&vt(tn,Ut(nn,Pt,kt,Nt)),jt}}function Jt(tn,Ht,nn,Pt,kt){var Nt=tn.target,jt=Nt.controls[tn.corner],Vt=Nt.canvas.getZoom(),sn=Nt.padding/Vt,rn=Nt.toLocalPoint(new nt.Point(Pt,kt),Ht,nn);return rn.x>=sn&&(rn.x-=sn),rn.x<=-sn&&(rn.x+=sn),rn.y>=sn&&(rn.y-=sn),rn.y<=sn&&(rn.y+=sn),rn.x-=jt.offsetX,rn.y-=jt.offsetY,rn}function Gt(tn){return tn.flipX!==tn.flipY}function Et(tn,Ht,nn,Pt,kt){if(tn[Ht]!==0){var Nt=tn._getTransformedDimensions()[Pt],jt=kt/Nt*tn[nn];tn.set(nn,jt)}}function At(tn,Ht,nn,Pt){var kt=Ht.target,Nt=kt._getTransformedDimensions(0,kt.skewY),jt=Jt(Ht,Ht.originX,Ht.originY,nn,Pt),Vt=Math.abs(jt.x*2)-Nt.x,sn=kt.skewX,rn;Vt<2?rn=0:(rn=pt(Math.atan2(Vt/kt.scaleX,Nt.y/kt.scaleY)),Ht.originX===it&&Ht.originY===ft&&(rn=-rn),Ht.originX===ot&&Ht.originY===rt&&(rn=-rn),Gt(kt)&&(rn=-rn));var _n=sn!==rn;if(_n){var cn=kt._getTransformedDimensions().y;kt.set("skewX",rn),Et(kt,"skewY","scaleY","y",cn)}return _n}function It(tn,Ht,nn,Pt){var kt=Ht.target,Nt=kt._getTransformedDimensions(kt.skewX,0),jt=Jt(Ht,Ht.originX,Ht.originY,nn,Pt),Vt=Math.abs(jt.y*2)-Nt.y,sn=kt.skewY,rn;Vt<2?rn=0:(rn=pt(Math.atan2(Vt/kt.scaleY,Nt.x/kt.scaleX)),Ht.originX===it&&Ht.originY===ft&&(rn=-rn),Ht.originX===ot&&Ht.originY===rt&&(rn=-rn),Gt(kt)&&(rn=-rn));var _n=sn!==rn;if(_n){var cn=kt._getTransformedDimensions().x;kt.set("skewY",rn),Et(kt,"skewX","scaleX","x",cn)}return _n}function Ot(tn,Ht,nn,Pt){var kt=Ht.target,Nt=kt.skewX,jt,Vt=Ht.originY;if(kt.lockSkewingX)return!1;if(Nt===0){var sn=Jt(Ht,ct,ct,nn,Pt);sn.x>0?jt=it:jt=ot}else Nt>0&&(jt=Vt===rt?it:ot),Nt<0&&(jt=Vt===rt?ot:it),Gt(kt)&&(jt=jt===it?ot:it);Ht.originX=jt;var rn=qt("skewing",Xt(At));return rn(tn,Ht,nn,Pt)}function Tt(tn,Ht,nn,Pt){var kt=Ht.target,Nt=kt.skewY,jt,Vt=Ht.originX;if(kt.lockSkewingY)return!1;if(Nt===0){var sn=Jt(Ht,ct,ct,nn,Pt);sn.y>0?jt=rt:jt=ft}else Nt>0&&(jt=Vt===it?rt:ft),Nt<0&&(jt=Vt===it?ft:rt),Gt(kt)&&(jt=jt===rt?ft:rt);Ht.originY=jt;var rn=qt("skewing",Xt(It));return rn(tn,Ht,nn,Pt)}function St(tn,Ht,nn,Pt){var kt=Ht,Nt=kt.target,jt=Nt.translateToOriginPoint(Nt.getCenterPoint(),kt.originX,kt.originY);if(Nt.lockRotation)return!1;var Vt=Math.atan2(kt.ey-jt.y,kt.ex-jt.x),sn=Math.atan2(Pt-jt.y,nn-jt.x),rn=pt(sn-Vt+kt.theta),_n=!0;if(Nt.snapAngle>0){var cn=Nt.snapAngle,An=Nt.snapThreshold||cn,pn=Math.ceil(rn/cn)*cn,xn=Math.floor(rn/cn)*cn;Math.abs(rn-xn)<An?rn=xn:Math.abs(rn-pn)<An&&(rn=pn)}return rn<0&&(rn=360+rn),rn%=360,_n=Nt.angle!==rn,Nt.angle=rn,_n}function xt(tn,Ht,nn,Pt,kt){kt=kt||{};var Nt=Ht.target,jt=Nt.lockScalingX,Vt=Nt.lockScalingY,sn=kt.by,rn,_n,cn,An,pn=yt(tn,Nt),xn=bt(Nt,sn,pn),on,Cn,kn=Ht.gestureScale;if(xn)return!1;if(kn)_n=Ht.scaleX*kn,cn=Ht.scaleY*kn;else{if(rn=Jt(Ht,Ht.originX,Ht.originY,nn,Pt),on=sn!=="y"?mt(rn.x):1,Cn=sn!=="x"?mt(rn.y):1,Ht.signX||(Ht.signX=on),Ht.signY||(Ht.signY=Cn),Nt.lockScalingFlip&&(Ht.signX!==on||Ht.signY!==Cn))return!1;if(An=Nt._getTransformedDimensions(),pn&&!sn){var jn=Math.abs(rn.x)+Math.abs(rn.y),Gn=Ht.original,Vn=Math.abs(An.x*Gn.scaleX/Nt.scaleX)+Math.abs(An.y*Gn.scaleY/Nt.scaleY),Wn=jn/Vn;_n=Gn.scaleX*Wn,cn=Gn.scaleY*Wn}else _n=Math.abs(rn.x*Nt.scaleX/An.x),cn=Math.abs(rn.y*Nt.scaleY/An.y);Ct(Ht)&&(_n*=2,cn*=2),Ht.signX!==on&&sn!=="y"&&(Ht.originX=dt[Ht.originX],_n*=-1,Ht.signX=on),Ht.signY!==Cn&&sn!=="x"&&(Ht.originY=dt[Ht.originY],cn*=-1,Ht.signY=Cn)}var wn=Nt.scaleX,dn=Nt.scaleY;return sn?(sn==="x"&&Nt.set("scaleX",_n),sn==="y"&&Nt.set("scaleY",cn)):(!jt&&Nt.set("scaleX",_n),!Vt&&Nt.set("scaleY",cn)),wn!==Nt.scaleX||dn!==Nt.scaleY}function $t(tn,Ht,nn,Pt){return xt(tn,Ht,nn,Pt)}function Rt(tn,Ht,nn,Pt){return xt(tn,Ht,nn,Pt,{by:"x"})}function Bt(tn,Ht,nn,Pt){return xt(tn,Ht,nn,Pt,{by:"y"})}function Wt(tn,Ht,nn,Pt){return tn[Ht.target.canvas.altActionKey]?at.skewHandlerX(tn,Ht,nn,Pt):at.scalingY(tn,Ht,nn,Pt)}function Kt(tn,Ht,nn,Pt){return tn[Ht.target.canvas.altActionKey]?at.skewHandlerY(tn,Ht,nn,Pt):at.scalingX(tn,Ht,nn,Pt)}function ln(tn,Ht,nn,Pt){var kt=Ht.target,Nt=Jt(Ht,Ht.originX,Ht.originY,nn,Pt),jt=kt.strokeWidth/(kt.strokeUniform?kt.scaleX:1),Vt=Ct(Ht)?2:1,sn=kt.width,rn=Math.abs(Nt.x*Vt/kt.scaleX)-jt;return kt.set("width",Math.max(rn,0)),sn!==rn}function en(tn,Ht,nn,Pt){var kt=Ht.target,Nt=nn-Ht.offsetX,jt=Pt-Ht.offsetY,Vt=!kt.get("lockMovementX")&&kt.left!==Nt,sn=!kt.get("lockMovementY")&&kt.top!==jt;return Vt&&kt.set("left",Nt),sn&&kt.set("top",jt),(Vt||sn)&&vt("moving",Ut(tn,Ht,nn,Pt)),Vt||sn}at.scaleCursorStyleHandler=Dt,at.skewCursorStyleHandler=wt,at.scaleSkewCursorStyleHandler=Ft,at.rotationWithSnapping=qt("rotating",Xt(St)),at.scalingEqually=qt("scaling",Xt($t)),at.scalingX=qt("scaling",Xt(Rt)),at.scalingY=qt("scaling",Xt(Bt)),at.scalingYOrSkewingX=Wt,at.scalingXOrSkewingY=Kt,at.changeWidth=qt("resizing",Xt(ln)),at.skewHandlerX=Ot,at.skewHandlerY=Tt,at.dragHandler=en,at.scaleOrSkewActionName=Lt,at.rotationStyleHandler=Qt,at.fireEvent=vt,at.wrapWithFixedAnchor=Xt,at.wrapWithFireEvent=qt,at.getLocalPoint=Jt,nt.controlsUtils=at}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.util.degreesToRadians,ht=nt.controlsUtils;function at(rt,ot,ft,ct,dt){ct=ct||{};var pt=this.sizeX||ct.cornerSize||dt.cornerSize,mt=this.sizeY||ct.cornerSize||dt.cornerSize,_t=typeof ct.transparentCorners<"u"?ct.transparentCorners:dt.transparentCorners,vt=_t?"stroke":"fill",yt=!_t&&(ct.cornerStrokeColor||dt.cornerStrokeColor),Ct=ot,bt=ft,Dt;rt.save(),rt.fillStyle=ct.cornerColor||dt.cornerColor,rt.strokeStyle=ct.cornerStrokeColor||dt.cornerStrokeColor,pt>mt?(Dt=pt,rt.scale(1,mt/pt),bt=ft*pt/mt):mt>pt?(Dt=mt,rt.scale(pt/mt,1),Ct=ot*mt/pt):Dt=pt,rt.lineWidth=1,rt.beginPath(),rt.arc(Ct,bt,Dt/2,0,2*Math.PI,!1),rt[vt](),yt&&rt.stroke(),rt.restore()}function it(rt,ot,ft,ct,dt){ct=ct||{};var pt=this.sizeX||ct.cornerSize||dt.cornerSize,mt=this.sizeY||ct.cornerSize||dt.cornerSize,_t=typeof ct.transparentCorners<"u"?ct.transparentCorners:dt.transparentCorners,vt=_t?"stroke":"fill",yt=!_t&&(ct.cornerStrokeColor||dt.cornerStrokeColor),Ct=pt/2,bt=mt/2;rt.save(),rt.fillStyle=ct.cornerColor||dt.cornerColor,rt.strokeStyle=ct.cornerStrokeColor||dt.cornerStrokeColor,rt.lineWidth=1,rt.translate(ot,ft),rt.rotate(ut(dt.angle)),rt[vt+"Rect"](-Ct,-bt,pt,mt),yt&&rt.strokeRect(-Ct,-bt,pt,mt),rt.restore()}ht.renderCircleControl=at,ht.renderSquareControl=it}(j),function(lt){var nt=lt.fabric||(lt.fabric={});function ut(ht){for(var at in ht)this[at]=ht[at]}nt.Control=ut,nt.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(ht,at){return at.cursorStyle},getActionName:function(ht,at){return at.actionName},getVisibility:function(ht,at){var it=ht._controlsVisibility;return it&&typeof it[at]<"u"?it[at]:this.visible},setVisibility:function(ht){this.visible=ht},positionHandler:function(ht,at){var it=nt.util.transformPoint({x:this.x*ht.x+this.offsetX,y:this.y*ht.y+this.offsetY},at);return it},calcCornerCoords:function(ht,at,it,rt,ot){var ft,ct,dt,pt,mt=ot?this.touchSizeX:this.sizeX,_t=ot?this.touchSizeY:this.sizeY;if(mt&&_t&&mt!==_t){var vt=Math.atan2(_t,mt),yt=Math.sqrt(mt*mt+_t*_t)/2,Ct=vt-nt.util.degreesToRadians(ht),bt=Math.PI/2-vt-nt.util.degreesToRadians(ht);ft=yt*nt.util.cos(Ct),ct=yt*nt.util.sin(Ct),dt=yt*nt.util.cos(bt),pt=yt*nt.util.sin(bt)}else{var Dt=mt&&_t?mt:at;yt=Dt*.7071067812;var Ct=nt.util.degreesToRadians(45-ht);ft=dt=yt*nt.util.cos(Ct),ct=pt=yt*nt.util.sin(Ct)}return{tl:{x:it-pt,y:rt-dt},tr:{x:it+ft,y:rt-ct},bl:{x:it-ft,y:rt+ct},br:{x:it+pt,y:rt+dt}}},render:function(ht,at,it,rt,ot){switch(rt=rt||{},rt.cornerStyle||ot.cornerStyle){case"circle":nt.controlsUtils.renderCircleControl.call(this,ht,at,it,rt,ot);break;default:nt.controlsUtils.renderSquareControl.call(this,ht,at,it,rt,ot)}}}}(j),function(){function lt(it,rt){var ot=it.getAttribute("style"),ft=it.getAttribute("offset")||0,ct,dt,pt,mt;if(ft=parseFloat(ft)/(/%$/.test(ft)?100:1),ft=ft<0?0:ft>1?1:ft,ot){var _t=ot.split(/\s*;\s*/);for(_t[_t.length-1]===""&&_t.pop(),mt=_t.length;mt--;){var vt=_t[mt].split(/\s*:\s*/),yt=vt[0].trim(),Ct=vt[1].trim();yt==="stop-color"?ct=Ct:yt==="stop-opacity"&&(pt=Ct)}}return ct||(ct=it.getAttribute("stop-color")||"rgb(0,0,0)"),pt||(pt=it.getAttribute("stop-opacity")),ct=new $.Color(ct),dt=ct.getAlpha(),pt=isNaN(parseFloat(pt))?1:parseFloat(pt),pt*=dt*rt,{offset:ft,color:ct.toRgb(),opacity:pt}}function nt(it){return{x1:it.getAttribute("x1")||0,y1:it.getAttribute("y1")||0,x2:it.getAttribute("x2")||"100%",y2:it.getAttribute("y2")||0}}function ut(it){return{x1:it.getAttribute("fx")||it.getAttribute("cx")||"50%",y1:it.getAttribute("fy")||it.getAttribute("cy")||"50%",r1:0,x2:it.getAttribute("cx")||"50%",y2:it.getAttribute("cy")||"50%",r2:it.getAttribute("r")||"50%"}}var ht=$.util.object.clone;$.Gradient=$.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(it){it||(it={}),it.coords||(it.coords={});var rt,ot=this;Object.keys(it).forEach(function(ft){ot[ft]=it[ft]}),this.id?this.id+="_"+$.Object.__uid++:this.id=$.Object.__uid++,rt={x1:it.coords.x1||0,y1:it.coords.y1||0,x2:it.coords.x2||0,y2:it.coords.y2||0},this.type==="radial"&&(rt.r1=it.coords.r1||0,rt.r2=it.coords.r2||0),this.coords=rt,this.colorStops=it.colorStops.slice()},addColorStop:function(it){for(var rt in it){var ot=new $.Color(it[rt]);this.colorStops.push({offset:parseFloat(rt),color:ot.toRgb(),opacity:ot.getAlpha()})}return this},toObject:function(it){var rt={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return $.util.populateWithProperties(this,rt,it),rt},toSVG:function(it,dt){var ot=ht(this.coords,!0),ft,ct,dt=dt||{},pt,mt,_t=ht(this.colorStops,!0),vt=ot.r1>ot.r2,yt=this.gradientTransform?this.gradientTransform.concat():$.iMatrix.concat(),Ct=-this.offsetX,bt=-this.offsetY,Dt=!!dt.additionalTransform,wt=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(_t.sort(function(Xt,qt){return Xt.offset-qt.offset}),wt==="objectBoundingBox"?(Ct/=it.width,bt/=it.height):(Ct+=it.width/2,bt+=it.height/2),it.type==="path"&&this.gradientUnits!=="percentage"&&(Ct-=it.pathOffset.x,bt-=it.pathOffset.y),yt[4]-=Ct,yt[5]-=bt,mt='id="SVGID_'+this.id+'" gradientUnits="'+wt+'"',mt+=' gradientTransform="'+(Dt?dt.additionalTransform+" ":"")+$.util.matrixToSVG(yt)+'" ',this.type==="linear"?pt=["<linearGradient ",mt,' x1="',ot.x1,'" y1="',ot.y1,'" x2="',ot.x2,'" y2="',ot.y2,`">
`]:this.type==="radial"&&(pt=["<radialGradient ",mt,' cx="',vt?ot.x1:ot.x2,'" cy="',vt?ot.y1:ot.y2,'" r="',vt?ot.r1:ot.r2,'" fx="',vt?ot.x2:ot.x1,'" fy="',vt?ot.y2:ot.y1,`">
`]),this.type==="radial"){if(vt)for(_t=_t.concat(),_t.reverse(),ft=0,ct=_t.length;ft<ct;ft++)_t[ft].offset=1-_t[ft].offset;var Ft=Math.min(ot.r1,ot.r2);if(Ft>0){var Lt=Math.max(ot.r1,ot.r2),Qt=Ft/Lt;for(ft=0,ct=_t.length;ft<ct;ft++)_t[ft].offset+=Qt*(1-_t[ft].offset)}}for(ft=0,ct=_t.length;ft<ct;ft++){var Ut=_t[ft];pt.push("<stop ",'offset="',Ut.offset*100+"%",'" style="stop-color:',Ut.color,typeof Ut.opacity<"u"?";stop-opacity: "+Ut.opacity:";",`"/>
`)}return pt.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),pt.join("")},toLive:function(it){var rt,ot=$.util.object.clone(this.coords),ft,ct;if(!!this.type){for(this.type==="linear"?rt=it.createLinearGradient(ot.x1,ot.y1,ot.x2,ot.y2):this.type==="radial"&&(rt=it.createRadialGradient(ot.x1,ot.y1,ot.r1,ot.x2,ot.y2,ot.r2)),ft=0,ct=this.colorStops.length;ft<ct;ft++){var dt=this.colorStops[ft].color,pt=this.colorStops[ft].opacity,mt=this.colorStops[ft].offset;typeof pt<"u"&&(dt=new $.Color(dt).setAlpha(pt).toRgba()),rt.addColorStop(mt,dt)}return rt}}}),$.util.object.extend($.Gradient,{fromElement:function(it,rt,ot,ft){var ct=parseFloat(ot)/(/%$/.test(ot)?100:1);ct=ct<0?0:ct>1?1:ct,isNaN(ct)&&(ct=1);var dt=it.getElementsByTagName("stop"),pt,mt=it.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",_t=it.getAttribute("gradientTransform")||"",vt=[],yt,Ct,bt=0,Dt=0,wt;for(it.nodeName==="linearGradient"||it.nodeName==="LINEARGRADIENT"?(pt="linear",yt=nt(it)):(pt="radial",yt=ut(it)),Ct=dt.length;Ct--;)vt.push(lt(dt[Ct],ct));wt=$.parseTransformAttribute(_t),at(rt,yt,ft,mt),mt==="pixels"&&(bt=-rt.left,Dt=-rt.top);var Ft=new $.Gradient({id:it.getAttribute("id"),type:pt,coords:yt,colorStops:vt,gradientUnits:mt,gradientTransform:wt,offsetX:bt,offsetY:Dt});return Ft}});function at(it,rt,ot,ft){var ct,dt;Object.keys(rt).forEach(function(pt){ct=rt[pt],ct==="Infinity"?dt=1:ct==="-Infinity"?dt=0:(dt=parseFloat(rt[pt],10),typeof ct=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(ct)&&(dt*=.01,ft==="pixels"&&((pt==="x1"||pt==="x2"||pt==="r2")&&(dt*=ot.viewBoxWidth||ot.width),(pt==="y1"||pt==="y2")&&(dt*=ot.viewBoxHeight||ot.height)))),rt[pt]=dt})}}(),function(){var lt=$.util.toFixed;$.Pattern=$.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(nt,ut){if(nt||(nt={}),this.id=$.Object.__uid++,this.setOptions(nt),!nt.source||nt.source&&typeof nt.source!="string"){ut&&ut(this);return}else{var ht=this;this.source=$.util.createImage(),$.util.loadImage(nt.source,function(at,it){ht.source=at,ut&&ut(ht,it)},null,this.crossOrigin)}},toObject:function(nt){var ut=$.Object.NUM_FRACTION_DIGITS,ht,at;return typeof this.source.src=="string"?ht=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(ht=this.source.toDataURL()),at={type:"pattern",source:ht,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:lt(this.offsetX,ut),offsetY:lt(this.offsetY,ut),patternTransform:this.patternTransform?this.patternTransform.concat():null},$.util.populateWithProperties(this,at,nt),at},toSVG:function(nt){var ut=typeof this.source=="function"?this.source():this.source,ht=ut.width/nt.width,at=ut.height/nt.height,it=this.offsetX/nt.width,rt=this.offsetY/nt.height,ot="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(at=1,rt&&(at+=Math.abs(rt))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(ht=1,it&&(ht+=Math.abs(it))),ut.src?ot=ut.src:ut.toDataURL&&(ot=ut.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+it+'" y="'+rt+'" width="'+ht+'" height="'+at+`">
<image x="0" y="0" width="`+ut.width+'" height="'+ut.height+'" xlink:href="'+ot+`"></image>
</pattern>
`},setOptions:function(nt){for(var ut in nt)this[ut]=nt[ut]},toLive:function(nt){var ut=this.source;return!ut||typeof ut.src<"u"&&(!ut.complete||ut.naturalWidth===0||ut.naturalHeight===0)?"":nt.createPattern(ut,this.repeat)}})}(),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.util.toFixed;if(nt.Shadow){nt.warn("fabric.Shadow is already defined.");return}nt.Shadow=nt.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(ht){typeof ht=="string"&&(ht=this._parseShadow(ht));for(var at in ht)this[at]=ht[at];this.id=nt.Object.__uid++},_parseShadow:function(ht){var at=ht.trim(),it=nt.Shadow.reOffsetsAndBlur.exec(at)||[],rt=at.replace(nt.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:rt.trim(),offsetX:parseFloat(it[1],10)||0,offsetY:parseFloat(it[2],10)||0,blur:parseFloat(it[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(ht){var at=40,it=40,rt=nt.Object.NUM_FRACTION_DIGITS,ot=nt.util.rotateVector({x:this.offsetX,y:this.offsetY},nt.util.degreesToRadians(-ht.angle)),ft=20,ct=new nt.Color(this.color);return ht.width&&ht.height&&(at=ut((Math.abs(ot.x)+this.blur)/ht.width,rt)*100+ft,it=ut((Math.abs(ot.y)+this.blur)/ht.height,rt)*100+ft),ht.flipX&&(ot.x*=-1),ht.flipY&&(ot.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+it+'%" height="'+(100+2*it)+'%" x="-'+at+'%" width="'+(100+2*at)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+ut(this.blur?this.blur/2:0,rt)+`"></feGaussianBlur>
	<feOffset dx="`+ut(ot.x,rt)+'" dy="'+ut(ot.y,rt)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+ct.toRgb()+'" flood-opacity="'+ct.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var ht={},at=nt.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(it){this[it]!==at[it]&&(ht[it]=this[it])},this),ht}}),nt.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(j),function(){if($.StaticCanvas){$.warn("fabric.StaticCanvas is already defined.");return}var lt=$.util.object.extend,nt=$.util.getElementOffset,ut=$.util.removeFromArray,ht=$.util.toFixed,at=$.util.transformPoint,it=$.util.invertTransform,rt=$.util.getNodeCanvas,ot=$.util.createCanvasElement,ft=new Error("Could not initialize `canvas` element");$.StaticCanvas=$.util.createClass($.CommonMethods,{initialize:function(ct,dt){dt||(dt={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(ct,dt)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:$.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(ct,dt){var pt=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(ct),this._initOptions(dt),this.interactive||this._initRetinaScaling(),dt.overlayImage&&this.setOverlayImage(dt.overlayImage,pt),dt.backgroundImage&&this.setBackgroundImage(dt.backgroundImage,pt),dt.backgroundColor&&this.setBackgroundColor(dt.backgroundColor,pt),dt.overlayColor&&this.setOverlayColor(dt.overlayColor,pt),this.calcOffset()},_isRetinaScaling:function(){return $.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,$.devicePixelRatio):1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var ct=$.devicePixelRatio;this.__initRetinaScaling(ct,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(ct,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(ct,dt,pt){dt.setAttribute("width",this.width*ct),dt.setAttribute("height",this.height*ct),pt.scale(ct,ct)},calcOffset:function(){return this._offset=nt(this.lowerCanvasEl),this},setOverlayImage:function(ct,dt,pt){return this.__setBgOverlayImage("overlayImage",ct,dt,pt)},setBackgroundImage:function(ct,dt,pt){return this.__setBgOverlayImage("backgroundImage",ct,dt,pt)},setOverlayColor:function(ct,dt){return this.__setBgOverlayColor("overlayColor",ct,dt)},setBackgroundColor:function(ct,dt){return this.__setBgOverlayColor("backgroundColor",ct,dt)},__setBgOverlayImage:function(ct,dt,pt,mt){return typeof dt=="string"?$.util.loadImage(dt,function(_t,vt){if(_t){var yt=new $.Image(_t,mt);this[ct]=yt,yt.canvas=this}pt&&pt(_t,vt)},this,mt&&mt.crossOrigin):(mt&&dt.setOptions(mt),this[ct]=dt,dt&&(dt.canvas=this),pt&&pt(dt,!1)),this},__setBgOverlayColor:function(ct,dt,pt){return this[ct]=dt,this._initGradient(dt,ct),this._initPattern(dt,ct,pt),this},_createCanvasElement:function(){var ct=ot();if(!ct||(ct.style||(ct.style={}),typeof ct.getContext>"u"))throw ft;return ct},_initOptions:function(ct){var dt=this.lowerCanvasEl;this._setOptions(ct),this.width=this.width||parseInt(dt.width,10)||0,this.height=this.height||parseInt(dt.height,10)||0,this.lowerCanvasEl.style&&(dt.width=this.width,dt.height=this.height,dt.style.width=this.width+"px",dt.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(ct){ct&&ct.getContext?this.lowerCanvasEl=ct:this.lowerCanvasEl=$.util.getById(ct)||this._createCanvasElement(),$.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(ct,dt){return this.setDimensions({width:ct},dt)},setHeight:function(ct,dt){return this.setDimensions({height:ct},dt)},setDimensions:function(ct,dt){var pt;dt=dt||{};for(var mt in ct)pt=ct[mt],dt.cssOnly||(this._setBackstoreDimension(mt,ct[mt]),pt+="px",this.hasLostContext=!0),dt.backstoreOnly||this._setCssDimension(mt,pt);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),dt.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(ct,dt){return this.lowerCanvasEl[ct]=dt,this.upperCanvasEl&&(this.upperCanvasEl[ct]=dt),this.cacheCanvasEl&&(this.cacheCanvasEl[ct]=dt),this[ct]=dt,this},_setCssDimension:function(ct,dt){return this.lowerCanvasEl.style[ct]=dt,this.upperCanvasEl&&(this.upperCanvasEl.style[ct]=dt),this.wrapperEl&&(this.wrapperEl.style[ct]=dt),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(ct){var dt=this._activeObject,pt=this.backgroundImage,mt=this.overlayImage,_t,vt,yt;for(this.viewportTransform=ct,vt=0,yt=this._objects.length;vt<yt;vt++)_t=this._objects[vt],_t.group||_t.setCoords(!0);return dt&&dt.setCoords(),pt&&pt.setCoords(!0),mt&&mt.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(ct,dt){var pt=ct,mt=this.viewportTransform.slice(0);ct=at(ct,it(this.viewportTransform)),mt[0]=dt,mt[3]=dt;var _t=at(ct,mt);return mt[4]+=pt.x-_t.x,mt[5]+=pt.y-_t.y,this.setViewportTransform(mt)},setZoom:function(ct){return this.zoomToPoint(new $.Point(0,0),ct),this},absolutePan:function(ct){var dt=this.viewportTransform.slice(0);return dt[4]=-ct.x,dt[5]=-ct.y,this.setViewportTransform(dt)},relativePan:function(ct){return this.absolutePan(new $.Point(-ct.x-this.viewportTransform[4],-ct.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(ct){this.stateful&&ct.setupState(),ct._set("canvas",this),ct.setCoords(),this.fire("object:added",{target:ct}),ct.fire("added")},_onObjectRemoved:function(ct){this.fire("object:removed",{target:ct}),ct.fire("removed"),delete ct.canvas},clearContext:function(ct){return ct.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var ct=this.contextContainer;return this.renderCanvas(ct,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=$.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var ct={},dt=this.width,pt=this.height,mt=it(this.viewportTransform);return ct.tl=at({x:0,y:0},mt),ct.br=at({x:dt,y:pt},mt),ct.tr=new $.Point(ct.br.x,ct.tl.y),ct.bl=new $.Point(ct.tl.x,ct.br.y),this.vptCoords=ct,ct},cancelRequestedRender:function(){this.isRendering&&($.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(ct,dt){var pt=this.viewportTransform,mt=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(ct),$.util.setImageSmoothing(ct,this.imageSmoothingEnabled),this.fire("before:render",{ctx:ct}),this._renderBackground(ct),ct.save(),ct.transform(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5]),this._renderObjects(ct,dt),ct.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(ct),mt&&(mt.canvas=this,mt.shouldCache(),mt._transformDone=!0,mt.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(ct)),this._renderOverlay(ct),this.controlsAboveOverlay&&this.interactive&&this.drawControls(ct),this.fire("after:render",{ctx:ct})},drawClipPathOnCanvas:function(ct){var dt=this.viewportTransform,pt=this.clipPath;ct.save(),ct.transform(dt[0],dt[1],dt[2],dt[3],dt[4],dt[5]),ct.globalCompositeOperation="destination-in",pt.transform(ct),ct.scale(1/pt.zoomX,1/pt.zoomY),ct.drawImage(pt._cacheCanvas,-pt.cacheTranslationX,-pt.cacheTranslationY),ct.restore()},_renderObjects:function(ct,dt){var pt,mt;for(pt=0,mt=dt.length;pt<mt;++pt)dt[pt]&&dt[pt].render(ct)},_renderBackgroundOrOverlay:function(ct,dt){var pt=this[dt+"Color"],mt=this[dt+"Image"],_t=this.viewportTransform,vt=this[dt+"Vpt"];if(!(!pt&&!mt)){if(pt){ct.save(),ct.beginPath(),ct.moveTo(0,0),ct.lineTo(this.width,0),ct.lineTo(this.width,this.height),ct.lineTo(0,this.height),ct.closePath(),ct.fillStyle=pt.toLive?pt.toLive(ct,this):pt,vt&&ct.transform(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5]),ct.transform(1,0,0,1,pt.offsetX||0,pt.offsetY||0);var yt=pt.gradientTransform||pt.patternTransform;yt&&ct.transform(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5]),ct.fill(),ct.restore()}mt&&(ct.save(),vt&&ct.transform(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5]),mt.render(ct),ct.restore())}},_renderBackground:function(ct){this._renderBackgroundOrOverlay(ct,"background")},_renderOverlay:function(ct){this._renderBackgroundOrOverlay(ct,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new $.Point(this.width/2,this.height/2)},centerObjectH:function(ct){return this._centerObject(ct,new $.Point(this.getCenterPoint().x,ct.getCenterPoint().y))},centerObjectV:function(ct){return this._centerObject(ct,new $.Point(ct.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(ct){var dt=this.getCenterPoint();return this._centerObject(ct,dt)},viewportCenterObject:function(ct){var dt=this.getVpCenter();return this._centerObject(ct,dt)},viewportCenterObjectH:function(ct){var dt=this.getVpCenter();return this._centerObject(ct,new $.Point(dt.x,ct.getCenterPoint().y)),this},viewportCenterObjectV:function(ct){var dt=this.getVpCenter();return this._centerObject(ct,new $.Point(ct.getCenterPoint().x,dt.y))},getVpCenter:function(){var ct=this.getCenterPoint(),dt=it(this.viewportTransform);return at(ct,dt)},_centerObject:function(ct,dt){return ct.setPositionByOrigin(dt,"center","center"),ct.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(ct){return this.toDatalessObject(ct)},toObject:function(ct){return this._toObjectMethod("toObject",ct)},toDatalessObject:function(ct){return this._toObjectMethod("toDatalessObject",ct)},_toObjectMethod:function(ct,dt){var pt=this.clipPath,mt={version:$.version,objects:this._toObjects(ct,dt)};return pt&&!pt.excludeFromExport&&(mt.clipPath=this._toObject(this.clipPath,ct,dt)),lt(mt,this.__serializeBgOverlay(ct,dt)),$.util.populateWithProperties(this,mt,dt),mt},_toObjects:function(ct,dt){return this._objects.filter(function(pt){return!pt.excludeFromExport}).map(function(pt){return this._toObject(pt,ct,dt)},this)},_toObject:function(ct,dt,pt){var mt;this.includeDefaultValues||(mt=ct.includeDefaultValues,ct.includeDefaultValues=!1);var _t=ct[dt](pt);return this.includeDefaultValues||(ct.includeDefaultValues=mt),_t},__serializeBgOverlay:function(ct,dt){var pt={},mt=this.backgroundImage,_t=this.overlayImage,vt=this.backgroundColor,yt=this.overlayColor;return vt&&vt.toObject?vt.excludeFromExport||(pt.background=vt.toObject(dt)):vt&&(pt.background=vt),yt&&yt.toObject?yt.excludeFromExport||(pt.overlay=yt.toObject(dt)):yt&&(pt.overlay=yt),mt&&!mt.excludeFromExport&&(pt.backgroundImage=this._toObject(mt,ct,dt)),_t&&!_t.excludeFromExport&&(pt.overlayImage=this._toObject(_t,ct,dt)),pt},svgViewportTransformation:!0,toSVG:function(ct,dt){ct||(ct={}),ct.reviver=dt;var pt=[];return this._setSVGPreamble(pt,ct),this._setSVGHeader(pt,ct),this.clipPath&&pt.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(pt,"background"),this._setSVGBgOverlayImage(pt,"backgroundImage",dt),this._setSVGObjects(pt,dt),this.clipPath&&pt.push(`</g>
`),this._setSVGBgOverlayColor(pt,"overlay"),this._setSVGBgOverlayImage(pt,"overlayImage",dt),pt.push("</svg>"),pt.join("")},_setSVGPreamble:function(ct,dt){dt.suppressPreamble||ct.push('<?xml version="1.0" encoding="',dt.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(ct,dt){var pt=dt.width||this.width,mt=dt.height||this.height,_t,vt='viewBox="0 0 '+this.width+" "+this.height+'" ',yt=$.Object.NUM_FRACTION_DIGITS;dt.viewBox?vt='viewBox="'+dt.viewBox.x+" "+dt.viewBox.y+" "+dt.viewBox.width+" "+dt.viewBox.height+'" ':this.svgViewportTransformation&&(_t=this.viewportTransform,vt='viewBox="'+ht(-_t[4]/_t[0],yt)+" "+ht(-_t[5]/_t[3],yt)+" "+ht(this.width/_t[0],yt)+" "+ht(this.height/_t[3],yt)+'" '),ct.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',pt,'" ','height="',mt,'" ',vt,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",$.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(dt),`</defs>
`)},createSVGClipPathMarkup:function(ct){var dt=this.clipPath;return dt?(dt.clipPathId="CLIPPATH_"+$.Object.__uid++,'<clipPath id="'+dt.clipPathId+`" >
`+this.clipPath.toClipPathSVG(ct.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var ct=this,dt=["background","overlay"].map(function(pt){var mt=ct[pt+"Color"];if(mt&&mt.toLive){var _t=ct[pt+"Vpt"],vt=ct.viewportTransform,yt={width:ct.width/(_t?vt[0]:1),height:ct.height/(_t?vt[3]:1)};return mt.toSVG(yt,{additionalTransform:_t?$.util.matrixToSVG(vt):""})}});return dt.join("")},createSVGFontFacesMarkup:function(){var ct="",dt={},pt,mt,_t,vt,yt,Ct,bt,Dt,wt,Ft=$.fontPaths,Lt=[];for(this._objects.forEach(function Ut(Xt){Lt.push(Xt),Xt._objects&&Xt._objects.forEach(Ut)}),Dt=0,wt=Lt.length;Dt<wt;Dt++)if(pt=Lt[Dt],mt=pt.fontFamily,!(pt.type.indexOf("text")===-1||dt[mt]||!Ft[mt])&&(dt[mt]=!0,!!pt.styles)){_t=pt.styles;for(yt in _t){vt=_t[yt];for(bt in vt)Ct=vt[bt],mt=Ct.fontFamily,!dt[mt]&&Ft[mt]&&(dt[mt]=!0)}}for(var Qt in dt)ct+=[`		@font-face {
`,"			font-family: '",Qt,`';
`,"			src: url('",Ft[Qt],`');
`,`		}
`].join("");return ct&&(ct=['	<style type="text/css">',`<![CDATA[
`,ct,"]]>",`</style>
`].join("")),ct},_setSVGObjects:function(ct,dt){var pt,mt,_t,vt=this._objects;for(mt=0,_t=vt.length;mt<_t;mt++)pt=vt[mt],!pt.excludeFromExport&&this._setSVGObject(ct,pt,dt)},_setSVGObject:function(ct,dt,pt){ct.push(dt.toSVG(pt))},_setSVGBgOverlayImage:function(ct,dt,pt){this[dt]&&!this[dt].excludeFromExport&&this[dt].toSVG&&ct.push(this[dt].toSVG(pt))},_setSVGBgOverlayColor:function(ct,dt){var pt=this[dt+"Color"],mt=this.viewportTransform,_t=this.width,vt=this.height;if(!!pt)if(pt.toLive){var yt=pt.repeat,Ct=$.util.invertTransform(mt),bt=this[dt+"Vpt"],Dt=bt?$.util.matrixToSVG(Ct):"";ct.push('<rect transform="'+Dt+" translate(",_t/2,",",vt/2,')"',' x="',pt.offsetX-_t/2,'" y="',pt.offsetY-vt/2,'" ','width="',yt==="repeat-y"||yt==="no-repeat"?pt.source.width:_t,'" height="',yt==="repeat-x"||yt==="no-repeat"?pt.source.height:vt,'" fill="url(#SVGID_'+pt.id+')"',`></rect>
`)}else ct.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',pt,'"',`></rect>
`)},sendToBack:function(ct){if(!ct)return this;var dt=this._activeObject,pt,mt,_t;if(ct===dt&&ct.type==="activeSelection")for(_t=dt._objects,pt=_t.length;pt--;)mt=_t[pt],ut(this._objects,mt),this._objects.unshift(mt);else ut(this._objects,ct),this._objects.unshift(ct);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(ct){if(!ct)return this;var dt=this._activeObject,pt,mt,_t;if(ct===dt&&ct.type==="activeSelection")for(_t=dt._objects,pt=0;pt<_t.length;pt++)mt=_t[pt],ut(this._objects,mt),this._objects.push(mt);else ut(this._objects,ct),this._objects.push(ct);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(ct,dt){if(!ct)return this;var pt=this._activeObject,mt,_t,vt,yt,Ct,bt=0;if(ct===pt&&ct.type==="activeSelection")for(Ct=pt._objects,mt=0;mt<Ct.length;mt++)_t=Ct[mt],vt=this._objects.indexOf(_t),vt>0+bt&&(yt=vt-1,ut(this._objects,_t),this._objects.splice(yt,0,_t)),bt++;else vt=this._objects.indexOf(ct),vt!==0&&(yt=this._findNewLowerIndex(ct,vt,dt),ut(this._objects,ct),this._objects.splice(yt,0,ct));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(ct,dt,pt){var mt,_t;if(pt)for(mt=dt,_t=dt-1;_t>=0;--_t){var vt=ct.intersectsWithObject(this._objects[_t])||ct.isContainedWithinObject(this._objects[_t])||this._objects[_t].isContainedWithinObject(ct);if(vt){mt=_t;break}}else mt=dt-1;return mt},bringForward:function(ct,dt){if(!ct)return this;var pt=this._activeObject,mt,_t,vt,yt,Ct,bt=0;if(ct===pt&&ct.type==="activeSelection")for(Ct=pt._objects,mt=Ct.length;mt--;)_t=Ct[mt],vt=this._objects.indexOf(_t),vt<this._objects.length-1-bt&&(yt=vt+1,ut(this._objects,_t),this._objects.splice(yt,0,_t)),bt++;else vt=this._objects.indexOf(ct),vt!==this._objects.length-1&&(yt=this._findNewUpperIndex(ct,vt,dt),ut(this._objects,ct),this._objects.splice(yt,0,ct));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(ct,dt,pt){var mt,_t,vt;if(pt)for(mt=dt,_t=dt+1,vt=this._objects.length;_t<vt;++_t){var yt=ct.intersectsWithObject(this._objects[_t])||ct.isContainedWithinObject(this._objects[_t])||this._objects[_t].isContainedWithinObject(ct);if(yt){mt=_t;break}}else mt=dt+1;return mt},moveTo:function(ct,dt){return ut(this._objects,ct),this._objects.splice(dt,0,ct),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&($.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(ct){ct.dispose&&ct.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),$.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),$.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),lt($.StaticCanvas.prototype,$.Observable),lt($.StaticCanvas.prototype,$.Collection),lt($.StaticCanvas.prototype,$.DataURLExporter),lt($.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(ct){var dt=ot();if(!dt||!dt.getContext)return null;var pt=dt.getContext("2d");if(!pt)return null;switch(ct){case"setLineDash":return typeof pt.setLineDash<"u";default:return null}}}),$.StaticCanvas.prototype.toJSON=$.StaticCanvas.prototype.toObject,$.isLikelyNode&&($.StaticCanvas.prototype.createPNGStream=function(){var ct=rt(this.lowerCanvasEl);return ct&&ct.createPNGStream()},$.StaticCanvas.prototype.createJPEGStream=function(ct){var dt=rt(this.lowerCanvasEl);return dt&&dt.createJPEGStream(ct)})}(),$.BaseBrush=$.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(lt){lt.strokeStyle=this.color,lt.lineWidth=this.width,lt.lineCap=this.strokeLineCap,lt.miterLimit=this.strokeMiterLimit,lt.lineJoin=this.strokeLineJoin,lt.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(lt){var nt=this.canvas.viewportTransform;lt.save(),lt.transform(nt[0],nt[1],nt[2],nt[3],nt[4],nt[5])},_setShadow:function(){if(!!this.shadow){var lt=this.canvas,nt=this.shadow,ut=lt.contextTop,ht=lt.getZoom();lt&&lt._isRetinaScaling()&&(ht*=$.devicePixelRatio),ut.shadowColor=nt.color,ut.shadowBlur=nt.blur*ht,ut.shadowOffsetX=nt.offsetX*ht,ut.shadowOffsetY=nt.offsetY*ht}},needsFullRender:function(){var lt=new $.Color(this.color);return lt.getAlpha()<1||!!this.shadow},_resetShadow:function(){var lt=this.canvas.contextTop;lt.shadowColor="",lt.shadowBlur=lt.shadowOffsetX=lt.shadowOffsetY=0},_isOutSideCanvas:function(lt){return lt.x<0||lt.x>this.canvas.getWidth()||lt.y<0||lt.y>this.canvas.getHeight()}}),function(){$.PencilBrush=$.util.createClass($.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(lt){this.canvas=lt,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(lt,nt,ut){var ht=nt.midPointFrom(ut);return lt.quadraticCurveTo(nt.x,nt.y,ht.x,ht.y),ht},onMouseDown:function(lt,nt){!this.canvas._isMainEvent(nt.e)||(this.drawStraightLine=nt.e[this.straightLineKey],this._prepareForDrawing(lt),this._captureDrawingPath(lt),this._render())},onMouseMove:function(lt,nt){if(!!this.canvas._isMainEvent(nt.e)&&(this.drawStraightLine=nt.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(lt))&&this._captureDrawingPath(lt)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var ut=this._points,ht=ut.length,at=this.canvas.contextTop;this._saveAndTransform(at),this.oldEnd&&(at.beginPath(),at.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(at,ut[ht-2],ut[ht-1],!0),at.stroke(),at.restore()}},onMouseUp:function(lt){return this.canvas._isMainEvent(lt.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(lt){var nt=new $.Point(lt.x,lt.y);this._reset(),this._addPoint(nt),this.canvas.contextTop.moveTo(nt.x,nt.y)},_addPoint:function(lt){return this._points.length>1&&lt.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(lt),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(lt){var nt=new $.Point(lt.x,lt.y);return this._addPoint(nt)},_render:function(lt){var nt,ut,ht=this._points[0],at=this._points[1];if(lt=lt||this.canvas.contextTop,this._saveAndTransform(lt),lt.beginPath(),this._points.length===2&&ht.x===at.x&&ht.y===at.y){var it=this.width/1e3;ht=new $.Point(ht.x,ht.y),at=new $.Point(at.x,at.y),ht.x-=it,at.x+=it}for(lt.moveTo(ht.x,ht.y),nt=1,ut=this._points.length;nt<ut;nt++)this._drawSegment(lt,ht,at),ht=this._points[nt],at=this._points[nt+1];lt.lineTo(ht.x,ht.y),lt.stroke(),lt.restore()},convertPointsToSVGPath:function(lt){var nt=this.width/1e3;return $.util.getSmoothPathFromPoints(lt,nt)},_isEmptySVGPath:function(lt){var nt=$.util.joinPath(lt);return nt==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(lt){var nt=new $.Path(lt,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,nt.shadow=new $.Shadow(this.shadow)),nt},decimatePoints:function(lt,nt){if(lt.length<=2)return lt;var ut=this.canvas.getZoom(),ht=Math.pow(nt/ut,2),at,it=lt.length-1,rt=lt[0],ot=[rt],ft;for(at=1;at<it-1;at++)ft=Math.pow(rt.x-lt[at].x,2)+Math.pow(rt.y-lt[at].y,2),ft>=ht&&(rt=lt[at],ot.push(rt));return ot.push(lt[it]),ot},_finalizeAndAddPath:function(){var lt=this.canvas.contextTop;lt.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var nt=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(nt)){this.canvas.requestRenderAll();return}var ut=this.createPath(nt);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:ut}),this.canvas.add(ut),this.canvas.requestRenderAll(),ut.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:ut})}})}(),$.CircleBrush=$.util.createClass($.BaseBrush,{width:10,initialize:function(lt){this.canvas=lt,this.points=[]},drawDot:function(lt){var nt=this.addPoint(lt),ut=this.canvas.contextTop;this._saveAndTransform(ut),this.dot(ut,nt),ut.restore()},dot:function(lt,nt){lt.fillStyle=nt.fill,lt.beginPath(),lt.arc(nt.x,nt.y,nt.radius,0,Math.PI*2,!1),lt.closePath(),lt.fill()},onMouseDown:function(lt){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(lt)},_render:function(){var lt=this.canvas.contextTop,nt,ut,ht=this.points;for(this._saveAndTransform(lt),nt=0,ut=ht.length;nt<ut;nt++)this.dot(lt,ht[nt]);lt.restore()},onMouseMove:function(lt){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(lt)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(lt),this._render()):this.drawDot(lt))},onMouseUp:function(){var lt=this.canvas.renderOnAddRemove,nt,ut;this.canvas.renderOnAddRemove=!1;var ht=[];for(nt=0,ut=this.points.length;nt<ut;nt++){var at=this.points[nt],it=new $.Circle({radius:at.radius,left:at.x,top:at.y,originX:"center",originY:"center",fill:at.fill});this.shadow&&(it.shadow=new $.Shadow(this.shadow)),ht.push(it)}var rt=new $.Group(ht);rt.canvas=this.canvas,this.canvas.fire("before:path:created",{path:rt}),this.canvas.add(rt),this.canvas.fire("path:created",{path:rt}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=lt,this.canvas.requestRenderAll()},addPoint:function(lt){var nt=new $.Point(lt.x,lt.y),ut=$.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,ht=new $.Color(this.color).setAlpha($.util.getRandomInt(0,100)/100).toRgba();return nt.radius=ut,nt.fill=ht,this.points.push(nt),nt}}),$.SprayBrush=$.util.createClass($.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(lt){this.canvas=lt,this.sprayChunks=[]},onMouseDown:function(lt){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(lt),this.render(this.sprayChunkPoints)},onMouseMove:function(lt){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(lt)||(this.addSprayChunk(lt),this.render(this.sprayChunkPoints))},onMouseUp:function(){var lt=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var nt=[],ut=0,ht=this.sprayChunks.length;ut<ht;ut++)for(var at=this.sprayChunks[ut],it=0,rt=at.length;it<rt;it++){var ot=new $.Rect({width:at[it].width,height:at[it].width,left:at[it].x+1,top:at[it].y+1,originX:"center",originY:"center",fill:this.color});nt.push(ot)}this.optimizeOverlapping&&(nt=this._getOptimizedRects(nt));var ft=new $.Group(nt);this.shadow&&ft.set("shadow",new $.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:ft}),this.canvas.add(ft),this.canvas.fire("path:created",{path:ft}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=lt,this.canvas.requestRenderAll()},_getOptimizedRects:function(lt){var nt={},ut,ht,at;for(ht=0,at=lt.length;ht<at;ht++)ut=lt[ht].left+""+lt[ht].top,nt[ut]||(nt[ut]=lt[ht]);var it=[];for(ut in nt)it.push(nt[ut]);return it},render:function(lt){var nt=this.canvas.contextTop,ut,ht;for(nt.fillStyle=this.color,this._saveAndTransform(nt),ut=0,ht=lt.length;ut<ht;ut++){var at=lt[ut];typeof at.opacity<"u"&&(nt.globalAlpha=at.opacity),nt.fillRect(at.x,at.y,at.width,at.width)}nt.restore()},_render:function(){var lt=this.canvas.contextTop,nt,ut;for(lt.fillStyle=this.color,this._saveAndTransform(lt),nt=0,ut=this.sprayChunks.length;nt<ut;nt++)this.render(this.sprayChunks[nt]);lt.restore()},addSprayChunk:function(lt){this.sprayChunkPoints=[];var nt,ut,ht,at=this.width/2,it;for(it=0;it<this.density;it++){nt=$.util.getRandomInt(lt.x-at,lt.x+at),ut=$.util.getRandomInt(lt.y-at,lt.y+at),this.dotWidthVariance?ht=$.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):ht=this.dotWidth;var rt=new $.Point(nt,ut);rt.width=ht,this.randomOpacity&&(rt.opacity=$.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(rt)}this.sprayChunks.push(this.sprayChunkPoints)}}),$.PatternBrush=$.util.createClass($.PencilBrush,{getPatternSrc:function(){var lt=20,nt=5,ut=$.util.createCanvasElement(),ht=ut.getContext("2d");return ut.width=ut.height=lt+nt,ht.fillStyle=this.color,ht.beginPath(),ht.arc(lt/2,lt/2,lt/2,0,Math.PI*2,!1),ht.closePath(),ht.fill(),ut},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(lt){return lt.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(lt){this.callSuper("_setBrushStyles",lt),lt.strokeStyle=this.getPattern(lt)},createPath:function(lt){var nt=this.callSuper("createPath",lt),ut=nt._getLeftTopCoords().scalarAdd(nt.strokeWidth/2);return nt.stroke=new $.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-ut.x,offsetY:-ut.y}),nt}}),function(){var lt=$.util.getPointer,nt=$.util.degreesToRadians,ut=$.util.isTouchEvent;$.Canvas=$.util.createClass($.StaticCanvas,{initialize:function(at,it){it||(it={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(at,it),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=$.PencilBrush&&new $.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var at=this.getActiveObjects(),it,rt,ot;if(at.length>0&&!this.preserveObjectStacking){rt=[],ot=[];for(var ft=0,ct=this._objects.length;ft<ct;ft++)it=this._objects[ft],at.indexOf(it)===-1?rt.push(it):ot.push(it);at.length>1&&(this._activeObject._objects=ot),rt.push.apply(rt,ot)}else rt=this._objects;return rt},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var at=this.contextContainer;return this.renderCanvas(at,this._chooseObjectsToRender()),this},renderTopLayer:function(at){at.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(at),this.contextTopDirty=!0),at.restore()},renderTop:function(){var at=this.contextTop;return this.clearContext(at),this.renderTopLayer(at),this.fire("after:render"),this},_normalizePointer:function(at,it){var rt=at.calcTransformMatrix(),ot=$.util.invertTransform(rt),ft=this.restorePointerVpt(it);return $.util.transformPoint(ft,ot)},isTargetTransparent:function(at,it,rt){if(at.shouldCache()&&at._cacheCanvas&&at!==this._activeObject){var ot=this._normalizePointer(at,{x:it,y:rt}),ft=Math.max(at.cacheTranslationX+ot.x*at.zoomX,0),ct=Math.max(at.cacheTranslationY+ot.y*at.zoomY,0),_t=$.util.isTransparent(at._cacheContext,Math.round(ft),Math.round(ct),this.targetFindTolerance);return _t}var dt=this.contextCache,pt=at.selectionBackgroundColor,mt=this.viewportTransform;at.selectionBackgroundColor="",this.clearContext(dt),dt.save(),dt.transform(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5]),at.render(dt),dt.restore(),at.selectionBackgroundColor=pt;var _t=$.util.isTransparent(dt,it,rt,this.targetFindTolerance);return _t},_isSelectionKeyPressed:function(at){var it=!1;return Array.isArray(this.selectionKey)?it=!!this.selectionKey.find(function(rt){return at[rt]===!0}):it=at[this.selectionKey],it},_shouldClearSelection:function(at,it){var rt=this.getActiveObjects(),ot=this._activeObject;return!it||it&&ot&&rt.length>1&&rt.indexOf(it)===-1&&ot!==it&&!this._isSelectionKeyPressed(at)||it&&!it.evented||it&&!it.selectable&&ot&&ot!==it},_shouldCenterTransform:function(at,it,rt){if(!!at){var ot;return it==="scale"||it==="scaleX"||it==="scaleY"||it==="resizing"?ot=this.centeredScaling||at.centeredScaling:it==="rotate"&&(ot=this.centeredRotation||at.centeredRotation),ot?!rt:rt}},_getOriginFromCorner:function(at,it){var rt={x:at.originX,y:at.originY};return it==="ml"||it==="tl"||it==="bl"?rt.x="right":(it==="mr"||it==="tr"||it==="br")&&(rt.x="left"),it==="tl"||it==="mt"||it==="tr"?rt.y="bottom":(it==="bl"||it==="mb"||it==="br")&&(rt.y="top"),rt},_getActionFromCorner:function(at,it,rt,ot){if(!it||!at)return"drag";var ft=ot.controls[it];return ft.getActionName(rt,ft,ot)},_setupCurrentTransform:function(at,it,rt){if(!!it){var ot=this.getPointer(at),ft=it.__corner,ct=it.controls[ft],dt=rt&&ft?ct.getActionHandler(at,it,ct):$.controlsUtils.dragHandler,pt=this._getActionFromCorner(rt,ft,at,it),mt=this._getOriginFromCorner(it,ft),_t=at[this.centeredKey],vt={target:it,action:pt,actionHandler:dt,corner:ft,scaleX:it.scaleX,scaleY:it.scaleY,skewX:it.skewX,skewY:it.skewY,offsetX:ot.x-it.left,offsetY:ot.y-it.top,originX:mt.x,originY:mt.y,ex:ot.x,ey:ot.y,lastX:ot.x,lastY:ot.y,theta:nt(it.angle),width:it.width*it.scaleX,shiftKey:at.shiftKey,altKey:_t,original:$.util.saveObjectTransform(it)};this._shouldCenterTransform(it,pt,_t)&&(vt.originX="center",vt.originY="center"),vt.original.originX=mt.x,vt.original.originY=mt.y,this._currentTransform=vt,this._beforeTransform(at)}},setCursor:function(at){this.upperCanvasEl.style.cursor=at},_drawSelection:function(at){var it=this._groupSelector,rt=new $.Point(it.ex,it.ey),ot=$.util.transformPoint(rt,this.viewportTransform),ft=new $.Point(it.ex+it.left,it.ey+it.top),ct=$.util.transformPoint(ft,this.viewportTransform),dt=Math.min(ot.x,ct.x),pt=Math.min(ot.y,ct.y),mt=Math.max(ot.x,ct.x),_t=Math.max(ot.y,ct.y),vt=this.selectionLineWidth/2;this.selectionColor&&(at.fillStyle=this.selectionColor,at.fillRect(dt,pt,mt-dt,_t-pt)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(at.lineWidth=this.selectionLineWidth,at.strokeStyle=this.selectionBorderColor,dt+=vt,pt+=vt,mt-=vt,_t-=vt,$.Object.prototype._setLineDash.call(this,at,this.selectionDashArray),at.strokeRect(dt,pt,mt-dt,_t-pt))},findTarget:function(at,it){if(!this.skipTargetFind){var rt=!0,ot=this.getPointer(at,rt),ft=this._activeObject,ct=this.getActiveObjects(),dt,pt,mt=ut(at),_t=ct.length>1&&!it||ct.length===1;if(this.targets=[],_t&&ft._findTargetCorner(ot,mt)||ct.length>1&&!it&&ft===this._searchPossibleTargets([ft],ot))return ft;if(ct.length===1&&ft===this._searchPossibleTargets([ft],ot))if(this.preserveObjectStacking)dt=ft,pt=this.targets,this.targets=[];else return ft;var vt=this._searchPossibleTargets(this._objects,ot);return at[this.altSelectionKey]&&vt&&dt&&vt!==dt&&(vt=dt,this.targets=pt),vt}},_checkTarget:function(at,it,rt){if(it&&it.visible&&it.evented&&it.containsPoint(at))if((this.perPixelTargetFind||it.perPixelTargetFind)&&!it.isEditing){var ot=this.isTargetTransparent(it,rt.x,rt.y);if(!ot)return!0}else return!0},_searchPossibleTargets:function(at,it){for(var rt,ot=at.length,ft;ot--;){var ct=at[ot],dt=ct.group?this._normalizePointer(ct.group,it):it;if(this._checkTarget(dt,ct,it)){rt=at[ot],rt.subTargetCheck&&rt instanceof $.Group&&(ft=this._searchPossibleTargets(rt._objects,it),ft&&this.targets.push(ft));break}}return rt},restorePointerVpt:function(at){return $.util.transformPoint(at,$.util.invertTransform(this.viewportTransform))},getPointer:function(at,it){if(this._absolutePointer&&!it)return this._absolutePointer;if(this._pointer&&it)return this._pointer;var rt=lt(at),ot=this.upperCanvasEl,ft=ot.getBoundingClientRect(),ct=ft.width||0,dt=ft.height||0,pt;(!ct||!dt)&&("top"in ft&&"bottom"in ft&&(dt=Math.abs(ft.top-ft.bottom)),"right"in ft&&"left"in ft&&(ct=Math.abs(ft.right-ft.left))),this.calcOffset(),rt.x=rt.x-this._offset.left,rt.y=rt.y-this._offset.top,it||(rt=this.restorePointerVpt(rt));var mt=this.getRetinaScaling();return mt!==1&&(rt.x/=mt,rt.y/=mt),ct===0||dt===0?pt={width:1,height:1}:pt={width:ot.width/ct,height:ot.height/dt},{x:rt.x*pt.width,y:rt.y*pt.height}},_createUpperCanvas:function(){var at=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),it=this.lowerCanvasEl,rt=this.upperCanvasEl;rt?rt.className="":(rt=this._createCanvasElement(),this.upperCanvasEl=rt),$.util.addClass(rt,"upper-canvas "+at),this.wrapperEl.appendChild(rt),this._copyCanvasStyle(it,rt),this._applyCanvasStyle(rt),this.contextTop=rt.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=$.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),$.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),$.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(at){var it=this.width||at.width,rt=this.height||at.height;$.util.setStyle(at,{position:"absolute",width:it+"px",height:rt+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),at.width=it,at.height=rt,$.util.makeElementUnselectable(at)},_copyCanvasStyle:function(at,it){it.style.cssText=at.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var at=this._activeObject;return at?at.type==="activeSelection"&&at._objects?at._objects.slice(0):[at]:[]},_onObjectRemoved:function(at){at===this._activeObject&&(this.fire("before:selection:cleared",{target:at}),this._discardActiveObject(),this.fire("selection:cleared",{target:at}),at.fire("deselected")),at===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",at)},_fireSelectionEvents:function(at,it){var rt=!1,ot=this.getActiveObjects(),ft=[],ct=[];at.forEach(function(dt){ot.indexOf(dt)===-1&&(rt=!0,dt.fire("deselected",{e:it,target:dt}),ct.push(dt))}),ot.forEach(function(dt){at.indexOf(dt)===-1&&(rt=!0,dt.fire("selected",{e:it,target:dt}),ft.push(dt))}),at.length>0&&ot.length>0?rt&&this.fire("selection:updated",{e:it,selected:ft,deselected:ct}):ot.length>0?this.fire("selection:created",{e:it,selected:ft}):at.length>0&&this.fire("selection:cleared",{e:it,deselected:ct})},setActiveObject:function(at,it){var rt=this.getActiveObjects();return this._setActiveObject(at,it),this._fireSelectionEvents(rt,it),this},_setActiveObject:function(at,it){return this._activeObject===at||!this._discardActiveObject(it,at)||at.onSelect({e:it})?!1:(this._activeObject=at,!0)},_discardActiveObject:function(at,it){var rt=this._activeObject;if(rt){if(rt.onDeselect({e:at,object:it}))return!1;this._activeObject=null}return!0},discardActiveObject:function(at){var it=this.getActiveObjects(),rt=this.getActiveObject();return it.length&&this.fire("before:selection:cleared",{target:rt,e:at}),this._discardActiveObject(at),this._fireSelectionEvents(it,at),this},dispose:function(){var at=this.wrapperEl;return this.removeListeners(),at.removeChild(this.upperCanvasEl),at.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(it){$.util.cleanUpJsdomNode(this[it]),this[it]=void 0}.bind(this)),at.parentNode&&at.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,$.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(at){var it=this._activeObject;it&&it._renderControls(at)},_toObject:function(at,it,rt){var ot=this._realizeGroupTransformOnObject(at),ft=this.callSuper("_toObject",at,it,rt);return this._unwindGroupTransformOnObject(at,ot),ft},_realizeGroupTransformOnObject:function(at){if(at.group&&at.group.type==="activeSelection"&&this._activeObject===at.group){var it=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],rt={};return it.forEach(function(ot){rt[ot]=at[ot]}),$.util.addTransformToObject(at,this._activeObject.calcOwnMatrix()),rt}else return null},_unwindGroupTransformOnObject:function(at,it){it&&at.set(it)},_setSVGObject:function(at,it,rt){var ot=this._realizeGroupTransformOnObject(it);this.callSuper("_setSVGObject",at,it,rt),this._unwindGroupTransformOnObject(it,ot)},setViewportTransform:function(at){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),$.StaticCanvas.prototype.setViewportTransform.call(this,at)}});for(var ht in $.StaticCanvas)ht!=="prototype"&&($.Canvas[ht]=$.StaticCanvas[ht])}(),function(){var lt=$.util.addListener,nt=$.util.removeListener,ut=3,ht=2,at=1,it={passive:!1};function rt(ot,ft){return ot.button&&ot.button===ft-1}$.util.object.extend($.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(lt,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(ot,ft){var ct=this.upperCanvasEl,dt=this._getEventPrefix();ot($.window,"resize",this._onResize),ot(ct,dt+"down",this._onMouseDown),ot(ct,dt+"move",this._onMouseMove,it),ot(ct,dt+"out",this._onMouseOut),ot(ct,dt+"enter",this._onMouseEnter),ot(ct,"wheel",this._onMouseWheel),ot(ct,"contextmenu",this._onContextMenu),ot(ct,"dblclick",this._onDoubleClick),ot(ct,"dragover",this._onDragOver),ot(ct,"dragenter",this._onDragEnter),ot(ct,"dragleave",this._onDragLeave),ot(ct,"drop",this._onDrop),this.enablePointerEvents||ot(ct,"touchstart",this._onTouchStart,it),typeof eventjs<"u"&&ft in eventjs&&(eventjs[ft](ct,"gesture",this._onGesture),eventjs[ft](ct,"drag",this._onDrag),eventjs[ft](ct,"orientation",this._onOrientationChange),eventjs[ft](ct,"shake",this._onShake),eventjs[ft](ct,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(nt,"remove");var ot=this._getEventPrefix();nt($.document,ot+"up",this._onMouseUp),nt($.document,"touchend",this._onTouchEnd,it),nt($.document,ot+"move",this._onMouseMove,it),nt($.document,"touchmove",this._onMouseMove,it)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(ot,ft){this.__onTransformGesture&&this.__onTransformGesture(ot,ft)},_onDrag:function(ot,ft){this.__onDrag&&this.__onDrag(ot,ft)},_onMouseWheel:function(ot){this.__onMouseWheel(ot)},_onMouseOut:function(ot){var ft=this._hoveredTarget;this.fire("mouse:out",{target:ft,e:ot}),this._hoveredTarget=null,ft&&ft.fire("mouseout",{e:ot});var ct=this;this._hoveredTargets.forEach(function(dt){ct.fire("mouse:out",{target:ft,e:ot}),dt&&ft.fire("mouseout",{e:ot})}),this._hoveredTargets=[]},_onMouseEnter:function(ot){!this._currentTransform&&!this.findTarget(ot)&&(this.fire("mouse:over",{target:null,e:ot}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(ot,ft){this.__onOrientationChange&&this.__onOrientationChange(ot,ft)},_onShake:function(ot,ft){this.__onShake&&this.__onShake(ot,ft)},_onLongPress:function(ot,ft){this.__onLongPress&&this.__onLongPress(ot,ft)},_onDragOver:function(ot){ot.preventDefault();var ft=this._simpleEventHandler("dragover",ot);this._fireEnterLeaveEvents(ft,ot)},_onDrop:function(ot){return this._simpleEventHandler("drop:before",ot),this._simpleEventHandler("drop",ot)},_onContextMenu:function(ot){return this.stopContextMenu&&(ot.stopPropagation(),ot.preventDefault()),!1},_onDoubleClick:function(ot){this._cacheTransformEventData(ot),this._handleEvent(ot,"dblclick"),this._resetTransformEventData(ot)},getPointerId:function(ot){var ft=ot.changedTouches;return ft?ft[0]&&ft[0].identifier:this.enablePointerEvents?ot.pointerId:-1},_isMainEvent:function(ot){return ot.isPrimary===!0?!0:ot.isPrimary===!1?!1:ot.type==="touchend"&&ot.touches.length===0?!0:ot.changedTouches?ot.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(ot){ot.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(ot)),this.__onMouseDown(ot),this._resetTransformEventData();var ft=this.upperCanvasEl,ct=this._getEventPrefix();lt($.document,"touchend",this._onTouchEnd,it),lt($.document,"touchmove",this._onMouseMove,it),nt(ft,ct+"down",this._onMouseDown)},_onMouseDown:function(ot){this.__onMouseDown(ot),this._resetTransformEventData();var ft=this.upperCanvasEl,ct=this._getEventPrefix();nt(ft,ct+"move",this._onMouseMove,it),lt($.document,ct+"up",this._onMouseUp),lt($.document,ct+"move",this._onMouseMove,it)},_onTouchEnd:function(ot){if(!(ot.touches.length>0)){this.__onMouseUp(ot),this._resetTransformEventData(),this.mainTouchId=null;var ft=this._getEventPrefix();nt($.document,"touchend",this._onTouchEnd,it),nt($.document,"touchmove",this._onMouseMove,it);var ct=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){lt(ct.upperCanvasEl,ft+"down",ct._onMouseDown),ct._willAddMouseDown=0},400)}},_onMouseUp:function(ot){this.__onMouseUp(ot),this._resetTransformEventData();var ft=this.upperCanvasEl,ct=this._getEventPrefix();this._isMainEvent(ot)&&(nt($.document,ct+"up",this._onMouseUp),nt($.document,ct+"move",this._onMouseMove,it),lt(ft,ct+"move",this._onMouseMove,it))},_onMouseMove:function(ot){!this.allowTouchScrolling&&ot.preventDefault&&ot.preventDefault(),this.__onMouseMove(ot)},_onResize:function(){this.calcOffset()},_shouldRender:function(ot){var ft=this._activeObject;return!!ft!=!!ot||ft&&ot&&ft!==ot?!0:(ft&&ft.isEditing,!1)},__onMouseUp:function(ot){var ft,ct=this._currentTransform,dt=this._groupSelector,pt=!1,mt=!dt||dt.left===0&&dt.top===0;if(this._cacheTransformEventData(ot),ft=this._target,this._handleEvent(ot,"up:before"),rt(ot,ut)){this.fireRightClick&&this._handleEvent(ot,"up",ut,mt);return}if(rt(ot,ht)){this.fireMiddleClick&&this._handleEvent(ot,"up",ht,mt),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(ot);return}if(!!this._isMainEvent(ot)){if(ct&&(this._finalizeCurrentTransform(ot),pt=ct.actionPerformed),!mt){var _t=ft===this._activeObject;this._maybeGroupObjects(ot),pt||(pt=this._shouldRender(ft)||!_t&&ft===this._activeObject)}var vt,yt;if(ft){if(vt=ft._findTargetCorner(this.getPointer(ot,!0),$.util.isTouchEvent(ot)),ft.selectable&&ft!==this._activeObject&&ft.activeOn==="up")this.setActiveObject(ft,ot),pt=!0;else{var Ct=ft.controls[vt],bt=Ct&&Ct.getMouseUpHandler(ot,ft,Ct);bt&&(yt=this.getPointer(ot),bt(ot,ct,yt.x,yt.y))}ft.isMoving=!1}if(ct&&(ct.target!==ft||ct.corner!==vt)){var Dt=ct.target&&ct.target.controls[ct.corner],wt=Dt&&Dt.getMouseUpHandler(ot,ft,Ct);yt=yt||this.getPointer(ot),wt&&wt(ot,ct,yt.x,yt.y)}this._setCursorFromEvent(ot,ft),this._handleEvent(ot,"up",at,mt),this._groupSelector=null,this._currentTransform=null,ft&&(ft.__corner=0),pt?this.requestRenderAll():mt||this.renderTop()}},_simpleEventHandler:function(ot,ft){var ct=this.findTarget(ft),dt=this.targets,pt={e:ft,target:ct,subTargets:dt};if(this.fire(ot,pt),ct&&ct.fire(ot,pt),!dt)return ct;for(var mt=0;mt<dt.length;mt++)dt[mt].fire(ot,pt);return ct},_handleEvent:function(ot,ft,ct,dt){var pt=this._target,mt=this.targets||[],_t={e:ot,target:pt,subTargets:mt,button:ct||at,isClick:dt||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};ft==="up"&&(_t.currentTarget=this.findTarget(ot),_t.currentSubTargets=this.targets),this.fire("mouse:"+ft,_t),pt&&pt.fire("mouse"+ft,_t);for(var vt=0;vt<mt.length;vt++)mt[vt].fire("mouse"+ft,_t)},_finalizeCurrentTransform:function(ot){var ft=this._currentTransform,ct=ft.target,dt={e:ot,target:ct,transform:ft,action:ft.action};ct._scaling&&(ct._scaling=!1),ct.setCoords(),(ft.actionPerformed||this.stateful&&ct.hasStateChanged())&&this._fire("modified",dt)},_onMouseDownInDrawingMode:function(ot){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(ot).requestRenderAll();var ft=this.getPointer(ot);this.freeDrawingBrush.onMouseDown(ft,{e:ot,pointer:ft}),this._handleEvent(ot,"down")},_onMouseMoveInDrawingMode:function(ot){if(this._isCurrentlyDrawing){var ft=this.getPointer(ot);this.freeDrawingBrush.onMouseMove(ft,{e:ot,pointer:ft})}this.setCursor(this.freeDrawingCursor),this._handleEvent(ot,"move")},_onMouseUpInDrawingMode:function(ot){var ft=this.getPointer(ot);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:ot,pointer:ft}),this._handleEvent(ot,"up")},__onMouseDown:function(ot){this._cacheTransformEventData(ot),this._handleEvent(ot,"down:before");var ft=this._target;if(rt(ot,ut)){this.fireRightClick&&this._handleEvent(ot,"down",ut);return}if(rt(ot,ht)){this.fireMiddleClick&&this._handleEvent(ot,"down",ht);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(ot);return}if(!!this._isMainEvent(ot)&&!this._currentTransform){var ct=this._pointer;this._previousPointer=ct;var dt=this._shouldRender(ft),pt=this._shouldGroup(ot,ft);if(this._shouldClearSelection(ot,ft)?this.discardActiveObject(ot):pt&&(this._handleGrouping(ot,ft),ft=this._activeObject),this.selection&&(!ft||!ft.selectable&&!ft.isEditing&&ft!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),ft){var mt=ft===this._activeObject;ft.selectable&&ft.activeOn==="down"&&this.setActiveObject(ft,ot);var _t=ft._findTargetCorner(this.getPointer(ot,!0),$.util.isTouchEvent(ot));if(ft.__corner=_t,ft===this._activeObject&&(_t||!pt)){this._setupCurrentTransform(ot,ft,mt);var vt=ft.controls[_t],ct=this.getPointer(ot),yt=vt&&vt.getMouseDownHandler(ot,ft,vt);yt&&yt(ot,this._currentTransform,ct.x,ct.y)}}this._handleEvent(ot,"down"),(dt||pt)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(ot){this._resetTransformEventData(),this._pointer=this.getPointer(ot,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(ot)||null},_beforeTransform:function(ot){var ft=this._currentTransform;this.stateful&&ft.target.saveState(),this.fire("before:transform",{e:ot,transform:ft})},__onMouseMove:function(ot){this._handleEvent(ot,"move:before"),this._cacheTransformEventData(ot);var ft,ct;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(ot);return}if(!!this._isMainEvent(ot)){var dt=this._groupSelector;dt?(ct=this._absolutePointer,dt.left=ct.x-dt.ex,dt.top=ct.y-dt.ey,this.renderTop()):this._currentTransform?this._transformObject(ot):(ft=this.findTarget(ot)||null,this._setCursorFromEvent(ot,ft),this._fireOverOutEvents(ft,ot)),this._handleEvent(ot,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(ot,ft){var ct=this._hoveredTarget,dt=this._hoveredTargets,pt=this.targets,mt=Math.max(dt.length,pt.length);this.fireSyntheticInOutEvents(ot,ft,{oldTarget:ct,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var _t=0;_t<mt;_t++)this.fireSyntheticInOutEvents(pt[_t],ft,{oldTarget:dt[_t],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=ot,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(ot,ft){var ct=this._draggedoverTarget,dt=this._hoveredTargets,pt=this.targets,mt=Math.max(dt.length,pt.length);this.fireSyntheticInOutEvents(ot,ft,{oldTarget:ct,evtOut:"dragleave",evtIn:"dragenter"});for(var _t=0;_t<mt;_t++)this.fireSyntheticInOutEvents(pt[_t],ft,{oldTarget:dt[_t],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=ot},fireSyntheticInOutEvents:function(ot,ft,ct){var dt,pt,mt=ct.oldTarget,_t,vt,yt=mt!==ot,Ct=ct.canvasEvtIn,bt=ct.canvasEvtOut;yt&&(dt={e:ft,target:ot,previousTarget:mt},pt={e:ft,target:mt,nextTarget:ot}),vt=ot&&yt,_t=mt&&yt,_t&&(bt&&this.fire(bt,pt),mt.fire(ct.evtOut,pt)),vt&&(Ct&&this.fire(Ct,dt),ot.fire(ct.evtIn,dt))},__onMouseWheel:function(ot){this._cacheTransformEventData(ot),this._handleEvent(ot,"wheel"),this._resetTransformEventData()},_transformObject:function(ot){var ft=this.getPointer(ot),ct=this._currentTransform;ct.reset=!1,ct.shiftKey=ot.shiftKey,ct.altKey=ot[this.centeredKey],this._performTransformAction(ot,ct,ft),ct.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(ot,ft,ct){var dt=ct.x,pt=ct.y,mt=ft.action,_t=!1,vt=ft.actionHandler;vt&&(_t=vt(ot,ft,dt,pt)),mt==="drag"&&_t&&(ft.target.isMoving=!0,this.setCursor(ft.target.moveCursor||this.moveCursor)),ft.actionPerformed=ft.actionPerformed||_t},_fire:$.controlsUtils.fireEvent,_setCursorFromEvent:function(ot,ft){if(!ft)return this.setCursor(this.defaultCursor),!1;var ct=ft.hoverCursor||this.hoverCursor,dt=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,pt=(!dt||!dt.contains(ft))&&ft._findTargetCorner(this.getPointer(ot,!0));pt?this.setCursor(this.getCornerCursor(pt,ft,ot)):(ft.subTargetCheck&&this.targets.concat().reverse().map(function(mt){ct=mt.hoverCursor||ct}),this.setCursor(ct))},getCornerCursor:function(ot,ft,ct){var dt=ft.controls[ot];return dt.cursorStyleHandler(ct,dt,ft)}})}(),function(){var lt=Math.min,nt=Math.max;$.util.object.extend($.Canvas.prototype,{_shouldGroup:function(ut,ht){var at=this._activeObject;return at&&this._isSelectionKeyPressed(ut)&&ht&&ht.selectable&&this.selection&&(at!==ht||at.type==="activeSelection")&&!ht.onSelect({e:ut})},_handleGrouping:function(ut,ht){var at=this._activeObject;at.__corner||ht===at&&(ht=this.findTarget(ut,!0),!ht||!ht.selectable)||(at&&at.type==="activeSelection"?this._updateActiveSelection(ht,ut):this._createActiveSelection(ht,ut))},_updateActiveSelection:function(ut,ht){var at=this._activeObject,it=at._objects.slice(0);at.contains(ut)?(at.removeWithUpdate(ut),this._hoveredTarget=ut,this._hoveredTargets=this.targets.concat(),at.size()===1&&this._setActiveObject(at.item(0),ht)):(at.addWithUpdate(ut),this._hoveredTarget=at,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(it,ht)},_createActiveSelection:function(ut,ht){var at=this.getActiveObjects(),it=this._createGroup(ut);this._hoveredTarget=it,this._setActiveObject(it,ht),this._fireSelectionEvents(at,ht)},_createGroup:function(ut){var ht=this._objects,at=ht.indexOf(this._activeObject)<ht.indexOf(ut),it=at?[this._activeObject,ut]:[ut,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new $.ActiveSelection(it,{canvas:this})},_groupSelectedObjects:function(ut){var ht=this._collectObjects(ut),at;ht.length===1?this.setActiveObject(ht[0],ut):ht.length>1&&(at=new $.ActiveSelection(ht.reverse(),{canvas:this}),this.setActiveObject(at,ut))},_collectObjects:function(ut){for(var ht=[],at,it=this._groupSelector.ex,rt=this._groupSelector.ey,ot=it+this._groupSelector.left,ft=rt+this._groupSelector.top,ct=new $.Point(lt(it,ot),lt(rt,ft)),dt=new $.Point(nt(it,ot),nt(rt,ft)),pt=!this.selectionFullyContained,mt=it===ot&&rt===ft,_t=this._objects.length;_t--&&(at=this._objects[_t],!(!(!at||!at.selectable||!at.visible)&&(pt&&at.intersectsWithRect(ct,dt,!0)||at.isContainedWithinRect(ct,dt,!0)||pt&&at.containsPoint(ct,null,!0)||pt&&at.containsPoint(dt,null,!0))&&(ht.push(at),mt))););return ht.length>1&&(ht=ht.filter(function(vt){return!vt.onSelect({e:ut})})),ht},_maybeGroupObjects:function(ut){this.selection&&this._groupSelector&&this._groupSelectedObjects(ut),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){$.util.object.extend($.StaticCanvas.prototype,{toDataURL:function(lt){lt||(lt={});var nt=lt.format||"png",ut=lt.quality||1,ht=(lt.multiplier||1)*(lt.enableRetinaScaling?this.getRetinaScaling():1),at=this.toCanvasElement(ht,lt);return $.util.toDataURL(at,nt,ut)},toCanvasElement:function(lt,nt){lt=lt||1,nt=nt||{};var ut=(nt.width||this.width)*lt,ht=(nt.height||this.height)*lt,at=this.getZoom(),it=this.width,rt=this.height,ot=at*lt,ft=this.viewportTransform,ct=(ft[4]-(nt.left||0))*lt,dt=(ft[5]-(nt.top||0))*lt,pt=this.interactive,mt=[ot,0,0,ot,ct,dt],_t=this.enableRetinaScaling,vt=$.util.createCanvasElement(),yt=this.contextTop;return vt.width=ut,vt.height=ht,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=mt,this.width=ut,this.height=ht,this.calcViewportBoundaries(),this.renderCanvas(vt.getContext("2d"),this._objects),this.viewportTransform=ft,this.width=it,this.height=rt,this.calcViewportBoundaries(),this.interactive=pt,this.enableRetinaScaling=_t,this.contextTop=yt,vt}})}(),$.util.object.extend($.StaticCanvas.prototype,{loadFromJSON:function(lt,nt,ut){if(!!lt){var ht=typeof lt=="string"?JSON.parse(lt):$.util.object.clone(lt),at=this,it=ht.clipPath,rt=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete ht.clipPath,this._enlivenObjects(ht.objects,function(ot){at.clear(),at._setBgOverlay(ht,function(){it?at._enlivenObjects([it],function(ft){at.clipPath=ft[0],at.__setupCanvas.call(at,ht,ot,rt,nt)}):at.__setupCanvas.call(at,ht,ot,rt,nt)})},ut),this}},__setupCanvas:function(lt,nt,ut,ht){var at=this;nt.forEach(function(it,rt){at.insertAt(it,rt)}),this.renderOnAddRemove=ut,delete lt.objects,delete lt.backgroundImage,delete lt.overlayImage,delete lt.background,delete lt.overlay,this._setOptions(lt),this.renderAll(),ht&&ht()},_setBgOverlay:function(lt,nt){var ut={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!lt.backgroundImage&&!lt.overlayImage&&!lt.background&&!lt.overlay){nt&&nt();return}var ht=function(){ut.backgroundImage&&ut.overlayImage&&ut.backgroundColor&&ut.overlayColor&&nt&&nt()};this.__setBgOverlay("backgroundImage",lt.backgroundImage,ut,ht),this.__setBgOverlay("overlayImage",lt.overlayImage,ut,ht),this.__setBgOverlay("backgroundColor",lt.background,ut,ht),this.__setBgOverlay("overlayColor",lt.overlay,ut,ht)},__setBgOverlay:function(lt,nt,ut,ht){var at=this;if(!nt){ut[lt]=!0,ht&&ht();return}lt==="backgroundImage"||lt==="overlayImage"?$.util.enlivenObjects([nt],function(it){at[lt]=it[0],ut[lt]=!0,ht&&ht()}):this["set"+$.util.string.capitalize(lt,!0)](nt,function(){ut[lt]=!0,ht&&ht()})},_enlivenObjects:function(lt,nt,ut){if(!lt||lt.length===0){nt&&nt([]);return}$.util.enlivenObjects(lt,function(ht){nt&&nt(ht)},null,ut)},_toDataURL:function(lt,nt){this.clone(function(ut){nt(ut.toDataURL(lt))})},_toDataURLWithMultiplier:function(lt,nt,ut){this.clone(function(ht){ut(ht.toDataURLWithMultiplier(lt,nt))})},clone:function(lt,nt){var ut=JSON.stringify(this.toJSON(nt));this.cloneWithoutData(function(ht){ht.loadFromJSON(ut,function(){lt&&lt(ht)})})},cloneWithoutData:function(lt){var nt=$.util.createCanvasElement();nt.width=this.width,nt.height=this.height;var ut=new $.Canvas(nt);this.backgroundImage?(ut.setBackgroundImage(this.backgroundImage.src,function(){ut.renderAll(),lt&&lt(ut)}),ut.backgroundImageOpacity=this.backgroundImageOpacity,ut.backgroundImageStretch=this.backgroundImageStretch):lt&&lt(ut)}}),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.util.object.extend,ht=nt.util.object.clone,at=nt.util.toFixed,it=nt.util.string.capitalize,rt=nt.util.degreesToRadians,ot=!nt.isLikelyNode,ft=2;nt.Object||(nt.Object=nt.util.createClass(nt.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:ot,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(ct){ct&&this.setOptions(ct)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=nt.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(ct){var dt=nt.perfLimitSizeTotal,pt=ct.width,mt=ct.height,_t=nt.maxCacheSideLimit,vt=nt.minCacheSideLimit;if(pt<=_t&&mt<=_t&&pt*mt<=dt)return pt<vt&&(ct.width=vt),mt<vt&&(ct.height=vt),ct;var yt=pt/mt,Ct=nt.util.limitDimsByArea(yt,dt),bt=nt.util.capValue,Dt=bt(vt,Ct.x,_t),wt=bt(vt,Ct.y,_t);return pt>Dt&&(ct.zoomX/=pt/Dt,ct.width=Dt,ct.capped=!0),mt>wt&&(ct.zoomY/=mt/wt,ct.height=wt,ct.capped=!0),ct},_getCacheCanvasDimensions:function(){var ct=this.getTotalObjectScaling(),dt=this._getTransformedDimensions(0,0),pt=dt.x*ct.scaleX/this.scaleX,mt=dt.y*ct.scaleY/this.scaleY;return{width:pt+ft,height:mt+ft,zoomX:ct.scaleX,zoomY:ct.scaleY,x:pt,y:mt}},_updateCacheCanvas:function(){var ct=this.canvas;if(this.noScaleCache&&ct&&ct._currentTransform){var dt=ct._currentTransform.target,pt=ct._currentTransform.action;if(this===dt&&pt.slice&&pt.slice(0,5)==="scale")return!1}var mt=this._cacheCanvas,_t=this._limitCacheSize(this._getCacheCanvasDimensions()),vt=nt.minCacheSideLimit,yt=_t.width,Ct=_t.height,bt,Dt,wt=_t.zoomX,Ft=_t.zoomY,Lt=yt!==this.cacheWidth||Ct!==this.cacheHeight,Qt=this.zoomX!==wt||this.zoomY!==Ft,Ut=Lt||Qt,Xt=0,qt=0,Jt=!1;if(Lt){var Gt=this._cacheCanvas.width,Et=this._cacheCanvas.height,At=yt>Gt||Ct>Et,It=(yt<Gt*.9||Ct<Et*.9)&&Gt>vt&&Et>vt;Jt=At||It,At&&!_t.capped&&(yt>vt||Ct>vt)&&(Xt=yt*.1,qt=Ct*.1)}return this instanceof nt.Text&&this.path&&(Ut=!0,Jt=!0,Xt+=this.getHeightOfLine(0)*this.zoomX,qt+=this.getHeightOfLine(0)*this.zoomY),Ut?(Jt?(mt.width=Math.ceil(yt+Xt),mt.height=Math.ceil(Ct+qt)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,mt.width,mt.height)),bt=_t.x/2,Dt=_t.y/2,this.cacheTranslationX=Math.round(mt.width/2-bt)+bt,this.cacheTranslationY=Math.round(mt.height/2-Dt)+Dt,this.cacheWidth=yt,this.cacheHeight=Ct,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(wt,Ft),this.zoomX=wt,this.zoomY=Ft,!0):!1},setOptions:function(ct){this._setOptions(ct),this._initGradient(ct.fill,"fill"),this._initGradient(ct.stroke,"stroke"),this._initPattern(ct.fill,"fill"),this._initPattern(ct.stroke,"stroke")},transform:function(ct){var dt=this.group&&!this.group._transformDone||this.group&&this.canvas&&ct===this.canvas.contextTop,pt=this.calcTransformMatrix(!dt);ct.transform(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5])},toObject:function(ct){var dt=nt.Object.NUM_FRACTION_DIGITS,pt={type:this.type,version:nt.version,originX:this.originX,originY:this.originY,left:at(this.left,dt),top:at(this.top,dt),width:at(this.width,dt),height:at(this.height,dt),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:at(this.strokeWidth,dt),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:at(this.strokeMiterLimit,dt),scaleX:at(this.scaleX,dt),scaleY:at(this.scaleY,dt),angle:at(this.angle,dt),flipX:this.flipX,flipY:this.flipY,opacity:at(this.opacity,dt),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:at(this.skewX,dt),skewY:at(this.skewY,dt)};return this.clipPath&&!this.clipPath.excludeFromExport&&(pt.clipPath=this.clipPath.toObject(ct),pt.clipPath.inverted=this.clipPath.inverted,pt.clipPath.absolutePositioned=this.clipPath.absolutePositioned),nt.util.populateWithProperties(this,pt,ct),this.includeDefaultValues||(pt=this._removeDefaultValues(pt)),pt},toDatalessObject:function(ct){return this.toObject(ct)},_removeDefaultValues:function(ct){var dt=nt.util.getKlass(ct.type).prototype,pt=dt.stateProperties;return pt.forEach(function(mt){mt==="left"||mt==="top"||(ct[mt]===dt[mt]&&delete ct[mt],Array.isArray(ct[mt])&&Array.isArray(dt[mt])&&ct[mt].length===0&&dt[mt].length===0&&delete ct[mt])}),ct},toString:function(){return"#<fabric."+it(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var ct=nt.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(ct.scaleX),scaleY:Math.abs(ct.scaleY)}},getTotalObjectScaling:function(){var ct=this.getObjectScaling(),dt=ct.scaleX,pt=ct.scaleY;if(this.canvas){var mt=this.canvas.getZoom(),_t=this.canvas.getRetinaScaling();dt*=mt*_t,pt*=mt*_t}return{scaleX:dt,scaleY:pt}},getObjectOpacity:function(){var ct=this.opacity;return this.group&&(ct*=this.group.getObjectOpacity()),ct},_set:function(ct,dt){var pt=ct==="scaleX"||ct==="scaleY",mt=this[ct]!==dt,_t=!1;return pt&&(dt=this._constrainScale(dt)),ct==="scaleX"&&dt<0?(this.flipX=!this.flipX,dt*=-1):ct==="scaleY"&&dt<0?(this.flipY=!this.flipY,dt*=-1):ct==="shadow"&&dt&&!(dt instanceof nt.Shadow)?dt=new nt.Shadow(dt):ct==="dirty"&&this.group&&this.group.set("dirty",dt),this[ct]=dt,mt&&(_t=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(ct)>-1?(this.dirty=!0,_t&&this.group.set("dirty",!0)):_t&&this.stateProperties.indexOf(ct)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:nt.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(ct){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(ct.save(),this._setupCompositeOperation(ct),this.drawSelectionBackground(ct),this.transform(ct),this._setOpacity(ct),this._setShadow(ct,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(ct)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(ct),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),ct.restore())},renderCache:function(ct){ct=ct||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,ct.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(ct,dt){if(ct.save(),dt.inverted?ct.globalCompositeOperation="destination-out":ct.globalCompositeOperation="destination-in",dt.absolutePositioned){var pt=nt.util.invertTransform(this.calcTransformMatrix());ct.transform(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5])}dt.transform(ct),ct.scale(1/dt.zoomX,1/dt.zoomY),ct.drawImage(dt._cacheCanvas,-dt.cacheTranslationX,-dt.cacheTranslationY),ct.restore()},drawObject:function(ct,dt){var pt=this.fill,mt=this.stroke;dt?(this.fill="black",this.stroke="",this._setClippingProperties(ct)):this._renderBackground(ct),this._render(ct),this._drawClipPath(ct,this.clipPath),this.fill=pt,this.stroke=mt},_drawClipPath:function(ct,dt){!dt||(dt.canvas=this.canvas,dt.shouldCache(),dt._transformDone=!0,dt.renderCache({forClipping:!0}),this.drawClipPathOnCache(ct,dt))},drawCacheOnCanvas:function(ct){ct.scale(1/this.zoomX,1/this.zoomY),ct.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(ct){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!ct&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!ct){var dt=this.cacheWidth/this.zoomX,pt=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-dt/2,-pt/2,dt,pt)}return!0}return!1},_renderBackground:function(ct){if(!!this.backgroundColor){var dt=this._getNonTransformedDimensions();ct.fillStyle=this.backgroundColor,ct.fillRect(-dt.x/2,-dt.y/2,dt.x,dt.y),this._removeShadow(ct)}},_setOpacity:function(ct){this.group&&!this.group._transformDone?ct.globalAlpha=this.getObjectOpacity():ct.globalAlpha*=this.opacity},_setStrokeStyles:function(ct,dt){var pt=dt.stroke;pt&&(ct.lineWidth=dt.strokeWidth,ct.lineCap=dt.strokeLineCap,ct.lineDashOffset=dt.strokeDashOffset,ct.lineJoin=dt.strokeLineJoin,ct.miterLimit=dt.strokeMiterLimit,pt.toLive?pt.gradientUnits==="percentage"||pt.gradientTransform||pt.patternTransform?this._applyPatternForTransformedGradient(ct,pt):(ct.strokeStyle=pt.toLive(ct,this),this._applyPatternGradientTransform(ct,pt)):ct.strokeStyle=dt.stroke)},_setFillStyles:function(ct,dt){var pt=dt.fill;pt&&(pt.toLive?(ct.fillStyle=pt.toLive(ct,this),this._applyPatternGradientTransform(ct,dt.fill)):ct.fillStyle=pt)},_setClippingProperties:function(ct){ct.globalAlpha=1,ct.strokeStyle="transparent",ct.fillStyle="#000000"},_setLineDash:function(ct,dt){!dt||dt.length===0||(1&dt.length&&dt.push.apply(dt,dt),ct.setLineDash(dt))},_renderControls:function(ct,dt){var pt=this.getViewportTransform(),mt=this.calcTransformMatrix(),_t,vt,yt;dt=dt||{},vt=typeof dt.hasBorders<"u"?dt.hasBorders:this.hasBorders,yt=typeof dt.hasControls<"u"?dt.hasControls:this.hasControls,mt=nt.util.multiplyTransformMatrices(pt,mt),_t=nt.util.qrDecompose(mt),ct.save(),ct.translate(_t.translateX,_t.translateY),ct.lineWidth=1*this.borderScaleFactor,this.group||(ct.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(_t.angle-=180),ct.rotate(rt(this.group?_t.angle:this.angle)),dt.forActiveSelection||this.group?vt&&this.drawBordersInGroup(ct,_t,dt):vt&&this.drawBorders(ct,dt),yt&&this.drawControls(ct,dt),ct.restore()},_setShadow:function(ct){if(!!this.shadow){var dt=this.shadow,pt=this.canvas,mt,_t=pt&&pt.viewportTransform[0]||1,vt=pt&&pt.viewportTransform[3]||1;dt.nonScaling?mt={scaleX:1,scaleY:1}:mt=this.getObjectScaling(),pt&&pt._isRetinaScaling()&&(_t*=nt.devicePixelRatio,vt*=nt.devicePixelRatio),ct.shadowColor=dt.color,ct.shadowBlur=dt.blur*nt.browserShadowBlurConstant*(_t+vt)*(mt.scaleX+mt.scaleY)/4,ct.shadowOffsetX=dt.offsetX*_t*mt.scaleX,ct.shadowOffsetY=dt.offsetY*vt*mt.scaleY}},_removeShadow:function(ct){!this.shadow||(ct.shadowColor="",ct.shadowBlur=ct.shadowOffsetX=ct.shadowOffsetY=0)},_applyPatternGradientTransform:function(ct,dt){if(!dt||!dt.toLive)return{offsetX:0,offsetY:0};var pt=dt.gradientTransform||dt.patternTransform,mt=-this.width/2+dt.offsetX||0,_t=-this.height/2+dt.offsetY||0;return dt.gradientUnits==="percentage"?ct.transform(this.width,0,0,this.height,mt,_t):ct.transform(1,0,0,1,mt,_t),pt&&ct.transform(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5]),{offsetX:mt,offsetY:_t}},_renderPaintInOrder:function(ct){this.paintFirst==="stroke"?(this._renderStroke(ct),this._renderFill(ct)):(this._renderFill(ct),this._renderStroke(ct))},_render:function(){},_renderFill:function(ct){!this.fill||(ct.save(),this._setFillStyles(ct,this),this.fillRule==="evenodd"?ct.fill("evenodd"):ct.fill(),ct.restore())},_renderStroke:function(ct){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(ct),ct.save(),this.strokeUniform&&this.group){var dt=this.getObjectScaling();ct.scale(1/dt.scaleX,1/dt.scaleY)}else this.strokeUniform&&ct.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(ct,this.strokeDashArray),this._setStrokeStyles(ct,this),ct.stroke(),ct.restore()}},_applyPatternForTransformedGradient:function(ct,dt){var pt=this._limitCacheSize(this._getCacheCanvasDimensions()),mt=nt.util.createCanvasElement(),_t,vt=this.canvas.getRetinaScaling(),yt=pt.x/this.scaleX/vt,Ct=pt.y/this.scaleY/vt;mt.width=yt,mt.height=Ct,_t=mt.getContext("2d"),_t.beginPath(),_t.moveTo(0,0),_t.lineTo(yt,0),_t.lineTo(yt,Ct),_t.lineTo(0,Ct),_t.closePath(),_t.translate(yt/2,Ct/2),_t.scale(pt.zoomX/this.scaleX/vt,pt.zoomY/this.scaleY/vt),this._applyPatternGradientTransform(_t,dt),_t.fillStyle=dt.toLive(ct),_t.fill(),ct.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),ct.scale(vt*this.scaleX/pt.zoomX,vt*this.scaleY/pt.zoomY),ct.strokeStyle=_t.createPattern(mt,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var ct=nt.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",ct.scaleX),this.set("scaleY",ct.scaleY),this.angle=ct.angle,this.skewX=ct.skewX,this.skewY=0}},_removeTransformMatrix:function(ct){var dt=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),dt=nt.util.transformPoint(dt,this.transformMatrix)),this.transformMatrix=null,ct&&(this.scaleX*=ct.scaleX,this.scaleY*=ct.scaleY,this.cropX=ct.cropX,this.cropY=ct.cropY,dt.x+=ct.offsetLeft,dt.y+=ct.offsetTop,this.width=ct.width,this.height=ct.height),this.setPositionByOrigin(dt,"center","center")},clone:function(ct,dt){var pt=this.toObject(dt);this.constructor.fromObject?this.constructor.fromObject(pt,ct):nt.Object._fromObject("Object",pt,ct)},cloneAsImage:function(ct,dt){var pt=this.toCanvasElement(dt);return ct&&ct(new nt.Image(pt)),this},toCanvasElement:function(ct){ct||(ct={});var dt=nt.util,pt=dt.saveObjectTransform(this),mt=this.group,_t=this.shadow,vt=Math.abs,yt=(ct.multiplier||1)*(ct.enableRetinaScaling?nt.devicePixelRatio:1);delete this.group,ct.withoutTransform&&dt.resetObjectTransform(this),ct.withoutShadow&&(this.shadow=null);var Ct=nt.util.createCanvasElement(),bt=this.getBoundingRect(!0,!0),Dt=this.shadow,wt,Ft={x:0,y:0},Lt,Qt,Ut;Dt&&(Lt=Dt.blur,Dt.nonScaling?wt={scaleX:1,scaleY:1}:wt=this.getObjectScaling(),Ft.x=2*Math.round(vt(Dt.offsetX)+Lt)*vt(wt.scaleX),Ft.y=2*Math.round(vt(Dt.offsetY)+Lt)*vt(wt.scaleY)),Qt=bt.width+Ft.x,Ut=bt.height+Ft.y,Ct.width=Math.ceil(Qt),Ct.height=Math.ceil(Ut);var Xt=new nt.StaticCanvas(Ct,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});ct.format==="jpeg"&&(Xt.backgroundColor="#fff"),this.setPositionByOrigin(new nt.Point(Xt.width/2,Xt.height/2),"center","center");var qt=this.canvas;Xt.add(this);var Jt=Xt.toCanvasElement(yt||1,ct);return this.shadow=_t,this.set("canvas",qt),mt&&(this.group=mt),this.set(pt).setCoords(),Xt._objects=[],Xt.dispose(),Xt=null,Jt},toDataURL:function(ct){return ct||(ct={}),nt.util.toDataURL(this.toCanvasElement(ct),ct.format||"png",ct.quality||1)},isType:function(ct){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===ct},complexity:function(){return 1},toJSON:function(ct){return this.toObject(ct)},rotate:function(ct){var dt=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return dt&&this._setOriginToCenter(),this.set("angle",ct),dt&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(ct,dt){dt=dt||this.canvas.getPointer(ct);var pt=new nt.Point(dt.x,dt.y),mt=this._getLeftTopCoords();return this.angle&&(pt=nt.util.rotatePoint(pt,mt,rt(-this.angle))),{x:pt.x-mt.x,y:pt.y-mt.y}},_setupCompositeOperation:function(ct){this.globalCompositeOperation&&(ct.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){nt.runningAnimations&&nt.runningAnimations.cancelByTarget(this)}}),nt.util.createAccessors&&nt.util.createAccessors(nt.Object),ut(nt.Object.prototype,nt.Observable),nt.Object.NUM_FRACTION_DIGITS=2,nt.Object.ENLIVEN_PROPS=["clipPath"],nt.Object._fromObject=function(ct,dt,pt,mt){var _t=nt[ct];dt=ht(dt,!0),nt.util.enlivenPatterns([dt.fill,dt.stroke],function(vt){typeof vt[0]<"u"&&(dt.fill=vt[0]),typeof vt[1]<"u"&&(dt.stroke=vt[1]),nt.util.enlivenObjectEnlivables(dt,dt,function(){var yt=mt?new _t(dt[mt],dt):new _t(dt);pt&&pt(yt)})})},nt.Object.__uid=0)}(j),function(){var lt=$.util.degreesToRadians,nt={left:-.5,center:0,right:.5},ut={top:-.5,center:0,bottom:.5};$.util.object.extend($.Object.prototype,{translateToGivenOrigin:function(ht,at,it,rt,ot){var ft=ht.x,ct=ht.y,dt,pt,mt;return typeof at=="string"?at=nt[at]:at-=.5,typeof rt=="string"?rt=nt[rt]:rt-=.5,dt=rt-at,typeof it=="string"?it=ut[it]:it-=.5,typeof ot=="string"?ot=ut[ot]:ot-=.5,pt=ot-it,(dt||pt)&&(mt=this._getTransformedDimensions(),ft=ht.x+dt*mt.x,ct=ht.y+pt*mt.y),new $.Point(ft,ct)},translateToCenterPoint:function(ht,at,it){var rt=this.translateToGivenOrigin(ht,at,it,"center","center");return this.angle?$.util.rotatePoint(rt,ht,lt(this.angle)):rt},translateToOriginPoint:function(ht,at,it){var rt=this.translateToGivenOrigin(ht,"center","center",at,it);return this.angle?$.util.rotatePoint(rt,ht,lt(this.angle)):rt},getCenterPoint:function(){var ht=new $.Point(this.left,this.top);return this.translateToCenterPoint(ht,this.originX,this.originY)},getPointByOrigin:function(ht,at){var it=this.getCenterPoint();return this.translateToOriginPoint(it,ht,at)},toLocalPoint:function(ht,at,it){var rt=this.getCenterPoint(),ot,ft;return typeof at<"u"&&typeof it<"u"?ot=this.translateToGivenOrigin(rt,"center","center",at,it):ot=new $.Point(this.left,this.top),ft=new $.Point(ht.x,ht.y),this.angle&&(ft=$.util.rotatePoint(ft,rt,-lt(this.angle))),ft.subtractEquals(ot)},setPositionByOrigin:function(ht,at,it){var rt=this.translateToCenterPoint(ht,at,it),ot=this.translateToOriginPoint(rt,this.originX,this.originY);this.set("left",ot.x),this.set("top",ot.y)},adjustPosition:function(ht){var at=lt(this.angle),it=this.getScaledWidth(),rt=$.util.cos(at)*it,ot=$.util.sin(at)*it,ft,ct;typeof this.originX=="string"?ft=nt[this.originX]:ft=this.originX-.5,typeof ht=="string"?ct=nt[ht]:ct=ht-.5,this.left+=rt*(ct-ft),this.top+=ot*(ct-ft),this.setCoords(),this.originX=ht},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var ht=this.getCenterPoint();this.originX="center",this.originY="center",this.left=ht.x,this.top=ht.y},_resetOrigin:function(){var ht=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=ht.x,this.top=ht.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function lt(it){return[new $.Point(it.tl.x,it.tl.y),new $.Point(it.tr.x,it.tr.y),new $.Point(it.br.x,it.br.y),new $.Point(it.bl.x,it.bl.y)]}var nt=$.util,ut=nt.degreesToRadians,ht=nt.multiplyTransformMatrices,at=nt.transformPoint;nt.object.extend($.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(it,rt){return rt?it?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),it?this.aCoords:this.lineCoords)},getCoords:function(it,rt){return lt(this._getCoords(it,rt))},intersectsWithRect:function(it,rt,ot,ft){var ct=this.getCoords(ot,ft),dt=$.Intersection.intersectPolygonRectangle(ct,it,rt);return dt.status==="Intersection"},intersectsWithObject:function(it,rt,ot){var ft=$.Intersection.intersectPolygonPolygon(this.getCoords(rt,ot),it.getCoords(rt,ot));return ft.status==="Intersection"||it.isContainedWithinObject(this,rt,ot)||this.isContainedWithinObject(it,rt,ot)},isContainedWithinObject:function(it,rt,ot){for(var ft=this.getCoords(rt,ot),ct=rt?it.aCoords:it.lineCoords,dt=0,pt=it._getImageLines(ct);dt<4;dt++)if(!it.containsPoint(ft[dt],pt))return!1;return!0},isContainedWithinRect:function(it,rt,ot,ft){var ct=this.getBoundingRect(ot,ft);return ct.left>=it.x&&ct.left+ct.width<=rt.x&&ct.top>=it.y&&ct.top+ct.height<=rt.y},containsPoint:function(it,dt,ot,ft){var ct=this._getCoords(ot,ft),dt=dt||this._getImageLines(ct),pt=this._findCrossPoints(it,dt);return pt!==0&&pt%2===1},isOnScreen:function(it){if(!this.canvas)return!1;var rt=this.canvas.vptCoords.tl,ot=this.canvas.vptCoords.br,ft=this.getCoords(!0,it);return ft.some(function(ct){return ct.x<=ot.x&&ct.x>=rt.x&&ct.y<=ot.y&&ct.y>=rt.y})||this.intersectsWithRect(rt,ot,!0,it)?!0:this._containsCenterOfCanvas(rt,ot,it)},_containsCenterOfCanvas:function(it,rt,ot){var ft={x:(it.x+rt.x)/2,y:(it.y+rt.y)/2};return!!this.containsPoint(ft,null,!0,ot)},isPartiallyOnScreen:function(it){if(!this.canvas)return!1;var rt=this.canvas.vptCoords.tl,ot=this.canvas.vptCoords.br;if(this.intersectsWithRect(rt,ot,!0,it))return!0;var ft=this.getCoords(!0,it).every(function(ct){return(ct.x>=ot.x||ct.x<=rt.x)&&(ct.y>=ot.y||ct.y<=rt.y)});return ft&&this._containsCenterOfCanvas(rt,ot,it)},_getImageLines:function(it){var rt={topline:{o:it.tl,d:it.tr},rightline:{o:it.tr,d:it.br},bottomline:{o:it.br,d:it.bl},leftline:{o:it.bl,d:it.tl}};return rt},_findCrossPoints:function(it,rt){var ot,ft,ct,dt,pt,mt=0,_t;for(var vt in rt)if(_t=rt[vt],!(_t.o.y<it.y&&_t.d.y<it.y)&&!(_t.o.y>=it.y&&_t.d.y>=it.y)&&(_t.o.x===_t.d.x&&_t.o.x>=it.x?pt=_t.o.x:(ot=0,ft=(_t.d.y-_t.o.y)/(_t.d.x-_t.o.x),ct=it.y-ot*it.x,dt=_t.o.y-ft*_t.o.x,pt=-(ct-dt)/(ot-ft)),pt>=it.x&&(mt+=1),mt===2))break;return mt},getBoundingRect:function(it,rt){var ot=this.getCoords(it,rt);return nt.makeBoundingBoxFromPoints(ot)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(it){return Math.abs(it)<this.minScaleLimit?it<0?-this.minScaleLimit:this.minScaleLimit:it===0?1e-4:it},scale:function(it){return this._set("scaleX",it),this._set("scaleY",it),this.setCoords()},scaleToWidth:function(it,rt){var ot=this.getBoundingRect(rt).width/this.getScaledWidth();return this.scale(it/this.width/ot)},scaleToHeight:function(it,rt){var ot=this.getBoundingRect(rt).height/this.getScaledHeight();return this.scale(it/this.height/ot)},calcLineCoords:function(){var it=this.getViewportTransform(),rt=this.padding,ot=ut(this.angle),ft=nt.cos(ot),ct=nt.sin(ot),dt=ft*rt,pt=ct*rt,mt=dt+pt,_t=dt-pt,vt=this.calcACoords(),yt={tl:at(vt.tl,it),tr:at(vt.tr,it),bl:at(vt.bl,it),br:at(vt.br,it)};return rt&&(yt.tl.x-=_t,yt.tl.y-=mt,yt.tr.x+=mt,yt.tr.y-=_t,yt.bl.x-=mt,yt.bl.y+=_t,yt.br.x+=_t,yt.br.y+=mt),yt},calcOCoords:function(){var it=this._calcRotateMatrix(),rt=this._calcTranslateMatrix(),ot=this.getViewportTransform(),ft=ht(ot,rt),ct=ht(ft,it),ct=ht(ct,[1/ot[0],0,0,1/ot[3],0,0]),dt=this._calculateCurrentDimensions(),pt={};return this.forEachControl(function(mt,_t,vt){pt[_t]=mt.positionHandler(dt,ct,vt)}),pt},calcACoords:function(){var it=this._calcRotateMatrix(),rt=this._calcTranslateMatrix(),ot=ht(rt,it),ft=this._getTransformedDimensions(),ct=ft.x/2,dt=ft.y/2;return{tl:at({x:-ct,y:-dt},ot),tr:at({x:ct,y:-dt},ot),bl:at({x:-ct,y:dt},ot),br:at({x:ct,y:dt},ot)}},setCoords:function(it){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),it?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return nt.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var it=this.getCenterPoint();return[1,0,0,1,it.x,it.y]},transformMatrixKey:function(it){var rt="_",ot="";return!it&&this.group&&(ot=this.group.transformMatrixKey(it)+rt),ot+this.top+rt+this.left+rt+this.scaleX+rt+this.scaleY+rt+this.skewX+rt+this.skewY+rt+this.angle+rt+this.originX+rt+this.originY+rt+this.width+rt+this.height+rt+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(it){var rt=this.calcOwnMatrix();if(it||!this.group)return rt;var ot=this.transformMatrixKey(it),ft=this.matrixCache||(this.matrixCache={});return ft.key===ot?ft.value:(this.group&&(rt=ht(this.group.calcTransformMatrix(!1),rt)),ft.key=ot,ft.value=rt,rt)},calcOwnMatrix:function(){var it=this.transformMatrixKey(!0),rt=this.ownMatrixCache||(this.ownMatrixCache={});if(rt.key===it)return rt.value;var ot=this._calcTranslateMatrix(),ft={angle:this.angle,translateX:ot[4],translateY:ot[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return rt.key=it,rt.value=nt.composeMatrix(ft),rt.value},_getNonTransformedDimensions:function(){var it=this.strokeWidth,rt=this.width+it,ot=this.height+it;return{x:rt,y:ot}},_getTransformedDimensions:function(it,rt){typeof it>"u"&&(it=this.skewX),typeof rt>"u"&&(rt=this.skewY);var ot,ft,ct,dt=it===0&&rt===0;if(this.strokeUniform?(ft=this.width,ct=this.height):(ot=this._getNonTransformedDimensions(),ft=ot.x,ct=ot.y),dt)return this._finalizeDimensions(ft*this.scaleX,ct*this.scaleY);var pt=nt.sizeAfterTransform(ft,ct,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:it,skewY:rt});return this._finalizeDimensions(pt.x,pt.y)},_finalizeDimensions:function(it,rt){return this.strokeUniform?{x:it+this.strokeWidth,y:rt+this.strokeWidth}:{x:it,y:rt}},_calculateCurrentDimensions:function(){var it=this.getViewportTransform(),rt=this._getTransformedDimensions(),ot=at(rt,it,!0);return ot.scalarAdd(2*this.padding)}})}(),$.util.object.extend($.Object.prototype,{sendToBack:function(){return this.group?$.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?$.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(lt){return this.group?$.StaticCanvas.prototype.sendBackwards.call(this.group,this,lt):this.canvas&&this.canvas.sendBackwards(this,lt),this},bringForward:function(lt){return this.group?$.StaticCanvas.prototype.bringForward.call(this.group,this,lt):this.canvas&&this.canvas.bringForward(this,lt),this},moveTo:function(lt){return this.group&&this.group.type!=="activeSelection"?$.StaticCanvas.prototype.moveTo.call(this.group,this,lt):this.canvas&&this.canvas.moveTo(this,lt),this}}),function(){function lt(ut,ht){if(ht){if(ht.toLive)return ut+": url(#SVGID_"+ht.id+"); ";var at=new $.Color(ht),it=ut+": "+at.toRgb()+"; ",rt=at.getAlpha();return rt!==1&&(it+=ut+"-opacity: "+rt.toString()+"; "),it}else return ut+": none; "}var nt=$.util.toFixed;$.util.object.extend($.Object.prototype,{getSvgStyles:function(ut){var ht=this.fillRule?this.fillRule:"nonzero",at=this.strokeWidth?this.strokeWidth:"0",it=this.strokeDashArray?this.strokeDashArray.join(" "):"none",rt=this.strokeDashOffset?this.strokeDashOffset:"0",ot=this.strokeLineCap?this.strokeLineCap:"butt",ft=this.strokeLineJoin?this.strokeLineJoin:"miter",ct=this.strokeMiterLimit?this.strokeMiterLimit:"4",dt=typeof this.opacity<"u"?this.opacity:"1",pt=this.visible?"":" visibility: hidden;",mt=ut?"":this.getSvgFilter(),_t=lt("fill",this.fill),vt=lt("stroke",this.stroke);return[vt,"stroke-width: ",at,"; ","stroke-dasharray: ",it,"; ","stroke-linecap: ",ot,"; ","stroke-dashoffset: ",rt,"; ","stroke-linejoin: ",ft,"; ","stroke-miterlimit: ",ct,"; ",_t,"fill-rule: ",ht,"; ","opacity: ",dt,";",mt,pt].join("")},getSvgSpanStyles:function(ut,ht){var at="; ",rt=ut.fontFamily?"font-family: "+(ut.fontFamily.indexOf("'")===-1&&ut.fontFamily.indexOf('"')===-1?"'"+ut.fontFamily+"'":ut.fontFamily)+at:"",it=ut.strokeWidth?"stroke-width: "+ut.strokeWidth+at:"",rt=rt,ot=ut.fontSize?"font-size: "+ut.fontSize+"px"+at:"",ft=ut.fontStyle?"font-style: "+ut.fontStyle+at:"",ct=ut.fontWeight?"font-weight: "+ut.fontWeight+at:"",dt=ut.fill?lt("fill",ut.fill):"",pt=ut.stroke?lt("stroke",ut.stroke):"",mt=this.getSvgTextDecoration(ut),_t=ut.deltaY?"baseline-shift: "+-ut.deltaY+"; ":"";return mt&&(mt="text-decoration: "+mt+at),[pt,it,rt,ot,ft,ct,mt,dt,_t,ht?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(ut){return["overline","underline","line-through"].filter(function(ht){return ut[ht.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(ut,ht){var at=ut?this.calcTransformMatrix():this.calcOwnMatrix(),it='transform="'+$.util.matrixToSVG(at);return it+(ht||"")+'" '},_setSVGBg:function(ut){if(this.backgroundColor){var ht=$.Object.NUM_FRACTION_DIGITS;ut.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',nt(-this.width/2,ht),'" y="',nt(-this.height/2,ht),'" width="',nt(this.width,ht),'" height="',nt(this.height,ht),`"></rect>
`)}},toSVG:function(ut){return this._createBaseSVGMarkup(this._toSVG(ut),{reviver:ut})},toClipPathSVG:function(ut){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(ut),{reviver:ut})},_createBaseClipPathSVGMarkup:function(ut,ht){ht=ht||{};var at=ht.reviver,it=ht.additionalTransform||"",rt=[this.getSvgTransform(!0,it),this.getSvgCommons()].join(""),ot=ut.indexOf("COMMON_PARTS");return ut[ot]=rt,at?at(ut.join("")):ut.join("")},_createBaseSVGMarkup:function(ut,ht){ht=ht||{};var at=ht.noStyle,it=ht.reviver,rt=at?"":'style="'+this.getSvgStyles()+'" ',ot=ht.withShadow?'style="'+this.getSvgFilter()+'" ':"",ft=this.clipPath,ct=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",dt=ft&&ft.absolutePositioned,pt=this.stroke,mt=this.fill,_t=this.shadow,vt,yt=[],Ct,bt=ut.indexOf("COMMON_PARTS"),Dt=ht.additionalTransform;return ft&&(ft.clipPathId="CLIPPATH_"+$.Object.__uid++,Ct='<clipPath id="'+ft.clipPathId+`" >
`+ft.toClipPathSVG(it)+`</clipPath>
`),dt&&yt.push("<g ",ot,this.getSvgCommons(),` >
`),yt.push("<g ",this.getSvgTransform(!1),dt?"":ot+this.getSvgCommons(),` >
`),vt=[rt,ct,at?"":this.addPaintOrder()," ",Dt?'transform="'+Dt+'" ':""].join(""),ut[bt]=vt,mt&&mt.toLive&&yt.push(mt.toSVG(this)),pt&&pt.toLive&&yt.push(pt.toSVG(this)),_t&&yt.push(_t.toSVG(this)),ft&&yt.push(Ct),yt.push(ut.join("")),yt.push(`</g>
`),dt&&yt.push(`</g>
`),it?it(yt.join("")):yt.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var lt=$.util.object.extend,nt="stateProperties";function ut(at,it,rt){var ot={},ft=!0;rt.forEach(function(ct){ot[ct]=at[ct]}),lt(at[it],ot,ft)}function ht(at,it,rt){if(at===it)return!0;if(Array.isArray(at)){if(!Array.isArray(it)||at.length!==it.length)return!1;for(var ot=0,ft=at.length;ot<ft;ot++)if(!ht(at[ot],it[ot]))return!1;return!0}else if(at&&typeof at=="object"){var ct=Object.keys(at),dt;if(!it||typeof it!="object"||!rt&&ct.length!==Object.keys(it).length)return!1;for(var ot=0,ft=ct.length;ot<ft;ot++)if(dt=ct[ot],!(dt==="canvas"||dt==="group")&&!ht(at[dt],it[dt]))return!1;return!0}}$.util.object.extend($.Object.prototype,{hasStateChanged:function(at){at=at||nt;var it="_"+at;return Object.keys(this[it]).length<this[at].length?!0:!ht(this[it],this,!0)},saveState:function(at){var it=at&&at.propertySet||nt,rt="_"+it;return this[rt]?(ut(this,rt,this[it]),at&&at.stateProperties&&ut(this,rt,at.stateProperties),this):this.setupState(at)},setupState:function(at){at=at||{};var it=at.propertySet||nt;return at.propertySet=it,this["_"+it]={},this.saveState(at),this}})}(),function(){var lt=$.util.degreesToRadians;$.util.object.extend($.Object.prototype,{_findTargetCorner:function(nt,ut){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var ht=nt.x,at=nt.y,it,rt,ot=Object.keys(this.oCoords),ft=ot.length-1,ct;for(this.__corner=0;ft>=0;ft--)if(ct=ot[ft],!!this.isControlVisible(ct)&&(rt=this._getImageLines(ut?this.oCoords[ct].touchCorner:this.oCoords[ct].corner),it=this._findCrossPoints({x:ht,y:at},rt),it!==0&&it%2===1))return this.__corner=ct,ct;return!1},forEachControl:function(nt){for(var ut in this.controls)nt(this.controls[ut],ut,this)},_setCornerCoords:function(){var nt=this.oCoords;for(var ut in nt){var ht=this.controls[ut];nt[ut].corner=ht.calcCornerCoords(this.angle,this.cornerSize,nt[ut].x,nt[ut].y,!1),nt[ut].touchCorner=ht.calcCornerCoords(this.angle,this.touchCornerSize,nt[ut].x,nt[ut].y,!0)}},drawSelectionBackground:function(nt){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;nt.save();var ut=this.getCenterPoint(),ht=this._calculateCurrentDimensions(),at=this.canvas.viewportTransform;return nt.translate(ut.x,ut.y),nt.scale(1/at[0],1/at[3]),nt.rotate(lt(this.angle)),nt.fillStyle=this.selectionBackgroundColor,nt.fillRect(-ht.x/2,-ht.y/2,ht.x,ht.y),nt.restore(),this},drawBorders:function(nt,ut){ut=ut||{};var ht=this._calculateCurrentDimensions(),at=this.borderScaleFactor,it=ht.x+at,rt=ht.y+at,ot=typeof ut.hasControls<"u"?ut.hasControls:this.hasControls,ft=!1;return nt.save(),nt.strokeStyle=ut.borderColor||this.borderColor,this._setLineDash(nt,ut.borderDashArray||this.borderDashArray),nt.strokeRect(-it/2,-rt/2,it,rt),ot&&(nt.beginPath(),this.forEachControl(function(ct,dt,pt){ct.withConnection&&ct.getVisibility(pt,dt)&&(ft=!0,nt.moveTo(ct.x*it,ct.y*rt),nt.lineTo(ct.x*it+ct.offsetX,ct.y*rt+ct.offsetY))}),ft&&nt.stroke()),nt.restore(),this},drawBordersInGroup:function(nt,ut,ht){ht=ht||{};var at=$.util.sizeAfterTransform(this.width,this.height,ut),it=this.strokeWidth,rt=this.strokeUniform,ot=this.borderScaleFactor,ft=at.x+it*(rt?this.canvas.getZoom():ut.scaleX)+ot,ct=at.y+it*(rt?this.canvas.getZoom():ut.scaleY)+ot;return nt.save(),this._setLineDash(nt,ht.borderDashArray||this.borderDashArray),nt.strokeStyle=ht.borderColor||this.borderColor,nt.strokeRect(-ft/2,-ct/2,ft,ct),nt.restore(),this},drawControls:function(nt,ut){ut=ut||{},nt.save();var ht=this.canvas.getRetinaScaling(),at,it;return nt.setTransform(ht,0,0,ht,0,0),nt.strokeStyle=nt.fillStyle=ut.cornerColor||this.cornerColor,this.transparentCorners||(nt.strokeStyle=ut.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(nt,ut.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(at=this.group.calcTransformMatrix()),this.forEachControl(function(rt,ot,ft){it=ft.oCoords[ot],rt.getVisibility(ft,ot)&&(at&&(it=$.util.transformPoint(it,at)),rt.render(nt,it.x,it.y,ut,ft))}),nt.restore(),this},isControlVisible:function(nt){return this.controls[nt]&&this.controls[nt].getVisibility(this,nt)},setControlVisible:function(nt,ut){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[nt]=ut,this},setControlsVisibility:function(nt){nt||(nt={});for(var ut in nt)this.setControlVisible(ut,nt[ut]);return this},onDeselect:function(){},onSelect:function(){}})}(),$.util.object.extend($.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(lt,nt){nt=nt||{};var ut=function(){},ht=nt.onComplete||ut,at=nt.onChange||ut,it=this;return $.util.animate({target:this,startValue:lt.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(rt){lt.set("left",rt),it.requestRenderAll(),at()},onComplete:function(){lt.setCoords(),ht()}})},fxCenterObjectV:function(lt,nt){nt=nt||{};var ut=function(){},ht=nt.onComplete||ut,at=nt.onChange||ut,it=this;return $.util.animate({target:this,startValue:lt.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(rt){lt.set("top",rt),it.requestRenderAll(),at()},onComplete:function(){lt.setCoords(),ht()}})},fxRemove:function(lt,nt){nt=nt||{};var ut=function(){},ht=nt.onComplete||ut,at=nt.onChange||ut,it=this;return $.util.animate({target:this,startValue:lt.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(rt){lt.set("opacity",rt),it.requestRenderAll(),at()},onComplete:function(){it.remove(lt),ht()}})}}),$.util.object.extend($.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var lt=[],nt,ut,ht=[];for(nt in arguments[0])lt.push(nt);for(var at=0,it=lt.length;at<it;at++)nt=lt[at],ut=at!==it-1,ht.push(this._animate(nt,arguments[0][nt],arguments[1],ut));return ht}else return this._animate.apply(this,arguments)},_animate:function(lt,nt,ut,ht){var at=this,it;nt=nt.toString(),ut?ut=$.util.object.clone(ut):ut={},~lt.indexOf(".")&&(it=lt.split("."));var rt=at.colorProperties.indexOf(lt)>-1||it&&at.colorProperties.indexOf(it[1])>-1,ot=it?this.get(it[0])[it[1]]:this.get(lt);"from"in ut||(ut.from=ot),rt||(~nt.indexOf("=")?nt=ot+parseFloat(nt.replace("=","")):nt=parseFloat(nt));var ft={target:this,startValue:ut.from,endValue:nt,byValue:ut.by,easing:ut.easing,duration:ut.duration,abort:ut.abort&&function(ct,dt,pt){return ut.abort.call(at,ct,dt,pt)},onChange:function(ct,dt,pt){it?at[it[0]][it[1]]=ct:at.set(lt,ct),!ht&&ut.onChange&&ut.onChange(ct,dt,pt)},onComplete:function(ct,dt,pt){ht||(at.setCoords(),ut.onComplete&&ut.onComplete(ct,dt,pt))}};return rt?$.util.animateColor(ft.startValue,ft.endValue,ft.duration,ft):$.util.animate(ft)}}),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.util.object.extend,ht=nt.util.object.clone,at={x1:1,x2:1,y1:1,y2:1};if(nt.Line){nt.warn("fabric.Line is already defined");return}nt.Line=nt.util.createClass(nt.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:nt.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(rt,ot){rt||(rt=[0,0,0,0]),this.callSuper("initialize",ot),this.set("x1",rt[0]),this.set("y1",rt[1]),this.set("x2",rt[2]),this.set("y2",rt[3]),this._setWidthHeight(ot)},_setWidthHeight:function(rt){rt||(rt={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in rt?rt.left:this._getLeftToOriginX(),this.top="top"in rt?rt.top:this._getTopToOriginY()},_set:function(rt,ot){return this.callSuper("_set",rt,ot),typeof at[rt]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:it({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:it({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(rt){rt.beginPath();var ot=this.calcLinePoints();rt.moveTo(ot.x1,ot.y1),rt.lineTo(ot.x2,ot.y2),rt.lineWidth=this.strokeWidth;var ft=rt.strokeStyle;rt.strokeStyle=this.stroke||rt.fillStyle,this.stroke&&this._renderStroke(rt),rt.strokeStyle=ft},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(rt){return ut(this.callSuper("toObject",rt),this.calcLinePoints())},_getNonTransformedDimensions:function(){var rt=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(rt.y-=this.strokeWidth),this.height===0&&(rt.x-=this.strokeWidth)),rt},calcLinePoints:function(){var rt=this.x1<=this.x2?-1:1,ot=this.y1<=this.y2?-1:1,ft=rt*this.width*.5,ct=ot*this.height*.5,dt=rt*this.width*-.5,pt=ot*this.height*-.5;return{x1:ft,x2:dt,y1:ct,y2:pt}},_toSVG:function(){var rt=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',rt.x1,'" y1="',rt.y1,'" x2="',rt.x2,'" y2="',rt.y2,`" />
`]}}),nt.Line.ATTRIBUTE_NAMES=nt.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),nt.Line.fromElement=function(rt,ot,ft){ft=ft||{};var ct=nt.parseAttributes(rt,nt.Line.ATTRIBUTE_NAMES),dt=[ct.x1||0,ct.y1||0,ct.x2||0,ct.y2||0];ot(new nt.Line(dt,ut(ct,ft)))},nt.Line.fromObject=function(rt,ot){function ft(dt){delete dt.points,ot&&ot(dt)}var ct=ht(rt,!0);ct.points=[rt.x1,rt.y1,rt.x2,rt.y2],nt.Object._fromObject("Line",ct,ft,"points")};function it(rt,ot){var ft=rt.origin,ct=rt.axis1,dt=rt.axis2,pt=rt.dimension,mt=ot.nearest,_t=ot.center,vt=ot.farthest;return function(){switch(this.get(ft)){case mt:return Math.min(this.get(ct),this.get(dt));case _t:return Math.min(this.get(ct),this.get(dt))+.5*this.get(pt);case vt:return Math.max(this.get(ct),this.get(dt))}}}}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.util.degreesToRadians;if(nt.Circle){nt.warn("fabric.Circle is already defined.");return}nt.Circle=nt.util.createClass(nt.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:nt.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(at,it){return this.callSuper("_set",at,it),at==="radius"&&this.setRadius(it),this},toObject:function(at){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(at))},_toSVG:function(){var at,it=0,rt=0,ot=(this.endAngle-this.startAngle)%360;if(ot===0)at=["<circle ","COMMON_PARTS",'cx="'+it+'" cy="'+rt+'" ','r="',this.radius,`" />
`];else{var ft=ut(this.startAngle),ct=ut(this.endAngle),dt=this.radius,pt=nt.util.cos(ft)*dt,mt=nt.util.sin(ft)*dt,_t=nt.util.cos(ct)*dt,vt=nt.util.sin(ct)*dt,yt=ot>180?"1":"0";at=['<path d="M '+pt+" "+mt," A "+dt+" "+dt," 0 ",+yt+" 1"," "+_t+" "+vt,'" ',"COMMON_PARTS",` />
`]}return at},_render:function(at){at.beginPath(),at.arc(0,0,this.radius,ut(this.startAngle),ut(this.endAngle),!1),this._renderPaintInOrder(at)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(at){return this.radius=at,this.set("width",at*2).set("height",at*2)}}),nt.Circle.ATTRIBUTE_NAMES=nt.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),nt.Circle.fromElement=function(at,it){var rt=nt.parseAttributes(at,nt.Circle.ATTRIBUTE_NAMES);if(!ht(rt))throw new Error("value of `r` attribute is required and can not be negative");rt.left=(rt.left||0)-rt.radius,rt.top=(rt.top||0)-rt.radius,it(new nt.Circle(rt))};function ht(at){return"radius"in at&&at.radius>=0}nt.Circle.fromObject=function(at,it){nt.Object._fromObject("Circle",at,it)}}(j),function(lt){var nt=lt.fabric||(lt.fabric={});if(nt.Triangle){nt.warn("fabric.Triangle is already defined");return}nt.Triangle=nt.util.createClass(nt.Object,{type:"triangle",width:100,height:100,_render:function(ut){var ht=this.width/2,at=this.height/2;ut.beginPath(),ut.moveTo(-ht,at),ut.lineTo(0,-at),ut.lineTo(ht,at),ut.closePath(),this._renderPaintInOrder(ut)},_toSVG:function(){var ut=this.width/2,ht=this.height/2,at=[-ut+" "+ht,"0 "+-ht,ut+" "+ht].join(",");return["<polygon ","COMMON_PARTS",'points="',at,'" />']}}),nt.Triangle.fromObject=function(ut,ht){return nt.Object._fromObject("Triangle",ut,ht)}}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=Math.PI*2;if(nt.Ellipse){nt.warn("fabric.Ellipse is already defined.");return}nt.Ellipse=nt.util.createClass(nt.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:nt.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(ht){this.callSuper("initialize",ht),this.set("rx",ht&&ht.rx||0),this.set("ry",ht&&ht.ry||0)},_set:function(ht,at){switch(this.callSuper("_set",ht,at),ht){case"rx":this.rx=at,this.set("width",at*2);break;case"ry":this.ry=at,this.set("height",at*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(ht){return this.callSuper("toObject",["rx","ry"].concat(ht))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(ht){ht.beginPath(),ht.save(),ht.transform(1,0,0,this.ry/this.rx,0,0),ht.arc(0,0,this.rx,0,ut,!1),ht.restore(),this._renderPaintInOrder(ht)}}),nt.Ellipse.ATTRIBUTE_NAMES=nt.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),nt.Ellipse.fromElement=function(ht,at){var it=nt.parseAttributes(ht,nt.Ellipse.ATTRIBUTE_NAMES);it.left=(it.left||0)-it.rx,it.top=(it.top||0)-it.ry,at(new nt.Ellipse(it))},nt.Ellipse.fromObject=function(ht,at){nt.Object._fromObject("Ellipse",ht,at)}}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.util.object.extend;if(nt.Rect){nt.warn("fabric.Rect is already defined");return}nt.Rect=nt.util.createClass(nt.Object,{stateProperties:nt.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:nt.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(ht){this.callSuper("initialize",ht),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(ht){var at=this.rx?Math.min(this.rx,this.width/2):0,it=this.ry?Math.min(this.ry,this.height/2):0,rt=this.width,ot=this.height,ft=-this.width/2,ct=-this.height/2,dt=at!==0||it!==0,pt=1-.5522847498;ht.beginPath(),ht.moveTo(ft+at,ct),ht.lineTo(ft+rt-at,ct),dt&&ht.bezierCurveTo(ft+rt-pt*at,ct,ft+rt,ct+pt*it,ft+rt,ct+it),ht.lineTo(ft+rt,ct+ot-it),dt&&ht.bezierCurveTo(ft+rt,ct+ot-pt*it,ft+rt-pt*at,ct+ot,ft+rt-at,ct+ot),ht.lineTo(ft+at,ct+ot),dt&&ht.bezierCurveTo(ft+pt*at,ct+ot,ft,ct+ot-pt*it,ft,ct+ot-it),ht.lineTo(ft,ct+it),dt&&ht.bezierCurveTo(ft,ct+pt*it,ft+pt*at,ct,ft+at,ct),ht.closePath(),this._renderPaintInOrder(ht)},toObject:function(ht){return this.callSuper("toObject",["rx","ry"].concat(ht))},_toSVG:function(){var ht=-this.width/2,at=-this.height/2;return["<rect ","COMMON_PARTS",'x="',ht,'" y="',at,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),nt.Rect.ATTRIBUTE_NAMES=nt.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),nt.Rect.fromElement=function(ht,at,it){if(!ht)return at(null);it=it||{};var rt=nt.parseAttributes(ht,nt.Rect.ATTRIBUTE_NAMES);rt.left=rt.left||0,rt.top=rt.top||0,rt.height=rt.height||0,rt.width=rt.width||0;var ot=new nt.Rect(ut(it?nt.util.object.clone(it):{},rt));ot.visible=ot.visible&&ot.width>0&&ot.height>0,at(ot)},nt.Rect.fromObject=function(ht,at){return nt.Object._fromObject("Rect",ht,at)}}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.util.object.extend,ht=nt.util.array.min,at=nt.util.array.max,it=nt.util.toFixed,rt=nt.util.projectStrokeOnPoints;if(nt.Polyline){nt.warn("fabric.Polyline is already defined");return}nt.Polyline=nt.util.createClass(nt.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:nt.Object.prototype.cacheProperties.concat("points"),initialize:function(ot,ft){ft=ft||{},this.points=ot||[],this.callSuper("initialize",ft),this._setPositionDimensions(ft)},_projectStrokeOnPoints:function(){return rt(this.points,this,!0)},_setPositionDimensions:function(ot){var ft=this._calcDimensions(ot),ct,dt=this.exactBoundingBox?this.strokeWidth:0;this.width=ft.width-dt,this.height=ft.height-dt,ot.fromSVG||(ct=this.translateToGivenOrigin({x:ft.left-this.strokeWidth/2+dt/2,y:ft.top-this.strokeWidth/2+dt/2},"left","top",this.originX,this.originY)),typeof ot.left>"u"&&(this.left=ot.fromSVG?ft.left:ct.x),typeof ot.top>"u"&&(this.top=ot.fromSVG?ft.top:ct.y),this.pathOffset={x:ft.left+this.width/2+dt/2,y:ft.top+this.height/2+dt/2}},_calcDimensions:function(){var ot=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,ft=ht(ot,"x")||0,ct=ht(ot,"y")||0,dt=at(ot,"x")||0,pt=at(ot,"y")||0,mt=dt-ft,_t=pt-ct;return{left:ft,top:ct,width:mt,height:_t}},toObject:function(ot){return ut(this.callSuper("toObject",ot),{points:this.points.concat()})},_toSVG:function(){for(var ot=[],ft=this.pathOffset.x,ct=this.pathOffset.y,dt=nt.Object.NUM_FRACTION_DIGITS,pt=0,mt=this.points.length;pt<mt;pt++)ot.push(it(this.points[pt].x-ft,dt),",",it(this.points[pt].y-ct,dt)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',ot.join(""),`" />
`]},commonRender:function(ot){var ft,ct=this.points.length,dt=this.pathOffset.x,pt=this.pathOffset.y;if(!ct||isNaN(this.points[ct-1].y))return!1;ot.beginPath(),ot.moveTo(this.points[0].x-dt,this.points[0].y-pt);for(var mt=0;mt<ct;mt++)ft=this.points[mt],ot.lineTo(ft.x-dt,ft.y-pt);return!0},_render:function(ot){!this.commonRender(ot)||this._renderPaintInOrder(ot)},complexity:function(){return this.get("points").length}}),nt.Polyline.ATTRIBUTE_NAMES=nt.SHARED_ATTRIBUTES.concat(),nt.Polyline.fromElementGenerator=function(ot){return function(ft,ct,dt){if(!ft)return ct(null);dt||(dt={});var pt=nt.parsePointsAttribute(ft.getAttribute("points")),mt=nt.parseAttributes(ft,nt[ot].ATTRIBUTE_NAMES);mt.fromSVG=!0,ct(new nt[ot](pt,ut(mt,dt)))}},nt.Polyline.fromElement=nt.Polyline.fromElementGenerator("Polyline"),nt.Polyline.fromObject=function(ot,ft){return nt.Object._fromObject("Polyline",ot,ft,"points")}}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.util.projectStrokeOnPoints;if(nt.Polygon){nt.warn("fabric.Polygon is already defined");return}nt.Polygon=nt.util.createClass(nt.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return ut(this.points,this)},_render:function(ht){!this.commonRender(ht)||(ht.closePath(),this._renderPaintInOrder(ht))}}),nt.Polygon.ATTRIBUTE_NAMES=nt.SHARED_ATTRIBUTES.concat(),nt.Polygon.fromElement=nt.Polyline.fromElementGenerator("Polygon"),nt.Polygon.fromObject=function(ht,at){nt.Object._fromObject("Polygon",ht,at,"points")}}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.util.array.min,ht=nt.util.array.max,at=nt.util.object.extend,it=nt.util.object.clone,rt=nt.util.toFixed;if(nt.Path){nt.warn("fabric.Path is already defined");return}nt.Path=nt.util.createClass(nt.Object,{type:"path",path:null,cacheProperties:nt.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:nt.Object.prototype.stateProperties.concat("path"),initialize:function(ot,ft){ft=it(ft||{}),delete ft.path,this.callSuper("initialize",ft),this._setPath(ot||[],ft)},_setPath:function(ot,ft){this.path=nt.util.makePathSimpler(Array.isArray(ot)?ot:nt.util.parsePath(ot)),nt.Polyline.prototype._setPositionDimensions.call(this,ft||{})},_renderPathCommands:function(ot){var ft,ct=0,dt=0,pt=0,mt=0,_t=0,vt=0,yt=-this.pathOffset.x,Ct=-this.pathOffset.y;ot.beginPath();for(var bt=0,Dt=this.path.length;bt<Dt;++bt)switch(ft=this.path[bt],ft[0]){case"L":pt=ft[1],mt=ft[2],ot.lineTo(pt+yt,mt+Ct);break;case"M":pt=ft[1],mt=ft[2],ct=pt,dt=mt,ot.moveTo(pt+yt,mt+Ct);break;case"C":pt=ft[5],mt=ft[6],_t=ft[3],vt=ft[4],ot.bezierCurveTo(ft[1]+yt,ft[2]+Ct,_t+yt,vt+Ct,pt+yt,mt+Ct);break;case"Q":ot.quadraticCurveTo(ft[1]+yt,ft[2]+Ct,ft[3]+yt,ft[4]+Ct),pt=ft[3],mt=ft[4],_t=ft[1],vt=ft[2];break;case"z":case"Z":pt=ct,mt=dt,ot.closePath();break}},_render:function(ot){this._renderPathCommands(ot),this._renderPaintInOrder(ot)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(ot){return at(this.callSuper("toObject",ot),{path:this.path.map(function(ft){return ft.slice()})})},toDatalessObject:function(ot){var ft=this.toObject(["sourcePath"].concat(ot));return ft.sourcePath&&delete ft.path,ft},_toSVG:function(){var ot=nt.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',ot,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var ot=nt.Object.NUM_FRACTION_DIGITS;return" translate("+rt(-this.pathOffset.x,ot)+", "+rt(-this.pathOffset.y,ot)+")"},toClipPathSVG:function(ot){var ft=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:ot,additionalTransform:ft})},toSVG:function(ot){var ft=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:ot,additionalTransform:ft})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var ot=[],ft=[],ct,dt=0,pt=0,mt=0,_t=0,vt,yt=0,Ct=this.path.length;yt<Ct;++yt){switch(ct=this.path[yt],ct[0]){case"L":mt=ct[1],_t=ct[2],vt=[];break;case"M":mt=ct[1],_t=ct[2],dt=mt,pt=_t,vt=[];break;case"C":vt=nt.util.getBoundsOfCurve(mt,_t,ct[1],ct[2],ct[3],ct[4],ct[5],ct[6]),mt=ct[5],_t=ct[6];break;case"Q":vt=nt.util.getBoundsOfCurve(mt,_t,ct[1],ct[2],ct[1],ct[2],ct[3],ct[4]),mt=ct[3],_t=ct[4];break;case"z":case"Z":mt=dt,_t=pt;break}vt.forEach(function(Ut){ot.push(Ut.x),ft.push(Ut.y)}),ot.push(mt),ft.push(_t)}var bt=ut(ot)||0,Dt=ut(ft)||0,wt=ht(ot)||0,Ft=ht(ft)||0,Lt=wt-bt,Qt=Ft-Dt;return{left:bt,top:Dt,width:Lt,height:Qt}}}),nt.Path.fromObject=function(ot,ft){if(typeof ot.sourcePath=="string"){var ct=ot.sourcePath;nt.loadSVGFromURL(ct,function(dt){var pt=dt[0];pt.setOptions(ot),ot.clipPath?nt.util.enlivenObjects([ot.clipPath],function(mt){pt.clipPath=mt[0],ft&&ft(pt)}):ft&&ft(pt)})}else nt.Object._fromObject("Path",ot,ft,"path")},nt.Path.ATTRIBUTE_NAMES=nt.SHARED_ATTRIBUTES.concat(["d"]),nt.Path.fromElement=function(ot,ft,ct){var dt=nt.parseAttributes(ot,nt.Path.ATTRIBUTE_NAMES);dt.fromSVG=!0,ft(new nt.Path(dt.d,at(dt,ct)))}}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.util.array.min,ht=nt.util.array.max;nt.Group||(nt.Group=nt.util.createClass(nt.Object,nt.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(at,it,rt){it=it||{},this._objects=[],rt&&this.callSuper("initialize",it),this._objects=at||[];for(var ot=this._objects.length;ot--;)this._objects[ot].group=this;if(rt)this._updateObjectsACoords();else{var ft=it&&it.centerPoint;it.originX!==void 0&&(this.originX=it.originX),it.originY!==void 0&&(this.originY=it.originY),ft||this._calcBounds(),this._updateObjectsCoords(ft),delete it.centerPoint,this.callSuper("initialize",it)}this.setCoords()},_updateObjectsACoords:function(){for(var at=!0,it=this._objects.length;it--;)this._objects[it].setCoords(at)},_updateObjectsCoords:function(it){for(var it=it||this.getCenterPoint(),rt=this._objects.length;rt--;)this._updateObjectCoords(this._objects[rt],it)},_updateObjectCoords:function(at,it){var rt=at.left,ot=at.top,ft=!0;at.set({left:rt-it.x,top:ot-it.y}),at.group=this,at.setCoords(ft)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(at){var it=!!this.group;return this._restoreObjectsState(),nt.util.resetObjectTransform(this),at&&(it&&nt.util.removeTransformFromObject(at,this.group.calcTransformMatrix()),this._objects.push(at),at.group=this,at._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,it?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(at){return this._restoreObjectsState(),nt.util.resetObjectTransform(this),this.remove(at),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(at){this.dirty=!0,at.group=this,at._set("canvas",this.canvas)},_onObjectRemoved:function(at){this.dirty=!0,delete at.group},_set:function(at,it){var rt=this._objects.length;if(this.useSetOnGroup)for(;rt--;)this._objects[rt].setOnGroup(at,it);if(at==="canvas")for(;rt--;)this._objects[rt]._set(at,it);nt.Object.prototype._set.call(this,at,it)},toObject:function(at){var it=this.includeDefaultValues,rt=this._objects.filter(function(ft){return!ft.excludeFromExport}).map(function(ft){var ct=ft.includeDefaultValues;ft.includeDefaultValues=it;var dt=ft.toObject(at);return ft.includeDefaultValues=ct,dt}),ot=nt.Object.prototype.toObject.call(this,at);return ot.objects=rt,ot},toDatalessObject:function(at){var it,rt=this.sourcePath;if(rt)it=rt;else{var ot=this.includeDefaultValues;it=this._objects.map(function(ct){var dt=ct.includeDefaultValues;ct.includeDefaultValues=ot;var pt=ct.toDatalessObject(at);return ct.includeDefaultValues=dt,pt})}var ft=nt.Object.prototype.toDatalessObject.call(this,at);return ft.objects=it,ft},render:function(at){this._transformDone=!0,this.callSuper("render",at),this._transformDone=!1},shouldCache:function(){var at=nt.Object.prototype.shouldCache.call(this);if(at){for(var it=0,rt=this._objects.length;it<rt;it++)if(this._objects[it].willDrawShadow())return this.ownCaching=!1,!1}return at},willDrawShadow:function(){if(nt.Object.prototype.willDrawShadow.call(this))return!0;for(var at=0,it=this._objects.length;at<it;at++)if(this._objects[at].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(at){for(var it=0,rt=this._objects.length;it<rt;it++)this._objects[it].render(at);this._drawClipPath(at,this.clipPath)},isCacheDirty:function(at){if(this.callSuper("isCacheDirty",at))return!0;if(!this.statefullCache)return!1;for(var it=0,rt=this._objects.length;it<rt;it++)if(this._objects[it].isCacheDirty(!0)){if(this._cacheCanvas){var ot=this.cacheWidth/this.zoomX,ft=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-ot/2,-ft/2,ot,ft)}return!0}return!1},_restoreObjectsState:function(){var at=this.calcOwnMatrix();return this._objects.forEach(function(it){nt.util.addTransformToObject(it,at),delete it.group,it.setCoords()}),this},destroy:function(){return this._objects.forEach(function(at){at.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(at){at.dispose&&at.dispose()}),this._objects=[]},toActiveSelection:function(){if(!!this.canvas){var at=this._objects,it=this.canvas;this._objects=[];var rt=this.toObject();delete rt.objects;var ot=new nt.ActiveSelection([]);return ot.set(rt),ot.type="activeSelection",it.remove(this),at.forEach(function(ft){ft.group=ot,ft.dirty=!0,it.add(ft)}),ot.canvas=it,ot._objects=at,it._activeObject=ot,ot.setCoords(),ot}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var at=!0;return this.forEachObject(function(it){it.setCoords(at)}),this},_calcBounds:function(at){for(var it=[],rt=[],ot,ft,ct,dt=["tr","br","bl","tl"],pt=0,mt=this._objects.length,_t,vt=dt.length;pt<mt;++pt){for(ot=this._objects[pt],ct=ot.calcACoords(),_t=0;_t<vt;_t++)ft=dt[_t],it.push(ct[ft].x),rt.push(ct[ft].y);ot.aCoords=ct}this._getBounds(it,rt,at)},_getBounds:function(at,it,rt){var ot=new nt.Point(ut(at),ut(it)),ft=new nt.Point(ht(at),ht(it)),ct=ot.y||0,dt=ot.x||0,pt=ft.x-ot.x||0,mt=ft.y-ot.y||0;this.width=pt,this.height=mt,rt||this.setPositionByOrigin({x:dt,y:ct},"left","top")},_toSVG:function(at){for(var it=["<g ","COMMON_PARTS",` >
`],rt=0,ot=this._objects.length;rt<ot;rt++)it.push("		",this._objects[rt].toSVG(at));return it.push(`</g>
`),it},getSvgStyles:function(){var at=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",it=this.visible?"":" visibility: hidden;";return[at,this.getSvgFilter(),it].join("")},toClipPathSVG:function(at){for(var it=[],rt=0,ot=this._objects.length;rt<ot;rt++)it.push("	",this._objects[rt].toClipPathSVG(at));return this._createBaseClipPathSVGMarkup(it,{reviver:at})}}),nt.Group.fromObject=function(at,it){var rt=at.objects,ot=nt.util.object.clone(at,!0);if(delete ot.objects,typeof rt=="string"){nt.loadSVGFromURL(rt,function(ft){var ct=nt.util.groupSVGElements(ft,at,rt),dt=ot.clipPath;delete ot.clipPath,ct.set(ot),dt?nt.util.enlivenObjects([dt],function(pt){ct.clipPath=pt[0],it&&it(ct)}):it&&it(ct)});return}nt.util.enlivenObjects(rt,function(ft){nt.util.enlivenObjectEnlivables(at,ot,function(){it&&it(new nt.Group(ft,ot,!0))})})})}(j),function(lt){var nt=lt.fabric||(lt.fabric={});nt.ActiveSelection||(nt.ActiveSelection=nt.util.createClass(nt.Group,{type:"activeSelection",initialize:function(ut,ht){ht=ht||{},this._objects=ut||[];for(var at=this._objects.length;at--;)this._objects[at].group=this;ht.originX&&(this.originX=ht.originX),ht.originY&&(this.originY=ht.originY),this._calcBounds(),this._updateObjectsCoords(),nt.Object.prototype.initialize.call(this,ht),this.setCoords()},toGroup:function(){var ut=this._objects.concat();this._objects=[];var ht=nt.Object.prototype.toObject.call(this),at=new nt.Group([]);if(delete ht.type,at.set(ht),ut.forEach(function(rt){rt.canvas.remove(rt),rt.group=at}),at._objects=ut,!this.canvas)return at;var it=this.canvas;return it.add(at),it._activeObject=at,at.setCoords(),at},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(ut,ht,at){ut.save(),ut.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",ut,ht),at=at||{},typeof at.hasControls>"u"&&(at.hasControls=!1),at.forActiveSelection=!0;for(var it=0,rt=this._objects.length;it<rt;it++)this._objects[it]._renderControls(ut,at);ut.restore()}}),nt.ActiveSelection.fromObject=function(ut,ht){nt.util.enlivenObjects(ut.objects,function(at){delete ut.objects,ht&&ht(new nt.ActiveSelection(at,ut,!0))})})}(j),function(lt){var nt=$.util.object.extend;if(lt.fabric||(lt.fabric={}),lt.fabric.Image){$.warn("fabric.Image is already defined.");return}$.Image=$.util.createClass($.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:$.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:$.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(ut,ht){ht||(ht={}),this.filters=[],this.cacheKey="texture"+$.Object.__uid++,this.callSuper("initialize",ht),this._initElement(ut,ht)},getElement:function(){return this._element||{}},setElement:function(ut,ht){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=ut,this._originalElement=ut,this._initConfig(ht),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(ut){var ht=$.filterBackend;ht&&ht.evictCachesForKey&&ht.evictCachesForKey(ut)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(ut){$.util.cleanUpJsdomNode(this[ut]),this[ut]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var ut=this.getElement();return{width:ut.naturalWidth||ut.width,height:ut.naturalHeight||ut.height}},_stroke:function(ut){if(!(!this.stroke||this.strokeWidth===0)){var ht=this.width/2,at=this.height/2;ut.beginPath(),ut.moveTo(-ht,-at),ut.lineTo(ht,-at),ut.lineTo(ht,at),ut.lineTo(-ht,at),ut.lineTo(-ht,-at),ut.closePath()}},toObject:function(ut){var ht=[];this.filters.forEach(function(it){it&&ht.push(it.toObject())});var at=nt(this.callSuper("toObject",["cropX","cropY"].concat(ut)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:ht});return this.resizeFilter&&(at.resizeFilter=this.resizeFilter.toObject()),at},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var ut=[],ht=[],at,it=this._element,rt=-this.width/2,ot=-this.height/2,ft="",ct="";if(!it)return[];if(this.hasCrop()){var dt=$.Object.__uid++;ut.push('<clipPath id="imageCrop_'+dt+`">
`,'	<rect x="'+rt+'" y="'+ot+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),ft=' clip-path="url(#imageCrop_'+dt+')" '}if(this.imageSmoothing||(ct='" image-rendering="optimizeSpeed'),ht.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',rt-this.cropX,'" y="',ot-this.cropY,'" width="',it.width||it.naturalWidth,'" height="',it.height||it.height,ct,'"',ft,`></image>
`),this.stroke||this.strokeDashArray){var pt=this.fill;this.fill=null,at=["	<rect ",'x="',rt,'" y="',ot,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=pt}return this.paintFirst!=="fill"?ut=ut.concat(at,ht):ut=ut.concat(ht,at),ut},getSrc:function(ut){var ht=ut?this._element:this._originalElement;return ht?ht.toDataURL?ht.toDataURL():this.srcFromAttribute?ht.getAttribute("src"):ht.src:this.src||""},setSrc:function(ut,ht,at){return $.util.loadImage(ut,function(it,rt){this.setElement(it,at),this._setWidthHeight(),ht&&ht(this,rt)},this,at&&at.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var ut=this.resizeFilter,ht=this.minimumScaleTrigger,at=this.getTotalObjectScaling(),it=at.scaleX,rt=at.scaleY,ot=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!ut||it>ht&&rt>ht){this._element=ot,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=it,this._lastScaleY=rt;return}$.filterBackend||($.filterBackend=$.initFilterBackend());var ft=$.util.createCanvasElement(),ct=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,dt=ot.width,pt=ot.height;ft.width=dt,ft.height=pt,this._element=ft,this._lastScaleX=ut.scaleX=it,this._lastScaleY=ut.scaleY=rt,$.filterBackend.applyFilters([ut],ot,dt,pt,this._element,ct),this._filterScalingX=ft.width/this._originalElement.width,this._filterScalingY=ft.height/this._originalElement.height},applyFilters:function(ut){if(ut=ut||this.filters||[],ut=ut.filter(function(ot){return ot&&!ot.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),ut.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var ht=this._originalElement,at=ht.naturalWidth||ht.width,it=ht.naturalHeight||ht.height;if(this._element===this._originalElement){var rt=$.util.createCanvasElement();rt.width=at,rt.height=it,this._element=rt,this._filteredEl=rt}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,at,it),this._lastScaleX=1,this._lastScaleY=1;return $.filterBackend||($.filterBackend=$.initFilterBackend()),$.filterBackend.applyFilters(ut,this._originalElement,at,it,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(ut){$.util.setImageSmoothing(ut,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(ut),this._renderPaintInOrder(ut)},drawCacheOnCanvas:function(ut){$.util.setImageSmoothing(ut,this.imageSmoothing),$.Object.prototype.drawCacheOnCanvas.call(this,ut)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(ut){var ht=this._element;if(!!ht){var at=this._filterScalingX,it=this._filterScalingY,rt=this.width,ot=this.height,ft=Math.min,ct=Math.max,dt=ct(this.cropX,0),pt=ct(this.cropY,0),mt=ht.naturalWidth||ht.width,_t=ht.naturalHeight||ht.height,vt=dt*at,yt=pt*it,Ct=ft(rt*at,mt-vt),bt=ft(ot*it,_t-yt),Dt=-rt/2,wt=-ot/2,Ft=ft(rt,mt/at-dt),Lt=ft(ot,_t/it-pt);ht&&ut.drawImage(ht,vt,yt,Ct,bt,Dt,wt,Ft,Lt)}},_needsResize:function(){var ut=this.getTotalObjectScaling();return ut.scaleX!==this._lastScaleX||ut.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(ut,ht){this.setElement($.util.getById(ut),ht),$.util.addClass(this.getElement(),$.Image.CSS_CANVAS)},_initConfig:function(ut){ut||(ut={}),this.setOptions(ut),this._setWidthHeight(ut)},_initFilters:function(ut,ht){ut&&ut.length?$.util.enlivenObjects(ut,function(at){ht&&ht(at)},"fabric.Image.filters"):ht&&ht()},_setWidthHeight:function(ut){ut||(ut={});var ht=this.getElement();this.width=ut.width||ht.naturalWidth||ht.width||0,this.height=ut.height||ht.naturalHeight||ht.height||0},parsePreserveAspectRatioAttribute:function(){var ut=$.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),ht=this._element.width,at=this._element.height,it=1,rt=1,ot=0,ft=0,ct=0,dt=0,pt,mt=this.width,_t=this.height,vt={width:mt,height:_t};return ut&&(ut.alignX!=="none"||ut.alignY!=="none")?(ut.meetOrSlice==="meet"&&(it=rt=$.util.findScaleToFit(this._element,vt),pt=(mt-ht*it)/2,ut.alignX==="Min"&&(ot=-pt),ut.alignX==="Max"&&(ot=pt),pt=(_t-at*rt)/2,ut.alignY==="Min"&&(ft=-pt),ut.alignY==="Max"&&(ft=pt)),ut.meetOrSlice==="slice"&&(it=rt=$.util.findScaleToCover(this._element,vt),pt=ht-mt/it,ut.alignX==="Mid"&&(ct=pt/2),ut.alignX==="Max"&&(ct=pt),pt=at-_t/rt,ut.alignY==="Mid"&&(dt=pt/2),ut.alignY==="Max"&&(dt=pt),ht=mt/it,at=_t/rt)):(it=mt/ht,rt=_t/at),{width:ht,height:at,scaleX:it,scaleY:rt,offsetLeft:ot,offsetTop:ft,cropX:ct,cropY:dt}}}),$.Image.CSS_CANVAS="canvas-img",$.Image.prototype.getSvgSrc=$.Image.prototype.getSrc,$.Image.fromObject=function(ut,ht){var at=$.util.object.clone(ut);$.util.loadImage(at.src,function(it,rt){if(rt){ht&&ht(null,!0);return}$.Image.prototype._initFilters.call(at,at.filters,function(ot){at.filters=ot||[],$.Image.prototype._initFilters.call(at,[at.resizeFilter],function(ft){at.resizeFilter=ft[0],$.util.enlivenObjectEnlivables(at,at,function(){var ct=new $.Image(it,at);ht(ct,!1)})})})},null,at.crossOrigin)},$.Image.fromURL=function(ut,ht,at){$.util.loadImage(ut,function(it,rt){ht&&ht(new $.Image(it,at),rt)},null,at&&at.crossOrigin)},$.Image.ATTRIBUTE_NAMES=$.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),$.Image.fromElement=function(ut,ht,at){var it=$.parseAttributes(ut,$.Image.ATTRIBUTE_NAMES);$.Image.fromURL(it["xlink:href"],ht,nt(at?$.util.object.clone(at):{},it))}}(j),$.util.object.extend($.Object.prototype,{_getAngleValueForStraighten:function(){var lt=this.angle%360;return lt>0?Math.round((lt-1)/90)*90:Math.round(lt/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(lt){lt=lt||{};var nt=function(){},ut=lt.onComplete||nt,ht=lt.onChange||nt,at=this;return $.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(it){at.rotate(it),ht()},onComplete:function(){at.setCoords(),ut()}})}}),$.util.object.extend($.StaticCanvas.prototype,{straightenObject:function(lt){return lt.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(lt){return lt.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function lt(ut,ht){var at="precision "+ht+` float;
void main(){}`,it=ut.createShader(ut.FRAGMENT_SHADER);return ut.shaderSource(it,at),ut.compileShader(it),!!ut.getShaderParameter(it,ut.COMPILE_STATUS)}$.isWebglSupported=function(ut){if($.isLikelyNode)return!1;ut=ut||$.WebglFilterBackend.prototype.tileSize;var ht=document.createElement("canvas"),at=ht.getContext("webgl")||ht.getContext("experimental-webgl"),it=!1;if(at){$.maxTextureSize=at.getParameter(at.MAX_TEXTURE_SIZE),it=$.maxTextureSize>=ut;for(var rt=["highp","mediump","lowp"],ot=0;ot<3;ot++)if(lt(at,rt[ot])){$.webGlPrecision=rt[ot];break}}return this.isSupported=it,it},$.WebglFilterBackend=nt;function nt(ut){ut&&ut.tileSize&&(this.tileSize=ut.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}nt.prototype={tileSize:2048,resources:{},setupGLContext:function(ut,ht){this.dispose(),this.createWebGLCanvas(ut,ht),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(ut,ht)},chooseFastestCopyGLTo2DMethod:function(ut,ht){var at=typeof window.performance<"u",it;try{new ImageData(1,1),it=!0}catch{it=!1}var rt=typeof ArrayBuffer<"u",ot=typeof Uint8ClampedArray<"u";if(!!(at&&it&&rt&&ot)){var ft=$.util.createCanvasElement(),ct=new ArrayBuffer(ut*ht*4);if($.forceGLPutImageData){this.imageBuffer=ct,this.copyGLTo2D=gt;return}var dt={imageBuffer:ct,destinationWidth:ut,destinationHeight:ht,targetCanvas:ft},pt,mt,_t;ft.width=ut,ft.height=ht,pt=window.performance.now(),st.call(dt,this.gl,dt),mt=window.performance.now()-pt,pt=window.performance.now(),gt.call(dt,this.gl,dt),_t=window.performance.now()-pt,mt>_t?(this.imageBuffer=ct,this.copyGLTo2D=gt):this.copyGLTo2D=st}},createWebGLCanvas:function(ut,ht){var at=$.util.createCanvasElement();at.width=ut,at.height=ht;var it={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},rt=at.getContext("webgl",it);rt||(rt=at.getContext("experimental-webgl",it)),rt&&(rt.clearColor(0,0,0,0),this.canvas=at,this.gl=rt)},applyFilters:function(ut,ht,at,it,rt,ot){var ft=this.gl,ct;ot&&(ct=this.getCachedTexture(ot,ht));var dt={originalWidth:ht.width||ht.originalWidth,originalHeight:ht.height||ht.originalHeight,sourceWidth:at,sourceHeight:it,destinationWidth:at,destinationHeight:it,context:ft,sourceTexture:this.createTexture(ft,at,it,!ct&&ht),targetTexture:this.createTexture(ft,at,it),originalTexture:ct||this.createTexture(ft,at,it,!ct&&ht),passes:ut.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:rt},pt=ft.createFramebuffer();return ft.bindFramebuffer(ft.FRAMEBUFFER,pt),ut.forEach(function(mt){mt&&mt.applyTo(dt)}),tt(dt),this.copyGLTo2D(ft,dt),ft.bindTexture(ft.TEXTURE_2D,null),ft.deleteTexture(dt.sourceTexture),ft.deleteTexture(dt.targetTexture),ft.deleteFramebuffer(pt),rt.getContext("2d").setTransform(1,0,0,1,0,0),dt},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(ut,ht,at,it){var rt=ut.createTexture();return ut.bindTexture(ut.TEXTURE_2D,rt),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MAG_FILTER,ut.NEAREST),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_MIN_FILTER,ut.NEAREST),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_S,ut.CLAMP_TO_EDGE),ut.texParameteri(ut.TEXTURE_2D,ut.TEXTURE_WRAP_T,ut.CLAMP_TO_EDGE),it?ut.texImage2D(ut.TEXTURE_2D,0,ut.RGBA,ut.RGBA,ut.UNSIGNED_BYTE,it):ut.texImage2D(ut.TEXTURE_2D,0,ut.RGBA,ht,at,0,ut.RGBA,ut.UNSIGNED_BYTE,null),rt},getCachedTexture:function(ut,ht){if(this.textureCache[ut])return this.textureCache[ut];var at=this.createTexture(this.gl,ht.width,ht.height,ht);return this.textureCache[ut]=at,at},evictCachesForKey:function(ut){this.textureCache[ut]&&(this.gl.deleteTexture(this.textureCache[ut]),delete this.textureCache[ut])},copyGLTo2D:st,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var ut=this.gl,ht={renderer:"",vendor:""};if(!ut)return ht;var at=ut.getExtension("WEBGL_debug_renderer_info");if(at){var it=ut.getParameter(at.UNMASKED_RENDERER_WEBGL),rt=ut.getParameter(at.UNMASKED_VENDOR_WEBGL);it&&(ht.renderer=it.toLowerCase()),rt&&(ht.vendor=rt.toLowerCase())}return this.gpuInfo=ht,ht}}}();function tt(lt){var nt=lt.targetCanvas,ut=nt.width,ht=nt.height,at=lt.destinationWidth,it=lt.destinationHeight;(ut!==at||ht!==it)&&(nt.width=at,nt.height=it)}function st(lt,nt){var ut=lt.canvas,ht=nt.targetCanvas,at=ht.getContext("2d");at.translate(0,ht.height),at.scale(1,-1);var it=ut.height-ht.height;at.drawImage(ut,0,it,ht.width,ht.height,0,0,ht.width,ht.height)}function gt(lt,nt){var ut=nt.targetCanvas,ht=ut.getContext("2d"),at=nt.destinationWidth,it=nt.destinationHeight,rt=at*it*4,ot=new Uint8Array(this.imageBuffer,0,rt),ft=new Uint8ClampedArray(this.imageBuffer,0,rt);lt.readPixels(0,0,at,it,lt.RGBA,lt.UNSIGNED_BYTE,ot);var ct=new ImageData(ft,at,it);ht.putImageData(ct,0,0)}(function(){var lt=function(){};$.Canvas2dFilterBackend=nt;function nt(){}nt.prototype={evictCachesForKey:lt,dispose:lt,clearWebGLCaches:lt,resources:{},applyFilters:function(ut,ht,at,it,rt){var ot=rt.getContext("2d");ot.drawImage(ht,0,0,at,it);var ft=ot.getImageData(0,0,at,it),ct=ot.getImageData(0,0,at,it),dt={sourceWidth:at,sourceHeight:it,imageData:ft,originalEl:ht,originalImageData:ct,canvasEl:rt,ctx:ot,filterBackend:this};return ut.forEach(function(pt){pt.applyTo(dt)}),(dt.imageData.width!==at||dt.imageData.height!==it)&&(rt.width=dt.imageData.width,rt.height=dt.imageData.height),ot.putImageData(dt.imageData,0,0),dt}}})(),$.Image=$.Image||{},$.Image.filters=$.Image.filters||{},$.Image.filters.BaseFilter=$.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(lt){lt&&this.setOptions(lt)},setOptions:function(lt){for(var nt in lt)this[nt]=lt[nt]},createProgram:function(lt,nt,ut){nt=nt||this.fragmentSource,ut=ut||this.vertexSource,$.webGlPrecision!=="highp"&&(nt=nt.replace(/precision highp float/g,"precision "+$.webGlPrecision+" float"));var ht=lt.createShader(lt.VERTEX_SHADER);if(lt.shaderSource(ht,ut),lt.compileShader(ht),!lt.getShaderParameter(ht,lt.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+lt.getShaderInfoLog(ht));var at=lt.createShader(lt.FRAGMENT_SHADER);if(lt.shaderSource(at,nt),lt.compileShader(at),!lt.getShaderParameter(at,lt.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+lt.getShaderInfoLog(at));var it=lt.createProgram();if(lt.attachShader(it,ht),lt.attachShader(it,at),lt.linkProgram(it),!lt.getProgramParameter(it,lt.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+lt.getProgramInfoLog(it));var rt=this.getAttributeLocations(lt,it),ot=this.getUniformLocations(lt,it)||{};return ot.uStepW=lt.getUniformLocation(it,"uStepW"),ot.uStepH=lt.getUniformLocation(it,"uStepH"),{program:it,attributeLocations:rt,uniformLocations:ot}},getAttributeLocations:function(lt,nt){return{aPosition:lt.getAttribLocation(nt,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(lt,nt,ut){var ht=nt.aPosition,at=lt.createBuffer();lt.bindBuffer(lt.ARRAY_BUFFER,at),lt.enableVertexAttribArray(ht),lt.vertexAttribPointer(ht,2,lt.FLOAT,!1,0,0),lt.bufferData(lt.ARRAY_BUFFER,ut,lt.STATIC_DRAW)},_setupFrameBuffer:function(lt){var nt=lt.context,ut,ht;lt.passes>1?(ut=lt.destinationWidth,ht=lt.destinationHeight,(lt.sourceWidth!==ut||lt.sourceHeight!==ht)&&(nt.deleteTexture(lt.targetTexture),lt.targetTexture=lt.filterBackend.createTexture(nt,ut,ht)),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,lt.targetTexture,0)):(nt.bindFramebuffer(nt.FRAMEBUFFER,null),nt.finish())},_swapTextures:function(lt){lt.passes--,lt.pass++;var nt=lt.targetTexture;lt.targetTexture=lt.sourceTexture,lt.sourceTexture=nt},isNeutralState:function(){var lt=this.mainParameter,nt=$.Image.filters[this.type].prototype;if(lt)if(Array.isArray(nt[lt])){for(var ut=nt[lt].length;ut--;)if(this[lt][ut]!==nt[lt][ut])return!1;return!0}else return nt[lt]===this[lt];else return!1},applyTo:function(lt){lt.webgl?(this._setupFrameBuffer(lt),this.applyToWebGL(lt),this._swapTextures(lt)):this.applyTo2d(lt)},retrieveShader:function(lt){return lt.programCache.hasOwnProperty(this.type)||(lt.programCache[this.type]=this.createProgram(lt.context)),lt.programCache[this.type]},applyToWebGL:function(lt){var nt=lt.context,ut=this.retrieveShader(lt);lt.pass===0&&lt.originalTexture?nt.bindTexture(nt.TEXTURE_2D,lt.originalTexture):nt.bindTexture(nt.TEXTURE_2D,lt.sourceTexture),nt.useProgram(ut.program),this.sendAttributeData(nt,ut.attributeLocations,lt.aPosition),nt.uniform1f(ut.uniformLocations.uStepW,1/lt.sourceWidth),nt.uniform1f(ut.uniformLocations.uStepH,1/lt.sourceHeight),this.sendUniformData(nt,ut.uniformLocations),nt.viewport(0,0,lt.destinationWidth,lt.destinationHeight),nt.drawArrays(nt.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(lt,nt,ut){lt.activeTexture(ut),lt.bindTexture(lt.TEXTURE_2D,nt),lt.activeTexture(lt.TEXTURE0)},unbindAdditionalTexture:function(lt,nt){lt.activeTexture(nt),lt.bindTexture(lt.TEXTURE_2D,null),lt.activeTexture(lt.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(lt){this[this.mainParameter]=lt},sendUniformData:function(){},createHelpLayer:function(lt){if(!lt.helpLayer){var nt=document.createElement("canvas");nt.width=lt.sourceWidth,nt.height=lt.sourceHeight,lt.helpLayer=nt}},toObject:function(){var lt={type:this.type},nt=this.mainParameter;return nt&&(lt[nt]=this[nt]),lt},toJSON:function(){return this.toObject()}}),$.Image.filters.BaseFilter.fromObject=function(lt,nt){var ut=new $.Image.filters[lt.type](lt);return nt&&nt(ut),ut},function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.Image.filters,ht=nt.util.createClass;ut.ColorMatrix=ht(ut.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(at){this.callSuper("initialize",at),this.matrix=this.matrix.slice(0)},applyTo2d:function(at){var it=at.imageData,rt=it.data,ot=rt.length,ft=this.matrix,ct,dt,pt,mt,_t,vt=this.colorsOnly;for(_t=0;_t<ot;_t+=4)ct=rt[_t],dt=rt[_t+1],pt=rt[_t+2],vt?(rt[_t]=ct*ft[0]+dt*ft[1]+pt*ft[2]+ft[4]*255,rt[_t+1]=ct*ft[5]+dt*ft[6]+pt*ft[7]+ft[9]*255,rt[_t+2]=ct*ft[10]+dt*ft[11]+pt*ft[12]+ft[14]*255):(mt=rt[_t+3],rt[_t]=ct*ft[0]+dt*ft[1]+pt*ft[2]+mt*ft[3]+ft[4]*255,rt[_t+1]=ct*ft[5]+dt*ft[6]+pt*ft[7]+mt*ft[8]+ft[9]*255,rt[_t+2]=ct*ft[10]+dt*ft[11]+pt*ft[12]+mt*ft[13]+ft[14]*255,rt[_t+3]=ct*ft[15]+dt*ft[16]+pt*ft[17]+mt*ft[18]+ft[19]*255)},getUniformLocations:function(at,it){return{uColorMatrix:at.getUniformLocation(it,"uColorMatrix"),uConstants:at.getUniformLocation(it,"uConstants")}},sendUniformData:function(at,it){var rt=this.matrix,ot=[rt[0],rt[1],rt[2],rt[3],rt[5],rt[6],rt[7],rt[8],rt[10],rt[11],rt[12],rt[13],rt[15],rt[16],rt[17],rt[18]],ft=[rt[4],rt[9],rt[14],rt[19]];at.uniformMatrix4fv(it.uColorMatrix,!1,ot),at.uniform4fv(it.uConstants,ft)}}),nt.Image.filters.ColorMatrix.fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.Image.filters,ht=nt.util.createClass;ut.Brightness=ht(ut.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(at){if(this.brightness!==0){var it=at.imageData,rt=it.data,ot,ft=rt.length,ct=Math.round(this.brightness*255);for(ot=0;ot<ft;ot+=4)rt[ot]=rt[ot]+ct,rt[ot+1]=rt[ot+1]+ct,rt[ot+2]=rt[ot+2]+ct}},getUniformLocations:function(at,it){return{uBrightness:at.getUniformLocation(it,"uBrightness")}},sendUniformData:function(at,it){at.uniform1f(it.uBrightness,this.brightness)}}),nt.Image.filters.Brightness.fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.util.object.extend,ht=nt.Image.filters,at=nt.util.createClass;ht.Convolute=at(ht.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(it){var rt=Math.sqrt(this.matrix.length),ot=this.type+"_"+rt+"_"+(this.opaque?1:0),ft=this.fragmentSource[ot];return it.programCache.hasOwnProperty(ot)||(it.programCache[ot]=this.createProgram(it.context,ft)),it.programCache[ot]},applyTo2d:function(it){var rt=it.imageData,ot=rt.data,ft=this.matrix,ct=Math.round(Math.sqrt(ft.length)),dt=Math.floor(ct/2),pt=rt.width,mt=rt.height,_t=it.ctx.createImageData(pt,mt),vt=_t.data,yt=this.opaque?1:0,Ct,bt,Dt,wt,Ft,Lt,Qt,Ut,Xt,qt,Jt,Gt,Et;for(Jt=0;Jt<mt;Jt++)for(qt=0;qt<pt;qt++){for(Ft=(Jt*pt+qt)*4,Ct=0,bt=0,Dt=0,wt=0,Et=0;Et<ct;Et++)for(Gt=0;Gt<ct;Gt++)Qt=Jt+Et-dt,Lt=qt+Gt-dt,!(Qt<0||Qt>=mt||Lt<0||Lt>=pt)&&(Ut=(Qt*pt+Lt)*4,Xt=ft[Et*ct+Gt],Ct+=ot[Ut]*Xt,bt+=ot[Ut+1]*Xt,Dt+=ot[Ut+2]*Xt,yt||(wt+=ot[Ut+3]*Xt));vt[Ft]=Ct,vt[Ft+1]=bt,vt[Ft+2]=Dt,yt?vt[Ft+3]=ot[Ft+3]:vt[Ft+3]=wt}it.imageData=_t},getUniformLocations:function(it,rt){return{uMatrix:it.getUniformLocation(rt,"uMatrix"),uOpaque:it.getUniformLocation(rt,"uOpaque"),uHalfSize:it.getUniformLocation(rt,"uHalfSize"),uSize:it.getUniformLocation(rt,"uSize")}},sendUniformData:function(it,rt){it.uniform1fv(rt.uMatrix,this.matrix)},toObject:function(){return ut(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),nt.Image.filters.Convolute.fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.Image.filters,ht=nt.util.createClass;ut.Grayscale=ht(ut.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(at){var it=at.imageData,rt=it.data,ot,ft=rt.length,ct,dt=this.mode;for(ot=0;ot<ft;ot+=4)dt==="average"?ct=(rt[ot]+rt[ot+1]+rt[ot+2])/3:dt==="lightness"?ct=(Math.min(rt[ot],rt[ot+1],rt[ot+2])+Math.max(rt[ot],rt[ot+1],rt[ot+2]))/2:dt==="luminosity"&&(ct=.21*rt[ot]+.72*rt[ot+1]+.07*rt[ot+2]),rt[ot]=ct,rt[ot+1]=ct,rt[ot+2]=ct},retrieveShader:function(at){var it=this.type+"_"+this.mode;if(!at.programCache.hasOwnProperty(it)){var rt=this.fragmentSource[this.mode];at.programCache[it]=this.createProgram(at.context,rt)}return at.programCache[it]},getUniformLocations:function(at,it){return{uMode:at.getUniformLocation(it,"uMode")}},sendUniformData:function(at,it){var rt=1;at.uniform1i(it.uMode,rt)},isNeutralState:function(){return!1}}),nt.Image.filters.Grayscale.fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.Image.filters,ht=nt.util.createClass;ut.Invert=ht(ut.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(at){var it=at.imageData,rt=it.data,ot,ft=rt.length;for(ot=0;ot<ft;ot+=4)rt[ot]=255-rt[ot],rt[ot+1]=255-rt[ot+1],rt[ot+2]=255-rt[ot+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(at,it){return{uInvert:at.getUniformLocation(it,"uInvert")}},sendUniformData:function(at,it){at.uniform1i(it.uInvert,this.invert)}}),nt.Image.filters.Invert.fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.util.object.extend,ht=nt.Image.filters,at=nt.util.createClass;ht.Noise=at(ht.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(it){if(this.noise!==0){var rt=it.imageData,ot=rt.data,ft,ct=ot.length,dt=this.noise,pt;for(ft=0,ct=ot.length;ft<ct;ft+=4)pt=(.5-Math.random())*dt,ot[ft]+=pt,ot[ft+1]+=pt,ot[ft+2]+=pt}},getUniformLocations:function(it,rt){return{uNoise:it.getUniformLocation(rt,"uNoise"),uSeed:it.getUniformLocation(rt,"uSeed")}},sendUniformData:function(it,rt){it.uniform1f(rt.uNoise,this.noise/255),it.uniform1f(rt.uSeed,Math.random())},toObject:function(){return ut(this.callSuper("toObject"),{noise:this.noise})}}),nt.Image.filters.Noise.fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.Image.filters,ht=nt.util.createClass;ut.Pixelate=ht(ut.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(at){var it=at.imageData,rt=it.data,ot=it.height,ft=it.width,ct,dt,pt,mt,_t,vt,yt,Ct,bt,Dt,wt;for(dt=0;dt<ot;dt+=this.blocksize)for(pt=0;pt<ft;pt+=this.blocksize)for(ct=dt*4*ft+pt*4,mt=rt[ct],_t=rt[ct+1],vt=rt[ct+2],yt=rt[ct+3],Dt=Math.min(dt+this.blocksize,ot),wt=Math.min(pt+this.blocksize,ft),Ct=dt;Ct<Dt;Ct++)for(bt=pt;bt<wt;bt++)ct=Ct*4*ft+bt*4,rt[ct]=mt,rt[ct+1]=_t,rt[ct+2]=vt,rt[ct+3]=yt},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(at,it){return{uBlocksize:at.getUniformLocation(it,"uBlocksize"),uStepW:at.getUniformLocation(it,"uStepW"),uStepH:at.getUniformLocation(it,"uStepH")}},sendUniformData:function(at,it){at.uniform1f(it.uBlocksize,this.blocksize)}}),nt.Image.filters.Pixelate.fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.util.object.extend,ht=nt.Image.filters,at=nt.util.createClass;ht.RemoveColor=at(ht.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(it){var rt=it.imageData,ot=rt.data,ft,ct=this.distance*255,dt,pt,mt,_t=new nt.Color(this.color).getSource(),vt=[_t[0]-ct,_t[1]-ct,_t[2]-ct],yt=[_t[0]+ct,_t[1]+ct,_t[2]+ct];for(ft=0;ft<ot.length;ft+=4)dt=ot[ft],pt=ot[ft+1],mt=ot[ft+2],dt>vt[0]&&pt>vt[1]&&mt>vt[2]&&dt<yt[0]&&pt<yt[1]&&mt<yt[2]&&(ot[ft+3]=0)},getUniformLocations:function(it,rt){return{uLow:it.getUniformLocation(rt,"uLow"),uHigh:it.getUniformLocation(rt,"uHigh")}},sendUniformData:function(it,rt){var ot=new nt.Color(this.color).getSource(),ft=parseFloat(this.distance),ct=[0+ot[0]/255-ft,0+ot[1]/255-ft,0+ot[2]/255-ft,1],dt=[ot[0]/255+ft,ot[1]/255+ft,ot[2]/255+ft,1];it.uniform4fv(rt.uLow,ct),it.uniform4fv(rt.uHigh,dt)},toObject:function(){return ut(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),nt.Image.filters.RemoveColor.fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.Image.filters,ht=nt.util.createClass,at={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var it in at)ut[it]=ht(ut.ColorMatrix,{type:it,matrix:at[it],mainParameter:!1,colorsOnly:!0}),nt.Image.filters[it].fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric,ut=nt.Image.filters,ht=nt.util.createClass;ut.BlendColor=ht(ut.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(at){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[at]+`}
}`},retrieveShader:function(at){var it=this.type+"_"+this.mode,rt;return at.programCache.hasOwnProperty(it)||(rt=this.buildSource(this.mode),at.programCache[it]=this.createProgram(at.context,rt)),at.programCache[it]},applyTo2d:function(at){var it=at.imageData,rt=it.data,ot=rt.length,ft,ct,dt,pt,mt,_t,vt,yt=1-this.alpha;vt=new nt.Color(this.color).getSource(),ft=vt[0]*this.alpha,ct=vt[1]*this.alpha,dt=vt[2]*this.alpha;for(var Ct=0;Ct<ot;Ct+=4)switch(pt=rt[Ct],mt=rt[Ct+1],_t=rt[Ct+2],this.mode){case"multiply":rt[Ct]=pt*ft/255,rt[Ct+1]=mt*ct/255,rt[Ct+2]=_t*dt/255;break;case"screen":rt[Ct]=255-(255-pt)*(255-ft)/255,rt[Ct+1]=255-(255-mt)*(255-ct)/255,rt[Ct+2]=255-(255-_t)*(255-dt)/255;break;case"add":rt[Ct]=pt+ft,rt[Ct+1]=mt+ct,rt[Ct+2]=_t+dt;break;case"diff":case"difference":rt[Ct]=Math.abs(pt-ft),rt[Ct+1]=Math.abs(mt-ct),rt[Ct+2]=Math.abs(_t-dt);break;case"subtract":rt[Ct]=pt-ft,rt[Ct+1]=mt-ct,rt[Ct+2]=_t-dt;break;case"darken":rt[Ct]=Math.min(pt,ft),rt[Ct+1]=Math.min(mt,ct),rt[Ct+2]=Math.min(_t,dt);break;case"lighten":rt[Ct]=Math.max(pt,ft),rt[Ct+1]=Math.max(mt,ct),rt[Ct+2]=Math.max(_t,dt);break;case"overlay":rt[Ct]=ft<128?2*pt*ft/255:255-2*(255-pt)*(255-ft)/255,rt[Ct+1]=ct<128?2*mt*ct/255:255-2*(255-mt)*(255-ct)/255,rt[Ct+2]=dt<128?2*_t*dt/255:255-2*(255-_t)*(255-dt)/255;break;case"exclusion":rt[Ct]=ft+pt-2*ft*pt/255,rt[Ct+1]=ct+mt-2*ct*mt/255,rt[Ct+2]=dt+_t-2*dt*_t/255;break;case"tint":rt[Ct]=ft+pt*yt,rt[Ct+1]=ct+mt*yt,rt[Ct+2]=dt+_t*yt}},getUniformLocations:function(at,it){return{uColor:at.getUniformLocation(it,"uColor")}},sendUniformData:function(at,it){var rt=new nt.Color(this.color).getSource();rt[0]=this.alpha*rt[0]/255,rt[1]=this.alpha*rt[1]/255,rt[2]=this.alpha*rt[2]/255,rt[3]=this.alpha,at.uniform4fv(it.uColor,rt)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),nt.Image.filters.BlendColor.fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric,ut=nt.Image.filters,ht=nt.util.createClass;ut.BlendImage=ht(ut.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(at){var it=this.type+"_"+this.mode,rt=this.fragmentSource[this.mode];return at.programCache.hasOwnProperty(it)||(at.programCache[it]=this.createProgram(at.context,rt)),at.programCache[it]},applyToWebGL:function(at){var it=at.context,rt=this.createTexture(at.filterBackend,this.image);this.bindAdditionalTexture(it,rt,it.TEXTURE1),this.callSuper("applyToWebGL",at),this.unbindAdditionalTexture(it,it.TEXTURE1)},createTexture:function(at,it){return at.getCachedTexture(it.cacheKey,it._element)},calculateMatrix:function(){var at=this.image,it=at._element.width,rt=at._element.height;return[1/at.scaleX,0,0,0,1/at.scaleY,0,-at.left/it,-at.top/rt,1]},applyTo2d:function(at){var it=at.imageData,rt=at.filterBackend.resources,ot=it.data,ft=ot.length,ct=it.width,dt=it.height,pt,mt,_t,vt,yt,Ct,bt,Dt,wt,Ft,Lt=this.image,Qt;rt.blendImage||(rt.blendImage=nt.util.createCanvasElement()),wt=rt.blendImage,Ft=wt.getContext("2d"),wt.width!==ct||wt.height!==dt?(wt.width=ct,wt.height=dt):Ft.clearRect(0,0,ct,dt),Ft.setTransform(Lt.scaleX,0,0,Lt.scaleY,Lt.left,Lt.top),Ft.drawImage(Lt._element,0,0,ct,dt),Qt=Ft.getImageData(0,0,ct,dt).data;for(var Ut=0;Ut<ft;Ut+=4)switch(yt=ot[Ut],Ct=ot[Ut+1],bt=ot[Ut+2],Dt=ot[Ut+3],pt=Qt[Ut],mt=Qt[Ut+1],_t=Qt[Ut+2],vt=Qt[Ut+3],this.mode){case"multiply":ot[Ut]=yt*pt/255,ot[Ut+1]=Ct*mt/255,ot[Ut+2]=bt*_t/255,ot[Ut+3]=Dt*vt/255;break;case"mask":ot[Ut+3]=vt;break}},getUniformLocations:function(at,it){return{uTransformMatrix:at.getUniformLocation(it,"uTransformMatrix"),uImage:at.getUniformLocation(it,"uImage")}},sendUniformData:function(at,it){var rt=this.calculateMatrix();at.uniform1i(it.uImage,1),at.uniformMatrix3fv(it.uTransformMatrix,!1,rt)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),nt.Image.filters.BlendImage.fromObject=function(at,it){nt.Image.fromObject(at.image,function(rt){var ot=nt.util.object.clone(at);ot.image=rt,it(new nt.Image.filters.BlendImage(ot))})}}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=Math.pow,ht=Math.floor,at=Math.sqrt,it=Math.abs,rt=Math.round,ot=Math.sin,ft=Math.ceil,ct=nt.Image.filters,dt=nt.util.createClass;ct.Resize=dt(ct.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(pt,mt){return{uDelta:pt.getUniformLocation(mt,"uDelta"),uTaps:pt.getUniformLocation(mt,"uTaps")}},sendUniformData:function(pt,mt){pt.uniform2fv(mt.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),pt.uniform1fv(mt.uTaps,this.taps)},retrieveShader:function(pt){var mt=this.getFilterWindow(),_t=this.type+"_"+mt;if(!pt.programCache.hasOwnProperty(_t)){var vt=this.generateShader(mt);pt.programCache[_t]=this.createProgram(pt.context,vt)}return pt.programCache[_t]},getFilterWindow:function(){var pt=this.tempScale;return Math.ceil(this.lanczosLobes/pt)},getTaps:function(){for(var pt=this.lanczosCreate(this.lanczosLobes),mt=this.tempScale,_t=this.getFilterWindow(),vt=new Array(_t),yt=1;yt<=_t;yt++)vt[yt-1]=pt(yt*mt);return vt},generateShader:function(vt){for(var mt=new Array(vt),_t=this.fragmentSourceTOP,vt,yt=1;yt<=vt;yt++)mt[yt-1]=yt+".0 * uDelta";return _t+="uniform float uTaps["+vt+`];
`,_t+=`void main() {
`,_t+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,_t+=`  float sum = 1.0;
`,mt.forEach(function(Ct,bt){_t+="  color += texture2D(uTexture, vTexCoord + "+Ct+") * uTaps["+bt+`];
`,_t+="  color += texture2D(uTexture, vTexCoord - "+Ct+") * uTaps["+bt+`];
`,_t+="  sum += 2.0 * uTaps["+bt+`];
`}),_t+=`  gl_FragColor = color / sum;
`,_t+="}",_t},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(pt){pt.webgl?(pt.passes++,this.width=pt.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=pt.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),pt.destinationWidth=this.dW,this._setupFrameBuffer(pt),this.applyToWebGL(pt),this._swapTextures(pt),pt.sourceWidth=pt.destinationWidth,this.height=pt.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),pt.destinationHeight=this.dH,this._setupFrameBuffer(pt),this.applyToWebGL(pt),this._swapTextures(pt),pt.sourceHeight=pt.destinationHeight):this.applyTo2d(pt)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(pt){return function(mt){if(mt>=pt||mt<=-pt)return 0;if(mt<11920929e-14&&mt>-11920929e-14)return 1;mt*=Math.PI;var _t=mt/pt;return ot(mt)/mt*ot(_t)/_t}},applyTo2d:function(pt){var mt=pt.imageData,_t=this.scaleX,vt=this.scaleY;this.rcpScaleX=1/_t,this.rcpScaleY=1/vt;var yt=mt.width,Ct=mt.height,bt=rt(yt*_t),Dt=rt(Ct*vt),wt;this.resizeType==="sliceHack"?wt=this.sliceByTwo(pt,yt,Ct,bt,Dt):this.resizeType==="hermite"?wt=this.hermiteFastResize(pt,yt,Ct,bt,Dt):this.resizeType==="bilinear"?wt=this.bilinearFiltering(pt,yt,Ct,bt,Dt):this.resizeType==="lanczos"&&(wt=this.lanczosResize(pt,yt,Ct,bt,Dt)),pt.imageData=wt},sliceByTwo:function(pt,mt,_t,vt,yt){var Ct=pt.imageData,bt=.5,Dt=!1,wt=!1,Ft=mt*bt,Lt=_t*bt,Qt=nt.filterBackend.resources,Ut,Xt,qt=0,Jt=0,Gt=mt,Et=0;for(Qt.sliceByTwo||(Qt.sliceByTwo=document.createElement("canvas")),Ut=Qt.sliceByTwo,(Ut.width<mt*1.5||Ut.height<_t)&&(Ut.width=mt*1.5,Ut.height=_t),Xt=Ut.getContext("2d"),Xt.clearRect(0,0,mt*1.5,_t),Xt.putImageData(Ct,0,0),vt=ht(vt),yt=ht(yt);!Dt||!wt;)mt=Ft,_t=Lt,vt<ht(Ft*bt)?Ft=ht(Ft*bt):(Ft=vt,Dt=!0),yt<ht(Lt*bt)?Lt=ht(Lt*bt):(Lt=yt,wt=!0),Xt.drawImage(Ut,qt,Jt,mt,_t,Gt,Et,Ft,Lt),qt=Gt,Jt=Et,Et+=Lt;return Xt.getImageData(qt,Jt,vt,yt)},lanczosResize:function(pt,mt,_t,vt,yt){function Ct(It){var Ot,Tt,St,xt,$t,Rt,Bt,Wt,Kt,ln,en;for(Et.x=(It+.5)*Lt,At.x=ht(Et.x),Ot=0;Ot<yt;Ot++){for(Et.y=(Ot+.5)*Qt,At.y=ht(Et.y),$t=0,Rt=0,Bt=0,Wt=0,Kt=0,Tt=At.x-qt;Tt<=At.x+qt;Tt++)if(!(Tt<0||Tt>=mt)){ln=ht(1e3*it(Tt-Et.x)),Gt[ln]||(Gt[ln]={});for(var tn=At.y-Jt;tn<=At.y+Jt;tn++)tn<0||tn>=_t||(en=ht(1e3*it(tn-Et.y)),Gt[ln][en]||(Gt[ln][en]=Ft(at(ut(ln*Ut,2)+ut(en*Xt,2))/1e3)),St=Gt[ln][en],St>0&&(xt=(tn*mt+Tt)*4,$t+=St,Rt+=St*bt[xt],Bt+=St*bt[xt+1],Wt+=St*bt[xt+2],Kt+=St*bt[xt+3]))}xt=(Ot*vt+It)*4,wt[xt]=Rt/$t,wt[xt+1]=Bt/$t,wt[xt+2]=Wt/$t,wt[xt+3]=Kt/$t}return++It<vt?Ct(It):Dt}var bt=pt.imageData.data,Dt=pt.ctx.createImageData(vt,yt),wt=Dt.data,Ft=this.lanczosCreate(this.lanczosLobes),Lt=this.rcpScaleX,Qt=this.rcpScaleY,Ut=2/this.rcpScaleX,Xt=2/this.rcpScaleY,qt=ft(Lt*this.lanczosLobes/2),Jt=ft(Qt*this.lanczosLobes/2),Gt={},Et={},At={};return Ct(0)},bilinearFiltering:function(pt,mt,_t,vt,yt){var Ct,bt,Dt,wt,Ft,Lt,Qt,Ut,Xt,qt,Jt,Gt,Et=0,At,It=this.rcpScaleX,Ot=this.rcpScaleY,Tt=4*(mt-1),St=pt.imageData,xt=St.data,$t=pt.ctx.createImageData(vt,yt),Rt=$t.data;for(Qt=0;Qt<yt;Qt++)for(Ut=0;Ut<vt;Ut++)for(Ft=ht(It*Ut),Lt=ht(Ot*Qt),Xt=It*Ut-Ft,qt=Ot*Qt-Lt,At=4*(Lt*mt+Ft),Jt=0;Jt<4;Jt++)Ct=xt[At+Jt],bt=xt[At+4+Jt],Dt=xt[At+Tt+Jt],wt=xt[At+Tt+4+Jt],Gt=Ct*(1-Xt)*(1-qt)+bt*Xt*(1-qt)+Dt*qt*(1-Xt)+wt*Xt*qt,Rt[Et++]=Gt;return $t},hermiteFastResize:function(pt,mt,_t,vt,yt){for(var Ct=this.rcpScaleX,bt=this.rcpScaleY,Dt=ft(Ct/2),wt=ft(bt/2),Ft=pt.imageData,Lt=Ft.data,Qt=pt.ctx.createImageData(vt,yt),Ut=Qt.data,Xt=0;Xt<yt;Xt++)for(var qt=0;qt<vt;qt++){for(var Jt=(qt+Xt*vt)*4,Gt=0,Et=0,At=0,It=0,Ot=0,Tt=0,St=0,xt=(Xt+.5)*bt,$t=ht(Xt*bt);$t<(Xt+1)*bt;$t++)for(var Rt=it(xt-($t+.5))/wt,Bt=(qt+.5)*Ct,Wt=Rt*Rt,Kt=ht(qt*Ct);Kt<(qt+1)*Ct;Kt++){var ln=it(Bt-(Kt+.5))/Dt,en=at(Wt+ln*ln);en>1&&en<-1||(Gt=2*en*en*en-3*en*en+1,Gt>0&&(ln=4*(Kt+$t*mt),St+=Gt*Lt[ln+3],At+=Gt,Lt[ln+3]<255&&(Gt=Gt*Lt[ln+3]/250),It+=Gt*Lt[ln],Ot+=Gt*Lt[ln+1],Tt+=Gt*Lt[ln+2],Et+=Gt))}Ut[Jt]=It/Et,Ut[Jt+1]=Ot/Et,Ut[Jt+2]=Tt/Et,Ut[Jt+3]=St/At}return Qt},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),nt.Image.filters.Resize.fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.Image.filters,ht=nt.util.createClass;ut.Contrast=ht(ut.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(at){if(this.contrast!==0){var it=at.imageData,rt,ft,ot=it.data,ft=ot.length,ct=Math.floor(this.contrast*255),dt=259*(ct+255)/(255*(259-ct));for(rt=0;rt<ft;rt+=4)ot[rt]=dt*(ot[rt]-128)+128,ot[rt+1]=dt*(ot[rt+1]-128)+128,ot[rt+2]=dt*(ot[rt+2]-128)+128}},getUniformLocations:function(at,it){return{uContrast:at.getUniformLocation(it,"uContrast")}},sendUniformData:function(at,it){at.uniform1f(it.uContrast,this.contrast)}}),nt.Image.filters.Contrast.fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.Image.filters,ht=nt.util.createClass;ut.Saturation=ht(ut.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(at){if(this.saturation!==0){var it=at.imageData,rt=it.data,ot=rt.length,ft=-this.saturation,ct,dt;for(ct=0;ct<ot;ct+=4)dt=Math.max(rt[ct],rt[ct+1],rt[ct+2]),rt[ct]+=dt!==rt[ct]?(dt-rt[ct])*ft:0,rt[ct+1]+=dt!==rt[ct+1]?(dt-rt[ct+1])*ft:0,rt[ct+2]+=dt!==rt[ct+2]?(dt-rt[ct+2])*ft:0}},getUniformLocations:function(at,it){return{uSaturation:at.getUniformLocation(it,"uSaturation")}},sendUniformData:function(at,it){at.uniform1f(it.uSaturation,-this.saturation)}}),nt.Image.filters.Saturation.fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.Image.filters,ht=nt.util.createClass;ut.Vibrance=ht(ut.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(at){if(this.vibrance!==0){var it=at.imageData,rt=it.data,ot=rt.length,ft=-this.vibrance,ct,dt,pt,mt;for(ct=0;ct<ot;ct+=4)dt=Math.max(rt[ct],rt[ct+1],rt[ct+2]),pt=(rt[ct]+rt[ct+1]+rt[ct+2])/3,mt=Math.abs(dt-pt)*2/255*ft,rt[ct]+=dt!==rt[ct]?(dt-rt[ct])*mt:0,rt[ct+1]+=dt!==rt[ct+1]?(dt-rt[ct+1])*mt:0,rt[ct+2]+=dt!==rt[ct+2]?(dt-rt[ct+2])*mt:0}},getUniformLocations:function(at,it){return{uVibrance:at.getUniformLocation(it,"uVibrance")}},sendUniformData:function(at,it){at.uniform1f(it.uVibrance,-this.vibrance)}}),nt.Image.filters.Vibrance.fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.Image.filters,ht=nt.util.createClass;ut.Blur=ht(ut.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(at){at.webgl?(this.aspectRatio=at.sourceWidth/at.sourceHeight,at.passes++,this._setupFrameBuffer(at),this.horizontal=!0,this.applyToWebGL(at),this._swapTextures(at),this._setupFrameBuffer(at),this.horizontal=!1,this.applyToWebGL(at),this._swapTextures(at)):this.applyTo2d(at)},applyTo2d:function(at){at.imageData=this.simpleBlur(at)},simpleBlur:function(at){var it=at.filterBackend.resources,rt,ot,ft=at.imageData.width,ct=at.imageData.height;it.blurLayer1||(it.blurLayer1=nt.util.createCanvasElement(),it.blurLayer2=nt.util.createCanvasElement()),rt=it.blurLayer1,ot=it.blurLayer2,(rt.width!==ft||rt.height!==ct)&&(ot.width=rt.width=ft,ot.height=rt.height=ct);var dt=rt.getContext("2d"),pt=ot.getContext("2d"),mt=15,_t,vt,yt,Ct,bt=this.blur*.06*.5;for(dt.putImageData(at.imageData,0,0),pt.clearRect(0,0,ft,ct),Ct=-mt;Ct<=mt;Ct++)_t=(Math.random()-.5)/4,vt=Ct/mt,yt=bt*vt*ft+_t,pt.globalAlpha=1-Math.abs(vt),pt.drawImage(rt,yt,_t),dt.drawImage(ot,0,0),pt.globalAlpha=1,pt.clearRect(0,0,ot.width,ot.height);for(Ct=-mt;Ct<=mt;Ct++)_t=(Math.random()-.5)/4,vt=Ct/mt,yt=bt*vt*ct+_t,pt.globalAlpha=1-Math.abs(vt),pt.drawImage(rt,_t,yt),dt.drawImage(ot,0,0),pt.globalAlpha=1,pt.clearRect(0,0,ot.width,ot.height);at.ctx.drawImage(rt,0,0);var Dt=at.ctx.getImageData(0,0,rt.width,rt.height);return dt.globalAlpha=1,dt.clearRect(0,0,rt.width,rt.height),Dt},getUniformLocations:function(at,it){return{delta:at.getUniformLocation(it,"uDelta")}},sendUniformData:function(at,it){var rt=this.chooseRightDelta();at.uniform2fv(it.delta,rt)},chooseRightDelta:function(){var at=1,it=[0,0],rt;return this.horizontal?this.aspectRatio>1&&(at=1/this.aspectRatio):this.aspectRatio<1&&(at=this.aspectRatio),rt=at*this.blur*.12,this.horizontal?it[0]=rt:it[1]=rt,it}}),ut.Blur.fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.Image.filters,ht=nt.util.createClass;ut.Gamma=ht(ut.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(at){this.gamma=[1,1,1],ut.BaseFilter.prototype.initialize.call(this,at)},applyTo2d:function(at){var it=at.imageData,rt=it.data,ot=this.gamma,ft=rt.length,ct=1/ot[0],dt=1/ot[1],pt=1/ot[2],mt;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),mt=0,ft=256;mt<ft;mt++)this.rVals[mt]=Math.pow(mt/255,ct)*255,this.gVals[mt]=Math.pow(mt/255,dt)*255,this.bVals[mt]=Math.pow(mt/255,pt)*255;for(mt=0,ft=rt.length;mt<ft;mt+=4)rt[mt]=this.rVals[rt[mt]],rt[mt+1]=this.gVals[rt[mt+1]],rt[mt+2]=this.bVals[rt[mt+2]]},getUniformLocations:function(at,it){return{uGamma:at.getUniformLocation(it,"uGamma")}},sendUniformData:function(at,it){at.uniform3fv(it.uGamma,this.gamma)}}),nt.Image.filters.Gamma.fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.Image.filters,ht=nt.util.createClass;ut.Composed=ht(ut.BaseFilter,{type:"Composed",subFilters:[],initialize:function(at){this.callSuper("initialize",at),this.subFilters=this.subFilters.slice(0)},applyTo:function(at){at.passes+=this.subFilters.length-1,this.subFilters.forEach(function(it){it.applyTo(at)})},toObject:function(){return nt.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(at){return at.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(at){return!at.isNeutralState()})}}),nt.Image.filters.Composed.fromObject=function(at,it){var rt=at.subFilters||[],ot=rt.map(function(ct){return new nt.Image.filters[ct.type](ct)}),ft=new nt.Image.filters.Composed({subFilters:ot});return it&&it(ft),ft}}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.Image.filters,ht=nt.util.createClass;ut.HueRotation=ht(ut.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var at=this.rotation*Math.PI,it=nt.util.cos(at),rt=nt.util.sin(at),ot=1/3,ft=Math.sqrt(ot)*rt,ct=1-it;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=it+ct/3,this.matrix[1]=ot*ct-ft,this.matrix[2]=ot*ct+ft,this.matrix[5]=ot*ct+ft,this.matrix[6]=it+ot*ct,this.matrix[7]=ot*ct-ft,this.matrix[10]=ot*ct-ft,this.matrix[11]=ot*ct+ft,this.matrix[12]=it+ot*ct},isNeutralState:function(at){return this.calculateMatrix(),ut.BaseFilter.prototype.isNeutralState.call(this,at)},applyTo:function(at){this.calculateMatrix(),ut.BaseFilter.prototype.applyTo.call(this,at)}}),nt.Image.filters.HueRotation.fromObject=nt.Image.filters.BaseFilter.fromObject}(j),function(lt){var nt=lt.fabric||(lt.fabric={}),ut=nt.util.object.clone;if(nt.Text){nt.warn("fabric.Text is already defined");return}var ht="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");nt.Text=nt.util.createClass(nt.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:nt.Object.prototype.stateProperties.concat(ht),cacheProperties:nt.Object.prototype.cacheProperties.concat(ht),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(at,it){this.styles=it?it.styles||{}:{},this.text=at,this.__skipDimension=!0,this.callSuper("initialize",it),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var at=this.path;at&&(at.segmentsInfo=nt.util.getPathSegmentsInfo(at.path))},getMeasuringContext:function(){return nt._measuringContext||(nt._measuringContext=this.canvas&&this.canvas.contextCache||nt.util.createCanvasElement().getContext("2d")),nt._measuringContext},_splitText:function(){var at=this._splitTextIntoLines(this.text);return this.textLines=at.lines,this._textLines=at.graphemeLines,this._unwrappedTextLines=at._unwrappedLines,this._text=at.graphemeText,at},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var at,it,rt,ot,ft,ct,dt,pt=0,mt=this._textLines.length;pt<mt;pt++)if(!(this.textAlign!=="justify"&&(pt===mt-1||this.isEndOfWrapping(pt)))&&(ot=0,ft=this._textLines[pt],it=this.getLineWidth(pt),it<this.width&&(dt=this.textLines[pt].match(this._reSpacesAndTabs)))){rt=dt.length,at=(this.width-it)/rt;for(var _t=0,vt=ft.length;_t<=vt;_t++)ct=this.__charBounds[pt][_t],this._reSpaceAndTab.test(ft[_t])?(ct.width+=at,ct.kernedWidth+=at,ct.left+=ot,ot+=at):ct.left+=ot}},isEndOfWrapping:function(at){return at===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var at=this.callSuper("_getCacheCanvasDimensions"),it=this.fontSize;return at.width+=it*at.zoomX,at.height+=it*at.zoomY,at},_render:function(at){var it=this.path;it&&!it.isNotVisible()&&it._render(at),this._setTextStyles(at),this._renderTextLinesBackground(at),this._renderTextDecoration(at,"underline"),this._renderText(at),this._renderTextDecoration(at,"overline"),this._renderTextDecoration(at,"linethrough")},_renderText:function(at){this.paintFirst==="stroke"?(this._renderTextStroke(at),this._renderTextFill(at)):(this._renderTextFill(at),this._renderTextStroke(at))},_setTextStyles:function(at,it,rt){if(at.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":at.textBaseline="middle";break;case"ascender":at.textBaseline="top";break;case"descender":at.textBaseline="bottom";break}at.font=this._getFontDeclaration(it,rt)},calcTextWidth:function(){for(var at=this.getLineWidth(0),it=1,rt=this._textLines.length;it<rt;it++){var ot=this.getLineWidth(it);ot>at&&(at=ot)}return at},_renderTextLine:function(at,it,rt,ot,ft,ct){this._renderChars(at,it,rt,ot,ft,ct)},_renderTextLinesBackground:function(at){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var it,rt,ot=at.fillStyle,ft,ct,dt=this._getLeftOffset(),pt=this._getTopOffset(),mt=0,_t=0,vt,yt,Ct=this.path,bt,Dt=0,wt=this._textLines.length;Dt<wt;Dt++){if(it=this.getHeightOfLine(Dt),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",Dt)){pt+=it;continue}ft=this._textLines[Dt],rt=this._getLineLeftOffset(Dt),_t=0,mt=0,ct=this.getValueOfPropertyAt(Dt,0,"textBackgroundColor");for(var Ft=0,Lt=ft.length;Ft<Lt;Ft++)vt=this.__charBounds[Dt][Ft],yt=this.getValueOfPropertyAt(Dt,Ft,"textBackgroundColor"),Ct?(at.save(),at.translate(vt.renderLeft,vt.renderTop),at.rotate(vt.angle),at.fillStyle=yt,yt&&at.fillRect(-vt.width/2,-it/this.lineHeight*(1-this._fontSizeFraction),vt.width,it/this.lineHeight),at.restore()):yt!==ct?(bt=dt+rt+mt,this.direction==="rtl"&&(bt=this.width-bt-_t),at.fillStyle=ct,ct&&at.fillRect(bt,pt,_t,it/this.lineHeight),mt=vt.left,_t=vt.width,ct=yt):_t+=vt.kernedWidth;yt&&!Ct&&(bt=dt+rt+mt,this.direction==="rtl"&&(bt=this.width-bt-_t),at.fillStyle=yt,at.fillRect(bt,pt,_t,it/this.lineHeight)),pt+=it}at.fillStyle=ot,this._removeShadow(at)}},getFontCache:function(at){var it=at.fontFamily.toLowerCase();nt.charWidthsCache[it]||(nt.charWidthsCache[it]={});var rt=nt.charWidthsCache[it],ot=at.fontStyle.toLowerCase()+"_"+(at.fontWeight+"").toLowerCase();return rt[ot]||(rt[ot]={}),rt[ot]},_measureChar:function(at,it,rt,ot){var ft=this.getFontCache(it),ct=this._getFontDeclaration(it),dt=this._getFontDeclaration(ot),pt=rt+at,mt=ct===dt,_t,vt,yt,Ct=it.fontSize/this.CACHE_FONT_SIZE,bt;if(rt&&ft[rt]!==void 0&&(yt=ft[rt]),ft[at]!==void 0&&(bt=_t=ft[at]),mt&&ft[pt]!==void 0&&(vt=ft[pt],bt=vt-yt),_t===void 0||yt===void 0||vt===void 0){var Dt=this.getMeasuringContext();this._setTextStyles(Dt,it,!0)}return _t===void 0&&(bt=_t=Dt.measureText(at).width,ft[at]=_t),yt===void 0&&mt&&rt&&(yt=Dt.measureText(rt).width,ft[rt]=yt),mt&&vt===void 0&&(vt=Dt.measureText(pt).width,ft[pt]=vt,bt=vt-yt),{width:_t*Ct,kernedWidth:bt*Ct}},getHeightOfChar:function(at,it){return this.getValueOfPropertyAt(at,it,"fontSize")},measureLine:function(at){var it=this._measureLine(at);return this.charSpacing!==0&&(it.width-=this._getWidthOfCharSpacing()),it.width<0&&(it.width=0),it},_measureLine:function(at){var it=0,rt,ot,ft=this._textLines[at],ct,dt,pt=0,mt=new Array(ft.length),_t=0,vt,yt,Ct=this.path,bt=this.pathSide==="right";for(this.__charBounds[at]=mt,rt=0;rt<ft.length;rt++)ot=ft[rt],dt=this._getGraphemeBox(ot,at,rt,ct),mt[rt]=dt,it+=dt.kernedWidth,ct=ot;if(mt[rt]={left:dt?dt.left+dt.width:0,width:0,kernedWidth:0,height:this.fontSize},Ct){switch(yt=Ct.segmentsInfo[Ct.segmentsInfo.length-1].length,vt=nt.util.getPointOnPath(Ct.path,0,Ct.segmentsInfo),vt.x+=Ct.pathOffset.x,vt.y+=Ct.pathOffset.y,this.textAlign){case"left":_t=bt?yt-it:0;break;case"center":_t=(yt-it)/2;break;case"right":_t=bt?0:yt-it;break}for(_t+=this.pathStartOffset*(bt?-1:1),rt=bt?ft.length-1:0;bt?rt>=0:rt<ft.length;bt?rt--:rt++)dt=mt[rt],_t>yt?_t%=yt:_t<0&&(_t+=yt),this._setGraphemeOnPath(_t,dt,vt),_t+=dt.kernedWidth}return{width:it,numOfSpaces:pt}},_setGraphemeOnPath:function(at,it,rt){var ot=at+it.kernedWidth/2,ft=this.path,ct=nt.util.getPointOnPath(ft.path,ot,ft.segmentsInfo);it.renderLeft=ct.x-rt.x,it.renderTop=ct.y-rt.y,it.angle=ct.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(at,it,rt,ot,ft){var ct=this.getCompleteStyleDeclaration(it,rt),dt=ot?this.getCompleteStyleDeclaration(it,rt-1):{},pt=this._measureChar(at,ct,ot,dt),mt=pt.kernedWidth,_t=pt.width,vt;this.charSpacing!==0&&(vt=this._getWidthOfCharSpacing(),_t+=vt,mt+=vt);var yt={width:_t,left:0,height:ct.fontSize,kernedWidth:mt,deltaY:ct.deltaY};if(rt>0&&!ft){var Ct=this.__charBounds[it][rt-1];yt.left=Ct.left+Ct.width+pt.kernedWidth-pt.width}return yt},getHeightOfLine:function(at){if(this.__lineHeights[at])return this.__lineHeights[at];for(var it=this._textLines[at],rt=this.getHeightOfChar(at,0),ot=1,ft=it.length;ot<ft;ot++)rt=Math.max(this.getHeightOfChar(at,ot),rt);return this.__lineHeights[at]=rt*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var at,it=0,rt=0,ot=this._textLines.length;rt<ot;rt++)at=this.getHeightOfLine(rt),it+=rt===ot-1?at/this.lineHeight:at;return it},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(at,it){at.save();for(var rt=0,ot=this._getLeftOffset(),ft=this._getTopOffset(),ct=0,dt=this._textLines.length;ct<dt;ct++){var pt=this.getHeightOfLine(ct),mt=pt/this.lineHeight,_t=this._getLineLeftOffset(ct);this._renderTextLine(it,at,this._textLines[ct],ot+_t,ft+rt+mt,ct),rt+=pt}at.restore()},_renderTextFill:function(at){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(at,"fillText")},_renderTextStroke:function(at){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(at),at.save(),this._setLineDash(at,this.strokeDashArray),at.beginPath(),this._renderTextCommon(at,"strokeText"),at.closePath(),at.restore())},_renderChars:function(at,it,rt,ot,ft,ct){var dt=this.getHeightOfLine(ct),pt=this.textAlign.indexOf("justify")!==-1,mt,_t,vt="",yt,Ct=0,bt,Dt=this.path,wt=!pt&&this.charSpacing===0&&this.isEmptyStyles(ct)&&!Dt,Ft=this.direction==="ltr",Lt=this.direction==="ltr"?1:-1,Qt,Ut=it.canvas.getAttribute("dir");if(it.save(),Ut!==this.direction&&(it.canvas.setAttribute("dir",Ft?"ltr":"rtl"),it.direction=Ft?"ltr":"rtl",it.textAlign=Ft?"left":"right"),ft-=dt*this._fontSizeFraction/this.lineHeight,wt){this._renderChar(at,it,ct,0,rt.join(""),ot,ft,dt),it.restore();return}for(var Xt=0,qt=rt.length-1;Xt<=qt;Xt++)bt=Xt===qt||this.charSpacing||Dt,vt+=rt[Xt],yt=this.__charBounds[ct][Xt],Ct===0?(ot+=Lt*(yt.kernedWidth-yt.width),Ct+=yt.width):Ct+=yt.kernedWidth,pt&&!bt&&this._reSpaceAndTab.test(rt[Xt])&&(bt=!0),bt||(mt=mt||this.getCompleteStyleDeclaration(ct,Xt),_t=this.getCompleteStyleDeclaration(ct,Xt+1),bt=nt.util.hasStyleChanged(mt,_t,!1)),bt&&(Dt?(it.save(),it.translate(yt.renderLeft,yt.renderTop),it.rotate(yt.angle),this._renderChar(at,it,ct,Xt,vt,-Ct/2,0,dt),it.restore()):(Qt=ot,this._renderChar(at,it,ct,Xt,vt,Qt,ft,dt)),vt="",mt=_t,ot+=Lt*Ct,Ct=0);it.restore()},_applyPatternGradientTransformText:function(at){var it=nt.util.createCanvasElement(),rt,ot=this.width+this.strokeWidth,ft=this.height+this.strokeWidth;return it.width=ot,it.height=ft,rt=it.getContext("2d"),rt.beginPath(),rt.moveTo(0,0),rt.lineTo(ot,0),rt.lineTo(ot,ft),rt.lineTo(0,ft),rt.closePath(),rt.translate(ot/2,ft/2),rt.fillStyle=at.toLive(rt),this._applyPatternGradientTransform(rt,at),rt.fill(),rt.createPattern(it,"no-repeat")},handleFiller:function(at,it,rt){var ot,ft;return rt.toLive?rt.gradientUnits==="percentage"||rt.gradientTransform||rt.patternTransform?(ot=-this.width/2,ft=-this.height/2,at.translate(ot,ft),at[it]=this._applyPatternGradientTransformText(rt),{offsetX:ot,offsetY:ft}):(at[it]=rt.toLive(at,this),this._applyPatternGradientTransform(at,rt)):(at[it]=rt,{offsetX:0,offsetY:0})},_setStrokeStyles:function(at,it){return at.lineWidth=it.strokeWidth,at.lineCap=this.strokeLineCap,at.lineDashOffset=this.strokeDashOffset,at.lineJoin=this.strokeLineJoin,at.miterLimit=this.strokeMiterLimit,this.handleFiller(at,"strokeStyle",it.stroke)},_setFillStyles:function(at,it){return this.handleFiller(at,"fillStyle",it.fill)},_renderChar:function(at,it,rt,ot,ft,ct,dt){var pt=this._getStyleDeclaration(rt,ot),mt=this.getCompleteStyleDeclaration(rt,ot),_t=at==="fillText"&&mt.fill,vt=at==="strokeText"&&mt.stroke&&mt.strokeWidth,yt,Ct;!vt&&!_t||(it.save(),_t&&(yt=this._setFillStyles(it,mt)),vt&&(Ct=this._setStrokeStyles(it,mt)),it.font=this._getFontDeclaration(mt),pt&&pt.textBackgroundColor&&this._removeShadow(it),pt&&pt.deltaY&&(dt+=pt.deltaY),_t&&it.fillText(ft,ct-yt.offsetX,dt-yt.offsetY),vt&&it.strokeText(ft,ct-Ct.offsetX,dt-Ct.offsetY),it.restore())},setSuperscript:function(at,it){return this._setScript(at,it,this.superscript)},setSubscript:function(at,it){return this._setScript(at,it,this.subscript)},_setScript:function(at,it,rt){var ot=this.get2DCursorLocation(at,!0),ft=this.getValueOfPropertyAt(ot.lineIndex,ot.charIndex,"fontSize"),ct=this.getValueOfPropertyAt(ot.lineIndex,ot.charIndex,"deltaY"),dt={fontSize:ft*rt.size,deltaY:ct+ft*rt.baseline};return this.setSelectionStyles(dt,at,it),this},_getLineLeftOffset:function(at){var it=this.getLineWidth(at),rt=this.width-it,ot=this.textAlign,ft=this.direction,dt,ct=0,dt=this.isEndOfWrapping(at);return ot==="justify"||ot==="justify-center"&&!dt||ot==="justify-right"&&!dt||ot==="justify-left"&&!dt?0:(ot==="center"&&(ct=rt/2),ot==="right"&&(ct=rt),ot==="justify-center"&&(ct=rt/2),ot==="justify-right"&&(ct=rt),ft==="rtl"&&(ct-=rt),ct)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var at=this._forceClearCache;return at||(at=this.hasStateChanged("_dimensionAffectingProps")),at&&(this.dirty=!0,this._forceClearCache=!1),at},getLineWidth:function(at){if(this.__lineWidths[at]!==void 0)return this.__lineWidths[at];var it=this.measureLine(at),rt=it.width;return this.__lineWidths[at]=rt,rt},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(at,it,rt){var ot=this._getStyleDeclaration(at,it);return ot&&typeof ot[rt]<"u"?ot[rt]:this[rt]},_renderTextDecoration:function(at,it){if(!(!this[it]&&!this.styleHas(it))){for(var rt,ot,ft,ct,dt,pt,mt,_t,vt=this._getLeftOffset(),yt=this._getTopOffset(),Ct,bt,Dt,wt,Ft,Lt,Qt,Ut,Xt=this.path,qt=this._getWidthOfCharSpacing(),Jt=this.offsets[it],Gt=0,Et=this._textLines.length;Gt<Et;Gt++){if(rt=this.getHeightOfLine(Gt),!this[it]&&!this.styleHas(it,Gt)){yt+=rt;continue}mt=this._textLines[Gt],Lt=rt/this.lineHeight,ct=this._getLineLeftOffset(Gt),bt=0,Dt=0,_t=this.getValueOfPropertyAt(Gt,0,it),Ut=this.getValueOfPropertyAt(Gt,0,"fill"),Ct=yt+Lt*(1-this._fontSizeFraction),ot=this.getHeightOfChar(Gt,0),dt=this.getValueOfPropertyAt(Gt,0,"deltaY");for(var At=0,It=mt.length;At<It;At++)if(wt=this.__charBounds[Gt][At],Ft=this.getValueOfPropertyAt(Gt,At,it),Qt=this.getValueOfPropertyAt(Gt,At,"fill"),ft=this.getHeightOfChar(Gt,At),pt=this.getValueOfPropertyAt(Gt,At,"deltaY"),Xt&&Ft&&Qt)at.save(),at.fillStyle=Ut,at.translate(wt.renderLeft,wt.renderTop),at.rotate(wt.angle),at.fillRect(-wt.kernedWidth/2,Jt*ft+pt,wt.kernedWidth,this.fontSize/15),at.restore();else if((Ft!==_t||Qt!==Ut||ft!==ot||pt!==dt)&&Dt>0){var Ot=vt+ct+bt;this.direction==="rtl"&&(Ot=this.width-Ot-Dt),_t&&Ut&&(at.fillStyle=Ut,at.fillRect(Ot,Ct+Jt*ot+dt,Dt,this.fontSize/15)),bt=wt.left,Dt=wt.width,_t=Ft,Ut=Qt,ot=ft,dt=pt}else Dt+=wt.kernedWidth;var Ot=vt+ct+bt;this.direction==="rtl"&&(Ot=this.width-Ot-Dt),at.fillStyle=Qt,Ft&&Qt&&at.fillRect(Ot,Ct+Jt*ot+dt,Dt-qt,this.fontSize/15),yt+=rt}this._removeShadow(at)}},_getFontDeclaration:function(at,it){var rt=at||this,ot=this.fontFamily,ft=nt.Text.genericFonts.indexOf(ot.toLowerCase())>-1,ct=ot===void 0||ot.indexOf("'")>-1||ot.indexOf(",")>-1||ot.indexOf('"')>-1||ft?rt.fontFamily:'"'+rt.fontFamily+'"';return[nt.isLikelyNode?rt.fontWeight:rt.fontStyle,nt.isLikelyNode?rt.fontStyle:rt.fontWeight,it?this.CACHE_FONT_SIZE+"px":rt.fontSize+"px",ct].join(" ")},render:function(at){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",at))},_splitTextIntoLines:function(at){for(var it=at.split(this._reNewline),rt=new Array(it.length),ot=[`
`],ft=[],ct=0;ct<it.length;ct++)rt[ct]=nt.util.string.graphemeSplit(it[ct]),ft=ft.concat(rt[ct],ot);return ft.pop(),{_unwrappedLines:rt,lines:it,graphemeText:ft,graphemeLines:rt}},toObject:function(at){var it=ht.concat(at),rt=this.callSuper("toObject",it);return rt.styles=nt.util.stylesToArray(this.styles,this.text),rt.path&&(rt.path=this.path.toObject()),rt},set:function(at,it){this.callSuper("set",at,it);var rt=!1,ot=!1;if(typeof at=="object")for(var ft in at)ft==="path"&&this.setPathInfo(),rt=rt||this._dimensionAffectingProps.indexOf(ft)!==-1,ot=ot||ft==="path";else rt=this._dimensionAffectingProps.indexOf(at)!==-1,ot=at==="path";return ot&&this.setPathInfo(),rt&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),nt.Text.ATTRIBUTE_NAMES=nt.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),nt.Text.DEFAULT_SVG_FONT_SIZE=16,nt.Text.fromElement=function(at,it,rt){if(!at)return it(null);var ot=nt.parseAttributes(at,nt.Text.ATTRIBUTE_NAMES),ft=ot.textAnchor||"left";if(rt=nt.util.object.extend(rt?ut(rt):{},ot),rt.top=rt.top||0,rt.left=rt.left||0,ot.textDecoration){var ct=ot.textDecoration;ct.indexOf("underline")!==-1&&(rt.underline=!0),ct.indexOf("overline")!==-1&&(rt.overline=!0),ct.indexOf("line-through")!==-1&&(rt.linethrough=!0),delete rt.textDecoration}"dx"in ot&&(rt.left+=ot.dx),"dy"in ot&&(rt.top+=ot.dy),"fontSize"in rt||(rt.fontSize=nt.Text.DEFAULT_SVG_FONT_SIZE);var dt="";"textContent"in at?dt=at.textContent:"firstChild"in at&&at.firstChild!==null&&"data"in at.firstChild&&at.firstChild.data!==null&&(dt=at.firstChild.data),dt=dt.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var pt=rt.strokeWidth;rt.strokeWidth=0;var mt=new nt.Text(dt,rt),_t=mt.getScaledHeight()/mt.height,vt=(mt.height+mt.strokeWidth)*mt.lineHeight-mt.height,yt=vt*_t,Ct=mt.getScaledHeight()+yt,bt=0;ft==="center"&&(bt=mt.getScaledWidth()/2),ft==="right"&&(bt=mt.getScaledWidth()),mt.set({left:mt.left-bt,top:mt.top-(Ct-mt.fontSize*(.07+mt._fontSizeFraction))/mt.lineHeight,strokeWidth:typeof pt<"u"?pt:1}),it(mt)},nt.Text.fromObject=function(at,it){var rt=ut(at),ot=at.path;return delete rt.path,nt.Object._fromObject("Text",rt,function(ft){ft.styles=nt.util.stylesFromArray(at.styles,at.text),ot?nt.Object._fromObject("Path",ot,function(ct){ft.set("path",ct),it(ft)},"path"):it(ft)},"text")},nt.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],nt.util.createAccessors&&nt.util.createAccessors(nt.Text)}(j),function(){$.util.object.extend($.Text.prototype,{isEmptyStyles:function(lt){if(!this.styles||typeof lt<"u"&&!this.styles[lt])return!0;var nt=typeof lt>"u"?this.styles:{line:this.styles[lt]};for(var ut in nt)for(var ht in nt[ut])for(var at in nt[ut][ht])return!1;return!0},styleHas:function(lt,nt){if(!this.styles||!lt||lt===""||typeof nt<"u"&&!this.styles[nt])return!1;var ut=typeof nt>"u"?this.styles:{0:this.styles[nt]};for(var ht in ut)for(var at in ut[ht])if(typeof ut[ht][at][lt]<"u")return!0;return!1},cleanStyle:function(lt){if(!this.styles||!lt||lt==="")return!1;var nt=this.styles,ut=0,ht,at,it=!0,rt=0,ot;for(var ft in nt){ht=0;for(var ct in nt[ft]){var ot=nt[ft][ct],dt=ot.hasOwnProperty(lt);ut++,dt?(at?ot[lt]!==at&&(it=!1):at=ot[lt],ot[lt]===this[lt]&&delete ot[lt]):it=!1,Object.keys(ot).length!==0?ht++:delete nt[ft][ct]}ht===0&&delete nt[ft]}for(var pt=0;pt<this._textLines.length;pt++)rt+=this._textLines[pt].length;it&&ut===rt&&(this[lt]=at,this.removeStyle(lt))},removeStyle:function(lt){if(!(!this.styles||!lt||lt==="")){var nt=this.styles,ut,ht,at;for(ht in nt){ut=nt[ht];for(at in ut)delete ut[at][lt],Object.keys(ut[at]).length===0&&delete ut[at];Object.keys(ut).length===0&&delete nt[ht]}}},_extendStyles:function(lt,nt){var ut=this.get2DCursorLocation(lt);this._getLineStyle(ut.lineIndex)||this._setLineStyle(ut.lineIndex),this._getStyleDeclaration(ut.lineIndex,ut.charIndex)||this._setStyleDeclaration(ut.lineIndex,ut.charIndex,{}),$.util.object.extend(this._getStyleDeclaration(ut.lineIndex,ut.charIndex),nt)},get2DCursorLocation:function(lt,nt){typeof lt>"u"&&(lt=this.selectionStart);for(var ut=nt?this._unwrappedTextLines:this._textLines,ht=ut.length,at=0;at<ht;at++){if(lt<=ut[at].length)return{lineIndex:at,charIndex:lt};lt-=ut[at].length+this.missingNewlineOffset(at)}return{lineIndex:at-1,charIndex:ut[at-1].length<lt?ut[at-1].length:lt}},getSelectionStyles:function(lt,nt,ut){typeof lt>"u"&&(lt=this.selectionStart||0),typeof nt>"u"&&(nt=this.selectionEnd||lt);for(var ht=[],at=lt;at<nt;at++)ht.push(this.getStyleAtPosition(at,ut));return ht},getStyleAtPosition:function(lt,nt){var ut=this.get2DCursorLocation(lt),ht=nt?this.getCompleteStyleDeclaration(ut.lineIndex,ut.charIndex):this._getStyleDeclaration(ut.lineIndex,ut.charIndex);return ht||{}},setSelectionStyles:function(lt,nt,ut){typeof nt>"u"&&(nt=this.selectionStart||0),typeof ut>"u"&&(ut=this.selectionEnd||nt);for(var ht=nt;ht<ut;ht++)this._extendStyles(ht,lt);return this._forceClearCache=!0,this},_getStyleDeclaration:function(lt,nt){var ut=this.styles&&this.styles[lt];return ut?ut[nt]:null},getCompleteStyleDeclaration:function(lt,nt){for(var ut=this._getStyleDeclaration(lt,nt)||{},ht={},at,it=0;it<this._styleProperties.length;it++)at=this._styleProperties[it],ht[at]=typeof ut[at]>"u"?this[at]:ut[at];return ht},_setStyleDeclaration:function(lt,nt,ut){this.styles[lt][nt]=ut},_deleteStyleDeclaration:function(lt,nt){delete this.styles[lt][nt]},_getLineStyle:function(lt){return!!this.styles[lt]},_setLineStyle:function(lt){this.styles[lt]={}},_deleteLineStyle:function(lt){delete this.styles[lt]}})}(),function(){function lt(nt){nt.textDecoration&&(nt.textDecoration.indexOf("underline")>-1&&(nt.underline=!0),nt.textDecoration.indexOf("line-through")>-1&&(nt.linethrough=!0),nt.textDecoration.indexOf("overline")>-1&&(nt.overline=!0),delete nt.textDecoration)}$.IText=$.util.createClass($.Text,$.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(nt,ut){this.callSuper("initialize",nt,ut),this.initBehavior()},setSelectionStart:function(nt){nt=Math.max(nt,0),this._updateAndFire("selectionStart",nt)},setSelectionEnd:function(nt){nt=Math.min(nt,this.text.length),this._updateAndFire("selectionEnd",nt)},_updateAndFire:function(nt,ut){this[nt]!==ut&&(this._fireSelectionChanged(),this[nt]=ut),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(nt){this.clearContextTop(),this.callSuper("render",nt),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(nt){this.callSuper("_render",nt)},clearContextTop:function(nt){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var ut=this.canvas.contextTop,ht=this.canvas.viewportTransform;ut.save(),ut.transform(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5]),this.transform(ut),this._clearTextArea(ut),nt||ut.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var nt=this._getCursorBoundaries(),ut=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(nt,ut):this.renderSelection(nt,ut),ut.restore()}},_clearTextArea:function(nt){var ut=this.width+4,ht=this.height+4;nt.clearRect(-ut/2,-ht/2,ut,ht)},_getCursorBoundaries:function(nt){typeof nt>"u"&&(nt=this.selectionStart);var ut=this._getLeftOffset(),ht=this._getTopOffset(),at=this._getCursorBoundariesOffsets(nt);return{left:ut,top:ht,leftOffset:at.left,topOffset:at.top}},_getCursorBoundariesOffsets:function(nt){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var ut,ht,at,it=0,rt=0,ot,ft=this.get2DCursorLocation(nt);at=ft.charIndex,ht=ft.lineIndex;for(var ct=0;ct<ht;ct++)it+=this.getHeightOfLine(ct);ut=this._getLineLeftOffset(ht);var dt=this.__charBounds[ht][at];return dt&&(rt=dt.left),this.charSpacing!==0&&at===this._textLines[ht].length&&(rt-=this._getWidthOfCharSpacing()),ot={top:it,left:ut+(rt>0?rt:0)},this.direction==="rtl"&&(ot.left*=-1),this.cursorOffsetCache=ot,this.cursorOffsetCache},renderCursor:function(nt,ut){var ht=this.get2DCursorLocation(),at=ht.lineIndex,it=ht.charIndex>0?ht.charIndex-1:0,rt=this.getValueOfPropertyAt(at,it,"fontSize"),ot=this.scaleX*this.canvas.getZoom(),ft=this.cursorWidth/ot,ct=nt.topOffset,dt=this.getValueOfPropertyAt(at,it,"deltaY");ct+=(1-this._fontSizeFraction)*this.getHeightOfLine(at)/this.lineHeight-rt*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(nt,ut),ut.fillStyle=this.cursorColor||this.getValueOfPropertyAt(at,it,"fill"),ut.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,ut.fillRect(nt.left+nt.leftOffset-ft/2,ct+nt.top+dt,ft,rt)},renderSelection:function(nt,ut){for(var ht=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,at=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,it=this.textAlign.indexOf("justify")!==-1,rt=this.get2DCursorLocation(ht),ot=this.get2DCursorLocation(at),ft=rt.lineIndex,ct=ot.lineIndex,dt=rt.charIndex<0?0:rt.charIndex,pt=ot.charIndex<0?0:ot.charIndex,mt=ft;mt<=ct;mt++){var _t=this._getLineLeftOffset(mt)||0,vt=this.getHeightOfLine(mt),yt=0,Ct=0,bt=0;if(mt===ft&&(Ct=this.__charBounds[ft][dt].left),mt>=ft&&mt<ct)bt=it&&!this.isEndOfWrapping(mt)?this.width:this.getLineWidth(mt)||5;else if(mt===ct)if(pt===0)bt=this.__charBounds[ct][pt].left;else{var Dt=this._getWidthOfCharSpacing();bt=this.__charBounds[ct][pt-1].left+this.__charBounds[ct][pt-1].width-Dt}yt=vt,(this.lineHeight<1||mt===ct&&this.lineHeight>1)&&(vt/=this.lineHeight);var wt=nt.left+_t+Ct,Ft=bt-Ct,Lt=vt,Qt=0;this.inCompositionMode?(ut.fillStyle=this.compositionColor||"black",Lt=1,Qt=vt):ut.fillStyle=this.selectionColor,this.direction==="rtl"&&(wt=this.width-wt-Ft),ut.fillRect(wt,nt.top+nt.topOffset+Qt,Ft,Lt),nt.topOffset+=yt}},getCurrentCharFontSize:function(){var nt=this._getCurrentCharIndex();return this.getValueOfPropertyAt(nt.l,nt.c,"fontSize")},getCurrentCharColor:function(){var nt=this._getCurrentCharIndex();return this.getValueOfPropertyAt(nt.l,nt.c,"fill")},_getCurrentCharIndex:function(){var nt=this.get2DCursorLocation(this.selectionStart,!0),ut=nt.charIndex>0?nt.charIndex-1:0;return{l:nt.lineIndex,c:ut}}}),$.IText.fromObject=function(nt,ut){var ht=$.util.stylesFromArray(nt.styles,nt.text),at=Object.assign({},nt,{styles:ht});if(lt(at),at.styles)for(var it in at.styles)for(var rt in at.styles[it])lt(at.styles[it][rt]);$.Object._fromObject("IText",at,ut,"text")}}(),function(){var lt=$.util.object.clone;$.util.object.extend($.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var nt=this;this.on("added",function(){var ut=nt.canvas;ut&&(ut._hasITextHandlers||(ut._hasITextHandlers=!0,nt._initCanvasHandlers(ut)),ut._iTextInstances=ut._iTextInstances||[],ut._iTextInstances.push(nt))})},initRemovedHandler:function(){var nt=this;this.on("removed",function(){var ut=nt.canvas;ut&&(ut._iTextInstances=ut._iTextInstances||[],$.util.removeFromArray(ut._iTextInstances,nt),ut._iTextInstances.length===0&&(ut._hasITextHandlers=!1,nt._removeCanvasHandlers(ut)))})},_initCanvasHandlers:function(nt){nt._mouseUpITextHandler=function(){nt._iTextInstances&&nt._iTextInstances.forEach(function(ut){ut.__isMousedown=!1})},nt.on("mouse:up",nt._mouseUpITextHandler)},_removeCanvasHandlers:function(nt){nt.off("mouse:up",nt._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(nt,ut,ht,at){var it;return it={isAborted:!1,abort:function(){this.isAborted=!0}},nt.animate("_currentCursorOpacity",ut,{duration:ht,onComplete:function(){it.isAborted||nt[at]()},onChange:function(){nt.canvas&&nt.selectionStart===nt.selectionEnd&&nt.renderCursorOrSelection()},abort:function(){return it.isAborted}}),it},_onTickComplete:function(){var nt=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){nt._currentTickCompleteState=nt._animateCursor(nt,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(nt){var ut=this,ht=nt?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){ut._tick()},ht)},abortCursorAnimation:function(){var nt=this._currentTickState||this._currentTickCompleteState,ut=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,nt&&ut&&ut.clearContext(ut.contextTop||ut.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(nt){var ut=0,ht=nt-1;if(this._reSpace.test(this._text[ht]))for(;this._reSpace.test(this._text[ht]);)ut++,ht--;for(;/\S/.test(this._text[ht])&&ht>-1;)ut++,ht--;return nt-ut},findWordBoundaryRight:function(nt){var ut=0,ht=nt;if(this._reSpace.test(this._text[ht]))for(;this._reSpace.test(this._text[ht]);)ut++,ht++;for(;/\S/.test(this._text[ht])&&ht<this._text.length;)ut++,ht++;return nt+ut},findLineBoundaryLeft:function(nt){for(var ut=0,ht=nt-1;!/\n/.test(this._text[ht])&&ht>-1;)ut++,ht--;return nt-ut},findLineBoundaryRight:function(nt){for(var ut=0,ht=nt;!/\n/.test(this._text[ht])&&ht<this._text.length;)ut++,ht++;return nt+ut},searchWordBoundary:function(nt,ut){for(var ht=this._text,at=this._reSpace.test(ht[nt])?nt-1:nt,it=ht[at],rt=$.reNonWord;!rt.test(it)&&at>0&&at<ht.length;)at+=ut,it=ht[at];return rt.test(it)&&(at+=ut===1?0:1),at},selectWord:function(nt){nt=nt||this.selectionStart;var ut=this.searchWordBoundary(nt,-1),ht=this.searchWordBoundary(nt,1);this.selectionStart=ut,this.selectionEnd=ht,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(nt){nt=nt||this.selectionStart;var ut=this.findLineBoundaryLeft(nt),ht=this.findLineBoundaryRight(nt);return this.selectionStart=ut,this.selectionEnd=ht,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(nt){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(nt),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(nt){nt._iTextInstances&&nt._iTextInstances.forEach(function(ut){ut.selected=!1,ut.isEditing&&ut.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(nt){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var ut=this.getSelectionStartFromPointer(nt.e),ht=this.selectionStart,at=this.selectionEnd;(ut!==this.__selectionStartOnMouseDown||ht===at)&&(ht===ut||at===ut)||(ut>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=ut):(this.selectionStart=ut,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==ht||this.selectionEnd!==at)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(nt,ut,ht){var at=ht.slice(0,nt),it=$.util.string.graphemeSplit(at).length;if(nt===ut)return{selectionStart:it,selectionEnd:it};var rt=ht.slice(nt,ut),ot=$.util.string.graphemeSplit(rt).length;return{selectionStart:it,selectionEnd:it+ot}},fromGraphemeToStringSelection:function(nt,ut,ht){var at=ht.slice(0,nt),it=at.join("").length;if(nt===ut)return{selectionStart:it,selectionEnd:it};var rt=ht.slice(nt,ut),ot=rt.join("").length;return{selectionStart:it,selectionEnd:it+ot}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var nt=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=nt.selectionStart,this.hiddenTextarea.selectionEnd=nt.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var nt=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=nt.selectionEnd,this.inCompositionMode||(this.selectionStart=nt.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var nt=this._calcTextareaPosition();this.hiddenTextarea.style.left=nt.left,this.hiddenTextarea.style.top=nt.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var nt=this.inCompositionMode?this.compositionStart:this.selectionStart,ut=this._getCursorBoundaries(nt),ht=this.get2DCursorLocation(nt),at=ht.lineIndex,it=ht.charIndex,rt=this.getValueOfPropertyAt(at,it,"fontSize")*this.lineHeight,ot=ut.leftOffset,ft=this.calcTransformMatrix(),ct={x:ut.left+ot,y:ut.top+ut.topOffset+rt},dt=this.canvas.getRetinaScaling(),pt=this.canvas.upperCanvasEl,mt=pt.width/dt,_t=pt.height/dt,vt=mt-rt,yt=_t-rt,Ct=pt.clientWidth/mt,bt=pt.clientHeight/_t;return ct=$.util.transformPoint(ct,ft),ct=$.util.transformPoint(ct,this.canvas.viewportTransform),ct.x*=Ct,ct.y*=bt,ct.x<0&&(ct.x=0),ct.x>vt&&(ct.x=vt),ct.y<0&&(ct.y=0),ct.y>yt&&(ct.y=yt),ct.x+=this.canvas._offset.left,ct.y+=this.canvas._offset.top,{left:ct.x+"px",top:ct.y+"px",fontSize:rt+"px",charHeight:rt}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var nt=this._textBeforeEdit!==this.text,ut=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,ut&&(ut.blur&&ut.blur(),ut.parentNode&&ut.parentNode.removeChild(ut)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),nt&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),nt&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var nt in this.styles)this._textLines[nt]||delete this.styles[nt]},removeStyleFromTo:function(nt,ut){var ht=this.get2DCursorLocation(nt,!0),at=this.get2DCursorLocation(ut,!0),it=ht.lineIndex,rt=ht.charIndex,ot=at.lineIndex,ft=at.charIndex,ct,dt;if(it!==ot){if(this.styles[it])for(ct=rt;ct<this._unwrappedTextLines[it].length;ct++)delete this.styles[it][ct];if(this.styles[ot])for(ct=ft;ct<this._unwrappedTextLines[ot].length;ct++)dt=this.styles[ot][ct],dt&&(this.styles[it]||(this.styles[it]={}),this.styles[it][rt+ct-ft]=dt);for(ct=it+1;ct<=ot;ct++)delete this.styles[ct];this.shiftLineStyles(ot,it-ot)}else if(this.styles[it]){dt=this.styles[it];var pt=ft-rt,mt,_t;for(ct=rt;ct<ft;ct++)delete dt[ct];for(_t in this.styles[it])mt=parseInt(_t,10),mt>=ft&&(dt[mt-pt]=dt[_t],delete dt[_t])}},shiftLineStyles:function(nt,ut){var ht=lt(this.styles);for(var at in this.styles){var it=parseInt(at,10);it>nt&&(this.styles[it+ut]=ht[it],ht[it-ut]||delete this.styles[it])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(nt,ut,ht,at){var it,rt={},ot=!1,ft=this._unwrappedTextLines[nt].length===ut;ht||(ht=1),this.shiftLineStyles(nt,ht),this.styles[nt]&&(it=this.styles[nt][ut===0?ut:ut-1]);for(var ct in this.styles[nt]){var dt=parseInt(ct,10);dt>=ut&&(ot=!0,rt[dt-ut]=this.styles[nt][ct],ft&&ut===0||delete this.styles[nt][ct])}var pt=!1;for(ot&&!ft&&(this.styles[nt+ht]=rt,pt=!0),pt&&ht--;ht>0;)at&&at[ht-1]?this.styles[nt+ht]={0:lt(at[ht-1])}:it?this.styles[nt+ht]={0:lt(it)}:delete this.styles[nt+ht],ht--;this._forceClearCache=!0},insertCharStyleObject:function(nt,ut,ht,at){this.styles||(this.styles={});var it=this.styles[nt],rt=it?lt(it):{};ht||(ht=1);for(var ot in rt){var ft=parseInt(ot,10);ft>=ut&&(it[ft+ht]=rt[ft],rt[ft-ht]||delete it[ft])}if(this._forceClearCache=!0,at){for(;ht--;)!Object.keys(at[ht]).length||(this.styles[nt]||(this.styles[nt]={}),this.styles[nt][ut+ht]=lt(at[ht]));return}if(!!it)for(var ct=it[ut?ut-1:1];ct&&ht--;)this.styles[nt][ut+ht]=lt(ct)},insertNewStyleBlock:function(nt,ut,ht){for(var at=this.get2DCursorLocation(ut,!0),it=[0],rt=0,ot=0;ot<nt.length;ot++)nt[ot]===`
`?(rt++,it[rt]=0):it[rt]++;it[0]>0&&(this.insertCharStyleObject(at.lineIndex,at.charIndex,it[0],ht),ht=ht&&ht.slice(it[0]+1)),rt&&this.insertNewlineStyleObject(at.lineIndex,at.charIndex+it[0],rt);for(var ot=1;ot<rt;ot++)it[ot]>0?this.insertCharStyleObject(at.lineIndex+ot,0,it[ot],ht):ht&&this.styles[at.lineIndex+ot]&&ht[0]&&(this.styles[at.lineIndex+ot][0]=ht[0]),ht=ht&&ht.slice(it[ot]+1);it[ot]>0&&this.insertCharStyleObject(at.lineIndex+ot,0,it[ot],ht)},setSelectionStartEndWithShift:function(nt,ut,ht){ht<=nt?(ut===nt?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=nt),this.selectionStart=ht):ht>nt&&ht<ut?this._selectionDirection==="right"?this.selectionEnd=ht:this.selectionStart=ht:(ut===nt?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=ut),this.selectionEnd=ht)},setSelectionInBoundaries:function(){var nt=this.text.length;this.selectionStart>nt?this.selectionStart=nt:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>nt?this.selectionEnd=nt:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),$.util.object.extend($.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(lt){if(!!this.canvas){this.__newClickTime=+new Date;var nt=lt.pointer;this.isTripleClick(nt)&&(this.fire("tripleclick",lt),this._stopEvent(lt.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=nt,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(lt){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===lt.x&&this.__lastPointer.y===lt.y},_stopEvent:function(lt){lt.preventDefault&&lt.preventDefault(),lt.stopPropagation&&lt.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(lt){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(lt.e))},tripleClickHandler:function(lt){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(lt.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(lt){!this.canvas||!this.editable||lt.e.button&&lt.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(lt.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(lt){!this.canvas||!this.editable||lt.e.button&&lt.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(lt){if(this.__isMousedown=!1,!(!this.editable||this.group||lt.transform&&lt.transform.actionPerformed||lt.e.button&&lt.e.button!==1)){if(this.canvas){var nt=this.canvas._activeObject;if(nt&&nt!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(lt.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(lt){var nt=this.getSelectionStartFromPointer(lt),ut=this.selectionStart,ht=this.selectionEnd;lt.shiftKey?this.setSelectionStartEndWithShift(ut,ht,nt):(this.selectionStart=nt,this.selectionEnd=nt),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(lt){for(var nt=this.getLocalPointer(lt),ut=0,ht=0,at=0,it=0,rt=0,ot,ft,ct=0,dt=this._textLines.length;ct<dt&&at<=nt.y;ct++)at+=this.getHeightOfLine(ct)*this.scaleY,rt=ct,ct>0&&(it+=this._textLines[ct-1].length+this.missingNewlineOffset(ct-1));ot=this._getLineLeftOffset(rt),ht=ot*this.scaleX,ft=this._textLines[rt],this.direction==="rtl"&&(nt.x=this.width*this.scaleX-nt.x+ht);for(var pt=0,mt=ft.length;pt<mt&&(ut=ht,ht+=this.__charBounds[rt][pt].kernedWidth*this.scaleX,ht<=nt.x);pt++)it++;return this._getNewSelectionStartFromOffset(nt,ut,ht,it,mt)},_getNewSelectionStartFromOffset:function(lt,nt,ut,ht,at){var it=lt.x-nt,rt=ut-lt.x,ot=rt>it||rt<0?0:1,ft=ht+ot;return this.flipX&&(ft=at-ft),ft>this._text.length&&(ft=this._text.length),ft}}),$.util.object.extend($.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=$.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var lt=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+lt.top+"; left: "+lt.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uFF70top: "+lt.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):$.document.body.appendChild(this.hiddenTextarea),$.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),$.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),$.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),$.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),$.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),$.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),$.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),$.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),$.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&($.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(lt){if(!!this.isEditing){var nt=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(lt.keyCode in nt)this[nt[lt.keyCode]](lt);else if(lt.keyCode in this.ctrlKeysMapDown&&(lt.ctrlKey||lt.metaKey))this[this.ctrlKeysMapDown[lt.keyCode]](lt);else return;lt.stopImmediatePropagation(),lt.preventDefault(),lt.keyCode>=33&&lt.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(lt){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(lt.keyCode in this.ctrlKeysMapUp&&(lt.ctrlKey||lt.metaKey))this[this.ctrlKeysMapUp[lt.keyCode]](lt);else return;lt.stopImmediatePropagation(),lt.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(lt){var nt=this.fromPaste;if(this.fromPaste=!1,lt&&lt.stopPropagation(),!!this.isEditing){var ut=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,ht=this._text.length,at=ut.length,it,rt,ot=at-ht,ft=this.selectionStart,ct=this.selectionEnd,dt=ft!==ct,pt,mt,_t;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var vt=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),yt=ft>vt.selectionStart;dt?(it=this._text.slice(ft,ct),ot+=ct-ft):at<ht&&(yt?it=this._text.slice(ct+ot,ct):it=this._text.slice(ft,ft-ot)),rt=ut.slice(vt.selectionEnd-ot,vt.selectionEnd),it&&it.length&&(rt.length&&(pt=this.getSelectionStyles(ft,ft+1,!1),pt=rt.map(function(){return pt[0]})),dt?(mt=ft,_t=ct):yt?(mt=ct-it.length,_t=ct):(mt=ct,_t=ct+it.length),this.removeStyleFromTo(mt,_t)),rt.length&&(nt&&rt.join("")===$.copiedText&&!$.disableStyleCopyPaste&&(pt=$.copiedTextStyle),this.insertNewStyleBlock(rt,ft,pt)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(lt){this.compositionStart=lt.target.selectionStart,this.compositionEnd=lt.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&($.copiedText=this.getSelectedText(),$.disableStyleCopyPaste?$.copiedTextStyle=null:$.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(lt){return lt&&lt.clipboardData||$.window.clipboardData},_getWidthBeforeCursor:function(lt,nt){var ut=this._getLineLeftOffset(lt),ht;return nt>0&&(ht=this.__charBounds[lt][nt-1],ut+=ht.left+ht.width),ut},getDownCursorOffset:function(lt,nt){var ut=this._getSelectionForOffset(lt,nt),ht=this.get2DCursorLocation(ut),at=ht.lineIndex;if(at===this._textLines.length-1||lt.metaKey||lt.keyCode===34)return this._text.length-ut;var it=ht.charIndex,rt=this._getWidthBeforeCursor(at,it),ot=this._getIndexOnLine(at+1,rt),ft=this._textLines[at].slice(it);return ft.length+ot+1+this.missingNewlineOffset(at)},_getSelectionForOffset:function(lt,nt){return lt.shiftKey&&this.selectionStart!==this.selectionEnd&&nt?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(lt,nt){var ut=this._getSelectionForOffset(lt,nt),ht=this.get2DCursorLocation(ut),at=ht.lineIndex;if(at===0||lt.metaKey||lt.keyCode===33)return-ut;var it=ht.charIndex,rt=this._getWidthBeforeCursor(at,it),ot=this._getIndexOnLine(at-1,rt),ft=this._textLines[at].slice(0,it),ct=this.missingNewlineOffset(at-1);return-this._textLines[at-1].length+ot-ft.length+(1-ct)},_getIndexOnLine:function(lt,nt){for(var ut=this._textLines[lt],ht=this._getLineLeftOffset(lt),at=ht,it=0,rt,ot,ft=0,ct=ut.length;ft<ct;ft++)if(rt=this.__charBounds[lt][ft].width,at+=rt,at>nt){ot=!0;var dt=at-rt,pt=at,mt=Math.abs(dt-nt),_t=Math.abs(pt-nt);it=_t<mt?ft:ft-1;break}return ot||(it=ut.length-1),it},moveCursorDown:function(lt){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",lt)},moveCursorUp:function(lt){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",lt)},_moveCursorUpOrDown:function(lt,nt){var ut="get"+lt+"CursorOffset",ht=this[ut](nt,this._selectionDirection==="right");nt.shiftKey?this.moveCursorWithShift(ht):this.moveCursorWithoutShift(ht),ht!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(lt){var nt=this._selectionDirection==="left"?this.selectionStart+lt:this.selectionEnd+lt;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,nt),lt!==0},moveCursorWithoutShift:function(lt){return lt<0?(this.selectionStart+=lt,this.selectionEnd=this.selectionStart):(this.selectionEnd+=lt,this.selectionStart=this.selectionEnd),lt!==0},moveCursorLeft:function(lt){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",lt)},_move:function(lt,nt,ut){var ht;if(lt.altKey)ht=this["findWordBoundary"+ut](this[nt]);else if(lt.metaKey||lt.keyCode===35||lt.keyCode===36)ht=this["findLineBoundary"+ut](this[nt]);else return this[nt]+=ut==="Left"?-1:1,!0;if(typeof ht<"u"&&this[nt]!==ht)return this[nt]=ht,!0},_moveLeft:function(lt,nt){return this._move(lt,nt,"Left")},_moveRight:function(lt,nt){return this._move(lt,nt,"Right")},moveCursorLeftWithoutShift:function(lt){var nt=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(nt=this._moveLeft(lt,"selectionStart")),this.selectionEnd=this.selectionStart,nt},moveCursorLeftWithShift:function(lt){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(lt,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(lt,"selectionStart")},moveCursorRight:function(lt){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",lt)},_moveCursorLeftOrRight:function(lt,nt){var ut="moveCursor"+lt+"With";this._currentCursorOpacity=1,nt.shiftKey?ut+="Shift":ut+="outShift",this[ut](nt)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(lt){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(lt,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(lt,"selectionEnd")},moveCursorRightWithoutShift:function(lt){var nt=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(nt=this._moveRight(lt,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,nt},removeChars:function(lt,nt){typeof nt>"u"&&(nt=lt+1),this.removeStyleFromTo(lt,nt),this._text.splice(lt,nt-lt),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(lt,nt,ut,ht){typeof ht>"u"&&(ht=ut),ht>ut&&this.removeStyleFromTo(ut,ht);var at=$.util.string.graphemeSplit(lt);this.insertNewStyleBlock(at,ut,nt),this._text=[].concat(this._text.slice(0,ut),at,this._text.slice(ht)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var lt=$.util.toFixed,nt=/  +/g;$.util.object.extend($.Text.prototype,{_toSVG:function(){var ut=this._getSVGLeftTopOffsets(),ht=this._getSVGTextAndBg(ut.textTop,ut.textLeft);return this._wrapSVGTextAndBg(ht)},toSVG:function(ut){return this._createBaseSVGMarkup(this._toSVG(),{reviver:ut,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(ut){var ht=!0,at=this.getSvgTextDecoration(this);return[ut.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",at?'text-decoration="'+at+'" ':"",'style="',this.getSvgStyles(ht),'"',this.addPaintOrder()," >",ut.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(ut,ht){var at=[],it=[],rt=ut,ot;this._setSVGBg(it);for(var ft=0,ct=this._textLines.length;ft<ct;ft++)ot=this._getLineLeftOffset(ft),(this.textBackgroundColor||this.styleHas("textBackgroundColor",ft))&&this._setSVGTextLineBg(it,ft,ht+ot,rt),this._setSVGTextLineText(at,ft,ht+ot,rt),rt+=this.getHeightOfLine(ft);return{textSpans:at,textBgRects:it}},_createTextCharSpan:function(ut,ht,at,it){var rt=ut!==ut.trim()||ut.match(nt),ot=this.getSvgSpanStyles(ht,rt),ft=ot?'style="'+ot+'"':"",ct=ht.deltaY,dt="",pt=$.Object.NUM_FRACTION_DIGITS;return ct&&(dt=' dy="'+lt(ct,pt)+'" '),['<tspan x="',lt(at,pt),'" y="',lt(it,pt),'" ',dt,ft,">",$.util.string.escapeXml(ut),"</tspan>"].join("")},_setSVGTextLineText:function(ut,ht,at,it){var rt=this.getHeightOfLine(ht),ot=this.textAlign.indexOf("justify")!==-1,ft,ct,dt="",pt,mt,_t=0,vt=this._textLines[ht],yt;it+=rt*(1-this._fontSizeFraction)/this.lineHeight;for(var Ct=0,bt=vt.length-1;Ct<=bt;Ct++)yt=Ct===bt||this.charSpacing,dt+=vt[Ct],pt=this.__charBounds[ht][Ct],_t===0?(at+=pt.kernedWidth-pt.width,_t+=pt.width):_t+=pt.kernedWidth,ot&&!yt&&this._reSpaceAndTab.test(vt[Ct])&&(yt=!0),yt||(ft=ft||this.getCompleteStyleDeclaration(ht,Ct),ct=this.getCompleteStyleDeclaration(ht,Ct+1),yt=$.util.hasStyleChanged(ft,ct,!0)),yt&&(mt=this._getStyleDeclaration(ht,Ct)||{},ut.push(this._createTextCharSpan(dt,mt,at,it)),dt="",ft=ct,at+=_t,_t=0)},_pushTextBgRect:function(ut,ht,at,it,rt,ot){var ft=$.Object.NUM_FRACTION_DIGITS;ut.push("		<rect ",this._getFillAttributes(ht),' x="',lt(at,ft),'" y="',lt(it,ft),'" width="',lt(rt,ft),'" height="',lt(ot,ft),`"></rect>
`)},_setSVGTextLineBg:function(ut,ht,at,it){for(var rt=this._textLines[ht],ot=this.getHeightOfLine(ht)/this.lineHeight,ft=0,ct=0,dt,pt,mt=this.getValueOfPropertyAt(ht,0,"textBackgroundColor"),_t=0,vt=rt.length;_t<vt;_t++)dt=this.__charBounds[ht][_t],pt=this.getValueOfPropertyAt(ht,_t,"textBackgroundColor"),pt!==mt?(mt&&this._pushTextBgRect(ut,mt,at+ct,it,ft,ot),ct=dt.left,ft=dt.width,mt=pt):ft+=dt.kernedWidth;pt&&this._pushTextBgRect(ut,pt,at+ct,it,ft,ot)},_getFillAttributes:function(ut){var ht=ut&&typeof ut=="string"?new $.Color(ut):"";return!ht||!ht.getSource()||ht.getAlpha()===1?'fill="'+ut+'"':'opacity="'+ht.getAlpha()+'" fill="'+ht.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(ut){for(var ht=0,at=0,it=0;it<ut;it++)ht+=this.getHeightOfLine(it);return at=this.getHeightOfLine(it),{lineTop:ht,offset:(this._fontSizeMult-this._fontSizeFraction)*at/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(ut){var ht=$.Object.prototype.getSvgStyles.call(this,ut);return ht+" white-space: pre;"}})}(),function(lt){var nt=lt.fabric||(lt.fabric={});nt.Textbox=nt.util.createClass(nt.IText,nt.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:nt.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(ut){for(var ht=0,at=0,it=0,rt={},ot=0;ot<ut.graphemeLines.length;ot++)ut.graphemeText[it]===`
`&&ot>0?(at=0,it++,ht++):!this.splitByGrapheme&&this._reSpaceAndTab.test(ut.graphemeText[it])&&ot>0&&(at++,it++),rt[ot]={line:ht,offset:at},it+=ut.graphemeLines[ot].length,at+=ut.graphemeLines[ot].length;return rt},styleHas:function(ut,ht){if(this._styleMap&&!this.isWrapping){var at=this._styleMap[ht];at&&(ht=at.line)}return nt.Text.prototype.styleHas.call(this,ut,ht)},isEmptyStyles:function(ut){if(!this.styles)return!0;var ht=0,at=ut+1,it,rt,ot=!1,ft=this._styleMap[ut],ct=this._styleMap[ut+1];ft&&(ut=ft.line,ht=ft.offset),ct&&(at=ct.line,ot=at===ut,it=ct.offset),rt=typeof ut>"u"?this.styles:{line:this.styles[ut]};for(var dt in rt)for(var pt in rt[dt])if(pt>=ht&&(!ot||pt<it))for(var mt in rt[dt][pt])return!1;return!0},_getStyleDeclaration:function(ut,ht){if(this._styleMap&&!this.isWrapping){var at=this._styleMap[ut];if(!at)return null;ut=at.line,ht=at.offset+ht}return this.callSuper("_getStyleDeclaration",ut,ht)},_setStyleDeclaration:function(ut,ht,at){var it=this._styleMap[ut];ut=it.line,ht=it.offset+ht,this.styles[ut][ht]=at},_deleteStyleDeclaration:function(ut,ht){var at=this._styleMap[ut];ut=at.line,ht=at.offset+ht,delete this.styles[ut][ht]},_getLineStyle:function(ut){var ht=this._styleMap[ut];return!!this.styles[ht.line]},_setLineStyle:function(ut){var ht=this._styleMap[ut];this.styles[ht.line]={}},_wrapText:function(ut,ht){var at=[],it;for(this.isWrapping=!0,it=0;it<ut.length;it++)at=at.concat(this._wrapLine(ut[it],it,ht));return this.isWrapping=!1,at},_measureWord:function(ut,ht,at){var it=0,rt,ot=!0;at=at||0;for(var ft=0,ct=ut.length;ft<ct;ft++){var dt=this._getGraphemeBox(ut[ft],ht,ft+at,rt,ot);it+=dt.kernedWidth,rt=ut[ft]}return it},_wrapLine:function(ut,ht,at,wt){var rt=0,ot=this.splitByGrapheme,ft=[],ct=[],dt=ot?nt.util.string.graphemeSplit(ut):ut.split(this._wordJoiners),pt="",mt=0,_t=ot?"":" ",vt=0,yt=0,Ct=0,bt=!0,Dt=this._getWidthOfCharSpacing(),wt=wt||0;dt.length===0&&dt.push([]),at-=wt;for(var Ft=0;Ft<dt.length;Ft++)pt=ot?dt[Ft]:nt.util.string.graphemeSplit(dt[Ft]),vt=this._measureWord(pt,ht,mt),mt+=pt.length,rt+=yt+vt-Dt,rt>at&&!bt?(ft.push(ct),ct=[],rt=vt,bt=!0):rt+=Dt,!bt&&!ot&&ct.push(_t),ct=ct.concat(pt),yt=ot?0:this._measureWord([_t],ht,mt),mt++,bt=!1,vt>Ct&&(Ct=vt);return Ft&&ft.push(ct),Ct+wt>this.dynamicMinWidth&&(this.dynamicMinWidth=Ct-Dt+wt),ft},isEndOfWrapping:function(ut){return!this._styleMap[ut+1]||this._styleMap[ut+1].line!==this._styleMap[ut].line},missingNewlineOffset:function(ut){return this.splitByGrapheme?this.isEndOfWrapping(ut)?1:0:1},_splitTextIntoLines:function(ut){for(var ht=nt.Text.prototype._splitTextIntoLines.call(this,ut),at=this._wrapText(ht.lines,this.width),it=new Array(at.length),rt=0;rt<at.length;rt++)it[rt]=at[rt].join("");return ht.lines=it,ht.graphemeLines=at,ht},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var ut={};for(var ht in this._styleMap)this._textLines[ht]&&(ut[this._styleMap[ht].line]=1);for(var ht in this.styles)ut[ht]||delete this.styles[ht]},toObject:function(ut){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(ut))}}),nt.Textbox.fromObject=function(ut,ht){var at=nt.util.stylesFromArray(ut.styles,ut.text),it=Object.assign({},ut,{styles:at});return nt.Object._fromObject("Textbox",it,ht,"text")}}(j),function(){var lt=$.controlsUtils,nt=lt.scaleSkewCursorStyleHandler,ut=lt.scaleCursorStyleHandler,ht=lt.scalingEqually,at=lt.scalingYOrSkewingX,it=lt.scalingXOrSkewingY,rt=lt.scaleOrSkewActionName,ot=$.Object.prototype.controls;if(ot.ml=new $.Control({x:-.5,y:0,cursorStyleHandler:nt,actionHandler:it,getActionName:rt}),ot.mr=new $.Control({x:.5,y:0,cursorStyleHandler:nt,actionHandler:it,getActionName:rt}),ot.mb=new $.Control({x:0,y:.5,cursorStyleHandler:nt,actionHandler:at,getActionName:rt}),ot.mt=new $.Control({x:0,y:-.5,cursorStyleHandler:nt,actionHandler:at,getActionName:rt}),ot.tl=new $.Control({x:-.5,y:-.5,cursorStyleHandler:ut,actionHandler:ht}),ot.tr=new $.Control({x:.5,y:-.5,cursorStyleHandler:ut,actionHandler:ht}),ot.bl=new $.Control({x:-.5,y:.5,cursorStyleHandler:ut,actionHandler:ht}),ot.br=new $.Control({x:.5,y:.5,cursorStyleHandler:ut,actionHandler:ht}),ot.mtr=new $.Control({x:0,y:-.5,actionHandler:lt.rotationWithSnapping,cursorStyleHandler:lt.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),$.Textbox){var ft=$.Textbox.prototype.controls={};ft.mtr=ot.mtr,ft.tr=ot.tr,ft.br=ot.br,ft.tl=ot.tl,ft.bl=ot.bl,ft.mt=ot.mt,ft.mb=ot.mb,ft.mr=new $.Control({x:.5,y:0,actionHandler:lt.changeWidth,cursorStyleHandler:nt,actionName:"resizing"}),ft.ml=new $.Control({x:-.5,y:0,actionHandler:lt.changeWidth,cursorStyleHandler:nt,actionName:"resizing"})}}()})(fabric);var lib$h={exports:{}},core_min={};function commonjsRequire(j){throw new Error('Could not dynamically require "'+j+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};(function(module,exports){(function($,_e){module.exports=_e()})(globalThis,()=>(()=>{var __webpack_modules__=[,(j,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.UNSUPPORTED_FEATURES=$.TextRenderingMode=$.StreamType=$.RenderingIntentFlag=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FontType=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationStateModelType=$.AnnotationReviewState=$.AnnotationReplyType=$.AnnotationMode=$.AnnotationMarkedState=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.arrayByteLength=kt,$.arraysToBytes=Nt,$.assert=Tt,$.bytesToString=nn,$.createPromiseCapability=Wn,$.createValidAbsoluteUrl=xt,$.getModificationDate=Vn,$.getVerbosityLevel=Et,$.info=At,$.isArrayBuffer=jn,$.isArrayEqual=Gn,$.objectFromMap=sn,$.objectSize=Vt,$.setVerbosityLevel=Gt,$.shadow=$t,$.string32=jt,$.stringToBytes=Pt,$.stringToPDFString=on,$.stringToUTF8String=Cn,$.unreachable=Ot,$.utf8StringToString=kn,$.warn=It;const _e=[1,0,0,1,0,0];$.IDENTITY_MATRIX=_e;const et=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=et;const tt=1.35;$.LINE_FACTOR=tt;const st=.35;$.LINE_DESCENT_FACTOR=st;const gt=st/tt;$.BASELINE_FACTOR=gt;const lt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=lt;const nt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=nt;const ut="pdfjs_internal_editor_";$.AnnotationEditorPrefix=ut;const ht={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};$.AnnotationEditorType=ht;const at={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};$.AnnotationEditorParamsType=at;const it={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=it;const rt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=rt;const ot={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=ot;const ft={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=ft;const ct={MARKED:"Marked",REVIEW:"Review"};$.AnnotationStateModelType=ct;const dt={MARKED:"Marked",UNMARKED:"Unmarked"};$.AnnotationMarkedState=dt;const pt={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};$.AnnotationReviewState=pt;const mt={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=mt;const _t={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=_t;const vt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=vt;const yt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=yt;const Ct={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=Ct;const bt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=bt;const Dt={O:"PageOpen",C:"PageClose"};$.PageActionEventType=Dt;const wt={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};$.StreamType=wt;const Ft={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};$.FontType=Ft;const Lt={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=Lt;const Qt={NONE:0,BINARY:1};$.CMapCompressionType=Qt;const Ut={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=Ut;const Xt={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};$.UNSUPPORTED_FEATURES=Xt;const qt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=qt;let Jt=Lt.WARNINGS;function Gt(wn){Number.isInteger(wn)&&(Jt=wn)}function Et(){return Jt}function At(wn){Jt>=Lt.INFOS&&console.log(`Info: ${wn}`)}function It(wn){Jt>=Lt.WARNINGS&&console.log(`Warning: ${wn}`)}function Ot(wn){throw new Error(wn)}function Tt(wn,dn){wn||Ot(dn)}function St(wn){if(!wn)return!1;switch(wn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function xt(wn,dn=null,Zt=null){if(!wn)return null;try{if(Zt&&typeof wn=="string"){if(Zt.addDefaultProtocol&&wn.startsWith("www.")){const Pn=wn.match(/\./g);Pn&&Pn.length>=2&&(wn=`http://${wn}`)}if(Zt.tryConvertEncoding)try{wn=Cn(wn)}catch{}}const vn=dn?new URL(wn,dn):new URL(wn);if(St(vn))return vn}catch{}return null}function $t(wn,dn,Zt,vn=!1){return Object.defineProperty(wn,dn,{value:Zt,enumerable:!vn,configurable:!0,writable:!1}),Zt}const Rt=function(){function dn(Zt,vn){this.constructor===dn&&Ot("Cannot initialize BaseException."),this.message=Zt,this.name=vn}return dn.prototype=new Error,dn.constructor=dn,dn}();$.BaseException=Rt;class Bt extends Rt{constructor(dn,Zt){super(dn,"PasswordException"),this.code=Zt}}$.PasswordException=Bt;class Wt extends Rt{constructor(dn,Zt){super(dn,"UnknownErrorException"),this.details=Zt}}$.UnknownErrorException=Wt;class Kt extends Rt{constructor(dn){super(dn,"InvalidPDFException")}}$.InvalidPDFException=Kt;class ln extends Rt{constructor(dn){super(dn,"MissingPDFException")}}$.MissingPDFException=ln;class en extends Rt{constructor(dn,Zt){super(dn,"UnexpectedResponseException"),this.status=Zt}}$.UnexpectedResponseException=en;class tn extends Rt{constructor(dn){super(dn,"FormatError")}}$.FormatError=tn;class Ht extends Rt{constructor(dn){super(dn,"AbortException")}}$.AbortException=Ht;function nn(wn){(typeof wn!="object"||wn===null||wn.length===void 0)&&Ot("Invalid argument for bytesToString");const dn=wn.length,Zt=8192;if(dn<Zt)return String.fromCharCode.apply(null,wn);const vn=[];for(let Pn=0;Pn<dn;Pn+=Zt){const zn=Math.min(Pn+Zt,dn),Hn=wn.subarray(Pn,zn);vn.push(String.fromCharCode.apply(null,Hn))}return vn.join("")}function Pt(wn){typeof wn!="string"&&Ot("Invalid argument for stringToBytes");const dn=wn.length,Zt=new Uint8Array(dn);for(let vn=0;vn<dn;++vn)Zt[vn]=wn.charCodeAt(vn)&255;return Zt}function kt(wn){if(wn.length!==void 0)return wn.length;if(wn.byteLength!==void 0)return wn.byteLength;Ot("Invalid argument for arrayByteLength")}function Nt(wn){const dn=wn.length;if(dn===1&&wn[0]instanceof Uint8Array)return wn[0];let Zt=0;for(let zn=0;zn<dn;zn++)Zt+=kt(wn[zn]);let vn=0;const Pn=new Uint8Array(Zt);for(let zn=0;zn<dn;zn++){let Hn=wn[zn];Hn instanceof Uint8Array||(typeof Hn=="string"?Hn=Pt(Hn):Hn=new Uint8Array(Hn));const cr=Hn.byteLength;Pn.set(Hn,vn),vn+=cr}return Pn}function jt(wn){return String.fromCharCode(wn>>24&255,wn>>16&255,wn>>8&255,wn&255)}function Vt(wn){return Object.keys(wn).length}function sn(wn){const dn=Object.create(null);for(const[Zt,vn]of wn)dn[Zt]=vn;return dn}function rn(){const wn=new Uint8Array(4);return wn[0]=1,new Uint32Array(wn.buffer,0,1)[0]===1}function _n(){try{return new Function(""),!0}catch{return!1}}class cn{static get isLittleEndian(){return $t(this,"isLittleEndian",rn())}static get isEvalSupported(){return $t(this,"isEvalSupported",_n())}static get isOffscreenCanvasSupported(){return $t(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}$.FeatureTest=cn;const An=[...Array(256).keys()].map(wn=>wn.toString(16).padStart(2,"0"));class pn{static makeHexColor(dn,Zt,vn){return`#${An[dn]}${An[Zt]}${An[vn]}`}static scaleMinMax(dn,Zt){let vn;dn[0]?(dn[0]<0&&(vn=Zt[0],Zt[0]=Zt[1],Zt[1]=vn),Zt[0]*=dn[0],Zt[1]*=dn[0],dn[3]<0&&(vn=Zt[2],Zt[2]=Zt[3],Zt[3]=vn),Zt[2]*=dn[3],Zt[3]*=dn[3]):(vn=Zt[0],Zt[0]=Zt[2],Zt[2]=vn,vn=Zt[1],Zt[1]=Zt[3],Zt[3]=vn,dn[1]<0&&(vn=Zt[2],Zt[2]=Zt[3],Zt[3]=vn),Zt[2]*=dn[1],Zt[3]*=dn[1],dn[2]<0&&(vn=Zt[0],Zt[0]=Zt[1],Zt[1]=vn),Zt[0]*=dn[2],Zt[1]*=dn[2]),Zt[0]+=dn[4],Zt[1]+=dn[4],Zt[2]+=dn[5],Zt[3]+=dn[5]}static transform(dn,Zt){return[dn[0]*Zt[0]+dn[2]*Zt[1],dn[1]*Zt[0]+dn[3]*Zt[1],dn[0]*Zt[2]+dn[2]*Zt[3],dn[1]*Zt[2]+dn[3]*Zt[3],dn[0]*Zt[4]+dn[2]*Zt[5]+dn[4],dn[1]*Zt[4]+dn[3]*Zt[5]+dn[5]]}static applyTransform(dn,Zt){const vn=dn[0]*Zt[0]+dn[1]*Zt[2]+Zt[4],Pn=dn[0]*Zt[1]+dn[1]*Zt[3]+Zt[5];return[vn,Pn]}static applyInverseTransform(dn,Zt){const vn=Zt[0]*Zt[3]-Zt[1]*Zt[2],Pn=(dn[0]*Zt[3]-dn[1]*Zt[2]+Zt[2]*Zt[5]-Zt[4]*Zt[3])/vn,zn=(-dn[0]*Zt[1]+dn[1]*Zt[0]+Zt[4]*Zt[1]-Zt[5]*Zt[0])/vn;return[Pn,zn]}static getAxialAlignedBoundingBox(dn,Zt){const vn=pn.applyTransform(dn,Zt),Pn=pn.applyTransform(dn.slice(2,4),Zt),zn=pn.applyTransform([dn[0],dn[3]],Zt),Hn=pn.applyTransform([dn[2],dn[1]],Zt);return[Math.min(vn[0],Pn[0],zn[0],Hn[0]),Math.min(vn[1],Pn[1],zn[1],Hn[1]),Math.max(vn[0],Pn[0],zn[0],Hn[0]),Math.max(vn[1],Pn[1],zn[1],Hn[1])]}static inverseTransform(dn){const Zt=dn[0]*dn[3]-dn[1]*dn[2];return[dn[3]/Zt,-dn[1]/Zt,-dn[2]/Zt,dn[0]/Zt,(dn[2]*dn[5]-dn[4]*dn[3])/Zt,(dn[4]*dn[1]-dn[5]*dn[0])/Zt]}static singularValueDecompose2dScale(dn){const Zt=[dn[0],dn[2],dn[1],dn[3]],vn=dn[0]*Zt[0]+dn[1]*Zt[2],Pn=dn[0]*Zt[1]+dn[1]*Zt[3],zn=dn[2]*Zt[0]+dn[3]*Zt[2],Hn=dn[2]*Zt[1]+dn[3]*Zt[3],cr=(vn+Hn)/2,er=Math.sqrt((vn+Hn)**2-4*(vn*Hn-zn*Pn))/2,Jn=cr+er||1,sr=cr-er||1;return[Math.sqrt(Jn),Math.sqrt(sr)]}static normalizeRect(dn){const Zt=dn.slice(0);return dn[0]>dn[2]&&(Zt[0]=dn[2],Zt[2]=dn[0]),dn[1]>dn[3]&&(Zt[1]=dn[3],Zt[3]=dn[1]),Zt}static intersect(dn,Zt){const vn=Math.max(Math.min(dn[0],dn[2]),Math.min(Zt[0],Zt[2])),Pn=Math.min(Math.max(dn[0],dn[2]),Math.max(Zt[0],Zt[2]));if(vn>Pn)return null;const zn=Math.max(Math.min(dn[1],dn[3]),Math.min(Zt[1],Zt[3])),Hn=Math.min(Math.max(dn[1],dn[3]),Math.max(Zt[1],Zt[3]));return zn>Hn?null:[vn,zn,Pn,Hn]}static bezierBoundingBox(dn,Zt,vn,Pn,zn,Hn,cr,er){const Jn=[],sr=[[],[]];let dr,Kn,En,$n,Bn,Xn,_r,Qn;for(let mr=0;mr<2;++mr){if(mr===0?(Kn=6*dn-12*vn+6*zn,dr=-3*dn+9*vn-9*zn+3*cr,En=3*vn-3*dn):(Kn=6*Zt-12*Pn+6*Hn,dr=-3*Zt+9*Pn-9*Hn+3*er,En=3*Pn-3*Zt),Math.abs(dr)<1e-12){if(Math.abs(Kn)<1e-12)continue;$n=-En/Kn,0<$n&&$n<1&&Jn.push($n);continue}_r=Kn*Kn-4*En*dr,Qn=Math.sqrt(_r),!(_r<0)&&(Bn=(-Kn+Qn)/(2*dr),0<Bn&&Bn<1&&Jn.push(Bn),Xn=(-Kn-Qn)/(2*dr),0<Xn&&Xn<1&&Jn.push(Xn))}let hr=Jn.length,lr;const $r=hr;for(;hr--;)$n=Jn[hr],lr=1-$n,sr[0][hr]=lr*lr*lr*dn+3*lr*lr*$n*vn+3*lr*$n*$n*zn+$n*$n*$n*cr,sr[1][hr]=lr*lr*lr*Zt+3*lr*lr*$n*Pn+3*lr*$n*$n*Hn+$n*$n*$n*er;return sr[0][$r]=dn,sr[1][$r]=Zt,sr[0][$r+1]=cr,sr[1][$r+1]=er,sr[0].length=sr[1].length=$r+2,[Math.min(...sr[0]),Math.min(...sr[1]),Math.max(...sr[0]),Math.max(...sr[1])]}}$.Util=pn;const xn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function on(wn){if(wn[0]>="\xEF"){let Zt;if(wn[0]==="\xFE"&&wn[1]==="\xFF"?Zt="utf-16be":wn[0]==="\xFF"&&wn[1]==="\xFE"?Zt="utf-16le":wn[0]==="\xEF"&&wn[1]==="\xBB"&&wn[2]==="\xBF"&&(Zt="utf-8"),Zt)try{const vn=new TextDecoder(Zt,{fatal:!0}),Pn=Pt(wn);return vn.decode(Pn)}catch(vn){It(`stringToPDFString: "${vn}".`)}}const dn=[];for(let Zt=0,vn=wn.length;Zt<vn;Zt++){const Pn=xn[wn.charCodeAt(Zt)];dn.push(Pn?String.fromCharCode(Pn):wn.charAt(Zt))}return dn.join("")}function Cn(wn){return decodeURIComponent(escape(wn))}function kn(wn){return unescape(encodeURIComponent(wn))}function jn(wn){return typeof wn=="object"&&wn!==null&&wn.byteLength!==void 0}function Gn(wn,dn){if(wn.length!==dn.length)return!1;for(let Zt=0,vn=wn.length;Zt<vn;Zt++)if(wn[Zt]!==dn[Zt])return!1;return!0}function Vn(wn=new Date){return[wn.getUTCFullYear().toString(),(wn.getUTCMonth()+1).toString().padStart(2,"0"),wn.getUTCDate().toString().padStart(2,"0"),wn.getUTCHours().toString().padStart(2,"0"),wn.getUTCMinutes().toString().padStart(2,"0"),wn.getUTCSeconds().toString().padStart(2,"0")].join("")}function Wn(){const wn=Object.create(null);let dn=!1;return Object.defineProperty(wn,"settled",{get(){return dn}}),wn.promise=new Promise(function(Zt,vn){wn.resolve=function(Pn){dn=!0,Zt(Pn)},wn.reject=function(Pn){dn=!0,vn(Pn)}}),wn}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var j,_e,et,tt,st,gt,lt,nt,ut,ht,at,Hs,rt,ot;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(12),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:ct,NodeCMapReaderFactory:dt,NodeStandardFontDataFactory:pt}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=ct,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=dt,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=pt}let createPDFNetworkStream;function setPDFNetworkStreamFactory(ct){createPDFNetworkStream=ct}function getDocument(ct){const dt=new PDFDocumentLoadingTask;let pt;if(typeof ct=="string"||ct instanceof URL)pt={url:ct};else if((0,_util.isArrayBuffer)(ct))pt={data:ct};else if(ct instanceof PDFDataRangeTransport)pt={range:ct};else{if(typeof ct!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!ct.url&&!ct.data&&!ct.range)throw new Error("Invalid parameter object: need either .data, .range or .url");pt=ct}const mt=Object.create(null);let _t=null,vt=null;for(const Ct in pt){const bt=pt[Ct];switch(Ct){case"url":if(typeof window<"u")try{mt[Ct]=new URL(bt,window.location).href;continue}catch(Dt){(0,_util.warn)(`Cannot create valid URL: "${Dt}".`)}else if(typeof bt=="string"||bt instanceof URL){mt[Ct]=bt.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":_t=bt;continue;case"worker":vt=bt;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&bt instanceof Buffer)mt[Ct]=new Uint8Array(bt);else{if(bt instanceof Uint8Array)break;if(typeof bt=="string")mt[Ct]=(0,_util.stringToBytes)(bt);else if(typeof bt=="object"&&bt!==null&&!isNaN(bt.length))mt[Ct]=new Uint8Array(bt);else if((0,_util.isArrayBuffer)(bt))mt[Ct]=new Uint8Array(bt);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}mt[Ct]=bt}if(mt.CMapReaderFactory=mt.CMapReaderFactory||DefaultCMapReaderFactory,mt.StandardFontDataFactory=mt.StandardFontDataFactory||DefaultStandardFontDataFactory,mt.ignoreErrors=mt.stopAtErrors!==!0,mt.fontExtraProperties=mt.fontExtraProperties===!0,mt.pdfBug=mt.pdfBug===!0,mt.enableXfa=mt.enableXfa===!0,(!Number.isInteger(mt.rangeChunkSize)||mt.rangeChunkSize<1)&&(mt.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof mt.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(mt.docBaseUrl))&&(mt.docBaseUrl=null),(!Number.isInteger(mt.maxImageSize)||mt.maxImageSize<-1)&&(mt.maxImageSize=-1),typeof mt.cMapUrl!="string"&&(mt.cMapUrl=null),typeof mt.standardFontDataUrl!="string"&&(mt.standardFontDataUrl=null),typeof mt.useWorkerFetch!="boolean"&&(mt.useWorkerFetch=mt.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&mt.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof mt.isEvalSupported!="boolean"&&(mt.isEvalSupported=!0),typeof mt.isOffscreenCanvasSupported!="boolean"&&(mt.isOffscreenCanvasSupported=!_is_node.isNodeJS),typeof mt.disableFontFace!="boolean"&&(mt.disableFontFace=_is_node.isNodeJS),typeof mt.useSystemFonts!="boolean"&&(mt.useSystemFonts=!_is_node.isNodeJS&&!mt.disableFontFace),(typeof mt.ownerDocument!="object"||mt.ownerDocument===null)&&(mt.ownerDocument=globalThis.document),typeof mt.disableRange!="boolean"&&(mt.disableRange=!1),typeof mt.disableStream!="boolean"&&(mt.disableStream=!1),typeof mt.disableAutoFetch!="boolean"&&(mt.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(mt.verbosity),!vt){const Ct={verbosity:mt.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};vt=Ct.port?PDFWorker.fromPort(Ct):new PDFWorker(Ct),dt._worker=vt}const yt=dt.docId;return vt.promise.then(function(){if(dt.destroyed)throw new Error("Loading aborted");const Ct=_fetchDocument(vt,mt,_t,yt),bt=new Promise(function(Dt){let wt;_t?wt=new _transport_stream.PDFDataTransportStream({length:mt.length,initialData:mt.initialData,progressiveDone:mt.progressiveDone,contentDispositionFilename:mt.contentDispositionFilename,disableRange:mt.disableRange,disableStream:mt.disableStream},_t):mt.data||(wt=createPDFNetworkStream({url:mt.url,length:mt.length,httpHeaders:mt.httpHeaders,withCredentials:mt.withCredentials,rangeChunkSize:mt.rangeChunkSize,disableRange:mt.disableRange,disableStream:mt.disableStream})),Dt(wt)});return Promise.all([Ct,bt]).then(function([Dt,wt]){if(dt.destroyed)throw new Error("Loading aborted");const Ft=new _message_handler.MessageHandler(yt,Dt,vt.port),Lt=new WorkerTransport(Ft,dt,wt,mt);dt._transport=Lt,Ft.send("Ready",null)})}).catch(dt._capability.reject),dt}async function _fetchDocument(ct,dt,pt,mt){if(ct.destroyed)throw new Error("Worker was destroyed");pt&&(dt.length=pt.length,dt.initialData=pt.initialData,dt.progressiveDone=pt.progressiveDone,dt.contentDispositionFilename=pt.contentDispositionFilename);const _t=await ct.messageHandler.sendWithPromise("GetDocRequest",{docId:mt,apiVersion:"3.1.81",data:dt.data,password:dt.password,disableAutoFetch:dt.disableAutoFetch,rangeChunkSize:dt.rangeChunkSize,length:dt.length,docBaseUrl:dt.docBaseUrl,enableXfa:dt.enableXfa,evaluatorOptions:{maxImageSize:dt.maxImageSize,disableFontFace:dt.disableFontFace,ignoreErrors:dt.ignoreErrors,isEvalSupported:dt.isEvalSupported,isOffscreenCanvasSupported:dt.isOffscreenCanvasSupported,fontExtraProperties:dt.fontExtraProperties,useSystemFonts:dt.useSystemFonts,cMapUrl:dt.useWorkerFetch?dt.cMapUrl:null,standardFontDataUrl:dt.useWorkerFetch?dt.standardFontDataUrl:null}});if(dt.data&&(dt.data=null),ct.destroyed)throw new Error("Worker was destroyed");return _t}const $=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Ws($,j)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var dt;this.destroyed=!0,await((dt=this._transport)==null?void 0:dt.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=$;j=new WeakMap,Tn(PDFDocumentLoadingTask,j,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(dt,pt,mt=!1,_t=null){this.length=dt,this.initialData=pt,this.progressiveDone=mt,this.contentDispositionFilename=_t,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(dt){this._rangeListeners.push(dt)}addProgressListener(dt){this._progressListeners.push(dt)}addProgressiveReadListener(dt){this._progressiveReadListeners.push(dt)}addProgressiveDoneListener(dt){this._progressiveDoneListeners.push(dt)}onDataRange(dt,pt){for(const mt of this._rangeListeners)mt(dt,pt)}onDataProgress(dt,pt){this._readyCapability.promise.then(()=>{for(const mt of this._progressListeners)mt(dt,pt)})}onDataProgressiveRead(dt){this._readyCapability.promise.then(()=>{for(const pt of this._progressiveReadListeners)pt(dt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const dt of this._progressiveDoneListeners)dt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(dt,pt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(dt,pt){this._pdfInfo=dt,this._transport=pt}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(dt){return this._transport.getPage(dt)}getPageIndex(dt){return this._transport.getPageIndex(dt)}getDestinations(){return this._transport.getDestinations()}getDestination(dt){return this._transport.getDestination(dt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(dt=!1){return this._transport.startCleanup(dt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(dt,pt,mt,_t,vt=!1){this._pageIndex=dt,this._pageInfo=pt,this._ownerDocument=_t,this._transport=mt,this._stats=vt?new _display_utils.StatTimer:null,this._pdfBug=vt,this.commonObjs=mt.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:dt,rotation:pt=this.rotate,offsetX:mt=0,offsetY:_t=0,dontFlip:vt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:dt,rotation:pt,offsetX:mt,offsetY:_t,dontFlip:vt})}getAnnotations({intent:dt="display"}={}){const pt=this._transport.getRenderingIntent(dt);let mt=this._annotationPromises.get(pt.cacheKey);return mt||(mt=this._transport.getAnnotations(this._pageIndex,pt.renderingIntent),this._annotationPromises.set(pt.cacheKey,mt)),mt}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var dt;return((dt=this._transport._htmlForXfa)==null?void 0:dt.children[this._pageIndex])||null}render({canvasContext:dt,viewport:pt,intent:mt="display",annotationMode:_t=_util.AnnotationMode.ENABLE,transform:vt=null,canvasFactory:yt=null,background:Ct=null,optionalContentConfigPromise:bt=null,annotationCanvasMap:Dt=null,pageColors:wt=null,printAnnotationStorage:Ft=null}){var Et,At;(Et=this._stats)==null||Et.time("Overall");const Lt=this._transport.getRenderingIntent(mt,_t,Ft);this.pendingCleanup=!1,bt||(bt=this._transport.getOptionalContentConfig());let Qt=this._intentStates.get(Lt.cacheKey);Qt||(Qt=Object.create(null),this._intentStates.set(Lt.cacheKey,Qt)),Qt.streamReaderCancelTimeout&&(clearTimeout(Qt.streamReaderCancelTimeout),Qt.streamReaderCancelTimeout=null);const Ut=yt||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Xt=!!(Lt.renderingIntent&_util.RenderingIntentFlag.PRINT);Qt.displayReadyCapability||(Qt.displayReadyCapability=(0,_util.createPromiseCapability)(),Qt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(At=this._stats)==null||At.time("Page Request"),this._pumpOperatorList(Lt));const qt=It=>{var Ot,Tt;Qt.renderTasks.delete(Jt),(this.cleanupAfterRender||Xt)&&(this.pendingCleanup=!0),this._tryCleanup(),It?(Jt.capability.reject(It),this._abortOperatorList({intentState:Qt,reason:It instanceof Error?It:new Error(It)})):Jt.capability.resolve(),(Ot=this._stats)==null||Ot.timeEnd("Rendering"),(Tt=this._stats)==null||Tt.timeEnd("Overall")},Jt=new InternalRenderTask({callback:qt,params:{canvasContext:dt,viewport:pt,transform:vt,background:Ct},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Dt,operatorList:Qt.operatorList,pageIndex:this._pageIndex,canvasFactory:Ut,useRequestAnimationFrame:!Xt,pdfBug:this._pdfBug,pageColors:wt});(Qt.renderTasks||(Qt.renderTasks=new Set)).add(Jt);const Gt=Jt.task;return Promise.all([Qt.displayReadyCapability.promise,bt]).then(([It,Ot])=>{var Tt;if(this.pendingCleanup){qt();return}(Tt=this._stats)==null||Tt.time("Rendering"),Jt.initializeGraphics({transparency:It,optionalContentConfig:Ot}),Jt.operatorListChanged()}).catch(qt),Gt}getOperatorList({intent:dt="display",annotationMode:pt=_util.AnnotationMode.ENABLE,printAnnotationStorage:mt=null}={}){var bt;function _t(){yt.operatorList.lastChunk&&(yt.opListReadCapability.resolve(yt.operatorList),yt.renderTasks.delete(Ct))}const vt=this._transport.getRenderingIntent(dt,pt,mt,!0);let yt=this._intentStates.get(vt.cacheKey);yt||(yt=Object.create(null),this._intentStates.set(vt.cacheKey,yt));let Ct;return yt.opListReadCapability||(Ct=Object.create(null),Ct.operatorListChanged=_t,yt.opListReadCapability=(0,_util.createPromiseCapability)(),(yt.renderTasks||(yt.renderTasks=new Set)).add(Ct),yt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(bt=this._stats)==null||bt.time("Page Request"),this._pumpOperatorList(vt)),yt.opListReadCapability.promise}streamTextContent({disableCombineTextItems:dt=!1,includeMarkedContent:pt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:dt!==!0,includeMarkedContent:pt===!0},{highWaterMark:100,size(_t){return _t.items.length}})}getTextContent(dt={}){if(this._transport._htmlForXfa)return this.getXfa().then(mt=>_xfa_text.XfaText.textContent(mt));const pt=this.streamTextContent(dt);return new Promise(function(mt,_t){function vt(){yt.read().then(function({value:bt,done:Dt}){if(Dt){mt(Ct);return}Object.assign(Ct.styles,bt.styles),Ct.items.push(...bt.items),vt()},_t)}const yt=pt.getReader(),Ct={items:[],styles:Object.create(null)};vt()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const dt=[];for(const pt of this._intentStates.values())if(this._abortOperatorList({intentState:pt,reason:new Error("Page was destroyed."),force:!0}),!pt.opListReadCapability)for(const mt of pt.renderTasks)dt.push(mt.completed),mt.cancel();this.objs.clear();for(const pt of this._bitmaps)pt.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(dt)}cleanup(dt=!1){return this.pendingCleanup=!0,this._tryCleanup(dt)}_tryCleanup(dt=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:pt,operatorList:mt}of this._intentStates.values())if(pt.size>0||!mt.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,dt&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const pt of this._bitmaps)pt.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(dt,pt){var _t,vt;const mt=this._intentStates.get(pt);!mt||((_t=this._stats)==null||_t.timeEnd("Page Request"),(vt=mt.displayReadyCapability)==null||vt.resolve(dt))}_renderPageChunk(dt,pt){for(let mt=0,_t=dt.length;mt<_t;mt++)pt.operatorList.fnArray.push(dt.fnArray[mt]),pt.operatorList.argsArray.push(dt.argsArray[mt]);pt.operatorList.lastChunk=dt.lastChunk,pt.operatorList.separateAnnots=dt.separateAnnots;for(const mt of pt.renderTasks)mt.operatorListChanged();dt.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:dt,cacheKey:pt,annotationStorageMap:mt}){const vt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:dt,cacheKey:pt,annotationStorage:mt}).getReader(),yt=this._intentStates.get(pt);yt.streamReader=vt;const Ct=()=>{vt.read().then(({value:bt,done:Dt})=>{if(Dt){yt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(bt,yt),Ct())},bt=>{if(yt.streamReader=null,!this._transport.destroyed){if(yt.operatorList){yt.operatorList.lastChunk=!0;for(const Dt of yt.renderTasks)Dt.operatorListChanged();this._tryCleanup()}if(yt.displayReadyCapability)yt.displayReadyCapability.reject(bt);else if(yt.opListReadCapability)yt.opListReadCapability.reject(bt);else throw bt}})};Ct()}_abortOperatorList({intentState:dt,reason:pt,force:mt=!1}){if(!!dt.streamReader){if(!mt){if(dt.renderTasks.size>0)return;if(pt instanceof _display_utils.RenderingCancelledException){dt.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:dt,reason:pt,force:!0}),dt.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(dt.streamReader.cancel(new _util.AbortException(pt.message)).catch(()=>{}),dt.streamReader=null,!this._transport.destroyed){for(const[_t,vt]of this._intentStates)if(vt===dt){this._intentStates.delete(_t);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Tn(this,_e,[]);Tn(this,et,Promise.resolve())}postMessage(dt,pt){const mt={data:structuredClone(dt,pt)};Yt(this,et).then(()=>{for(const _t of Yt(this,_e))_t.call(this,mt)})}addEventListener(dt,pt){Yt(this,_e).push(pt)}removeEventListener(dt,pt){const mt=Yt(this,_e).indexOf(pt);Yt(this,_e).splice(mt,1)}terminate(){Yt(this,_e).length=0}}_e=new WeakMap,et=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ct=(tt=document==null?void 0:document.currentScript)==null?void 0:tt.src;ct&&(PDFWorkerUtil.fallbackWorkerSrc=ct.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ct,dt){let pt;try{if(pt=new URL(ct),!pt.origin||pt.origin==="null")return!1}catch{return!1}const mt=new URL(dt,pt);return pt.origin===mt.origin},PDFWorkerUtil.createCDNWrapper=function(ct){const dt=`importScripts("${ct}");`;return URL.createObjectURL(new Blob([dt]))}}const _PDFWorker=class{constructor({name:ct=null,port:dt=null,verbosity:pt=(0,_util.getVerbosityLevel)()}={}){if(dt&&Yt(_PDFWorker,st).has(dt))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=ct,this.destroyed=!1,this.verbosity=pt,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,dt){Yt(_PDFWorker,st).set(dt,this),this._initializeFromPort(dt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ct){this._port=ct,this._messageHandler=new _message_handler.MessageHandler("main","worker",ct),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ct}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ct)||(ct=PDFWorkerUtil.createCDNWrapper(new URL(ct,window.location).href));const dt=new Worker(ct),pt=new _message_handler.MessageHandler("main","worker",dt),mt=()=>{dt.removeEventListener("error",_t),pt.destroy(),dt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},_t=()=>{this._webWorker||mt()};dt.addEventListener("error",_t),pt.on("test",yt=>{if(dt.removeEventListener("error",_t),this.destroyed){mt();return}yt?(this._messageHandler=pt,this._port=dt,this._webWorker=dt,this._readyCapability.resolve(),pt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),pt.destroy(),dt.terminate())}),pt.on("ready",yt=>{if(dt.removeEventListener("error",_t),this.destroyed){mt();return}try{vt()}catch{this._setupFakeWorker()}});const vt=()=>{const yt=new Uint8Array;pt.send("test",yt,[yt.buffer])};vt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ct=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const dt=new LoopbackPort;this._port=dt;const pt=`fake${PDFWorkerUtil.fakeWorkerId++}`,mt=new _message_handler.MessageHandler(pt+"_worker",pt,dt);ct.setup(mt,dt);const _t=new _message_handler.MessageHandler(pt,pt+"_worker",dt);this._messageHandler=_t,this._readyCapability.resolve(),_t.send("configure",{verbosity:this.verbosity})}).catch(ct=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ct.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Yt(_PDFWorker,st).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ct){if(!(ct!=null&&ct.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Yt(this,st).has(ct.port)?Yt(this,st).get(ct.port):new _PDFWorker(ct)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ct;try{return((ct=globalThis.pdfjsWorker)==null?void 0:ct.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;st=new WeakMap,Tn(PDFWorker,st,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(dt,pt,mt,_t){Tn(this,gt,null);Tn(this,lt,new Map);Tn(this,nt,new Map);Tn(this,ut,null);this.messageHandler=dt,this.loadingTask=pt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:_t.ownerDocument,styleElement:_t.styleElement}),this._params=_t,_t.useWorkerFetch||(this.CMapReaderFactory=new _t.CMapReaderFactory({baseUrl:_t.cMapUrl,isCompressed:_t.cMapPacked}),this.StandardFontDataFactory=new _t.StandardFontDataFactory({baseUrl:_t.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=mt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Yt(this,gt)}getRenderingIntent(dt,pt=_util.AnnotationMode.ENABLE,mt=null,_t=!1){let vt=_util.RenderingIntentFlag.DISPLAY,yt=null;switch(dt){case"any":vt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":vt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${dt}`)}switch(pt){case _util.AnnotationMode.DISABLE:vt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:vt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:vt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,yt=(vt&_util.RenderingIntentFlag.PRINT&&mt instanceof _annotation_storage.PrintAnnotationStorage?mt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${pt}`)}return _t&&(vt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:vt,cacheKey:`${vt}_${_annotation_storage.AnnotationStorage.getHash(yt)}`,annotationStorageMap:yt}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const dt=[];for(const mt of Yt(this,lt).values())dt.push(mt._destroy());Yt(this,lt).clear(),Yt(this,nt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const pt=this.messageHandler.sendWithPromise("Terminate",null);return dt.push(pt),Promise.all(dt).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Nn(this,ut,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:dt,loadingTask:pt}=this;dt.on("GetReader",(mt,_t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=vt=>{this._lastProgress={loaded:vt.loaded,total:vt.total}},_t.onPull=()=>{this._fullReader.read().then(function({value:vt,done:yt}){if(yt){_t.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(vt),"GetReader - expected an ArrayBuffer."),_t.enqueue(new Uint8Array(vt),1,[vt])}).catch(vt=>{_t.error(vt)})},_t.onCancel=vt=>{this._fullReader.cancel(vt),_t.ready.catch(yt=>{if(!this.destroyed)throw yt})}}),dt.on("ReaderHeadersReady",mt=>{const _t=(0,_util.createPromiseCapability)(),vt=this._fullReader;return vt.headersReady.then(()=>{var yt;(!vt.isStreamingSupported||!vt.isRangeSupported)&&(this._lastProgress&&((yt=pt.onProgress)==null||yt.call(pt,this._lastProgress)),vt.onProgress=Ct=>{var bt;(bt=pt.onProgress)==null||bt.call(pt,{loaded:Ct.loaded,total:Ct.total})}),_t.resolve({isStreamingSupported:vt.isStreamingSupported,isRangeSupported:vt.isRangeSupported,contentLength:vt.contentLength})},_t.reject),_t.promise}),dt.on("GetRangeReader",(mt,_t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const vt=this._networkStream.getRangeReader(mt.begin,mt.end);if(!vt){_t.close();return}_t.onPull=()=>{vt.read().then(function({value:yt,done:Ct}){if(Ct){_t.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(yt),"GetRangeReader - expected an ArrayBuffer."),_t.enqueue(new Uint8Array(yt),1,[yt])}).catch(yt=>{_t.error(yt)})},_t.onCancel=yt=>{vt.cancel(yt),_t.ready.catch(Ct=>{if(!this.destroyed)throw Ct})}}),dt.on("GetDoc",({pdfInfo:mt})=>{this._numPages=mt.numPages,this._htmlForXfa=mt.htmlForXfa,delete mt.htmlForXfa,pt._capability.resolve(new PDFDocumentProxy(mt,this))}),dt.on("DocException",function(mt){let _t;switch(mt.name){case"PasswordException":_t=new _util.PasswordException(mt.message,mt.code);break;case"InvalidPDFException":_t=new _util.InvalidPDFException(mt.message);break;case"MissingPDFException":_t=new _util.MissingPDFException(mt.message);break;case"UnexpectedResponseException":_t=new _util.UnexpectedResponseException(mt.message,mt.status);break;case"UnknownErrorException":_t=new _util.UnknownErrorException(mt.message,mt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}pt._capability.reject(_t)}),dt.on("PasswordRequest",mt=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),pt.onPassword){const _t=vt=>{vt instanceof Error?this._passwordCapability.reject(vt):this._passwordCapability.resolve({password:vt})};try{pt.onPassword(_t,mt.code)}catch(vt){this._passwordCapability.reject(vt)}}else this._passwordCapability.reject(new _util.PasswordException(mt.message,mt.code));return this._passwordCapability.promise}),dt.on("DataLoaded",mt=>{var _t;(_t=pt.onProgress)==null||_t.call(pt,{loaded:mt.length,total:mt.length}),this.downloadInfoCapability.resolve(mt)}),dt.on("StartRenderPage",mt=>{if(this.destroyed)return;Yt(this,lt).get(mt.pageIndex)._startRenderPage(mt.transparency,mt.cacheKey)}),dt.on("commonobj",([mt,_t,vt])=>{var yt;if(!this.destroyed&&!this.commonObjs.has(mt))switch(_t){case"Font":const Ct=this._params;if("error"in vt){const wt=vt.error;(0,_util.warn)(`Error during font loading: ${wt}`),this.commonObjs.resolve(mt,wt);break}let bt=null;Ct.pdfBug&&((yt=globalThis.FontInspector)==null?void 0:yt.enabled)&&(bt={registerFont(wt,Ft){globalThis.FontInspector.fontAdded(wt,Ft)}});const Dt=new _font_loader.FontFaceObject(vt,{isEvalSupported:Ct.isEvalSupported,disableFontFace:Ct.disableFontFace,ignoreErrors:Ct.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:bt});this.fontLoader.bind(Dt).catch(wt=>dt.sendWithPromise("FontFallback",{id:mt})).finally(()=>{!Ct.fontExtraProperties&&Dt.data&&(Dt.data=null),this.commonObjs.resolve(mt,Dt)});break;case"FontPath":case"Image":this.commonObjs.resolve(mt,vt);break;default:throw new Error(`Got unknown common object type ${_t}`)}}),dt.on("obj",([mt,_t,vt,yt])=>{var bt;if(this.destroyed)return;const Ct=Yt(this,lt).get(_t);if(!Ct.objs.has(mt))switch(vt){case"Image":Ct.objs.resolve(mt,yt);const Dt=8e6;if(yt){let wt;if(yt.bitmap){const{bitmap:Ft,width:Lt,height:Qt}=yt;wt=Lt*Qt*4,Ct._bitmaps.add(Ft)}else wt=((bt=yt.data)==null?void 0:bt.length)||0;wt>Dt&&(Ct.cleanupAfterRender=!0)}break;case"Pattern":Ct.objs.resolve(mt,yt);break;default:throw new Error(`Got unknown object type ${vt}`)}}),dt.on("DocProgress",mt=>{var _t;this.destroyed||(_t=pt.onProgress)==null||_t.call(pt,{loaded:mt.loaded,total:mt.total})}),dt.on("DocStats",mt=>{this.destroyed||Nn(this,gt,Object.freeze({streamTypes:Object.freeze(mt.streamTypes),fontTypes:Object.freeze(mt.fontTypes)}))}),dt.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),dt.on("FetchBuiltInCMap",mt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(mt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),dt.on("FetchStandardFontData",mt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(mt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:dt}){var pt,mt;this.destroyed||(mt=(pt=this.loadingTask).onUnsupportedFeature)==null||mt.call(pt,dt)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var dt,pt;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(pt=(dt=this._fullReader)==null?void 0:dt.filename)!=null?pt:null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(dt){if(!Number.isInteger(dt)||dt<=0||dt>this._numPages)return Promise.reject(new Error("Invalid page request."));const pt=dt-1,mt=Yt(this,nt).get(pt);if(mt)return mt;const _t=this.messageHandler.sendWithPromise("GetPage",{pageIndex:pt}).then(vt=>{if(this.destroyed)throw new Error("Transport destroyed");const yt=new PDFPageProxy(pt,vt,this,this._params.ownerDocument,this._params.pdfBug);return Yt(this,lt).set(pt,yt),yt});return Yt(this,nt).set(pt,_t),_t}getPageIndex(dt){return typeof dt!="object"||dt===null||!Number.isInteger(dt.num)||dt.num<0||!Number.isInteger(dt.gen)||dt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:dt.num,gen:dt.gen})}getAnnotations(dt,pt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:dt,intent:pt})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(dt){return typeof dt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:dt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(dt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:dt})}getStructTree(dt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:dt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(dt=>new _optional_content_config.OptionalContentConfig(dt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Yt(this,ut)||Nn(this,ut,this.messageHandler.sendWithPromise("GetMetadata",null).then(dt=>{var pt,mt,_t,vt;return{info:dt[0],metadata:dt[1]?new _metadata.Metadata(dt[1]):null,contentDispositionFilename:(mt=(pt=this._fullReader)==null?void 0:pt.filename)!=null?mt:null,contentLength:(vt=(_t=this._fullReader)==null?void 0:_t.contentLength)!=null?vt:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(dt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const pt of Yt(this,lt).values())if(!pt.cleanup())throw new Error(`startCleanup: Page ${pt.pageNumber} is currently rendering.`);this.commonObjs.clear(),dt||this.fontLoader.clear(),Nn(this,ut,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const dt=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:dt.disableAutoFetch,enableXfa:dt.enableXfa})}}gt=new WeakMap,lt=new WeakMap,nt=new WeakMap,ut=new WeakMap;class PDFObjects{constructor(){Tn(this,at);Tn(this,ht,Object.create(null))}get(dt,pt=null){if(pt){const _t=Fn(this,at,Hs).call(this,dt);return _t.capability.promise.then(()=>pt(_t.data)),null}const mt=Yt(this,ht)[dt];if(!(mt!=null&&mt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${dt}.`);return mt.data}has(dt){const pt=Yt(this,ht)[dt];return(pt==null?void 0:pt.capability.settled)||!1}resolve(dt,pt=null){const mt=Fn(this,at,Hs).call(this,dt);mt.data=pt,mt.capability.resolve()}clear(){Nn(this,ht,Object.create(null))}}ht=new WeakMap,at=new WeakSet,Hs=function(dt){const pt=Yt(this,ht)[dt];return pt||(Yt(this,ht)[dt]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(dt){Tn(this,rt,null);Nn(this,rt,dt),this.onContinue=null}get promise(){return Yt(this,rt).capability.promise}cancel(){Yt(this,rt).cancel()}get separateAnnots(){const{separateAnnots:dt}=Yt(this,rt).operatorList;if(!dt)return!1;const{annotationCanvasMap:pt}=Yt(this,rt);return dt.form||dt.canvas&&(pt==null?void 0:pt.size)>0}}rt=new WeakMap,exports.RenderTask=RenderTask;const ft=class{constructor({callback:dt,params:pt,objs:mt,commonObjs:_t,annotationCanvasMap:vt,operatorList:yt,pageIndex:Ct,canvasFactory:bt,useRequestAnimationFrame:Dt=!1,pdfBug:wt=!1,pageColors:Ft=null}){this.callback=dt,this.params=pt,this.objs=mt,this.commonObjs=_t,this.annotationCanvasMap=vt,this.operatorListIdx=null,this.operatorList=yt,this._pageIndex=Ct,this.canvasFactory=bt,this._pdfBug=wt,this.pageColors=Ft,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Dt===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=pt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:dt=!1,optionalContentConfig:pt}){var Ct,bt;if(this.cancelled)return;if(this._canvas){if(Yt(ft,ot).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Yt(ft,ot).add(this._canvas)}this._pdfBug&&((Ct=globalThis.StepperManager)==null?void 0:Ct.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:mt,viewport:_t,transform:vt,background:yt}=this.params;this.gfx=new _canvas.CanvasGraphics(mt,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:pt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:vt,viewport:_t,transparency:dt,background:yt}),this.operatorListIdx=0,this.graphicsReady=!0,(bt=this.graphicsReadyCallback)==null||bt.call(this)}cancel(dt=null){var pt;this.running=!1,this.cancelled=!0,(pt=this.gfx)==null||pt.endDrawing(),this._canvas&&Yt(ft,ot).delete(this._canvas),this.callback(dt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){var dt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(dt=this.stepper)==null||dt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&Yt(ft,ot).delete(this._canvas),this.callback())))}};let InternalRenderTask=ft;ot=new WeakMap,Tn(InternalRenderTask,ot,new WeakSet);const version="3.1.81";exports.version=version;const build="0766898d5";exports.build=build},(j,$,_e)=>{var nt,ut,ht,bo,it;Object.defineProperty($,"__esModule",{value:!0}),$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var et=_e(1),tt=_e(4),st=_e(8);class gt{constructor(){Tn(this,ht);Tn(this,nt,!1);Tn(this,ut,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(ot,ft){const ct=Yt(this,ut).get(ot);return ct===void 0?ft:Object.assign(ft,ct)}getRawValue(ot){return Yt(this,ut).get(ot)}remove(ot){if(Yt(this,ut).delete(ot),Yt(this,ut).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const ft of Yt(this,ut).values())if(ft instanceof tt.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(ot,ft){const ct=Yt(this,ut).get(ot);let dt=!1;if(ct!==void 0)for(const[pt,mt]of Object.entries(ft))ct[pt]!==mt&&(dt=!0,ct[pt]=mt);else dt=!0,Yt(this,ut).set(ot,ft);dt&&Fn(this,ht,bo).call(this),ft instanceof tt.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(ft.constructor._type)}has(ot){return Yt(this,ut).has(ot)}getAll(){return Yt(this,ut).size>0?(0,et.objectFromMap)(Yt(this,ut)):null}get size(){return Yt(this,ut).size}resetModified(){Yt(this,nt)&&(Nn(this,nt,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new lt(this)}get serializable(){if(Yt(this,ut).size===0)return null;const ot=new Map;for(const[ft,ct]of Yt(this,ut)){const dt=ct instanceof tt.AnnotationEditor?ct.serialize():ct;dt&&ot.set(ft,dt)}return ot}static getHash(ot){if(!ot)return"";const ft=new st.MurmurHash3_64;for(const[ct,dt]of ot)ft.update(`${ct}:${JSON.stringify(dt)}`);return ft.hexdigest()}}nt=new WeakMap,ut=new WeakMap,ht=new WeakSet,bo=function(){Yt(this,nt)||(Nn(this,nt,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=gt;class lt extends gt{constructor(ft){super();Tn(this,it,null);Nn(this,it,structuredClone(ft.serializable))}get print(){(0,et.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Yt(this,it)}}it=new WeakMap,$.PrintAnnotationStorage=lt},(j,$,_e)=>{var gt,lt,nt,ut,ht,at;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var et=_e(5),tt=_e(1);const it=class{constructor(ot){Tn(this,gt,this.focusin.bind(this));Tn(this,lt,this.focusout.bind(this));Tn(this,nt,!1);Tn(this,ut,!1);Tn(this,ht,!1);Tn(this,at,it._zIndex++);this.constructor===it&&(0,tt.unreachable)("Cannot initialize AnnotationEditor."),this.parent=ot.parent,this.id=ot.id,this.width=this.height=null,this.pageIndex=ot.parent.pageIndex,this.name=ot.name,this.div=null;const[ft,ct]=this.parent.viewportBaseDimensions;this.x=ot.x/ft,this.y=ot.y/ct,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,tt.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Yt(this,at)}focusin(ot){Yt(this,nt)?Nn(this,nt,!1):this.parent.setSelected(this)}focusout(ot){if(!this.isAttachedToDOM)return;const ft=ot.relatedTarget;ft!=null&&ft.closest(`#${this.id}`)||(ot.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(ot){const ft=this.parent.div.getBoundingClientRect();this.startX=ot.clientX-ft.x,this.startY=ot.clientY-ft.y,ot.dataTransfer.setData("text/plain",this.id),ot.dataTransfer.effectAllowed="move"}setAt(ot,ft,ct,dt){const[pt,mt]=this.parent.viewportBaseDimensions;[ct,dt]=this.screenToPageTranslation(ct,dt),this.x=(ot+ct)/pt,this.y=(ft+dt)/mt,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(ot,ft){const[ct,dt]=this.parent.viewportBaseDimensions;[ot,ft]=this.screenToPageTranslation(ot,ft),this.x+=ot/ct,this.y+=ft/dt,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(ot,ft){const{rotation:ct}=this.parent.viewport;switch(ct){case 90:return[ft,-ot];case 180:return[-ot,-ft];case 270:return[-ft,ot];default:return[ot,ft]}}setDims(ot,ft){const[ct,dt]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*ot/ct}%`,this.div.style.height=`${100*ft/dt}%`}fixDims(){const{style:ot}=this.div,{height:ft,width:ct}=ot,dt=ct.endsWith("%"),pt=ft.endsWith("%");if(dt&&pt)return;const[mt,_t]=this.parent.viewportBaseDimensions;dt||(ot.width=`${100*parseFloat(ct)/mt}%`),pt||(ot.height=`${100*parseFloat(ft)/_t}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Yt(this,gt)),this.div.addEventListener("focusout",Yt(this,lt));const[ot,ft]=this.getInitialTranslation();return this.translate(ot,ft),(0,et.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(ot){const ft=et.KeyboardManager.platform.isMac;if(ot.button!==0||ot.ctrlKey&&ft){ot.preventDefault();return}ot.ctrlKey&&!ft||ot.shiftKey||ot.metaKey&&ft?this.parent.toggleSelected(this):this.parent.setSelected(this),Nn(this,nt,!0)}getRect(ot,ft){const[ct,dt]=this.parent.viewportBaseDimensions,[pt,mt]=this.parent.pageDimensions,_t=pt*ot/ct,vt=mt*ft/dt,yt=this.x*pt,Ct=this.y*mt,bt=this.width*pt,Dt=this.height*mt;switch(this.rotation){case 0:return[yt+_t,mt-Ct-vt-Dt,yt+_t+bt,mt-Ct-vt];case 90:return[yt+vt,mt-Ct+_t,yt+vt+Dt,mt-Ct+_t+bt];case 180:return[yt-_t-bt,mt-Ct+vt,yt-_t,mt-Ct+vt+Dt];case 270:return[yt-vt-Dt,mt-Ct-_t-bt,yt-vt,mt-Ct-_t];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(ot,ft){const[ct,dt,pt,mt]=ot,_t=pt-ct,vt=mt-dt;switch(this.rotation){case 0:return[ct,ft-mt,_t,vt];case 90:return[ct,ft-dt,vt,_t];case 180:return[pt,ft-dt,_t,vt];case 270:return[pt,ft-mt,vt,_t];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Nn(this,ht,!0)}disableEditMode(){Nn(this,ht,!1)}isInEditMode(){return Yt(this,ht)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var ot;(ot=this.div)==null||ot.addEventListener("focusin",Yt(this,gt))}serialize(){(0,tt.unreachable)("An editor must be serializable")}static deserialize(ot,ft){const ct=new this.prototype.constructor({parent:ft,id:ft.getNextId()});ct.rotation=ot.rotation;const[dt,pt]=ft.pageDimensions,[mt,_t,vt,yt]=ct.getRectInCurrentCoords(ot.rect,pt);return ct.x=mt/dt,ct.y=_t/pt,ct.width=vt/dt,ct.height=yt/pt,ct}remove(){this.div.removeEventListener("focusin",Yt(this,gt)),this.div.removeEventListener("focusout",Yt(this,lt)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var ot;(ot=this.div)==null||ot.classList.add("selectedEditor")}unselect(){var ot;(ot=this.div)==null||ot.classList.remove("selectedEditor")}updateParams(ot,ft){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return Yt(this,ut)}set isEditing(ot){Nn(this,ut,ot),ot?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let st=it;gt=new WeakMap,lt=new WeakMap,nt=new WeakMap,ut=new WeakMap,ht=new WeakMap,at=new WeakMap,Fr(st,"_colorManager",new et.ColorManager),Fr(st,"_zIndex",1),$.AnnotationEditor=st},(j,$,_e)=>{var it,rt,ot,ft,ct,dt,So,vt,yt,Ct,bt,Dt,wt,Ft,Lt,Qt,Ut,Xt,qt,Jt,Gt,Et,At,It,Ot,Tt,St,Co,$t,Vs,Bt,xo,Kt,wo,en,os,Ht,Ds,Pt,Eo,Nt,To,Vt,Xs,rn,ks,cn,Gs;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=st,$.opacityToHex=gt;var et=_e(1),tt=_e(6);function st(xn,on,Cn){for(const kn of Cn)on.addEventListener(kn,xn[kn].bind(xn))}function gt(xn){return Math.round(Math.min(255,Math.max(1,255*xn))).toString(16).padStart(2,"0")}class lt{constructor(){Tn(this,it,0)}getId(){return`${et.AnnotationEditorPrefix}${Ws(this,it)._++}`}}it=new WeakMap;class nt{constructor(on=128){Tn(this,rt,[]);Tn(this,ot,!1);Tn(this,ft,void 0);Tn(this,ct,-1);Nn(this,ft,on)}add({cmd:on,undo:Cn,mustExec:kn,type:jn=NaN,overwriteIfSameType:Gn=!1,keepUndo:Vn=!1}){if(kn&&on(),Yt(this,ot))return;const Wn={cmd:on,undo:Cn,type:jn};if(Yt(this,ct)===-1){Yt(this,rt).length>0&&(Yt(this,rt).length=0),Nn(this,ct,0),Yt(this,rt).push(Wn);return}if(Gn&&Yt(this,rt)[Yt(this,ct)].type===jn){Vn&&(Wn.undo=Yt(this,rt)[Yt(this,ct)].undo),Yt(this,rt)[Yt(this,ct)]=Wn;return}const wn=Yt(this,ct)+1;wn===Yt(this,ft)?Yt(this,rt).splice(0,1):(Nn(this,ct,wn),wn<Yt(this,rt).length&&Yt(this,rt).splice(wn)),Yt(this,rt).push(Wn)}undo(){Yt(this,ct)!==-1&&(Nn(this,ot,!0),Yt(this,rt)[Yt(this,ct)].undo(),Nn(this,ot,!1),Nn(this,ct,Yt(this,ct)-1))}redo(){Yt(this,ct)<Yt(this,rt).length-1&&(Nn(this,ct,Yt(this,ct)+1),Nn(this,ot,!0),Yt(this,rt)[Yt(this,ct)].cmd(),Nn(this,ot,!1))}hasSomethingToUndo(){return Yt(this,ct)!==-1}hasSomethingToRedo(){return Yt(this,ct)<Yt(this,rt).length-1}destroy(){Nn(this,rt,null)}}rt=new WeakMap,ot=new WeakMap,ft=new WeakMap,ct=new WeakMap,$.CommandManager=nt;const mt=class{constructor(on){Tn(this,dt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const Cn=mt.platform.isMac;for(const[kn,jn]of on)for(const Gn of kn){const Vn=Gn.startsWith("mac+");Cn&&Vn?(this.callbacks.set(Gn.slice(4),jn),this.allKeys.add(Gn.split("+").at(-1))):!Cn&&!Vn&&(this.callbacks.set(Gn,jn),this.allKeys.add(Gn.split("+").at(-1)))}}static get platform(){const on=typeof navigator<"u"?navigator.platform:"";return(0,et.shadow)(this,"platform",{isWin:on.includes("Win"),isMac:on.includes("Mac")})}exec(on,Cn){if(!this.allKeys.has(Cn.key))return;const kn=this.callbacks.get(Fn(this,dt,So).call(this,Cn));!kn||(kn.bind(on)(),Cn.stopPropagation(),Cn.preventDefault())}};let ut=mt;dt=new WeakSet,So=function(on){on.altKey&&this.buffer.push("alt"),on.ctrlKey&&this.buffer.push("ctrl"),on.metaKey&&this.buffer.push("meta"),on.shiftKey&&this.buffer.push("shift"),this.buffer.push(on.key);const Cn=this.buffer.join("+");return this.buffer.length=0,Cn},$.KeyboardManager=ut;const _t=class{get _colors(){const on=new Map([["CanvasText",null],["Canvas",null]]);return(0,tt.getColorValues)(on),(0,et.shadow)(this,"_colors",on)}convert(on){const Cn=(0,tt.getRGB)(on);if(!window.matchMedia("(forced-colors: active)").matches)return Cn;for(const[kn,jn]of this._colors)if(jn.every((Gn,Vn)=>Gn===Cn[Vn]))return _t._colorsMapping.get(kn);return Cn}getHexCode(on){const Cn=this._colors.get(on);return Cn?et.Util.makeHexColor(...Cn):on}};let ht=_t;Fr(ht,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),$.ColorManager=ht;const pn=class{constructor(on,Cn){Tn(this,St);Tn(this,$t);Tn(this,Bt);Tn(this,Kt);Tn(this,en);Tn(this,Ht);Tn(this,Pt);Tn(this,Nt);Tn(this,Vt);Tn(this,rn);Tn(this,cn);Tn(this,vt,null);Tn(this,yt,new Map);Tn(this,Ct,new Map);Tn(this,bt,new nt);Tn(this,Dt,0);Tn(this,wt,null);Tn(this,Ft,null);Tn(this,Lt,new lt);Tn(this,Qt,!1);Tn(this,Ut,et.AnnotationEditorType.NONE);Tn(this,Xt,new Set);Tn(this,qt,this.copy.bind(this));Tn(this,Jt,this.cut.bind(this));Tn(this,Gt,this.paste.bind(this));Tn(this,Et,this.keydown.bind(this));Tn(this,At,this.onEditingAction.bind(this));Tn(this,It,this.onPageChanging.bind(this));Tn(this,Ot,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Tn(this,Tt,null);Nn(this,Tt,on),Nn(this,Ft,Cn),Yt(this,Ft)._on("editingaction",Yt(this,At)),Yt(this,Ft)._on("pagechanging",Yt(this,It))}destroy(){Fn(this,$t,Vs).call(this),Yt(this,Ft)._off("editingaction",Yt(this,At)),Yt(this,Ft)._off("pagechanging",Yt(this,It));for(const on of Yt(this,Ct).values())on.destroy();Yt(this,Ct).clear(),Yt(this,yt).clear(),Nn(this,vt,null),Yt(this,Xt).clear(),Yt(this,bt).destroy()}onPageChanging({pageNumber:on}){Nn(this,Dt,on-1)}focusMainContainer(){Yt(this,Tt).focus()}copy(on){if(on.preventDefault(),Yt(this,vt)&&Yt(this,vt).commitOrRemove(),!this.hasSelection)return;const Cn=[];for(const kn of Yt(this,Xt))kn.isEmpty()||Cn.push(kn.serialize());Cn.length!==0&&on.clipboardData.setData("application/pdfjs",JSON.stringify(Cn))}cut(on){this.copy(on),this.delete()}paste(on){on.preventDefault();let Cn=on.clipboardData.getData("application/pdfjs");if(!Cn)return;try{Cn=JSON.parse(Cn)}catch(jn){(0,et.warn)(`paste: "${jn.message}".`);return}if(!Array.isArray(Cn))return;this.unselectAll();const kn=Yt(this,Ct).get(Yt(this,Dt));try{const jn=[];for(const Wn of Cn){const wn=kn.deserialize(Wn);if(!wn)return;jn.push(wn)}const Gn=()=>{for(const Wn of jn)Fn(this,Vt,Xs).call(this,Wn);Fn(this,cn,Gs).call(this,jn)},Vn=()=>{for(const Wn of jn)Wn.remove()};this.addCommands({cmd:Gn,undo:Vn,mustExec:!0})}catch(jn){(0,et.warn)(`paste: "${jn.message}".`)}}keydown(on){var Cn;(Cn=this.getActive())!=null&&Cn.shouldGetKeyboardEvents()||pn._keyboardManager.exec(this,on)}onEditingAction(on){["undo","redo","delete","selectAll"].includes(on.name)&&this[on.name]()}setEditingState(on){on?(Fn(this,St,Co).call(this),Fn(this,Bt,xo).call(this),Fn(this,en,os).call(this,{isEditing:Yt(this,Ut)!==et.AnnotationEditorType.NONE,isEmpty:Fn(this,rn,ks).call(this),hasSomethingToUndo:Yt(this,bt).hasSomethingToUndo(),hasSomethingToRedo:Yt(this,bt).hasSomethingToRedo(),hasSelectedEditor:!1})):(Fn(this,$t,Vs).call(this),Fn(this,Kt,wo).call(this),Fn(this,en,os).call(this,{isEditing:!1}))}registerEditorTypes(on){if(!Yt(this,wt)){Nn(this,wt,on);for(const Cn of Yt(this,wt))Fn(this,Ht,Ds).call(this,Cn.defaultPropertiesToUpdate)}}getId(){return Yt(this,Lt).getId()}addLayer(on){Yt(this,Ct).set(on.pageIndex,on),Yt(this,Qt)?on.enable():on.disable()}removeLayer(on){Yt(this,Ct).delete(on.pageIndex)}updateMode(on){if(Nn(this,Ut,on),on===et.AnnotationEditorType.NONE)this.setEditingState(!1),Fn(this,Nt,To).call(this);else{this.setEditingState(!0),Fn(this,Pt,Eo).call(this);for(const Cn of Yt(this,Ct).values())Cn.updateMode(on)}}updateToolbar(on){on!==Yt(this,Ut)&&Yt(this,Ft).dispatch("switchannotationeditormode",{source:this,mode:on})}updateParams(on,Cn){if(!!Yt(this,wt)){for(const kn of Yt(this,Xt))kn.updateParams(on,Cn);for(const kn of Yt(this,wt))kn.updateDefaultParams(on,Cn)}}getEditors(on){const Cn=[];for(const kn of Yt(this,yt).values())kn.pageIndex===on&&Cn.push(kn);return Cn}getEditor(on){return Yt(this,yt).get(on)}addEditor(on){Yt(this,yt).set(on.id,on)}removeEditor(on){Yt(this,yt).delete(on.id),this.unselect(on)}setActiveEditor(on){Yt(this,vt)!==on&&(Nn(this,vt,on),on&&Fn(this,Ht,Ds).call(this,on.propertiesToUpdate))}toggleSelected(on){if(Yt(this,Xt).has(on)){Yt(this,Xt).delete(on),on.unselect(),Fn(this,en,os).call(this,{hasSelectedEditor:this.hasSelection});return}Yt(this,Xt).add(on),on.select(),Fn(this,Ht,Ds).call(this,on.propertiesToUpdate),Fn(this,en,os).call(this,{hasSelectedEditor:!0})}setSelected(on){for(const Cn of Yt(this,Xt))Cn!==on&&Cn.unselect();Yt(this,Xt).clear(),Yt(this,Xt).add(on),on.select(),Fn(this,Ht,Ds).call(this,on.propertiesToUpdate),Fn(this,en,os).call(this,{hasSelectedEditor:!0})}isSelected(on){return Yt(this,Xt).has(on)}unselect(on){on.unselect(),Yt(this,Xt).delete(on),Fn(this,en,os).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Yt(this,Xt).size!==0}undo(){Yt(this,bt).undo(),Fn(this,en,os).call(this,{hasSomethingToUndo:Yt(this,bt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Fn(this,rn,ks).call(this)})}redo(){Yt(this,bt).redo(),Fn(this,en,os).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Yt(this,bt).hasSomethingToRedo(),isEmpty:Fn(this,rn,ks).call(this)})}addCommands(on){Yt(this,bt).add(on),Fn(this,en,os).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Fn(this,rn,ks).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const on=[...Yt(this,Xt)],Cn=()=>{for(const jn of on)jn.remove()},kn=()=>{for(const jn of on)Fn(this,Vt,Xs).call(this,jn)};this.addCommands({cmd:Cn,undo:kn,mustExec:!0})}commitOrRemove(){var on;(on=Yt(this,vt))==null||on.commitOrRemove()}selectAll(){for(const on of Yt(this,Xt))on.commit();Fn(this,cn,Gs).call(this,Yt(this,yt).values())}unselectAll(){if(Yt(this,vt)){Yt(this,vt).commitOrRemove();return}if(Yt(this,Xt).size!==0){for(const on of Yt(this,Xt))on.unselect();Yt(this,Xt).clear(),Fn(this,en,os).call(this,{hasSelectedEditor:!1})}}isActive(on){return Yt(this,vt)===on}getActive(){return Yt(this,vt)}getMode(){return Yt(this,Ut)}};let at=pn;vt=new WeakMap,yt=new WeakMap,Ct=new WeakMap,bt=new WeakMap,Dt=new WeakMap,wt=new WeakMap,Ft=new WeakMap,Lt=new WeakMap,Qt=new WeakMap,Ut=new WeakMap,Xt=new WeakMap,qt=new WeakMap,Jt=new WeakMap,Gt=new WeakMap,Et=new WeakMap,At=new WeakMap,It=new WeakMap,Ot=new WeakMap,Tt=new WeakMap,St=new WeakSet,Co=function(){Yt(this,Tt).addEventListener("keydown",Yt(this,Et))},$t=new WeakSet,Vs=function(){Yt(this,Tt).removeEventListener("keydown",Yt(this,Et))},Bt=new WeakSet,xo=function(){document.addEventListener("copy",Yt(this,qt)),document.addEventListener("cut",Yt(this,Jt)),document.addEventListener("paste",Yt(this,Gt))},Kt=new WeakSet,wo=function(){document.removeEventListener("copy",Yt(this,qt)),document.removeEventListener("cut",Yt(this,Jt)),document.removeEventListener("paste",Yt(this,Gt))},en=new WeakSet,os=function(on){Object.entries(on).some(([kn,jn])=>Yt(this,Ot)[kn]!==jn)&&Yt(this,Ft).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Yt(this,Ot),on)})},Ht=new WeakSet,Ds=function(on){Yt(this,Ft).dispatch("annotationeditorparamschanged",{source:this,details:on})},Pt=new WeakSet,Eo=function(){if(!Yt(this,Qt)){Nn(this,Qt,!0);for(const on of Yt(this,Ct).values())on.enable()}},Nt=new WeakSet,To=function(){if(this.unselectAll(),Yt(this,Qt)){Nn(this,Qt,!1);for(const on of Yt(this,Ct).values())on.disable()}},Vt=new WeakSet,Xs=function(on){const Cn=Yt(this,Ct).get(on.pageIndex);Cn?Cn.addOrRebuild(on):this.addEditor(on)},rn=new WeakSet,ks=function(){if(Yt(this,yt).size===0)return!0;if(Yt(this,yt).size===1)for(const on of Yt(this,yt).values())return on.isEmpty();return!1},cn=new WeakSet,Gs=function(on){Yt(this,Xt).clear();for(const Cn of on)Cn.isEmpty()||(Yt(this,Xt).add(Cn),Cn.select());Fn(this,en,os).call(this,{hasSelectedEditor:!0})},Fr(at,"_keyboardManager",new ut([[["ctrl+a","mac+meta+a"],pn.prototype.selectAll],[["ctrl+z","mac+meta+z"],pn.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],pn.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],pn.prototype.delete],[["Escape","mac+Escape"],pn.prototype.unselectAll]])),$.AnnotationEditorUIManager=at},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=$.AnnotationPrefix=void 0,$.deprecated=yt,$.getColorValues=Ft,$.getCurrentTransform=Lt,$.getCurrentTransformInverse=Qt,$.getFilenameFromUrl=dt,$.getPdfFilenameFromUrl=pt,$.getRGB=wt,$.getXfaPageViewport=Dt,$.isDataScheme=ft,$.isPdfFile=ct,$.isValidFetchUrl=_t,$.loadScript=vt;var et=_e(7),tt=_e(1);const st="http://www.w3.org/2000/svg",gt="pdfjs_internal_id_";$.AnnotationPrefix=gt;const Ut=class{};let lt=Ut;Fr(lt,"CSS",96),Fr(lt,"PDF",72),Fr(lt,"PDF_TO_CSS_UNITS",Ut.CSS/Ut.PDF),$.PixelsPerInch=lt;class nt extends et.BaseCanvasFactory{constructor({ownerDocument:qt=globalThis.document}={}){super(),this._document=qt}_createCanvas(qt,Jt){const Gt=this._document.createElement("canvas");return Gt.width=qt,Gt.height=Jt,Gt}}$.DOMCanvasFactory=nt;async function ut(Xt,qt=!1){if(_t(Xt,document.baseURI)){const Jt=await fetch(Xt);if(!Jt.ok)throw new Error(Jt.statusText);return qt?new Uint8Array(await Jt.arrayBuffer()):(0,tt.stringToBytes)(await Jt.text())}return new Promise((Jt,Gt)=>{const Et=new XMLHttpRequest;Et.open("GET",Xt,!0),qt&&(Et.responseType="arraybuffer"),Et.onreadystatechange=()=>{if(Et.readyState===XMLHttpRequest.DONE){if(Et.status===200||Et.status===0){let At;if(qt&&Et.response?At=new Uint8Array(Et.response):!qt&&Et.responseText&&(At=(0,tt.stringToBytes)(Et.responseText)),At){Jt(At);return}}Gt(new Error(Et.statusText))}},Et.send(null)})}class ht extends et.BaseCMapReaderFactory{_fetchData(qt,Jt){return ut(qt,this.isCompressed).then(Gt=>({cMapData:Gt,compressionType:Jt}))}}$.DOMCMapReaderFactory=ht;class at extends et.BaseStandardFontDataFactory{_fetchData(qt){return ut(qt,!0)}}$.DOMStandardFontDataFactory=at;class it extends et.BaseSVGFactory{_createSVG(qt){return document.createElementNS(st,qt)}}$.DOMSVGFactory=it;class rt{constructor({viewBox:qt,scale:Jt,rotation:Gt,offsetX:Et=0,offsetY:At=0,dontFlip:It=!1}){this.viewBox=qt,this.scale=Jt,this.rotation=Gt,this.offsetX=Et,this.offsetY=At;const Ot=(qt[2]+qt[0])/2,Tt=(qt[3]+qt[1])/2;let St,xt,$t,Rt;switch(Gt%=360,Gt<0&&(Gt+=360),Gt){case 180:St=-1,xt=0,$t=0,Rt=1;break;case 90:St=0,xt=1,$t=1,Rt=0;break;case 270:St=0,xt=-1,$t=-1,Rt=0;break;case 0:St=1,xt=0,$t=0,Rt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}It&&($t=-$t,Rt=-Rt);let Bt,Wt,Kt,ln;St===0?(Bt=Math.abs(Tt-qt[1])*Jt+Et,Wt=Math.abs(Ot-qt[0])*Jt+At,Kt=Math.abs(qt[3]-qt[1])*Jt,ln=Math.abs(qt[2]-qt[0])*Jt):(Bt=Math.abs(Ot-qt[0])*Jt+Et,Wt=Math.abs(Tt-qt[1])*Jt+At,Kt=Math.abs(qt[2]-qt[0])*Jt,ln=Math.abs(qt[3]-qt[1])*Jt),this.transform=[St*Jt,xt*Jt,$t*Jt,Rt*Jt,Bt-St*Jt*Ot-$t*Jt*Tt,Wt-xt*Jt*Ot-Rt*Jt*Tt],this.width=Kt,this.height=ln}clone({scale:qt=this.scale,rotation:Jt=this.rotation,offsetX:Gt=this.offsetX,offsetY:Et=this.offsetY,dontFlip:At=!1}={}){return new rt({viewBox:this.viewBox.slice(),scale:qt,rotation:Jt,offsetX:Gt,offsetY:Et,dontFlip:At})}convertToViewportPoint(qt,Jt){return tt.Util.applyTransform([qt,Jt],this.transform)}convertToViewportRectangle(qt){const Jt=tt.Util.applyTransform([qt[0],qt[1]],this.transform),Gt=tt.Util.applyTransform([qt[2],qt[3]],this.transform);return[Jt[0],Jt[1],Gt[0],Gt[1]]}convertToPdfPoint(qt,Jt){return tt.Util.applyInverseTransform([qt,Jt],this.transform)}}$.PageViewport=rt;class ot extends tt.BaseException{constructor(qt,Jt){super(qt,"RenderingCancelledException"),this.type=Jt}}$.RenderingCancelledException=ot;function ft(Xt){const qt=Xt.length;let Jt=0;for(;Jt<qt&&Xt[Jt].trim()==="";)Jt++;return Xt.substring(Jt,Jt+5).toLowerCase()==="data:"}function ct(Xt){return typeof Xt=="string"&&/\.pdf$/i.test(Xt)}function dt(Xt,qt=!1){return qt||([Xt]=Xt.split(/[#?]/,1)),Xt.substring(Xt.lastIndexOf("/")+1)}function pt(Xt,qt="document.pdf"){if(typeof Xt!="string")return qt;if(ft(Xt))return(0,tt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),qt;const Jt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Gt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Et=Jt.exec(Xt);let At=Gt.exec(Et[1])||Gt.exec(Et[2])||Gt.exec(Et[3]);if(At&&(At=At[0],At.includes("%")))try{At=Gt.exec(decodeURIComponent(At))[0]}catch{}return At||qt}class mt{constructor(){Fr(this,"started",Object.create(null));Fr(this,"times",[])}time(qt){qt in this.started&&(0,tt.warn)(`Timer is already running for ${qt}`),this.started[qt]=Date.now()}timeEnd(qt){qt in this.started||(0,tt.warn)(`Timer has not been started for ${qt}`),this.times.push({name:qt,start:this.started[qt],end:Date.now()}),delete this.started[qt]}toString(){const qt=[];let Jt=0;for(const{name:Gt}of this.times)Jt=Math.max(Gt.length,Jt);for(const{name:Gt,start:Et,end:At}of this.times)qt.push(`${Gt.padEnd(Jt)} ${At-Et}ms
`);return qt.join("")}}$.StatTimer=mt;function _t(Xt,qt){try{const{protocol:Jt}=qt?new URL(Xt,qt):new URL(Xt);return Jt==="http:"||Jt==="https:"}catch{return!1}}function vt(Xt,qt=!1){return new Promise((Jt,Gt)=>{const Et=document.createElement("script");Et.src=Xt,Et.onload=function(At){qt&&Et.remove(),Jt(At)},Et.onerror=function(){Gt(new Error(`Cannot load script at: ${Et.src}`))},(document.head||document.documentElement).append(Et)})}function yt(Xt){console.log("Deprecated API usage: "+Xt)}let Ct;class bt{static toDateObject(qt){if(!qt||typeof qt!="string")return null;Ct||(Ct=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Jt=Ct.exec(qt);if(!Jt)return null;const Gt=parseInt(Jt[1],10);let Et=parseInt(Jt[2],10);Et=Et>=1&&Et<=12?Et-1:0;let At=parseInt(Jt[3],10);At=At>=1&&At<=31?At:1;let It=parseInt(Jt[4],10);It=It>=0&&It<=23?It:0;let Ot=parseInt(Jt[5],10);Ot=Ot>=0&&Ot<=59?Ot:0;let Tt=parseInt(Jt[6],10);Tt=Tt>=0&&Tt<=59?Tt:0;const St=Jt[7]||"Z";let xt=parseInt(Jt[8],10);xt=xt>=0&&xt<=23?xt:0;let $t=parseInt(Jt[9],10)||0;return $t=$t>=0&&$t<=59?$t:0,St==="-"?(It+=xt,Ot+=$t):St==="+"&&(It-=xt,Ot-=$t),new Date(Date.UTC(Gt,Et,At,It,Ot,Tt))}}$.PDFDateString=bt;function Dt(Xt,{scale:qt=1,rotation:Jt=0}){const{width:Gt,height:Et}=Xt.attributes.style,At=[0,0,parseInt(Gt),parseInt(Et)];return new rt({viewBox:At,scale:qt,rotation:Jt})}function wt(Xt){if(Xt.startsWith("#")){const qt=parseInt(Xt.slice(1),16);return[(qt&16711680)>>16,(qt&65280)>>8,qt&255]}return Xt.startsWith("rgb(")?Xt.slice(4,-1).split(",").map(qt=>parseInt(qt)):Xt.startsWith("rgba(")?Xt.slice(5,-1).split(",").map(qt=>parseInt(qt)).slice(0,3):((0,tt.warn)(`Not a valid color format: "${Xt}"`),[0,0,0])}function Ft(Xt){const qt=document.createElement("span");qt.style.visibility="hidden",document.body.append(qt);for(const Jt of Xt.keys()){qt.style.color=Jt;const Gt=window.getComputedStyle(qt).color;Xt.set(Jt,wt(Gt))}qt.remove()}function Lt(Xt){const{a:qt,b:Jt,c:Gt,d:Et,e:At,f:It}=Xt.getTransform();return[qt,Jt,Gt,Et,At,It]}function Qt(Xt){const{a:qt,b:Jt,c:Gt,d:Et,e:At,f:It}=Xt.getTransform().invertSelf();return[qt,Jt,Gt,Et,At,It]}},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var et=_e(1);class tt{constructor(){this.constructor===tt&&(0,et.unreachable)("Cannot initialize BaseCanvasFactory.")}create(ut,ht){if(ut<=0||ht<=0)throw new Error("Invalid canvas size");const at=this._createCanvas(ut,ht);return{canvas:at,context:at.getContext("2d")}}reset(ut,ht,at){if(!ut.canvas)throw new Error("Canvas is not specified");if(ht<=0||at<=0)throw new Error("Invalid canvas size");ut.canvas.width=ht,ut.canvas.height=at}destroy(ut){if(!ut.canvas)throw new Error("Canvas is not specified");ut.canvas.width=0,ut.canvas.height=0,ut.canvas=null,ut.context=null}_createCanvas(ut,ht){(0,et.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=tt;class st{constructor({baseUrl:ut=null,isCompressed:ht=!1}){this.constructor===st&&(0,et.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ut,this.isCompressed=ht}async fetch({name:ut}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!ut)throw new Error("CMap name must be specified.");const ht=this.baseUrl+ut+(this.isCompressed?".bcmap":""),at=this.isCompressed?et.CMapCompressionType.BINARY:et.CMapCompressionType.NONE;return this._fetchData(ht,at).catch(it=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ht}`)})}_fetchData(ut,ht){(0,et.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=st;class gt{constructor({baseUrl:ut=null}){this.constructor===gt&&(0,et.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=ut}async fetch({filename:ut}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!ut)throw new Error("Font filename must be specified.");const ht=`${this.baseUrl}${ut}`;return this._fetchData(ht).catch(at=>{throw new Error(`Unable to load font data at: ${ht}`)})}_fetchData(ut){(0,et.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=gt;class lt{constructor(){this.constructor===lt&&(0,et.unreachable)("Cannot initialize BaseSVGFactory.")}create(ut,ht,at=!1){if(ut<=0||ht<=0)throw new Error("Invalid SVG dimensions");const it=this._createSVG("svg:svg");return it.setAttribute("version","1.1"),at||(it.setAttribute("width",`${ut}px`),it.setAttribute("height",`${ht}px`)),it.setAttribute("preserveAspectRatio","none"),it.setAttribute("viewBox",`0 0 ${ut} ${ht}`),it}createElement(ut){if(typeof ut!="string")throw new Error("Invalid SVG element type");return this._createSVG(ut)}_createSVG(ut){(0,et.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=lt},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var et=_e(1);const tt=3285377520,st=4294901760,gt=65535;class lt{constructor(ut){this.h1=ut?ut&4294967295:tt,this.h2=ut?ut&4294967295:tt}update(ut){let ht,at;if(typeof ut=="string"){ht=new Uint8Array(ut.length*2),at=0;for(let Ct=0,bt=ut.length;Ct<bt;Ct++){const Dt=ut.charCodeAt(Ct);Dt<=255?ht[at++]=Dt:(ht[at++]=Dt>>>8,ht[at++]=Dt&255)}}else if((0,et.isArrayBuffer)(ut))ht=ut.slice(),at=ht.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const it=at>>2,rt=at-it*4,ot=new Uint32Array(ht.buffer,0,it);let ft=0,ct=0,dt=this.h1,pt=this.h2;const mt=3432918353,_t=461845907,vt=mt&gt,yt=_t&gt;for(let Ct=0;Ct<it;Ct++)Ct&1?(ft=ot[Ct],ft=ft*mt&st|ft*vt&gt,ft=ft<<15|ft>>>17,ft=ft*_t&st|ft*yt&gt,dt^=ft,dt=dt<<13|dt>>>19,dt=dt*5+3864292196):(ct=ot[Ct],ct=ct*mt&st|ct*vt&gt,ct=ct<<15|ct>>>17,ct=ct*_t&st|ct*yt&gt,pt^=ct,pt=pt<<13|pt>>>19,pt=pt*5+3864292196);switch(ft=0,rt){case 3:ft^=ht[it*4+2]<<16;case 2:ft^=ht[it*4+1]<<8;case 1:ft^=ht[it*4],ft=ft*mt&st|ft*vt&gt,ft=ft<<15|ft>>>17,ft=ft*_t&st|ft*yt&gt,it&1?dt^=ft:pt^=ft}this.h1=dt,this.h2=pt}hexdigest(){let ut=this.h1,ht=this.h2;return ut^=ht>>>1,ut=ut*3981806797&st|ut*36045&gt,ht=ht*4283543511&st|((ht<<16|ut>>>16)*2950163797&st)>>>16,ut^=ht>>>1,ut=ut*444984403&st|ut*60499&gt,ht=ht*3301882366&st|((ht<<16|ut>>>16)*3120437893&st)>>>16,ut^=ht>>>1,(ut>>>0).toString(16).padStart(8,"0")+(ht>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=lt},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var et=_e(1);class tt{constructor({onUnsupportedFeature:lt,ownerDocument:nt=globalThis.document,styleElement:ut=null}){this._onUnsupportedFeature=lt,this._document=nt,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(lt){this.nativeFontFaces.push(lt),this._document.fonts.add(lt)}insertRule(lt){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const nt=this.styleElement.sheet;nt.insertRule(lt,nt.cssRules.length)}clear(){for(const lt of this.nativeFontFaces)this._document.fonts.delete(lt);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(lt){if(lt.attached||lt.missingFile)return;if(lt.attached=!0,this.isFontLoadingAPISupported){const ut=lt.createNativeFontFace();if(ut){this.addNativeFontFace(ut);try{await ut.loaded}catch(ht){throw this._onUnsupportedFeature({featureId:et.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,et.warn)(`Failed to load font '${ut.family}': '${ht}'.`),lt.disableFontFace=!0,ht}}return}const nt=lt.createFontFaceRule();if(nt){if(this.insertRule(nt),this.isSyncFontLoadingSupported)return;await new Promise(ut=>{const ht=this._queueLoadingCallback(ut);this._prepareFontLoadEvent(lt,ht)})}}get isFontLoadingAPISupported(){var nt;const lt=!!((nt=this._document)!=null&&nt.fonts);return(0,et.shadow)(this,"isFontLoadingAPISupported",lt)}get isSyncFontLoadingSupported(){let lt=!1;if(typeof navigator>"u")lt=!0;else{const nt=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(nt==null?void 0:nt[1])>=14&&(lt=!0)}return(0,et.shadow)(this,"isSyncFontLoadingSupported",lt)}_queueLoadingCallback(lt){function nt(){for((0,et.assert)(!ht.done,"completeRequest() cannot be called twice."),ht.done=!0;ut.length>0&&ut[0].done;){const at=ut.shift();setTimeout(at.callback,0)}}const{loadingRequests:ut}=this,ht={done:!1,complete:nt,callback:lt};return ut.push(ht),ht}get _loadTestFont(){const lt=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,et.shadow)(this,"_loadTestFont",lt)}_prepareFontLoadEvent(lt,nt){function ut(wt,Ft){return wt.charCodeAt(Ft)<<24|wt.charCodeAt(Ft+1)<<16|wt.charCodeAt(Ft+2)<<8|wt.charCodeAt(Ft+3)&255}function ht(wt,Ft,Lt,Qt){const Ut=wt.substring(0,Ft),Xt=wt.substring(Ft+Lt);return Ut+Qt+Xt}let at,it;const rt=this._document.createElement("canvas");rt.width=1,rt.height=1;const ot=rt.getContext("2d");let ft=0;function ct(wt,Ft){if(++ft>30){(0,et.warn)("Load test font never loaded."),Ft();return}if(ot.font="30px "+wt,ot.fillText(".",0,20),ot.getImageData(0,0,1,1).data[3]>0){Ft();return}setTimeout(ct.bind(null,wt,Ft))}const dt=`lt${Date.now()}${this.loadTestFontId++}`;let pt=this._loadTestFont;pt=ht(pt,976,dt.length,dt);const _t=16,vt=1482184792;let yt=ut(pt,_t);for(at=0,it=dt.length-3;at<it;at+=4)yt=yt-vt+ut(dt,at)|0;at<dt.length&&(yt=yt-vt+ut(dt+"XXX",at)|0),pt=ht(pt,_t,4,(0,et.string32)(yt));const Ct=`url(data:font/opentype;base64,${btoa(pt)});`,bt=`@font-face {font-family:"${dt}";src:${Ct}}`;this.insertRule(bt);const Dt=this._document.createElement("div");Dt.style.visibility="hidden",Dt.style.width=Dt.style.height="10px",Dt.style.position="absolute",Dt.style.top=Dt.style.left="0px";for(const wt of[lt.loadedName,dt]){const Ft=this._document.createElement("span");Ft.textContent="Hi",Ft.style.fontFamily=wt,Dt.append(Ft)}this._document.body.append(Dt),ct(dt,()=>{Dt.remove(),nt.complete()})}}$.FontLoader=tt;class st{constructor(lt,{isEvalSupported:nt=!0,disableFontFace:ut=!1,ignoreErrors:ht=!1,onUnsupportedFeature:at,fontRegistry:it=null}){this.compiledGlyphs=Object.create(null);for(const rt in lt)this[rt]=lt[rt];this.isEvalSupported=nt!==!1,this.disableFontFace=ut===!0,this.ignoreErrors=ht===!0,this._onUnsupportedFeature=at,this.fontRegistry=it}createNativeFontFace(){var nt;if(!this.data||this.disableFontFace)return null;let lt;if(!this.cssFontInfo)lt=new FontFace(this.loadedName,this.data,{});else{const ut={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ut.style=`oblique ${this.cssFontInfo.italicAngle}deg`),lt=new FontFace(this.cssFontInfo.fontFamily,this.data,ut)}return(nt=this.fontRegistry)==null||nt.registerFont(this),lt}createFontFaceRule(){var ht;if(!this.data||this.disableFontFace)return null;const lt=(0,et.bytesToString)(this.data),nt=`url(data:${this.mimetype};base64,${btoa(lt)});`;let ut;if(!this.cssFontInfo)ut=`@font-face {font-family:"${this.loadedName}";src:${nt}}`;else{let at=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(at+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ut=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${at}src:${nt}}`}return(ht=this.fontRegistry)==null||ht.registerFont(this,nt),ut}getPathGenerator(lt,nt){if(this.compiledGlyphs[nt]!==void 0)return this.compiledGlyphs[nt];let ut;try{ut=lt.get(this.loadedName+"_path_"+nt)}catch(ht){if(!this.ignoreErrors)throw ht;return this._onUnsupportedFeature({featureId:et.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,et.warn)(`getPathGenerator - ignoring character: "${ht}".`),this.compiledGlyphs[nt]=function(at,it){}}if(this.isEvalSupported&&et.FeatureTest.isEvalSupported){const ht=[];for(const at of ut){const it=at.args!==void 0?at.args.join(","):"";ht.push("c.",at.cmd,"(",it,`);
`)}return this.compiledGlyphs[nt]=new Function("c","size",ht.join(""))}return this.compiledGlyphs[nt]=function(ht,at){for(const it of ut)it.cmd==="scale"&&(it.args=[at,-at]),ht[it.cmd].apply(ht,it.args)}}}$.FontFaceObject=st},(j,$,_e)=>{var Et,Ys;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var et=_e(1),tt=_e(6),st=_e(11),gt=_e(13),lt=_e(12);const nt=16,ut=100,ht=4096,at=15,it=10,rt=lt.isNodeJS&&typeof Path2D>"u"?-1:1e3,ot=16;function ft(Ot,Tt){if(Ot._removeMirroring)throw new Error("Context is already forwarding operations.");Ot.__originalSave=Ot.save,Ot.__originalRestore=Ot.restore,Ot.__originalRotate=Ot.rotate,Ot.__originalScale=Ot.scale,Ot.__originalTranslate=Ot.translate,Ot.__originalTransform=Ot.transform,Ot.__originalSetTransform=Ot.setTransform,Ot.__originalResetTransform=Ot.resetTransform,Ot.__originalClip=Ot.clip,Ot.__originalMoveTo=Ot.moveTo,Ot.__originalLineTo=Ot.lineTo,Ot.__originalBezierCurveTo=Ot.bezierCurveTo,Ot.__originalRect=Ot.rect,Ot.__originalClosePath=Ot.closePath,Ot.__originalBeginPath=Ot.beginPath,Ot._removeMirroring=()=>{Ot.save=Ot.__originalSave,Ot.restore=Ot.__originalRestore,Ot.rotate=Ot.__originalRotate,Ot.scale=Ot.__originalScale,Ot.translate=Ot.__originalTranslate,Ot.transform=Ot.__originalTransform,Ot.setTransform=Ot.__originalSetTransform,Ot.resetTransform=Ot.__originalResetTransform,Ot.clip=Ot.__originalClip,Ot.moveTo=Ot.__originalMoveTo,Ot.lineTo=Ot.__originalLineTo,Ot.bezierCurveTo=Ot.__originalBezierCurveTo,Ot.rect=Ot.__originalRect,Ot.closePath=Ot.__originalClosePath,Ot.beginPath=Ot.__originalBeginPath,delete Ot._removeMirroring},Ot.save=function(){Tt.save(),this.__originalSave()},Ot.restore=function(){Tt.restore(),this.__originalRestore()},Ot.translate=function(xt,$t){Tt.translate(xt,$t),this.__originalTranslate(xt,$t)},Ot.scale=function(xt,$t){Tt.scale(xt,$t),this.__originalScale(xt,$t)},Ot.transform=function(xt,$t,Rt,Bt,Wt,Kt){Tt.transform(xt,$t,Rt,Bt,Wt,Kt),this.__originalTransform(xt,$t,Rt,Bt,Wt,Kt)},Ot.setTransform=function(xt,$t,Rt,Bt,Wt,Kt){Tt.setTransform(xt,$t,Rt,Bt,Wt,Kt),this.__originalSetTransform(xt,$t,Rt,Bt,Wt,Kt)},Ot.resetTransform=function(){Tt.resetTransform(),this.__originalResetTransform()},Ot.rotate=function(xt){Tt.rotate(xt),this.__originalRotate(xt)},Ot.clip=function(xt){Tt.clip(xt),this.__originalClip(xt)},Ot.moveTo=function(St,xt){Tt.moveTo(St,xt),this.__originalMoveTo(St,xt)},Ot.lineTo=function(St,xt){Tt.lineTo(St,xt),this.__originalLineTo(St,xt)},Ot.bezierCurveTo=function(St,xt,$t,Rt,Bt,Wt){Tt.bezierCurveTo(St,xt,$t,Rt,Bt,Wt),this.__originalBezierCurveTo(St,xt,$t,Rt,Bt,Wt)},Ot.rect=function(St,xt,$t,Rt){Tt.rect(St,xt,$t,Rt),this.__originalRect(St,xt,$t,Rt)},Ot.closePath=function(){Tt.closePath(),this.__originalClosePath()},Ot.beginPath=function(){Tt.beginPath(),this.__originalBeginPath()}}class ct{constructor(Tt){this.canvasFactory=Tt,this.cache=Object.create(null)}getCanvas(Tt,St,xt){let $t;return this.cache[Tt]!==void 0?($t=this.cache[Tt],this.canvasFactory.reset($t,St,xt)):($t=this.canvasFactory.create(St,xt),this.cache[Tt]=$t),$t}delete(Tt){delete this.cache[Tt]}clear(){for(const Tt in this.cache){const St=this.cache[Tt];this.canvasFactory.destroy(St),delete this.cache[Tt]}}}function dt(Ot,Tt,St,xt,$t,Rt,Bt,Wt,Kt,ln){const[en,tn,Ht,nn,Pt,kt]=(0,tt.getCurrentTransform)(Ot);if(tn===0&&Ht===0){const Vt=Bt*en+Pt,sn=Math.round(Vt),rn=Wt*nn+kt,_n=Math.round(rn),cn=(Bt+Kt)*en+Pt,An=Math.abs(Math.round(cn)-sn)||1,pn=(Wt+ln)*nn+kt,xn=Math.abs(Math.round(pn)-_n)||1;return Ot.setTransform(Math.sign(en),0,0,Math.sign(nn),sn,_n),Ot.drawImage(Tt,St,xt,$t,Rt,0,0,An,xn),Ot.setTransform(en,tn,Ht,nn,Pt,kt),[An,xn]}if(en===0&&nn===0){const Vt=Wt*Ht+Pt,sn=Math.round(Vt),rn=Bt*tn+kt,_n=Math.round(rn),cn=(Wt+ln)*Ht+Pt,An=Math.abs(Math.round(cn)-sn)||1,pn=(Bt+Kt)*tn+kt,xn=Math.abs(Math.round(pn)-_n)||1;return Ot.setTransform(0,Math.sign(tn),Math.sign(Ht),0,sn,_n),Ot.drawImage(Tt,St,xt,$t,Rt,0,0,xn,An),Ot.setTransform(en,tn,Ht,nn,Pt,kt),[xn,An]}Ot.drawImage(Tt,St,xt,$t,Rt,Bt,Wt,Kt,ln);const Nt=Math.hypot(en,tn),jt=Math.hypot(Ht,nn);return[Nt*Kt,jt*ln]}function pt(Ot){const{width:Tt,height:St}=Ot;if(Tt>rt||St>rt)return null;const xt=1e3,$t=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Rt=Tt+1;let Bt=new Uint8Array(Rt*(St+1)),Wt,Kt,ln;const en=Tt+7&-8;let tn=new Uint8Array(en*St),Ht=0;for(const jt of Ot.data){let Vt=128;for(;Vt>0;)tn[Ht++]=jt&Vt?0:255,Vt>>=1}let nn=0;for(Ht=0,tn[Ht]!==0&&(Bt[0]=1,++nn),Kt=1;Kt<Tt;Kt++)tn[Ht]!==tn[Ht+1]&&(Bt[Kt]=tn[Ht]?2:1,++nn),Ht++;for(tn[Ht]!==0&&(Bt[Kt]=2,++nn),Wt=1;Wt<St;Wt++){Ht=Wt*en,ln=Wt*Rt,tn[Ht-en]!==tn[Ht]&&(Bt[ln]=tn[Ht]?1:8,++nn);let jt=(tn[Ht]?4:0)+(tn[Ht-en]?8:0);for(Kt=1;Kt<Tt;Kt++)jt=(jt>>2)+(tn[Ht+1]?4:0)+(tn[Ht-en+1]?8:0),$t[jt]&&(Bt[ln+Kt]=$t[jt],++nn),Ht++;if(tn[Ht-en]!==tn[Ht]&&(Bt[ln+Kt]=tn[Ht]?2:4,++nn),nn>xt)return null}for(Ht=en*(St-1),ln=Wt*Rt,tn[Ht]!==0&&(Bt[ln]=8,++nn),Kt=1;Kt<Tt;Kt++)tn[Ht]!==tn[Ht+1]&&(Bt[ln+Kt]=tn[Ht]?4:8,++nn),Ht++;if(tn[Ht]!==0&&(Bt[ln+Kt]=4,++nn),nn>xt)return null;const Pt=new Int32Array([0,Rt,-1,0,-Rt,0,0,0,1]),kt=new Path2D;for(Wt=0;nn&&Wt<=St;Wt++){let jt=Wt*Rt;const Vt=jt+Tt;for(;jt<Vt&&!Bt[jt];)jt++;if(jt===Vt)continue;kt.moveTo(jt%Rt,Wt);const sn=jt;let rn=Bt[jt];do{const _n=Pt[rn];do jt+=_n;while(!Bt[jt]);const cn=Bt[jt];cn!==5&&cn!==10?(rn=cn,Bt[jt]=0):(rn=cn&51*rn>>4,Bt[jt]&=rn>>2|rn<<2),kt.lineTo(jt%Rt,jt/Rt|0),Bt[jt]||--nn}while(sn!==jt);--Wt}return tn=null,Bt=null,function(jt){jt.save(),jt.scale(1/Tt,-1/St),jt.translate(0,-St),jt.fill(kt),jt.beginPath(),jt.restore()}}class mt{constructor(Tt,St){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=et.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=et.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=et.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,Tt,St])}clone(){const Tt=Object.create(this);return Tt.clipBox=this.clipBox.slice(),Tt}setCurrentPoint(Tt,St){this.x=Tt,this.y=St}updatePathMinMax(Tt,St,xt){[St,xt]=et.Util.applyTransform([St,xt],Tt),this.minX=Math.min(this.minX,St),this.minY=Math.min(this.minY,xt),this.maxX=Math.max(this.maxX,St),this.maxY=Math.max(this.maxY,xt)}updateRectMinMax(Tt,St){const xt=et.Util.applyTransform(St,Tt),$t=et.Util.applyTransform(St.slice(2),Tt);this.minX=Math.min(this.minX,xt[0],$t[0]),this.minY=Math.min(this.minY,xt[1],$t[1]),this.maxX=Math.max(this.maxX,xt[0],$t[0]),this.maxY=Math.max(this.maxY,xt[1],$t[1])}updateScalingPathMinMax(Tt,St){et.Util.scaleMinMax(Tt,St),this.minX=Math.min(this.minX,St[0]),this.maxX=Math.max(this.maxX,St[1]),this.minY=Math.min(this.minY,St[2]),this.maxY=Math.max(this.maxY,St[3])}updateCurvePathMinMax(Tt,St,xt,$t,Rt,Bt,Wt,Kt,ln,en){const tn=et.Util.bezierBoundingBox(St,xt,$t,Rt,Bt,Wt,Kt,ln);if(en){en[0]=Math.min(en[0],tn[0],tn[2]),en[1]=Math.max(en[1],tn[0],tn[2]),en[2]=Math.min(en[2],tn[1],tn[3]),en[3]=Math.max(en[3],tn[1],tn[3]);return}this.updateRectMinMax(Tt,tn)}getPathBoundingBox(Tt=st.PathType.FILL,St=null){const xt=[this.minX,this.minY,this.maxX,this.maxY];if(Tt===st.PathType.STROKE){St||(0,et.unreachable)("Stroke bounding box must include transform.");const $t=et.Util.singularValueDecompose2dScale(St),Rt=$t[0]*this.lineWidth/2,Bt=$t[1]*this.lineWidth/2;xt[0]-=Rt,xt[1]-=Bt,xt[2]+=Rt,xt[3]+=Bt}return xt}updateClipFromPath(){const Tt=et.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Tt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Tt){this.clipBox=Tt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Tt=st.PathType.FILL,St=null){return et.Util.intersect(this.clipBox,this.getPathBoundingBox(Tt,St))}}function _t(Ot,Tt,St=null){if(typeof ImageData<"u"&&Tt instanceof ImageData){Ot.putImageData(Tt,0,0);return}const xt=Tt.height,$t=Tt.width,Rt=xt%ot,Bt=(xt-Rt)/ot,Wt=Rt===0?Bt:Bt+1,Kt=Ot.createImageData($t,ot);let ln=0,en;const tn=Tt.data,Ht=Kt.data;let nn,Pt,kt,Nt,jt,Vt,sn,rn;if(St)switch(St.length){case 1:jt=St[0],Vt=St[0],sn=St[0],rn=St[0];break;case 4:jt=St[0],Vt=St[1],sn=St[2],rn=St[3];break}if(Tt.kind===et.ImageKind.GRAYSCALE_1BPP){const _n=tn.byteLength,cn=new Uint32Array(Ht.buffer,0,Ht.byteLength>>2),An=cn.length,pn=$t+7>>3;let xn=4294967295,on=et.FeatureTest.isLittleEndian?4278190080:255;for(rn&&rn[0]===255&&rn[255]===0&&([xn,on]=[on,xn]),nn=0;nn<Wt;nn++){for(kt=nn<Bt?ot:Rt,en=0,Pt=0;Pt<kt;Pt++){const Cn=_n-ln;let kn=0;const jn=Cn>pn?$t:Cn*8-7,Gn=jn&-8;let Vn=0,Wn=0;for(;kn<Gn;kn+=8)Wn=tn[ln++],cn[en++]=Wn&128?xn:on,cn[en++]=Wn&64?xn:on,cn[en++]=Wn&32?xn:on,cn[en++]=Wn&16?xn:on,cn[en++]=Wn&8?xn:on,cn[en++]=Wn&4?xn:on,cn[en++]=Wn&2?xn:on,cn[en++]=Wn&1?xn:on;for(;kn<jn;kn++)Vn===0&&(Wn=tn[ln++],Vn=128),cn[en++]=Wn&Vn?xn:on,Vn>>=1}for(;en<An;)cn[en++]=0;Ot.putImageData(Kt,0,nn*ot)}}else if(Tt.kind===et.ImageKind.RGBA_32BPP){const _n=!!(jt||Vt||sn);for(Pt=0,Nt=$t*ot*4,nn=0;nn<Bt;nn++){if(Ht.set(tn.subarray(ln,ln+Nt)),ln+=Nt,_n)for(let cn=0;cn<Nt;cn+=4)jt&&(Ht[cn+0]=jt[Ht[cn+0]]),Vt&&(Ht[cn+1]=Vt[Ht[cn+1]]),sn&&(Ht[cn+2]=sn[Ht[cn+2]]);Ot.putImageData(Kt,0,Pt),Pt+=ot}if(nn<Wt){if(Nt=$t*Rt*4,Ht.set(tn.subarray(ln,ln+Nt)),_n)for(let cn=0;cn<Nt;cn+=4)jt&&(Ht[cn+0]=jt[Ht[cn+0]]),Vt&&(Ht[cn+1]=Vt[Ht[cn+1]]),sn&&(Ht[cn+2]=sn[Ht[cn+2]]);Ot.putImageData(Kt,0,Pt)}}else if(Tt.kind===et.ImageKind.RGB_24BPP){const _n=!!(jt||Vt||sn);for(kt=ot,Nt=$t*kt,nn=0;nn<Wt;nn++){for(nn>=Bt&&(kt=Rt,Nt=$t*kt),en=0,Pt=Nt;Pt--;)Ht[en++]=tn[ln++],Ht[en++]=tn[ln++],Ht[en++]=tn[ln++],Ht[en++]=255;if(_n)for(let cn=0;cn<en;cn+=4)jt&&(Ht[cn+0]=jt[Ht[cn+0]]),Vt&&(Ht[cn+1]=Vt[Ht[cn+1]]),sn&&(Ht[cn+2]=sn[Ht[cn+2]]);Ot.putImageData(Kt,0,nn*ot)}}else throw new Error(`bad image kind: ${Tt.kind}`)}function vt(Ot,Tt){if(Tt.bitmap){Ot.drawImage(Tt.bitmap,0,0);return}const St=Tt.height,xt=Tt.width,$t=St%ot,Rt=(St-$t)/ot,Bt=$t===0?Rt:Rt+1,Wt=Ot.createImageData(xt,ot);let Kt=0;const ln=Tt.data,en=Wt.data;for(let tn=0;tn<Bt;tn++){const Ht=tn<Rt?ot:$t;({srcPos:Kt}=(0,gt.applyMaskImageData)({src:ln,srcPos:Kt,dest:en,width:xt,height:Ht})),Ot.putImageData(Wt,0,tn*ot)}}function yt(Ot,Tt){const St=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const xt of St)Ot[xt]!==void 0&&(Tt[xt]=Ot[xt]);Ot.setLineDash!==void 0&&(Tt.setLineDash(Ot.getLineDash()),Tt.lineDashOffset=Ot.lineDashOffset)}function Ct(Ot,Tt){Ot.strokeStyle=Ot.fillStyle=Tt||"#000000",Ot.fillRule="nonzero",Ot.globalAlpha=1,Ot.lineWidth=1,Ot.lineCap="butt",Ot.lineJoin="miter",Ot.miterLimit=10,Ot.globalCompositeOperation="source-over",Ot.font="10px sans-serif",Ot.setLineDash!==void 0&&(Ot.setLineDash([]),Ot.lineDashOffset=0)}function bt(Ot,Tt,St,xt){const $t=Ot.length;for(let Rt=3;Rt<$t;Rt+=4){const Bt=Ot[Rt];if(Bt===0)Ot[Rt-3]=Tt,Ot[Rt-2]=St,Ot[Rt-1]=xt;else if(Bt<255){const Wt=255-Bt;Ot[Rt-3]=Ot[Rt-3]*Bt+Tt*Wt>>8,Ot[Rt-2]=Ot[Rt-2]*Bt+St*Wt>>8,Ot[Rt-1]=Ot[Rt-1]*Bt+xt*Wt>>8}}}function Dt(Ot,Tt,St){const xt=Ot.length,$t=1/255;for(let Rt=3;Rt<xt;Rt+=4){const Bt=St?St[Ot[Rt]]:Ot[Rt];Tt[Rt]=Tt[Rt]*Bt*$t|0}}function wt(Ot,Tt,St){const xt=Ot.length;for(let $t=3;$t<xt;$t+=4){const Rt=Ot[$t-3]*77+Ot[$t-2]*152+Ot[$t-1]*28;Tt[$t]=St?Tt[$t]*St[Rt>>8]>>8:Tt[$t]*Rt>>16}}function Ft(Ot,Tt,St,xt,$t,Rt,Bt,Wt,Kt,ln,en){const tn=!!Rt,Ht=tn?Rt[0]:0,nn=tn?Rt[1]:0,Pt=tn?Rt[2]:0;let kt;$t==="Luminosity"?kt=wt:kt=Dt;const jt=Math.min(xt,Math.ceil(1048576/St));for(let Vt=0;Vt<xt;Vt+=jt){const sn=Math.min(jt,xt-Vt),rn=Ot.getImageData(Wt-ln,Vt+(Kt-en),St,sn),_n=Tt.getImageData(Wt,Vt+Kt,St,sn);tn&&bt(rn.data,Ht,nn,Pt),kt(rn.data,_n.data,Bt),Tt.putImageData(_n,Wt,Vt+Kt)}}function Lt(Ot,Tt,St,xt){const $t=xt[0],Rt=xt[1],Bt=xt[2]-$t,Wt=xt[3]-Rt;Bt===0||Wt===0||(Ft(Tt.context,St,Bt,Wt,Tt.subtype,Tt.backdrop,Tt.transferMap,$t,Rt,Tt.offsetX,Tt.offsetY),Ot.save(),Ot.globalAlpha=1,Ot.globalCompositeOperation="source-over",Ot.setTransform(1,0,0,1,0,0),Ot.drawImage(St.canvas,0,0),Ot.restore())}function Qt(Ot,Tt){const St=et.Util.singularValueDecompose2dScale(Ot);St[0]=Math.fround(St[0]),St[1]=Math.fround(St[1]);const xt=Math.fround((globalThis.devicePixelRatio||1)*tt.PixelsPerInch.PDF_TO_CSS_UNITS);return Tt!==void 0?Tt:St[0]<=xt||St[1]<=xt}const Ut=["butt","round","square"],Xt=["miter","round","bevel"],qt={},Jt={},It=class{constructor(Tt,St,xt,$t,{optionalContentConfig:Rt,markedContentStack:Bt=null},Wt,Kt){Tn(this,Et);this.ctx=Tt,this.current=new mt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=St,this.objs=xt,this.canvasFactory=$t,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Bt||[],this.optionalContentConfig=Rt,this.cachedCanvases=new ct(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Wt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Kt==null?void 0:Kt.background)||null,this.foregroundColor=(Kt==null?void 0:Kt.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Tt,St=null){return typeof Tt=="string"?Tt.startsWith("g_")?this.commonObjs.get(Tt):this.objs.get(Tt):St}beginDrawing({transform:Tt,viewport:St,transparency:xt=!1,background:$t=null}){const Rt=this.ctx.canvas.width,Bt=this.ctx.canvas.height,Wt=$t||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Kt=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const ln=this.backgroundColor=this.ctx.fillStyle;let en=!0,tn=Wt;if(this.ctx.fillStyle=Wt,tn=this.ctx.fillStyle,en=typeof tn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(tn),Kt==="#000000"&&ln==="#ffffff"||Kt===ln||!en)this.foregroundColor=this.backgroundColor=null;else{const[Ht,nn,Pt]=(0,tt.getRGB)(tn),kt=jt=>(jt/=255,jt<=.03928?jt/12.92:((jt+.055)/1.055)**2.4),Nt=Math.round(.2126*kt(Ht)+.7152*kt(nn)+.0722*kt(Pt));this.selectColor=(jt,Vt,sn)=>{const rn=.2126*kt(jt)+.7152*kt(Vt)+.0722*kt(sn);return Math.round(rn)===Nt?ln:Kt}}}if(this.ctx.fillStyle=this.backgroundColor||Wt,this.ctx.fillRect(0,0,Rt,Bt),this.ctx.restore(),xt){const Kt=this.cachedCanvases.getCanvas("transparent",Rt,Bt);this.compositeCtx=this.ctx,this.transparentCanvas=Kt.canvas,this.ctx=Kt.context,this.ctx.save(),this.ctx.transform(...(0,tt.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Ct(this.ctx,this.foregroundColor),Tt&&(this.ctx.transform(...Tt),this.outputScaleX=Tt[0],this.outputScaleY=Tt[0]),this.ctx.transform(...St.transform),this.viewportScale=St.scale,this.baseTransform=(0,tt.getCurrentTransform)(this.ctx)}executeOperatorList(Tt,St,xt,$t){const Rt=Tt.argsArray,Bt=Tt.fnArray;let Wt=St||0;const Kt=Rt.length;if(Kt===Wt)return Wt;const ln=Kt-Wt>it&&typeof xt=="function",en=ln?Date.now()+at:0;let tn=0;const Ht=this.commonObjs,nn=this.objs;let Pt;for(;;){if($t!==void 0&&Wt===$t.nextBreakPoint)return $t.breakIt(Wt,xt),Wt;if(Pt=Bt[Wt],Pt!==et.OPS.dependency)this[Pt].apply(this,Rt[Wt]);else for(const kt of Rt[Wt]){const Nt=kt.startsWith("g_")?Ht:nn;if(!Nt.has(kt))return Nt.get(kt,xt),Wt}if(Wt++,Wt===Kt)return Wt;if(ln&&++tn>it){if(Date.now()>en)return xt(),Wt;tn=0}}}endDrawing(){Fn(this,Et,Ys).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Tt of this._cachedBitmapsMap.values()){for(const St of Tt.values())typeof HTMLCanvasElement<"u"&&St instanceof HTMLCanvasElement&&(St.width=St.height=0);Tt.clear()}this._cachedBitmapsMap.clear()}_scaleImage(Tt,St){const xt=Tt.width,$t=Tt.height;let Rt=Math.max(Math.hypot(St[0],St[1]),1),Bt=Math.max(Math.hypot(St[2],St[3]),1),Wt=xt,Kt=$t,ln="prescale1",en,tn;for(;Rt>2&&Wt>1||Bt>2&&Kt>1;){let Ht=Wt,nn=Kt;Rt>2&&Wt>1&&(Ht=Math.ceil(Wt/2),Rt/=Wt/Ht),Bt>2&&Kt>1&&(nn=Math.ceil(Kt/2),Bt/=Kt/nn),en=this.cachedCanvases.getCanvas(ln,Ht,nn),tn=en.context,tn.clearRect(0,0,Ht,nn),tn.drawImage(Tt,0,0,Wt,Kt,0,0,Ht,nn),Tt=en.canvas,Wt=Ht,Kt=nn,ln=ln==="prescale1"?"prescale2":"prescale1"}return{img:Tt,paintWidth:Wt,paintHeight:Kt}}_createMaskCanvas(Tt){const St=this.ctx,{width:xt,height:$t}=Tt,Rt=this.current.fillColor,Bt=this.current.patternFill,Wt=(0,tt.getCurrentTransform)(St);let Kt,ln,en,tn;if((Tt.bitmap||Tt.data)&&Tt.count>1){const An=Tt.bitmap||Tt.data.buffer;ln=JSON.stringify(Bt?Wt:[Wt.slice(0,4),Rt]),Kt=this._cachedBitmapsMap.get(An),Kt||(Kt=new Map,this._cachedBitmapsMap.set(An,Kt));const pn=Kt.get(ln);if(pn&&!Bt){const xn=Math.round(Math.min(Wt[0],Wt[2])+Wt[4]),on=Math.round(Math.min(Wt[1],Wt[3])+Wt[5]);return{canvas:pn,offsetX:xn,offsetY:on}}en=pn}en||(tn=this.cachedCanvases.getCanvas("maskCanvas",xt,$t),vt(tn.context,Tt));let Ht=et.Util.transform(Wt,[1/xt,0,0,-1/$t,0,0]);Ht=et.Util.transform(Ht,[1,0,0,1,0,-$t]);const nn=et.Util.applyTransform([0,0],Ht),Pt=et.Util.applyTransform([xt,$t],Ht),kt=et.Util.normalizeRect([nn[0],nn[1],Pt[0],Pt[1]]),Nt=Math.round(kt[2]-kt[0])||1,jt=Math.round(kt[3]-kt[1])||1,Vt=this.cachedCanvases.getCanvas("fillCanvas",Nt,jt),sn=Vt.context,rn=Math.min(nn[0],Pt[0]),_n=Math.min(nn[1],Pt[1]);sn.translate(-rn,-_n),sn.transform(...Ht),en||(en=this._scaleImage(tn.canvas,(0,tt.getCurrentTransformInverse)(sn)),en=en.img,Kt&&Bt&&Kt.set(ln,en)),sn.imageSmoothingEnabled=Qt((0,tt.getCurrentTransform)(sn),Tt.interpolate),dt(sn,en,0,0,en.width,en.height,0,0,xt,$t),sn.globalCompositeOperation="source-in";const cn=et.Util.transform((0,tt.getCurrentTransformInverse)(sn),[1,0,0,1,-rn,-_n]);return sn.fillStyle=Bt?Rt.getPattern(St,this,cn,st.PathType.FILL):Rt,sn.fillRect(0,0,xt,$t),Kt&&!Bt&&(this.cachedCanvases.delete("fillCanvas"),Kt.set(ln,Vt.canvas)),{canvas:Vt.canvas,offsetX:Math.round(rn),offsetY:Math.round(_n)}}setLineWidth(Tt){Tt!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=Tt,this.ctx.lineWidth=Tt}setLineCap(Tt){this.ctx.lineCap=Ut[Tt]}setLineJoin(Tt){this.ctx.lineJoin=Xt[Tt]}setMiterLimit(Tt){this.ctx.miterLimit=Tt}setDash(Tt,St){const xt=this.ctx;xt.setLineDash!==void 0&&(xt.setLineDash(Tt),xt.lineDashOffset=St)}setRenderingIntent(Tt){}setFlatness(Tt){}setGState(Tt){for(const[St,xt]of Tt)switch(St){case"LW":this.setLineWidth(xt);break;case"LC":this.setLineCap(xt);break;case"LJ":this.setLineJoin(xt);break;case"ML":this.setMiterLimit(xt);break;case"D":this.setDash(xt[0],xt[1]);break;case"RI":this.setRenderingIntent(xt);break;case"FL":this.setFlatness(xt);break;case"Font":this.setFont(xt[0],xt[1]);break;case"CA":this.current.strokeAlpha=xt;break;case"ca":this.current.fillAlpha=xt,this.ctx.globalAlpha=xt;break;case"BM":this.ctx.globalCompositeOperation=xt;break;case"SMask":this.current.activeSMask=xt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=xt}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Tt=this.inSMaskMode;this.current.activeSMask&&!Tt?this.beginSMaskMode():!this.current.activeSMask&&Tt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Tt=this.ctx.canvas.width,St=this.ctx.canvas.height,xt="smaskGroupAt"+this.groupLevel,$t=this.cachedCanvases.getCanvas(xt,Tt,St);this.suspendedCtx=this.ctx,this.ctx=$t.context;const Rt=this.ctx;Rt.setTransform(...(0,tt.getCurrentTransform)(this.suspendedCtx)),yt(this.suspendedCtx,Rt),ft(Rt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),yt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Tt){if(!this.current.activeSMask)return;Tt?(Tt[0]=Math.floor(Tt[0]),Tt[1]=Math.floor(Tt[1]),Tt[2]=Math.ceil(Tt[2]),Tt[3]=Math.ceil(Tt[3])):Tt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const St=this.current.activeSMask,xt=this.suspendedCtx;Lt(xt,St,this.ctx,Tt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(yt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Tt=this.current;this.stateStack.push(Tt),this.current=Tt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),yt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(Tt,St,xt,$t,Rt,Bt){this.ctx.transform(Tt,St,xt,$t,Rt,Bt),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(Tt,St,xt){const $t=this.ctx,Rt=this.current;let Bt=Rt.x,Wt=Rt.y,Kt,ln;const en=(0,tt.getCurrentTransform)($t),tn=en[0]===0&&en[3]===0||en[1]===0&&en[2]===0,Ht=tn?xt.slice(0):null;for(let nn=0,Pt=0,kt=Tt.length;nn<kt;nn++)switch(Tt[nn]|0){case et.OPS.rectangle:Bt=St[Pt++],Wt=St[Pt++];const Nt=St[Pt++],jt=St[Pt++],Vt=Bt+Nt,sn=Wt+jt;$t.moveTo(Bt,Wt),Nt===0||jt===0?$t.lineTo(Vt,sn):($t.lineTo(Vt,Wt),$t.lineTo(Vt,sn),$t.lineTo(Bt,sn)),tn||Rt.updateRectMinMax(en,[Bt,Wt,Vt,sn]),$t.closePath();break;case et.OPS.moveTo:Bt=St[Pt++],Wt=St[Pt++],$t.moveTo(Bt,Wt),tn||Rt.updatePathMinMax(en,Bt,Wt);break;case et.OPS.lineTo:Bt=St[Pt++],Wt=St[Pt++],$t.lineTo(Bt,Wt),tn||Rt.updatePathMinMax(en,Bt,Wt);break;case et.OPS.curveTo:Kt=Bt,ln=Wt,Bt=St[Pt+4],Wt=St[Pt+5],$t.bezierCurveTo(St[Pt],St[Pt+1],St[Pt+2],St[Pt+3],Bt,Wt),Rt.updateCurvePathMinMax(en,Kt,ln,St[Pt],St[Pt+1],St[Pt+2],St[Pt+3],Bt,Wt,Ht),Pt+=6;break;case et.OPS.curveTo2:Kt=Bt,ln=Wt,$t.bezierCurveTo(Bt,Wt,St[Pt],St[Pt+1],St[Pt+2],St[Pt+3]),Rt.updateCurvePathMinMax(en,Kt,ln,Bt,Wt,St[Pt],St[Pt+1],St[Pt+2],St[Pt+3],Ht),Bt=St[Pt+2],Wt=St[Pt+3],Pt+=4;break;case et.OPS.curveTo3:Kt=Bt,ln=Wt,Bt=St[Pt+2],Wt=St[Pt+3],$t.bezierCurveTo(St[Pt],St[Pt+1],Bt,Wt,Bt,Wt),Rt.updateCurvePathMinMax(en,Kt,ln,St[Pt],St[Pt+1],Bt,Wt,Bt,Wt,Ht),Pt+=4;break;case et.OPS.closePath:$t.closePath();break}tn&&Rt.updateScalingPathMinMax(en,Ht),Rt.setCurrentPoint(Bt,Wt)}closePath(){this.ctx.closePath()}stroke(Tt){Tt=typeof Tt<"u"?Tt:!0;const St=this.ctx,xt=this.current.strokeColor;St.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof xt=="object"&&(xt==null?void 0:xt.getPattern)?(St.save(),St.strokeStyle=xt.getPattern(St,this,(0,tt.getCurrentTransformInverse)(St),st.PathType.STROKE),this.rescaleAndStroke(!1),St.restore()):this.rescaleAndStroke(!0)),Tt&&this.consumePath(this.current.getClippedPathBoundingBox()),St.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Tt){Tt=typeof Tt<"u"?Tt:!0;const St=this.ctx,xt=this.current.fillColor,$t=this.current.patternFill;let Rt=!1;$t&&(St.save(),St.fillStyle=xt.getPattern(St,this,(0,tt.getCurrentTransformInverse)(St),st.PathType.FILL),Rt=!0);const Bt=this.current.getClippedPathBoundingBox();this.contentVisible&&Bt!==null&&(this.pendingEOFill?(St.fill("evenodd"),this.pendingEOFill=!1):St.fill()),Rt&&St.restore(),Tt&&this.consumePath(Bt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=qt}eoClip(){this.pendingClip=Jt}beginText(){this.current.textMatrix=et.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Tt=this.pendingTextPaths,St=this.ctx;if(Tt===void 0){St.beginPath();return}St.save(),St.beginPath();for(const xt of Tt)St.setTransform(...xt.transform),St.translate(xt.x,xt.y),xt.addToPath(St,xt.fontSize);St.restore(),St.clip(),St.beginPath(),delete this.pendingTextPaths}setCharSpacing(Tt){this.current.charSpacing=Tt}setWordSpacing(Tt){this.current.wordSpacing=Tt}setHScale(Tt){this.current.textHScale=Tt/100}setLeading(Tt){this.current.leading=-Tt}setFont(Tt,St){const xt=this.commonObjs.get(Tt),$t=this.current;if(!xt)throw new Error(`Can't find font for ${Tt}`);if($t.fontMatrix=xt.fontMatrix||et.FONT_IDENTITY_MATRIX,($t.fontMatrix[0]===0||$t.fontMatrix[3]===0)&&(0,et.warn)("Invalid font matrix for font "+Tt),St<0?(St=-St,$t.fontDirection=-1):$t.fontDirection=1,this.current.font=xt,this.current.fontSize=St,xt.isType3Font)return;const Rt=xt.loadedName||"sans-serif";let Bt="normal";xt.black?Bt="900":xt.bold&&(Bt="bold");const Wt=xt.italic?"italic":"normal",Kt=`"${Rt}", ${xt.fallbackName}`;let ln=St;St<nt?ln=nt:St>ut&&(ln=ut),this.current.fontSizeScale=St/ln,this.ctx.font=`${Wt} ${Bt} ${ln}px ${Kt}`}setTextRenderingMode(Tt){this.current.textRenderingMode=Tt}setTextRise(Tt){this.current.textRise=Tt}moveText(Tt,St){this.current.x=this.current.lineX+=Tt,this.current.y=this.current.lineY+=St}setLeadingMoveText(Tt,St){this.setLeading(-St),this.moveText(Tt,St)}setTextMatrix(Tt,St,xt,$t,Rt,Bt){this.current.textMatrix=[Tt,St,xt,$t,Rt,Bt],this.current.textMatrixScale=Math.hypot(Tt,St),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Tt,St,xt,$t){const Rt=this.ctx,Bt=this.current,Wt=Bt.font,Kt=Bt.textRenderingMode,ln=Bt.fontSize/Bt.fontSizeScale,en=Kt&et.TextRenderingMode.FILL_STROKE_MASK,tn=!!(Kt&et.TextRenderingMode.ADD_TO_PATH_FLAG),Ht=Bt.patternFill&&!Wt.missingFile;let nn;(Wt.disableFontFace||tn||Ht)&&(nn=Wt.getPathGenerator(this.commonObjs,Tt)),Wt.disableFontFace||Ht?(Rt.save(),Rt.translate(St,xt),Rt.beginPath(),nn(Rt,ln),$t&&Rt.setTransform(...$t),(en===et.TextRenderingMode.FILL||en===et.TextRenderingMode.FILL_STROKE)&&Rt.fill(),(en===et.TextRenderingMode.STROKE||en===et.TextRenderingMode.FILL_STROKE)&&Rt.stroke(),Rt.restore()):((en===et.TextRenderingMode.FILL||en===et.TextRenderingMode.FILL_STROKE)&&Rt.fillText(Tt,St,xt),(en===et.TextRenderingMode.STROKE||en===et.TextRenderingMode.FILL_STROKE)&&Rt.strokeText(Tt,St,xt)),tn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,tt.getCurrentTransform)(Rt),x:St,y:xt,fontSize:ln,addToPath:nn})}get isFontSubpixelAAEnabled(){const{context:Tt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Tt.scale(1.5,1),Tt.fillText("I",0,10);const St=Tt.getImageData(0,0,10,10).data;let xt=!1;for(let $t=3;$t<St.length;$t+=4)if(St[$t]>0&&St[$t]<255){xt=!0;break}return(0,et.shadow)(this,"isFontSubpixelAAEnabled",xt)}showText(Tt){const St=this.current,xt=St.font;if(xt.isType3Font)return this.showType3Text(Tt);const $t=St.fontSize;if($t===0)return;const Rt=this.ctx,Bt=St.fontSizeScale,Wt=St.charSpacing,Kt=St.wordSpacing,ln=St.fontDirection,en=St.textHScale*ln,tn=Tt.length,Ht=xt.vertical,nn=Ht?1:-1,Pt=xt.defaultVMetrics,kt=$t*St.fontMatrix[0],Nt=St.textRenderingMode===et.TextRenderingMode.FILL&&!xt.disableFontFace&&!St.patternFill;Rt.save(),Rt.transform(...St.textMatrix),Rt.translate(St.x,St.y+St.textRise),ln>0?Rt.scale(en,-1):Rt.scale(en,1);let jt;if(St.patternFill){Rt.save();const cn=St.fillColor.getPattern(Rt,this,(0,tt.getCurrentTransformInverse)(Rt),st.PathType.FILL);jt=(0,tt.getCurrentTransform)(Rt),Rt.restore(),Rt.fillStyle=cn}let Vt=St.lineWidth;const sn=St.textMatrixScale;if(sn===0||Vt===0){const cn=St.textRenderingMode&et.TextRenderingMode.FILL_STROKE_MASK;(cn===et.TextRenderingMode.STROKE||cn===et.TextRenderingMode.FILL_STROKE)&&(Vt=this.getSinglePixelWidth())}else Vt/=sn;if(Bt!==1&&(Rt.scale(Bt,Bt),Vt/=Bt),Rt.lineWidth=Vt,xt.isInvalidPDFjsFont){const cn=[];let An=0;for(const pn of Tt)cn.push(pn.unicode),An+=pn.width;Rt.fillText(cn.join(""),0,0),St.x+=An*kt*en,Rt.restore(),this.compose();return}let rn=0,_n;for(_n=0;_n<tn;++_n){const cn=Tt[_n];if(typeof cn=="number"){rn+=nn*cn*$t/1e3;continue}let An=!1;const pn=(cn.isSpace?Kt:0)+Wt,xn=cn.fontChar,on=cn.accent;let Cn,kn,jn=cn.width;if(Ht){const Vn=cn.vmetric||Pt,Wn=-(cn.vmetric?Vn[1]:jn*.5)*kt,wn=Vn[2]*kt;jn=Vn?-Vn[0]:jn,Cn=Wn/Bt,kn=(rn+wn)/Bt}else Cn=rn/Bt,kn=0;if(xt.remeasure&&jn>0){const Vn=Rt.measureText(xn).width*1e3/$t*Bt;if(jn<Vn&&this.isFontSubpixelAAEnabled){const Wn=jn/Vn;An=!0,Rt.save(),Rt.scale(Wn,1),Cn/=Wn}else jn!==Vn&&(Cn+=(jn-Vn)/2e3*$t/Bt)}if(this.contentVisible&&(cn.isInFont||xt.missingFile)){if(Nt&&!on)Rt.fillText(xn,Cn,kn);else if(this.paintChar(xn,Cn,kn,jt),on){const Vn=Cn+$t*on.offset.x/Bt,Wn=kn-$t*on.offset.y/Bt;this.paintChar(on.fontChar,Vn,Wn,jt)}}let Gn;Ht?Gn=jn*kt-pn*ln:Gn=jn*kt+pn*ln,rn+=Gn,An&&Rt.restore()}Ht?St.y-=rn:St.x+=rn*en,Rt.restore(),this.compose()}showType3Text(Tt){const St=this.ctx,xt=this.current,$t=xt.font,Rt=xt.fontSize,Bt=xt.fontDirection,Wt=$t.vertical?1:-1,Kt=xt.charSpacing,ln=xt.wordSpacing,en=xt.textHScale*Bt,tn=xt.fontMatrix||et.FONT_IDENTITY_MATRIX,Ht=Tt.length,nn=xt.textRenderingMode===et.TextRenderingMode.INVISIBLE;let Pt,kt,Nt,jt;if(!(nn||Rt===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,St.save(),St.transform(...xt.textMatrix),St.translate(xt.x,xt.y),St.scale(en,Bt),Pt=0;Pt<Ht;++Pt){if(kt=Tt[Pt],typeof kt=="number"){jt=Wt*kt*Rt/1e3,this.ctx.translate(jt,0),xt.x+=jt*en;continue}const Vt=(kt.isSpace?ln:0)+Kt,sn=$t.charProcOperatorList[kt.operatorListId];if(!sn){(0,et.warn)(`Type3 character "${kt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=kt,this.save(),St.scale(Rt,Rt),St.transform(...tn),this.executeOperatorList(sn),this.restore()),Nt=et.Util.applyTransform([kt.width,0],tn)[0]*Rt+Vt,St.translate(Nt,0),xt.x+=Nt*en}St.restore(),this.processingType3=null}}setCharWidth(Tt,St){}setCharWidthAndBounds(Tt,St,xt,$t,Rt,Bt){this.ctx.rect(xt,$t,Rt-xt,Bt-$t),this.ctx.clip(),this.endPath()}getColorN_Pattern(Tt){let St;if(Tt[0]==="TilingPattern"){const xt=Tt[1],$t=this.baseTransform||(0,tt.getCurrentTransform)(this.ctx),Rt={createCanvasGraphics:Bt=>new It(Bt,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};St=new st.TilingPattern(Tt,xt,this.ctx,Rt,$t)}else St=this._getPattern(Tt[1],Tt[2]);return St}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Tt,St,xt){var Rt;const $t=((Rt=this.selectColor)==null?void 0:Rt.call(this,Tt,St,xt))||et.Util.makeHexColor(Tt,St,xt);this.ctx.strokeStyle=$t,this.current.strokeColor=$t}setFillRGBColor(Tt,St,xt){var Rt;const $t=((Rt=this.selectColor)==null?void 0:Rt.call(this,Tt,St,xt))||et.Util.makeHexColor(Tt,St,xt);this.ctx.fillStyle=$t,this.current.fillColor=$t,this.current.patternFill=!1}_getPattern(Tt,St=null){let xt;return this.cachedPatterns.has(Tt)?xt=this.cachedPatterns.get(Tt):(xt=(0,st.getShadingPattern)(this.objs.get(Tt)),this.cachedPatterns.set(Tt,xt)),St&&(xt.matrix=St),xt}shadingFill(Tt){if(!this.contentVisible)return;const St=this.ctx;this.save();const xt=this._getPattern(Tt);St.fillStyle=xt.getPattern(St,this,(0,tt.getCurrentTransformInverse)(St),st.PathType.SHADING);const $t=(0,tt.getCurrentTransformInverse)(St);if($t){const Rt=St.canvas,Bt=Rt.width,Wt=Rt.height,Kt=et.Util.applyTransform([0,0],$t),ln=et.Util.applyTransform([0,Wt],$t),en=et.Util.applyTransform([Bt,0],$t),tn=et.Util.applyTransform([Bt,Wt],$t),Ht=Math.min(Kt[0],ln[0],en[0],tn[0]),nn=Math.min(Kt[1],ln[1],en[1],tn[1]),Pt=Math.max(Kt[0],ln[0],en[0],tn[0]),kt=Math.max(Kt[1],ln[1],en[1],tn[1]);this.ctx.fillRect(Ht,nn,Pt-Ht,kt-nn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,et.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,et.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Tt,St){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Tt)&&Tt.length===6&&this.transform(...Tt),this.baseTransform=(0,tt.getCurrentTransform)(this.ctx),St)){const xt=St[2]-St[0],$t=St[3]-St[1];this.ctx.rect(St[0],St[1],xt,$t),this.current.updateRectMinMax((0,tt.getCurrentTransform)(this.ctx),St),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Tt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const St=this.ctx;Tt.isolated||(0,et.info)("TODO: Support non-isolated groups."),Tt.knockout&&(0,et.warn)("Knockout groups not supported.");const xt=(0,tt.getCurrentTransform)(St);if(Tt.matrix&&St.transform(...Tt.matrix),!Tt.bbox)throw new Error("Bounding box is required.");let $t=et.Util.getAxialAlignedBoundingBox(Tt.bbox,(0,tt.getCurrentTransform)(St));const Rt=[0,0,St.canvas.width,St.canvas.height];$t=et.Util.intersect($t,Rt)||[0,0,0,0];const Bt=Math.floor($t[0]),Wt=Math.floor($t[1]);let Kt=Math.max(Math.ceil($t[2])-Bt,1),ln=Math.max(Math.ceil($t[3])-Wt,1),en=1,tn=1;Kt>ht&&(en=Kt/ht,Kt=ht),ln>ht&&(tn=ln/ht,ln=ht),this.current.startNewPathAndClipBox([0,0,Kt,ln]);let Ht="groupAt"+this.groupLevel;Tt.smask&&(Ht+="_smask_"+this.smaskCounter++%2);const nn=this.cachedCanvases.getCanvas(Ht,Kt,ln),Pt=nn.context;Pt.scale(1/en,1/tn),Pt.translate(-Bt,-Wt),Pt.transform(...xt),Tt.smask?this.smaskStack.push({canvas:nn.canvas,context:Pt,offsetX:Bt,offsetY:Wt,scaleX:en,scaleY:tn,subtype:Tt.smask.subtype,backdrop:Tt.smask.backdrop,transferMap:Tt.smask.transferMap||null,startTransformInverse:null}):(St.setTransform(1,0,0,1,0,0),St.translate(Bt,Wt),St.scale(en,tn),St.save()),yt(St,Pt),this.ctx=Pt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(St),this.groupLevel++}endGroup(Tt){if(!this.contentVisible)return;this.groupLevel--;const St=this.ctx,xt=this.groupStack.pop();if(this.ctx=xt,this.ctx.imageSmoothingEnabled=!1,Tt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const $t=(0,tt.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...$t);const Rt=et.Util.getAxialAlignedBoundingBox([0,0,St.canvas.width,St.canvas.height],$t);this.ctx.drawImage(St.canvas,0,0),this.ctx.restore(),this.compose(Rt)}}beginAnnotation(Tt,St,xt,$t,Rt){if(Fn(this,Et,Ys).call(this),Ct(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(St)&&St.length===4){const Bt=St[2]-St[0],Wt=St[3]-St[1];if(Rt&&this.annotationCanvasMap){xt=xt.slice(),xt[4]-=St[0],xt[5]-=St[1],St=St.slice(),St[0]=St[1]=0,St[2]=Bt,St[3]=Wt;const[Kt,ln]=et.Util.singularValueDecompose2dScale((0,tt.getCurrentTransform)(this.ctx)),{viewportScale:en}=this,tn=Math.ceil(Bt*this.outputScaleX*en),Ht=Math.ceil(Wt*this.outputScaleY*en);this.annotationCanvas=this.canvasFactory.create(tn,Ht);const{canvas:nn,context:Pt}=this.annotationCanvas;this.annotationCanvasMap.set(Tt,nn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Pt,this.ctx.setTransform(Kt,0,0,-ln,0,Wt*ln),Ct(this.ctx,this.foregroundColor)}else Ct(this.ctx,this.foregroundColor),this.ctx.rect(St[0],St[1],Bt,Wt),this.ctx.clip(),this.endPath()}this.current=new mt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...xt),this.transform(...$t)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Tt){if(!this.contentVisible)return;const St=Tt.count;Tt=this.getObject(Tt.data,Tt),Tt.count=St;const xt=this.ctx,$t=this.processingType3;if($t&&($t.compiled===void 0&&($t.compiled=pt(Tt)),$t.compiled)){$t.compiled(xt);return}const Rt=this._createMaskCanvas(Tt),Bt=Rt.canvas;xt.save(),xt.setTransform(1,0,0,1,0,0),xt.drawImage(Bt,Rt.offsetX,Rt.offsetY),xt.restore(),this.compose()}paintImageMaskXObjectRepeat(Tt,St,xt=0,$t=0,Rt,Bt){if(!this.contentVisible)return;Tt=this.getObject(Tt.data,Tt);const Wt=this.ctx;Wt.save();const Kt=(0,tt.getCurrentTransform)(Wt);Wt.transform(St,xt,$t,Rt,0,0);const ln=this._createMaskCanvas(Tt);Wt.setTransform(1,0,0,1,ln.offsetX-Kt[4],ln.offsetY-Kt[5]);for(let en=0,tn=Bt.length;en<tn;en+=2){const Ht=et.Util.transform(Kt,[St,xt,$t,Rt,Bt[en],Bt[en+1]]),[nn,Pt]=et.Util.applyTransform([0,0],Ht);Wt.drawImage(ln.canvas,nn,Pt)}Wt.restore(),this.compose()}paintImageMaskXObjectGroup(Tt){if(!this.contentVisible)return;const St=this.ctx,xt=this.current.fillColor,$t=this.current.patternFill;for(const Rt of Tt){const{data:Bt,width:Wt,height:Kt,transform:ln}=Rt,en=this.cachedCanvases.getCanvas("maskCanvas",Wt,Kt),tn=en.context;tn.save();const Ht=this.getObject(Bt,Rt);vt(tn,Ht),tn.globalCompositeOperation="source-in",tn.fillStyle=$t?xt.getPattern(tn,this,(0,tt.getCurrentTransformInverse)(St),st.PathType.FILL):xt,tn.fillRect(0,0,Wt,Kt),tn.restore(),St.save(),St.transform(...ln),St.scale(1,-1),dt(St,en.canvas,0,0,Wt,Kt,0,-1,1,1),St.restore()}this.compose()}paintImageXObject(Tt){if(!this.contentVisible)return;const St=this.getObject(Tt);if(!St){(0,et.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(St)}paintImageXObjectRepeat(Tt,St,xt,$t){if(!this.contentVisible)return;const Rt=this.getObject(Tt);if(!Rt){(0,et.warn)("Dependent image isn't ready yet");return}const Bt=Rt.width,Wt=Rt.height,Kt=[];for(let ln=0,en=$t.length;ln<en;ln+=2)Kt.push({transform:[St,0,0,xt,$t[ln],$t[ln+1]],x:0,y:0,w:Bt,h:Wt});this.paintInlineImageXObjectGroup(Rt,Kt)}paintInlineImageXObject(Tt){if(!this.contentVisible)return;const St=Tt.width,xt=Tt.height,$t=this.ctx;this.save(),$t.scale(1/St,-1/xt);let Rt;if(typeof HTMLElement=="function"&&Tt instanceof HTMLElement||!Tt.data)Rt=Tt;else{const Wt=this.cachedCanvases.getCanvas("inlineImage",St,xt),Kt=Wt.context;_t(Kt,Tt,this.current.transferMaps),Rt=Wt.canvas}const Bt=this._scaleImage(Rt,(0,tt.getCurrentTransformInverse)($t));$t.imageSmoothingEnabled=Qt((0,tt.getCurrentTransform)($t),Tt.interpolate),dt($t,Bt.img,0,0,Bt.paintWidth,Bt.paintHeight,0,-xt,St,xt),this.compose(),this.restore()}paintInlineImageXObjectGroup(Tt,St){if(!this.contentVisible)return;const xt=this.ctx,$t=Tt.width,Rt=Tt.height,Bt=this.cachedCanvases.getCanvas("inlineImage",$t,Rt),Wt=Bt.context;_t(Wt,Tt,this.current.transferMaps);for(const Kt of St)xt.save(),xt.transform(...Kt.transform),xt.scale(1,-1),dt(xt,Bt.canvas,Kt.x,Kt.y,Kt.w,Kt.h,0,-1,1,1),xt.restore();this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Tt){}markPointProps(Tt,St){}beginMarkedContent(Tt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Tt,St){Tt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(St)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Tt){const St=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Tt);const xt=this.ctx;this.pendingClip&&(St||(this.pendingClip===Jt?xt.clip("evenodd"):xt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),xt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Tt=(0,tt.getCurrentTransform)(this.ctx);if(Tt[1]===0&&Tt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Tt[0]),Math.abs(Tt[3]));else{const St=Math.abs(Tt[0]*Tt[3]-Tt[2]*Tt[1]),xt=Math.hypot(Tt[0],Tt[2]),$t=Math.hypot(Tt[1],Tt[3]);this._cachedGetSinglePixelWidth=Math.max(xt,$t)/St}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:Tt}=this.current,St=(0,tt.getCurrentTransform)(this.ctx);let xt,$t;if(St[1]===0&&St[2]===0){const Rt=Math.abs(St[0]),Bt=Math.abs(St[3]);if(Tt===0)xt=1/Rt,$t=1/Bt;else{const Wt=Rt*Tt,Kt=Bt*Tt;xt=Wt<1?1/Wt:1,$t=Kt<1?1/Kt:1}}else{const Rt=Math.abs(St[0]*St[3]-St[2]*St[1]),Bt=Math.hypot(St[0],St[1]),Wt=Math.hypot(St[2],St[3]);if(Tt===0)xt=Wt/Rt,$t=Bt/Rt;else{const Kt=Tt*Rt;xt=Wt>Kt?Wt/Kt:1,$t=Bt>Kt?Bt/Kt:1}}this._cachedScaleForStroking=[xt,$t]}return this._cachedScaleForStroking}rescaleAndStroke(Tt){const{ctx:St}=this,{lineWidth:xt}=this.current,[$t,Rt]=this.getScaleForStroking();if(St.lineWidth=xt||1,$t===1&&Rt===1){St.stroke();return}let Bt,Wt,Kt;Tt&&(Bt=(0,tt.getCurrentTransform)(St),Wt=St.getLineDash().slice(),Kt=St.lineDashOffset),St.scale($t,Rt);const ln=Math.max($t,Rt);St.setLineDash(St.getLineDash().map(en=>en/ln)),St.lineDashOffset/=ln,St.stroke(),Tt&&(St.setTransform(...Bt),St.setLineDash(Wt),St.lineDashOffset=Kt)}isContentVisible(){for(let Tt=this.markedContentStack.length-1;Tt>=0;Tt--)if(!this.markedContentStack[Tt].visible)return!1;return!0}};let Gt=It;Et=new WeakSet,Ys=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$.CanvasGraphics=Gt;for(const Ot in et.OPS)Gt.prototype[Ot]!==void 0&&(Gt.prototype[et.OPS[Ot]]=Gt.prototype[Ot])},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=ot;var et=_e(1),tt=_e(6),st=_e(12);const gt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=gt;function lt(dt,pt){if(!pt||st.isNodeJS)return;const mt=pt[2]-pt[0],_t=pt[3]-pt[1],vt=new Path2D;vt.rect(pt[0],pt[1],mt,_t),dt.clip(vt)}class nt{constructor(){this.constructor===nt&&(0,et.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,et.unreachable)("Abstract method `getPattern` called.")}}class ut extends nt{constructor(pt){super(),this._type=pt[1],this._bbox=pt[2],this._colorStops=pt[3],this._p0=pt[4],this._p1=pt[5],this._r0=pt[6],this._r1=pt[7],this.matrix=null}_createGradient(pt){let mt;this._type==="axial"?mt=pt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(mt=pt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const _t of this._colorStops)mt.addColorStop(_t[0],_t[1]);return mt}getPattern(pt,mt,_t,vt){let yt;if(vt===gt.STROKE||vt===gt.FILL){const Ct=mt.current.getClippedPathBoundingBox(vt,(0,tt.getCurrentTransform)(pt))||[0,0,0,0],bt=Math.ceil(Ct[2]-Ct[0])||1,Dt=Math.ceil(Ct[3]-Ct[1])||1,wt=mt.cachedCanvases.getCanvas("pattern",bt,Dt,!0),Ft=wt.context;Ft.clearRect(0,0,Ft.canvas.width,Ft.canvas.height),Ft.beginPath(),Ft.rect(0,0,Ft.canvas.width,Ft.canvas.height),Ft.translate(-Ct[0],-Ct[1]),_t=et.Util.transform(_t,[1,0,0,1,Ct[0],Ct[1]]),Ft.transform(...mt.baseTransform),this.matrix&&Ft.transform(...this.matrix),lt(Ft,this._bbox),Ft.fillStyle=this._createGradient(Ft),Ft.fill(),yt=pt.createPattern(wt.canvas,"no-repeat");const Lt=new DOMMatrix(_t);yt.setTransform(Lt)}else lt(pt,this._bbox),yt=this._createGradient(pt);return yt}}function ht(dt,pt,mt,_t,vt,yt,Ct,bt){const Dt=pt.coords,wt=pt.colors,Ft=dt.data,Lt=dt.width*4;let Qt;Dt[mt+1]>Dt[_t+1]&&(Qt=mt,mt=_t,_t=Qt,Qt=yt,yt=Ct,Ct=Qt),Dt[_t+1]>Dt[vt+1]&&(Qt=_t,_t=vt,vt=Qt,Qt=Ct,Ct=bt,bt=Qt),Dt[mt+1]>Dt[_t+1]&&(Qt=mt,mt=_t,_t=Qt,Qt=yt,yt=Ct,Ct=Qt);const Ut=(Dt[mt]+pt.offsetX)*pt.scaleX,Xt=(Dt[mt+1]+pt.offsetY)*pt.scaleY,qt=(Dt[_t]+pt.offsetX)*pt.scaleX,Jt=(Dt[_t+1]+pt.offsetY)*pt.scaleY,Gt=(Dt[vt]+pt.offsetX)*pt.scaleX,Et=(Dt[vt+1]+pt.offsetY)*pt.scaleY;if(Xt>=Et)return;const At=wt[yt],It=wt[yt+1],Ot=wt[yt+2],Tt=wt[Ct],St=wt[Ct+1],xt=wt[Ct+2],$t=wt[bt],Rt=wt[bt+1],Bt=wt[bt+2],Wt=Math.round(Xt),Kt=Math.round(Et);let ln,en,tn,Ht,nn,Pt,kt,Nt;for(let jt=Wt;jt<=Kt;jt++){if(jt<Jt){let cn;jt<Xt?cn=0:cn=(Xt-jt)/(Xt-Jt),ln=Ut-(Ut-qt)*cn,en=At-(At-Tt)*cn,tn=It-(It-St)*cn,Ht=Ot-(Ot-xt)*cn}else{let cn;jt>Et?cn=1:Jt===Et?cn=0:cn=(Jt-jt)/(Jt-Et),ln=qt-(qt-Gt)*cn,en=Tt-(Tt-$t)*cn,tn=St-(St-Rt)*cn,Ht=xt-(xt-Bt)*cn}let Vt;jt<Xt?Vt=0:jt>Et?Vt=1:Vt=(Xt-jt)/(Xt-Et),nn=Ut-(Ut-Gt)*Vt,Pt=At-(At-$t)*Vt,kt=It-(It-Rt)*Vt,Nt=Ot-(Ot-Bt)*Vt;const sn=Math.round(Math.min(ln,nn)),rn=Math.round(Math.max(ln,nn));let _n=Lt*jt+sn*4;for(let cn=sn;cn<=rn;cn++)Vt=(ln-cn)/(ln-nn),Vt<0?Vt=0:Vt>1&&(Vt=1),Ft[_n++]=en-(en-Pt)*Vt|0,Ft[_n++]=tn-(tn-kt)*Vt|0,Ft[_n++]=Ht-(Ht-Nt)*Vt|0,Ft[_n++]=255}}function at(dt,pt,mt){const _t=pt.coords,vt=pt.colors;let yt,Ct;switch(pt.type){case"lattice":const bt=pt.verticesPerRow,Dt=Math.floor(_t.length/bt)-1,wt=bt-1;for(yt=0;yt<Dt;yt++){let Ft=yt*bt;for(let Lt=0;Lt<wt;Lt++,Ft++)ht(dt,mt,_t[Ft],_t[Ft+1],_t[Ft+bt],vt[Ft],vt[Ft+1],vt[Ft+bt]),ht(dt,mt,_t[Ft+bt+1],_t[Ft+1],_t[Ft+bt],vt[Ft+bt+1],vt[Ft+1],vt[Ft+bt])}break;case"triangles":for(yt=0,Ct=_t.length;yt<Ct;yt+=3)ht(dt,mt,_t[yt],_t[yt+1],_t[yt+2],vt[yt],vt[yt+1],vt[yt+2]);break;default:throw new Error("illegal figure")}}class it extends nt{constructor(pt){super(),this._coords=pt[2],this._colors=pt[3],this._figures=pt[4],this._bounds=pt[5],this._bbox=pt[7],this._background=pt[8],this.matrix=null}_createMeshCanvas(pt,mt,_t){const bt=Math.floor(this._bounds[0]),Dt=Math.floor(this._bounds[1]),wt=Math.ceil(this._bounds[2])-bt,Ft=Math.ceil(this._bounds[3])-Dt,Lt=Math.min(Math.ceil(Math.abs(wt*pt[0]*1.1)),3e3),Qt=Math.min(Math.ceil(Math.abs(Ft*pt[1]*1.1)),3e3),Ut=wt/Lt,Xt=Ft/Qt,qt={coords:this._coords,colors:this._colors,offsetX:-bt,offsetY:-Dt,scaleX:1/Ut,scaleY:1/Xt},Jt=Lt+2*2,Gt=Qt+2*2,Et=_t.getCanvas("mesh",Jt,Gt,!1),At=Et.context,It=At.createImageData(Lt,Qt);if(mt){const Tt=It.data;for(let St=0,xt=Tt.length;St<xt;St+=4)Tt[St]=mt[0],Tt[St+1]=mt[1],Tt[St+2]=mt[2],Tt[St+3]=255}for(const Tt of this._figures)at(It,Tt,qt);return At.putImageData(It,2,2),{canvas:Et.canvas,offsetX:bt-2*Ut,offsetY:Dt-2*Xt,scaleX:Ut,scaleY:Xt}}getPattern(pt,mt,_t,vt){lt(pt,this._bbox);let yt;if(vt===gt.SHADING)yt=et.Util.singularValueDecompose2dScale((0,tt.getCurrentTransform)(pt));else if(yt=et.Util.singularValueDecompose2dScale(mt.baseTransform),this.matrix){const bt=et.Util.singularValueDecompose2dScale(this.matrix);yt=[yt[0]*bt[0],yt[1]*bt[1]]}const Ct=this._createMeshCanvas(yt,vt===gt.SHADING?null:this._background,mt.cachedCanvases);return vt!==gt.SHADING&&(pt.setTransform(...mt.baseTransform),this.matrix&&pt.transform(...this.matrix)),pt.translate(Ct.offsetX,Ct.offsetY),pt.scale(Ct.scaleX,Ct.scaleY),pt.createPattern(Ct.canvas,"no-repeat")}}class rt extends nt{getPattern(){return"hotpink"}}function ot(dt){switch(dt[0]){case"RadialAxial":return new ut(dt);case"Mesh":return new it(dt);case"Dummy":return new rt}throw new Error(`Unknown IR type: ${dt[0]}`)}const ft={COLORED:1,UNCOLORED:2};class ct{static get MAX_PATTERN_SIZE(){return(0,et.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(pt,mt,_t,vt,yt){this.operatorList=pt[2],this.matrix=pt[3]||[1,0,0,1,0,0],this.bbox=pt[4],this.xstep=pt[5],this.ystep=pt[6],this.paintType=pt[7],this.tilingType=pt[8],this.color=mt,this.ctx=_t,this.canvasGraphicsFactory=vt,this.baseTransform=yt}createPatternCanvas(pt){const mt=this.operatorList,_t=this.bbox,vt=this.xstep,yt=this.ystep,Ct=this.paintType,bt=this.tilingType,Dt=this.color,wt=this.canvasGraphicsFactory;(0,et.info)("TilingType: "+bt);const Ft=_t[0],Lt=_t[1],Qt=_t[2],Ut=_t[3],Xt=et.Util.singularValueDecompose2dScale(this.matrix),qt=et.Util.singularValueDecompose2dScale(this.baseTransform),Jt=[Xt[0]*qt[0],Xt[1]*qt[1]],Gt=this.getSizeAndScale(vt,this.ctx.canvas.width,Jt[0]),Et=this.getSizeAndScale(yt,this.ctx.canvas.height,Jt[1]),At=pt.cachedCanvases.getCanvas("pattern",Gt.size,Et.size,!0),It=At.context,Ot=wt.createCanvasGraphics(It);Ot.groupLevel=pt.groupLevel,this.setFillAndStrokeStyleToContext(Ot,Ct,Dt);let Tt=Ft,St=Lt,xt=Qt,$t=Ut;return Ft<0&&(Tt=0,xt+=Math.abs(Ft)),Lt<0&&(St=0,$t+=Math.abs(Lt)),It.translate(-(Gt.scale*Tt),-(Et.scale*St)),Ot.transform(Gt.scale,0,0,Et.scale,0,0),It.save(),this.clipBbox(Ot,Tt,St,xt,$t),Ot.baseTransform=(0,tt.getCurrentTransform)(Ot.ctx),Ot.executeOperatorList(mt),Ot.endDrawing(),{canvas:At.canvas,scaleX:Gt.scale,scaleY:Et.scale,offsetX:Tt,offsetY:St}}getSizeAndScale(pt,mt,_t){pt=Math.abs(pt);const vt=Math.max(ct.MAX_PATTERN_SIZE,mt);let yt=Math.ceil(pt*_t);return yt>=vt?yt=vt:_t=yt/pt,{scale:_t,size:yt}}clipBbox(pt,mt,_t,vt,yt){const Ct=vt-mt,bt=yt-_t;pt.ctx.rect(mt,_t,Ct,bt),pt.current.updateRectMinMax((0,tt.getCurrentTransform)(pt.ctx),[mt,_t,vt,yt]),pt.clip(),pt.endPath()}setFillAndStrokeStyleToContext(pt,mt,_t){const vt=pt.ctx,yt=pt.current;switch(mt){case ft.COLORED:const Ct=this.ctx;vt.fillStyle=Ct.fillStyle,vt.strokeStyle=Ct.strokeStyle,yt.fillColor=Ct.fillStyle,yt.strokeColor=Ct.strokeStyle;break;case ft.UNCOLORED:const bt=et.Util.makeHexColor(_t[0],_t[1],_t[2]);vt.fillStyle=bt,vt.strokeStyle=bt,yt.fillColor=bt,yt.strokeColor=bt;break;default:throw new et.FormatError(`Unsupported paint type: ${mt}`)}}getPattern(pt,mt,_t,vt){let yt=_t;vt!==gt.SHADING&&(yt=et.Util.transform(yt,mt.baseTransform),this.matrix&&(yt=et.Util.transform(yt,this.matrix)));const Ct=this.createPatternCanvas(mt);let bt=new DOMMatrix(yt);bt=bt.translate(Ct.offsetX,Ct.offsetY),bt=bt.scale(1/Ct.scaleX,1/Ct.scaleY);const Dt=pt.createPattern(Ct.canvas,"repeat");return Dt.setTransform(bt),Dt}}$.TilingPattern=ct},(j,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.isNodeJS=void 0;const _e=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=_e},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.applyMaskImageData=tt;var et=_e(1);function tt({src:st,srcPos:gt=0,dest:lt,destPos:nt=0,width:ut,height:ht,inverseDecode:at=!1}){const it=et.FeatureTest.isLittleEndian?4278190080:255,[rt,ot]=at?[0,it]:[it,0],ft=ut>>3,ct=ut&7,dt=st.length;lt=new Uint32Array(lt.buffer);for(let pt=0;pt<ht;pt++){for(const _t=gt+ft;gt<_t;gt++){const vt=gt<dt?st[gt]:255;lt[nt++]=vt&128?ot:rt,lt[nt++]=vt&64?ot:rt,lt[nt++]=vt&32?ot:rt,lt[nt++]=vt&16?ot:rt,lt[nt++]=vt&8?ot:rt,lt[nt++]=vt&4?ot:rt,lt[nt++]=vt&2?ot:rt,lt[nt++]=vt&1?ot:rt}if(ct===0)continue;const mt=gt<dt?st[gt++]:255;for(let _t=0;_t<ct;_t++)lt[nt++]=mt&1<<7-_t?ot:rt}return{srcPos:gt,destPos:nt}}},(j,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const _e=Object.create(null);$.GlobalWorkerOptions=_e,_e.workerPort=_e.workerPort===void 0?null:_e.workerPort,_e.workerSrc=_e.workerSrc===void 0?"":_e.workerSrc},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var et=_e(1);const tt={UNKNOWN:0,DATA:1,ERROR:2},st={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function gt(nt){switch(nt instanceof Error||typeof nt=="object"&&nt!==null||(0,et.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),nt.name){case"AbortException":return new et.AbortException(nt.message);case"MissingPDFException":return new et.MissingPDFException(nt.message);case"PasswordException":return new et.PasswordException(nt.message,nt.code);case"UnexpectedResponseException":return new et.UnexpectedResponseException(nt.message,nt.status);case"UnknownErrorException":return new et.UnknownErrorException(nt.message,nt.details);default:return new et.UnknownErrorException(nt.message,nt.toString())}}class lt{constructor(ut,ht,at){this.sourceName=ut,this.targetName=ht,this.comObj=at,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=it=>{const rt=it.data;if(rt.targetName!==this.sourceName)return;if(rt.stream){this._processStreamMessage(rt);return}if(rt.callback){const ft=rt.callbackId,ct=this.callbackCapabilities[ft];if(!ct)throw new Error(`Cannot resolve callback ${ft}`);if(delete this.callbackCapabilities[ft],rt.callback===tt.DATA)ct.resolve(rt.data);else if(rt.callback===tt.ERROR)ct.reject(gt(rt.reason));else throw new Error("Unexpected callback case");return}const ot=this.actionHandler[rt.action];if(!ot)throw new Error(`Unknown action from worker: ${rt.action}`);if(rt.callbackId){const ft=this.sourceName,ct=rt.sourceName;new Promise(function(dt){dt(ot(rt.data))}).then(function(dt){at.postMessage({sourceName:ft,targetName:ct,callback:tt.DATA,callbackId:rt.callbackId,data:dt})},function(dt){at.postMessage({sourceName:ft,targetName:ct,callback:tt.ERROR,callbackId:rt.callbackId,reason:gt(dt)})});return}if(rt.streamId){this._createStreamSink(rt);return}ot(rt.data)},at.addEventListener("message",this._onComObjOnMessage)}on(ut,ht){const at=this.actionHandler;if(at[ut])throw new Error(`There is already an actionName called "${ut}"`);at[ut]=ht}send(ut,ht,at){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ut,data:ht},at)}sendWithPromise(ut,ht,at){const it=this.callbackId++,rt=(0,et.createPromiseCapability)();this.callbackCapabilities[it]=rt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ut,callbackId:it,data:ht},at)}catch(ot){rt.reject(ot)}return rt.promise}sendWithStream(ut,ht,at,it){const rt=this.streamId++,ot=this.sourceName,ft=this.targetName,ct=this.comObj;return new ReadableStream({start:dt=>{const pt=(0,et.createPromiseCapability)();return this.streamControllers[rt]={controller:dt,startCall:pt,pullCall:null,cancelCall:null,isClosed:!1},ct.postMessage({sourceName:ot,targetName:ft,action:ut,streamId:rt,data:ht,desiredSize:dt.desiredSize},it),pt.promise},pull:dt=>{const pt=(0,et.createPromiseCapability)();return this.streamControllers[rt].pullCall=pt,ct.postMessage({sourceName:ot,targetName:ft,stream:st.PULL,streamId:rt,desiredSize:dt.desiredSize}),pt.promise},cancel:dt=>{(0,et.assert)(dt instanceof Error,"cancel must have a valid reason");const pt=(0,et.createPromiseCapability)();return this.streamControllers[rt].cancelCall=pt,this.streamControllers[rt].isClosed=!0,ct.postMessage({sourceName:ot,targetName:ft,stream:st.CANCEL,streamId:rt,reason:gt(dt)}),pt.promise}},at)}_createStreamSink(ut){const ht=ut.streamId,at=this.sourceName,it=ut.sourceName,rt=this.comObj,ot=this,ft=this.actionHandler[ut.action],ct={enqueue(dt,pt=1,mt){if(this.isCancelled)return;const _t=this.desiredSize;this.desiredSize-=pt,_t>0&&this.desiredSize<=0&&(this.sinkCapability=(0,et.createPromiseCapability)(),this.ready=this.sinkCapability.promise),rt.postMessage({sourceName:at,targetName:it,stream:st.ENQUEUE,streamId:ht,chunk:dt},mt)},close(){this.isCancelled||(this.isCancelled=!0,rt.postMessage({sourceName:at,targetName:it,stream:st.CLOSE,streamId:ht}),delete ot.streamSinks[ht])},error(dt){(0,et.assert)(dt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,rt.postMessage({sourceName:at,targetName:it,stream:st.ERROR,streamId:ht,reason:gt(dt)}))},sinkCapability:(0,et.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:ut.desiredSize,ready:null};ct.sinkCapability.resolve(),ct.ready=ct.sinkCapability.promise,this.streamSinks[ht]=ct,new Promise(function(dt){dt(ft(ut.data,ct))}).then(function(){rt.postMessage({sourceName:at,targetName:it,stream:st.START_COMPLETE,streamId:ht,success:!0})},function(dt){rt.postMessage({sourceName:at,targetName:it,stream:st.START_COMPLETE,streamId:ht,reason:gt(dt)})})}_processStreamMessage(ut){const ht=ut.streamId,at=this.sourceName,it=ut.sourceName,rt=this.comObj,ot=this.streamControllers[ht],ft=this.streamSinks[ht];switch(ut.stream){case st.START_COMPLETE:ut.success?ot.startCall.resolve():ot.startCall.reject(gt(ut.reason));break;case st.PULL_COMPLETE:ut.success?ot.pullCall.resolve():ot.pullCall.reject(gt(ut.reason));break;case st.PULL:if(!ft){rt.postMessage({sourceName:at,targetName:it,stream:st.PULL_COMPLETE,streamId:ht,success:!0});break}ft.desiredSize<=0&&ut.desiredSize>0&&ft.sinkCapability.resolve(),ft.desiredSize=ut.desiredSize,new Promise(function(ct){ct(ft.onPull&&ft.onPull())}).then(function(){rt.postMessage({sourceName:at,targetName:it,stream:st.PULL_COMPLETE,streamId:ht,success:!0})},function(ct){rt.postMessage({sourceName:at,targetName:it,stream:st.PULL_COMPLETE,streamId:ht,reason:gt(ct)})});break;case st.ENQUEUE:if((0,et.assert)(ot,"enqueue should have stream controller"),ot.isClosed)break;ot.controller.enqueue(ut.chunk);break;case st.CLOSE:if((0,et.assert)(ot,"close should have stream controller"),ot.isClosed)break;ot.isClosed=!0,ot.controller.close(),this._deleteStreamController(ot,ht);break;case st.ERROR:(0,et.assert)(ot,"error should have stream controller"),ot.controller.error(gt(ut.reason)),this._deleteStreamController(ot,ht);break;case st.CANCEL_COMPLETE:ut.success?ot.cancelCall.resolve():ot.cancelCall.reject(gt(ut.reason)),this._deleteStreamController(ot,ht);break;case st.CANCEL:if(!ft)break;new Promise(function(ct){ct(ft.onCancel&&ft.onCancel(gt(ut.reason)))}).then(function(){rt.postMessage({sourceName:at,targetName:it,stream:st.CANCEL_COMPLETE,streamId:ht,success:!0})},function(ct){rt.postMessage({sourceName:at,targetName:it,stream:st.CANCEL_COMPLETE,streamId:ht,reason:gt(ct)})}),ft.sinkCapability.reject(gt(ut.reason)),ft.isCancelled=!0,delete this.streamSinks[ht];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(ut,ht){await Promise.allSettled([ut.startCall&&ut.startCall.promise,ut.pullCall&&ut.pullCall.promise,ut.cancelCall&&ut.cancelCall.promise]),delete this.streamControllers[ht]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}$.MessageHandler=lt},(j,$,_e)=>{var st,gt;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var et=_e(1);class tt{constructor({parsedData:nt,rawData:ut}){Tn(this,st,void 0);Tn(this,gt,void 0);Nn(this,st,nt),Nn(this,gt,ut)}getRaw(){return Yt(this,gt)}get(nt){var ut;return(ut=Yt(this,st).get(nt))!=null?ut:null}getAll(){return(0,et.objectFromMap)(Yt(this,st))}has(nt){return Yt(this,st).has(nt)}}st=new WeakMap,gt=new WeakMap,$.Metadata=tt},(j,$,_e)=>{var nt,ut,ht,at,it,rt,qs;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var et=_e(1),tt=_e(8);const st=Symbol("INTERNAL");class gt{constructor(ct,dt){Tn(this,nt,!0);this.name=ct,this.intent=dt}get visible(){return Yt(this,nt)}_setVisible(ct,dt){ct!==st&&(0,et.unreachable)("Internal method `_setVisible` called."),Nn(this,nt,dt)}}nt=new WeakMap;class lt{constructor(ct){Tn(this,rt);Tn(this,ut,null);Tn(this,ht,new Map);Tn(this,at,null);Tn(this,it,null);if(this.name=null,this.creator=null,ct!==null){this.name=ct.name,this.creator=ct.creator,Nn(this,it,ct.order);for(const dt of ct.groups)Yt(this,ht).set(dt.id,new gt(dt.name,dt.intent));if(ct.baseState==="OFF")for(const dt of Yt(this,ht).values())dt._setVisible(st,!1);for(const dt of ct.on)Yt(this,ht).get(dt)._setVisible(st,!0);for(const dt of ct.off)Yt(this,ht).get(dt)._setVisible(st,!1);Nn(this,at,this.getHash())}}isVisible(ct){if(Yt(this,ht).size===0)return!0;if(!ct)return(0,et.warn)("Optional content group not defined."),!0;if(ct.type==="OCG")return Yt(this,ht).has(ct.id)?Yt(this,ht).get(ct.id).visible:((0,et.warn)(`Optional content group not found: ${ct.id}`),!0);if(ct.type==="OCMD"){if(ct.expression)return Fn(this,rt,qs).call(this,ct.expression);if(!ct.policy||ct.policy==="AnyOn"){for(const dt of ct.ids){if(!Yt(this,ht).has(dt))return(0,et.warn)(`Optional content group not found: ${dt}`),!0;if(Yt(this,ht).get(dt).visible)return!0}return!1}else if(ct.policy==="AllOn"){for(const dt of ct.ids){if(!Yt(this,ht).has(dt))return(0,et.warn)(`Optional content group not found: ${dt}`),!0;if(!Yt(this,ht).get(dt).visible)return!1}return!0}else if(ct.policy==="AnyOff"){for(const dt of ct.ids){if(!Yt(this,ht).has(dt))return(0,et.warn)(`Optional content group not found: ${dt}`),!0;if(!Yt(this,ht).get(dt).visible)return!0}return!1}else if(ct.policy==="AllOff"){for(const dt of ct.ids){if(!Yt(this,ht).has(dt))return(0,et.warn)(`Optional content group not found: ${dt}`),!0;if(Yt(this,ht).get(dt).visible)return!1}return!0}return(0,et.warn)(`Unknown optional content policy ${ct.policy}.`),!0}return(0,et.warn)(`Unknown group type ${ct.type}.`),!0}setVisibility(ct,dt=!0){if(!Yt(this,ht).has(ct)){(0,et.warn)(`Optional content group not found: ${ct}`);return}Yt(this,ht).get(ct)._setVisible(st,!!dt),Nn(this,ut,null)}get hasInitialVisibility(){return this.getHash()===Yt(this,at)}getOrder(){return Yt(this,ht).size?Yt(this,it)?Yt(this,it).slice():[...Yt(this,ht).keys()]:null}getGroups(){return Yt(this,ht).size>0?(0,et.objectFromMap)(Yt(this,ht)):null}getGroup(ct){return Yt(this,ht).get(ct)||null}getHash(){if(Yt(this,ut)!==null)return Yt(this,ut);const ct=new tt.MurmurHash3_64;for(const[dt,pt]of Yt(this,ht))ct.update(`${dt}:${pt.visible}`);return Nn(this,ut,ct.hexdigest())}}ut=new WeakMap,ht=new WeakMap,at=new WeakMap,it=new WeakMap,rt=new WeakSet,qs=function(ct){const dt=ct.length;if(dt<2)return!0;const pt=ct[0];for(let mt=1;mt<dt;mt++){const _t=ct[mt];let vt;if(Array.isArray(_t))vt=Fn(this,rt,qs).call(this,_t);else if(Yt(this,ht).has(_t))vt=Yt(this,ht).get(_t).visible;else return(0,et.warn)(`Optional content group not found: ${_t}`),!0;switch(pt){case"And":if(!vt)return!1;break;case"Or":if(vt)return!0;break;case"Not":return!vt;default:return!0}}return pt==="And"},$.OptionalContentConfig=lt},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var et=_e(1),tt=_e(6);class st{constructor(ut,ht){(0,et.assert)(ht,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ut.progressiveDone||!1,this._contentDispositionFilename=ut.contentDispositionFilename||null;const at=ut.initialData;if((at==null?void 0:at.length)>0){const it=new Uint8Array(at).buffer;this._queuedChunks.push(it)}this._pdfDataRangeTransport=ht,this._isStreamingSupported=!ut.disableStream,this._isRangeSupported=!ut.disableRange,this._contentLength=ut.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((it,rt)=>{this._onReceiveData({begin:it,chunk:rt})}),this._pdfDataRangeTransport.addProgressListener((it,rt)=>{this._onProgress({loaded:it,total:rt})}),this._pdfDataRangeTransport.addProgressiveReadListener(it=>{this._onReceiveData({chunk:it})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(ut){const ht=new Uint8Array(ut.chunk).buffer;if(ut.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ht):this._queuedChunks.push(ht);else{const at=this._rangeReaders.some(function(it){return it._begin!==ut.begin?!1:(it._enqueue(ht),!0)});(0,et.assert)(at,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var ut,ht;return(ht=(ut=this._fullRequestReader)==null?void 0:ut._loaded)!=null?ht:0}_onProgress(ut){var ht,at,it,rt;ut.total===void 0?(at=(ht=this._rangeReaders[0])==null?void 0:ht.onProgress)==null||at.call(ht,{loaded:ut.loaded}):(rt=(it=this._fullRequestReader)==null?void 0:it.onProgress)==null||rt.call(it,{loaded:ut.loaded,total:ut.total})}_onProgressiveDone(){var ut;(ut=this._fullRequestReader)==null||ut.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(ut){const ht=this._rangeReaders.indexOf(ut);ht>=0&&this._rangeReaders.splice(ht,1)}getFullReader(){(0,et.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const ut=this._queuedChunks;return this._queuedChunks=null,new gt(this,ut,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(ut,ht){if(ht<=this._progressiveDataLength)return null;const at=new lt(this,ut,ht);return this._pdfDataRangeTransport.requestDataRange(ut,ht),this._rangeReaders.push(at),at}cancelAllRequests(ut){var ht;(ht=this._fullRequestReader)==null||ht.cancel(ut);for(const at of this._rangeReaders.slice(0))at.cancel(ut);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=st;class gt{constructor(ut,ht,at=!1,it=null){this._stream=ut,this._done=at||!1,this._filename=(0,tt.isPdfFile)(it)?it:null,this._queuedChunks=ht||[],this._loaded=0;for(const rt of this._queuedChunks)this._loaded+=rt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),ut._fullRequestReader=this,this.onProgress=null}_enqueue(ut){this._done||(this._requests.length>0?this._requests.shift().resolve({value:ut,done:!1}):this._queuedChunks.push(ut),this._loaded+=ut.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ut=(0,et.createPromiseCapability)();return this._requests.push(ut),ut.promise}cancel(ut){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class lt{constructor(ut,ht,at){this._stream=ut,this._begin=ht,this._end=at,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(ut){if(!this._done){if(this._requests.length===0)this._queuedChunk=ut;else{this._requests.shift().resolve({value:ut,done:!1});for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ht=this._queuedChunk;return this._queuedChunk=null,{value:ht,done:!1}}if(this._done)return{value:void 0,done:!0};const ut=(0,et.createPromiseCapability)();return this._requests.push(ut),ut.promise}cancel(ut){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(j,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class _e{static textContent(tt){const st=[],gt={items:st,styles:Object.create(null)};function lt(nt){var at;if(!nt)return;let ut=null;const ht=nt.name;if(ht==="#text")ut=nt.value;else if(_e.shouldBuildText(ht))(at=nt==null?void 0:nt.attributes)!=null&&at.textContent?ut=nt.attributes.textContent:nt.value&&(ut=nt.value);else return;if(ut!==null&&st.push({str:ut}),!!nt.children)for(const it of nt.children)lt(it)}return lt(tt),gt}static shouldBuildText(tt){return!(tt==="textarea"||tt==="input"||tt==="option"||tt==="select")}}$.XfaText=_e},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var et=_e(7);const tt=function(nt){return new Promise((ut,ht)=>{require$$5.readFile(nt,(it,rt)=>{if(it||!rt){ht(new Error(it));return}ut(new Uint8Array(rt))})})};class st extends et.BaseCanvasFactory{_createCanvas(ut,ht){return require$$5.createCanvas(ut,ht)}}$.NodeCanvasFactory=st;class gt extends et.BaseCMapReaderFactory{_fetchData(ut,ht){return tt(ut).then(at=>({cMapData:at,compressionType:ht}))}}$.NodeCMapReaderFactory=gt;class lt extends et.BaseStandardFontDataFactory{_fetchData(ut){return tt(ut)}}$.NodeStandardFontDataFactory=lt},(j,$,_e)=>{var nt,ut,ht,at,it,rt,ot,ft,ct,Ks,pt,Do,_t,Qs,yt,ko;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var et=_e(5),tt=_e(1),st=_e(22),gt=_e(23);const bt=class{constructor(wt){Tn(this,ct);Tn(this,pt);Tn(this,_t);Tn(this,yt);Tn(this,nt,void 0);Tn(this,ut,!1);Tn(this,ht,this.pointerup.bind(this));Tn(this,at,this.pointerdown.bind(this));Tn(this,it,new Map);Tn(this,rt,!1);Tn(this,ot,!1);Tn(this,ft,void 0);bt._initialized||(bt._initialized=!0,st.FreeTextEditor.initialize(wt.l10n),gt.InkEditor.initialize(wt.l10n)),wt.uiManager.registerEditorTypes([st.FreeTextEditor,gt.InkEditor]),Nn(this,ft,wt.uiManager),this.annotationStorage=wt.annotationStorage,this.pageIndex=wt.pageIndex,this.div=wt.div,Nn(this,nt,wt.accessibilityManager),Yt(this,ft).addLayer(this)}updateToolbar(wt){Yt(this,ft).updateToolbar(wt)}updateMode(wt=Yt(this,ft).getMode()){Fn(this,yt,ko).call(this),wt===tt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Yt(this,ft).unselectAll(),this.div.classList.toggle("freeTextEditing",wt===tt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",wt===tt.AnnotationEditorType.INK)}addInkEditorIfNeeded(wt){if(!wt&&Yt(this,ft).getMode()!==tt.AnnotationEditorType.INK)return;if(!wt){for(const Lt of Yt(this,it).values())if(Lt.isEmpty()){Lt.setInBackground();return}}Fn(this,_t,Qs).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(wt){Yt(this,ft).setEditingState(wt)}addCommands(wt){Yt(this,ft).addCommands(wt)}enable(){this.div.style.pointerEvents="auto";for(const wt of Yt(this,it).values())wt.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const wt of Yt(this,it).values())wt.disableEditing()}setActiveEditor(wt){Yt(this,ft).getActive()!==wt&&Yt(this,ft).setActiveEditor(wt)}enableClick(){this.div.addEventListener("pointerdown",Yt(this,at)),this.div.addEventListener("pointerup",Yt(this,ht))}disableClick(){this.div.removeEventListener("pointerdown",Yt(this,at)),this.div.removeEventListener("pointerup",Yt(this,ht))}attach(wt){Yt(this,it).set(wt.id,wt)}detach(wt){var Ft;Yt(this,it).delete(wt.id),(Ft=Yt(this,nt))==null||Ft.removePointerInTextLayer(wt.contentDiv)}remove(wt){Yt(this,ft).removeEditor(wt),this.detach(wt),this.annotationStorage.remove(wt.id),wt.div.style.display="none",setTimeout(()=>{wt.div.style.display="",wt.div.remove(),wt.isAttachedToDOM=!1,document.activeElement===document.body&&Yt(this,ft).focusMainContainer()},0),Yt(this,ot)||this.addInkEditorIfNeeded(!1)}add(wt){if(Fn(this,ct,Ks).call(this,wt),Yt(this,ft).addEditor(wt),this.attach(wt),!wt.isAttachedToDOM){const Ft=wt.render();this.div.append(Ft),wt.isAttachedToDOM=!0}this.moveEditorInDOM(wt),wt.onceAdded(),this.addToAnnotationStorage(wt)}moveEditorInDOM(wt){var Ft;(Ft=Yt(this,nt))==null||Ft.moveElementInDOM(this.div,wt.div,wt.contentDiv,!0)}addToAnnotationStorage(wt){!wt.isEmpty()&&!this.annotationStorage.has(wt.id)&&this.annotationStorage.setValue(wt.id,wt)}addOrRebuild(wt){wt.needsToBeRebuilt()?wt.rebuild():this.add(wt)}addANewEditor(wt){const Ft=()=>{this.addOrRebuild(wt)},Lt=()=>{wt.remove()};this.addCommands({cmd:Ft,undo:Lt,mustExec:!0})}addUndoableEditor(wt){const Ft=()=>{this.addOrRebuild(wt)},Lt=()=>{wt.remove()};this.addCommands({cmd:Ft,undo:Lt,mustExec:!1})}getNextId(){return Yt(this,ft).getId()}deserialize(wt){switch(wt.annotationType){case tt.AnnotationEditorType.FREETEXT:return st.FreeTextEditor.deserialize(wt,this);case tt.AnnotationEditorType.INK:return gt.InkEditor.deserialize(wt,this)}return null}setSelected(wt){Yt(this,ft).setSelected(wt)}toggleSelected(wt){Yt(this,ft).toggleSelected(wt)}isSelected(wt){return Yt(this,ft).isSelected(wt)}unselect(wt){Yt(this,ft).unselect(wt)}pointerup(wt){const Ft=et.KeyboardManager.platform.isMac;if(!(wt.button!==0||wt.ctrlKey&&Ft)&&wt.target===this.div&&!!Yt(this,rt)){if(Nn(this,rt,!1),!Yt(this,ut)){Nn(this,ut,!0);return}Fn(this,_t,Qs).call(this,wt)}}pointerdown(wt){const Ft=et.KeyboardManager.platform.isMac;if(wt.button!==0||wt.ctrlKey&&Ft||wt.target!==this.div)return;Nn(this,rt,!0);const Lt=Yt(this,ft).getActive();Nn(this,ut,!Lt||Lt.isEmpty())}drop(wt){const Ft=wt.dataTransfer.getData("text/plain"),Lt=Yt(this,ft).getEditor(Ft);if(!Lt)return;wt.preventDefault(),wt.dataTransfer.dropEffect="move",Fn(this,ct,Ks).call(this,Lt);const Qt=this.div.getBoundingClientRect(),Ut=wt.clientX-Qt.x,Xt=wt.clientY-Qt.y;Lt.translate(Ut-Lt.startX,Xt-Lt.startY),this.moveEditorInDOM(Lt),Lt.div.focus()}dragover(wt){wt.preventDefault()}destroy(){var wt,Ft;((wt=Yt(this,ft).getActive())==null?void 0:wt.parent)===this&&Yt(this,ft).setActiveEditor(null);for(const Lt of Yt(this,it).values())(Ft=Yt(this,nt))==null||Ft.removePointerInTextLayer(Lt.contentDiv),Lt.isAttachedToDOM=!1,Lt.div.remove(),Lt.parent=null;this.div=null,Yt(this,it).clear(),Yt(this,ft).removeLayer(this)}render(wt){this.viewport=wt.viewport,(0,et.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const Ft of Yt(this,ft).getEditors(this.pageIndex))this.add(Ft);this.updateMode()}update(wt){Yt(this,ft).commitOrRemove(),this.viewport=wt.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[wt,Ft,Lt,Qt]=this.viewport.viewBox,Ut=Lt-wt,Xt=Qt-Ft;return[Ut,Xt]}get viewportBaseDimensions(){const{width:wt,height:Ft,rotation:Lt}=this.viewport;return Lt%180===0?[wt,Ft]:[Ft,wt]}setDimensions(){const{width:wt,height:Ft,rotation:Lt}=this.viewport,Qt=Lt%180!==0,Ut=Math.floor(wt)+"px",Xt=Math.floor(Ft)+"px";this.div.style.width=Qt?Xt:Ut,this.div.style.height=Qt?Ut:Xt,this.div.setAttribute("data-main-rotation",Lt)}};let lt=bt;nt=new WeakMap,ut=new WeakMap,ht=new WeakMap,at=new WeakMap,it=new WeakMap,rt=new WeakMap,ot=new WeakMap,ft=new WeakMap,ct=new WeakSet,Ks=function(wt){var Ft;wt.parent!==this&&(this.attach(wt),wt.pageIndex=this.pageIndex,(Ft=wt.parent)==null||Ft.detach(wt),wt.parent=this,wt.div&&wt.isAttachedToDOM&&(wt.div.remove(),this.div.append(wt.div)))},pt=new WeakSet,Do=function(wt){switch(Yt(this,ft).getMode()){case tt.AnnotationEditorType.FREETEXT:return new st.FreeTextEditor(wt);case tt.AnnotationEditorType.INK:return new gt.InkEditor(wt)}return null},_t=new WeakSet,Qs=function(wt){const Ft=this.getNextId(),Lt=Fn(this,pt,Do).call(this,{parent:this,id:Ft,x:wt.offsetX,y:wt.offsetY});return Lt&&this.add(Lt),Lt},yt=new WeakSet,ko=function(){Nn(this,ot,!0);for(const wt of Yt(this,it).values())wt.isEmpty()&&wt.remove();Nn(this,ot,!1)},Fr(lt,"_initialized",!1),$.AnnotationEditorLayer=lt},(j,$,_e)=>{var lt,nt,ut,ht,at,it,rt,ot,ft,ct,Po,pt,Ao,_t,Oo,yt,Zs;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var et=_e(1),tt=_e(5),st=_e(4);const bt=class extends st.AnnotationEditor{constructor(Ft){super({...Ft,name:"freeTextEditor"});Tn(this,ct);Tn(this,pt);Tn(this,_t);Tn(this,yt);Tn(this,lt,this.editorDivBlur.bind(this));Tn(this,nt,this.editorDivFocus.bind(this));Tn(this,ut,this.editorDivInput.bind(this));Tn(this,ht,this.editorDivKeydown.bind(this));Tn(this,at,void 0);Tn(this,it,"");Tn(this,rt,`${this.id}-editor`);Tn(this,ot,!1);Tn(this,ft,void 0);Nn(this,at,Ft.color||bt._defaultColor||st.AnnotationEditor._defaultLineColor),Nn(this,ft,Ft.fontSize||bt._defaultFontSize)}static initialize(Ft){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(Qt=>[Qt,Ft.get(Qt)]));const Lt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Lt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Ft,Lt){switch(Ft){case et.AnnotationEditorParamsType.FREETEXT_SIZE:bt._defaultFontSize=Lt;break;case et.AnnotationEditorParamsType.FREETEXT_COLOR:bt._defaultColor=Lt;break}}updateParams(Ft,Lt){switch(Ft){case et.AnnotationEditorParamsType.FREETEXT_SIZE:Fn(this,ct,Po).call(this,Lt);break;case et.AnnotationEditorParamsType.FREETEXT_COLOR:Fn(this,pt,Ao).call(this,Lt);break}}static get defaultPropertiesToUpdate(){return[[et.AnnotationEditorParamsType.FREETEXT_SIZE,bt._defaultFontSize],[et.AnnotationEditorParamsType.FREETEXT_COLOR,bt._defaultColor||st.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[et.AnnotationEditorParamsType.FREETEXT_SIZE,Yt(this,ft)],[et.AnnotationEditorParamsType.FREETEXT_COLOR,Yt(this,at)]]}getInitialTranslation(){return[-bt._internalPadding*this.parent.scaleFactor,-(bt._internalPadding+Yt(this,ft))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(et.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Yt(this,ht)),this.editorDiv.addEventListener("focus",Yt(this,nt)),this.editorDiv.addEventListener("blur",Yt(this,lt)),this.editorDiv.addEventListener("input",Yt(this,ut)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Yt(this,rt)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",Yt(this,ht)),this.editorDiv.removeEventListener("focus",Yt(this,nt)),this.editorDiv.removeEventListener("blur",Yt(this,lt)),this.editorDiv.removeEventListener("input",Yt(this,ut)),this.div.focus(),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Ft){super.focusin(Ft),Ft.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){super.commit(),Yt(this,ot)||(Nn(this,ot,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),Nn(this,it,Fn(this,_t,Oo).call(this).trimEnd()),Fn(this,yt,Zs).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(Ft){this.enableEditMode(),this.editorDiv.focus()}keydown(Ft){Ft.target===this.div&&Ft.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(Ft){bt._keyboardManager.exec(this,Ft)}editorDivFocus(Ft){this.isEditing=!0}editorDivBlur(Ft){this.isEditing=!1}editorDivInput(Ft){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Ft,Lt;this.width&&(Ft=this.x,Lt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Yt(this,rt)),this.enableEditing(),bt._l10nPromise.get("editor_free_text2_aria_label").then(Ut=>{var Xt;return(Xt=this.editorDiv)==null?void 0:Xt.setAttribute("aria-label",Ut)}),bt._l10nPromise.get("free_text2_default_content").then(Ut=>{var Xt;return(Xt=this.editorDiv)==null?void 0:Xt.setAttribute("default-content",Ut)}),this.editorDiv.contentEditable=!0;const{style:Qt}=this.editorDiv;if(Qt.fontSize=`calc(${Yt(this,ft)}px * var(--scale-factor))`,Qt.color=Yt(this,at),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,tt.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Ut,Xt]=this.parent.viewportBaseDimensions;this.setAt(Ft*Ut,Lt*Xt,this.width*Ut,this.height*Xt);for(const qt of Yt(this,it).split(`
`)){const Jt=document.createElement("div");Jt.append(qt?document.createTextNode(qt):document.createElement("br")),this.editorDiv.append(Jt)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Ft,Lt){const Qt=super.deserialize(Ft,Lt);return Nn(Qt,ft,Ft.fontSize),Nn(Qt,at,et.Util.makeHexColor(...Ft.color)),Nn(Qt,it,Ft.value),Qt}serialize(){if(this.isEmpty())return null;const Ft=bt._internalPadding*this.parent.scaleFactor,Lt=this.getRect(Ft,Ft),Qt=st.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:et.AnnotationEditorType.FREETEXT,color:Qt,fontSize:Yt(this,ft),value:Yt(this,it),pageIndex:this.parent.pageIndex,rect:Lt,rotation:this.rotation}}};let gt=bt;lt=new WeakMap,nt=new WeakMap,ut=new WeakMap,ht=new WeakMap,at=new WeakMap,it=new WeakMap,rt=new WeakMap,ot=new WeakMap,ft=new WeakMap,ct=new WeakSet,Po=function(Ft){const Lt=Ut=>{this.editorDiv.style.fontSize=`calc(${Ut}px * var(--scale-factor))`,this.translate(0,-(Ut-Yt(this,ft))*this.parent.scaleFactor),Nn(this,ft,Ut),Fn(this,yt,Zs).call(this)},Qt=Yt(this,ft);this.parent.addCommands({cmd:()=>{Lt(Ft)},undo:()=>{Lt(Qt)},mustExec:!0,type:et.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},pt=new WeakSet,Ao=function(Ft){const Lt=Yt(this,at);this.parent.addCommands({cmd:()=>{Nn(this,at,Ft),this.editorDiv.style.color=Ft},undo:()=>{Nn(this,at,Lt),this.editorDiv.style.color=Lt},mustExec:!0,type:et.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_t=new WeakSet,Oo=function(){const Ft=this.editorDiv.getElementsByTagName("div");if(Ft.length===0)return this.editorDiv.innerText;const Lt=[];for(const Qt of Ft)Lt.push(Qt.innerText.replace(/\r\n?|\n/,""));return Lt.join(`
`)},yt=new WeakSet,Zs=function(){const[Ft,Lt]=this.parent.viewportBaseDimensions,Qt=this.div.getBoundingClientRect();this.width=Qt.width/Ft,this.height=Qt.height/Lt},Fr(gt,"_freeTextDefaultContent",""),Fr(gt,"_l10nPromise"),Fr(gt,"_internalPadding",0),Fr(gt,"_defaultColor",null),Fr(gt,"_defaultFontSize",10),Fr(gt,"_keyboardManager",new tt.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],bt.prototype.commitOrRemove]])),Fr(gt,"_type","freetext"),$.FreeTextEditor=gt},(j,$,_e)=>{var ht,at,it,rt,ot,ft,ct,dt,pt,mt,_t,vt,yt,Ct,bt,Fo,wt,$o,Lt,Mo,Ut,Ro,qt,Js,Gt,Lo,At,Io,Ot,No,St,cs,$t,eo,Bt,Ms,Kt,Rs,en,xs,Ht,to,Pt,Ls,Nt,no,Vt,jo,rn,Bo,cn,zo,pn,ro,on,Is,kn,ws,Gn,io;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0,Object.defineProperty($,"fitCurve",{enumerable:!0,get:function(){return st.fitCurve}});var et=_e(1),tt=_e(4),st=_e(24),gt=_e(5);const lt=16,nt=100,Wn=class extends tt.AnnotationEditor{constructor(Zt){super({...Zt,name:"inkEditor"});Tn(this,bt);Tn(this,wt);Tn(this,Lt);Tn(this,Ut);Tn(this,qt);Tn(this,Gt);Tn(this,At);Tn(this,Ot);Tn(this,St);Tn(this,$t);Tn(this,Bt);Tn(this,Kt);Tn(this,en);Tn(this,Ht);Tn(this,Pt);Tn(this,Vt);Tn(this,rn);Tn(this,cn);Tn(this,pn);Tn(this,on);Tn(this,kn);Tn(this,Gn);Tn(this,ht,0);Tn(this,at,0);Tn(this,it,0);Tn(this,rt,this.canvasPointermove.bind(this));Tn(this,ot,this.canvasPointerleave.bind(this));Tn(this,ft,this.canvasPointerup.bind(this));Tn(this,ct,this.canvasPointerdown.bind(this));Tn(this,dt,!1);Tn(this,pt,!1);Tn(this,mt,null);Tn(this,_t,null);Tn(this,vt,0);Tn(this,yt,0);Tn(this,Ct,null);this.color=Zt.color||null,this.thickness=Zt.thickness||null,this.opacity=Zt.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Zt){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(vn=>[vn,Zt.get(vn)]))}static updateDefaultParams(Zt,vn){switch(Zt){case et.AnnotationEditorParamsType.INK_THICKNESS:Wn._defaultThickness=vn;break;case et.AnnotationEditorParamsType.INK_COLOR:Wn._defaultColor=vn;break;case et.AnnotationEditorParamsType.INK_OPACITY:Wn._defaultOpacity=vn/100;break}}updateParams(Zt,vn){switch(Zt){case et.AnnotationEditorParamsType.INK_THICKNESS:Fn(this,bt,Fo).call(this,vn);break;case et.AnnotationEditorParamsType.INK_COLOR:Fn(this,wt,$o).call(this,vn);break;case et.AnnotationEditorParamsType.INK_OPACITY:Fn(this,Lt,Mo).call(this,vn);break}}static get defaultPropertiesToUpdate(){return[[et.AnnotationEditorParamsType.INK_THICKNESS,Wn._defaultThickness],[et.AnnotationEditorParamsType.INK_COLOR,Wn._defaultColor||tt.AnnotationEditor._defaultLineColor],[et.AnnotationEditorParamsType.INK_OPACITY,Math.round(Wn._defaultOpacity*100)]]}get propertiesToUpdate(){var Zt;return[[et.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Wn._defaultThickness],[et.AnnotationEditorParamsType.INK_COLOR,this.color||Wn._defaultColor||tt.AnnotationEditor._defaultLineColor],[et.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((Zt=this.opacity)!=null?Zt:Wn._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(Fn(this,Bt,Ms).call(this),Fn(this,Kt,Rs).call(this)),this.isAttachedToDOM||(this.parent.add(this),Fn(this,en,xs).call(this)),Fn(this,kn,ws).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Yt(this,_t).disconnect(),Nn(this,_t,null),super.remove())}enableEditMode(){Yt(this,dt)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",Yt(this,ct)),this.canvas.addEventListener("pointerup",Yt(this,ft)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Yt(this,ct)),this.canvas.removeEventListener("pointerup",Yt(this,ft)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Yt(this,dt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Nn(this,dt,!0),this.div.classList.add("disabled"),Fn(this,kn,ws).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(Zt){super.focusin(Zt),this.enableEditMode()}canvasPointerdown(Zt){Zt.button!==0||!this.isInEditMode()||Yt(this,dt)||(this.setInForeground(),Zt.type!=="mouse"&&this.div.focus(),Zt.stopPropagation(),this.canvas.addEventListener("pointerleave",Yt(this,ot)),this.canvas.addEventListener("pointermove",Yt(this,rt)),Fn(this,Gt,Lo).call(this,Zt.offsetX,Zt.offsetY))}canvasPointermove(Zt){Zt.stopPropagation(),Fn(this,At,Io).call(this,Zt.offsetX,Zt.offsetY)}canvasPointerup(Zt){Zt.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Zt.stopPropagation(),Fn(this,$t,eo).call(this,Zt),this.setInBackground())}canvasPointerleave(Zt){Fn(this,$t,eo).call(this,Zt),this.setInBackground()}render(){if(this.div)return this.div;let Zt,vn;this.width&&(Zt=this.x,vn=this.y),super.render(),Wn._l10nPromise.get("editor_ink2_aria_label").then(er=>{var Jn;return(Jn=this.div)==null?void 0:Jn.setAttribute("aria-label",er)});const[Pn,zn,Hn,cr]=Fn(this,Ut,Ro).call(this);if(this.setAt(Pn,zn,0,0),this.setDims(Hn,cr),Fn(this,Bt,Ms).call(this),this.width){const[er,Jn]=this.parent.viewportBaseDimensions;this.setAt(Zt*er,vn*Jn,this.width*er,this.height*Jn),Nn(this,pt,!0),Fn(this,en,xs).call(this),this.setDims(this.width*er,this.height*Jn),Fn(this,St,cs).call(this),Fn(this,Gn,io).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Fn(this,Kt,Rs).call(this),this.div}setDimensions(Zt,vn){const Pn=Math.round(Zt),zn=Math.round(vn);if(Yt(this,vt)===Pn&&Yt(this,yt)===zn)return;Nn(this,vt,Pn),Nn(this,yt,zn),this.canvas.style.visibility="hidden",Yt(this,ht)&&Math.abs(Yt(this,ht)-Zt/vn)>.01&&(vn=Math.ceil(Zt/Yt(this,ht)),this.setDims(Zt,vn));const[Hn,cr]=this.parent.viewportBaseDimensions;this.width=Zt/Hn,this.height=vn/cr,Yt(this,dt)&&Fn(this,Ht,to).call(this,Zt,vn),Fn(this,en,xs).call(this),Fn(this,St,cs).call(this),this.canvas.style.visibility="visible"}static deserialize(Zt,vn){var Kn,En;const Pn=super.deserialize(Zt,vn);Pn.thickness=Zt.thickness,Pn.color=et.Util.makeHexColor(...Zt.color),Pn.opacity=Zt.opacity;const[zn,Hn]=vn.pageDimensions,cr=Pn.width*zn,er=Pn.height*Hn,Jn=vn.scaleFactor,sr=Zt.thickness/2;Nn(Pn,ht,cr/er),Nn(Pn,dt,!0),Nn(Pn,vt,Math.round(cr)),Nn(Pn,yt,Math.round(er));for(const{bezier:$n}of Zt.paths){const Bn=[];Pn.paths.push(Bn);let Xn=Jn*($n[0]-sr),_r=Jn*(er-$n[1]-sr);for(let hr=2,lr=$n.length;hr<lr;hr+=6){const $r=Jn*($n[hr]-sr),mr=Jn*(er-$n[hr+1]-sr),Dr=Jn*($n[hr+2]-sr),Xr=Jn*(er-$n[hr+3]-sr),br=Jn*($n[hr+4]-sr),Tr=Jn*(er-$n[hr+5]-sr);Bn.push([[Xn,_r],[$r,mr],[Dr,Xr],[br,Tr]]),Xn=br,_r=Tr}const Qn=Fn(this,Nt,no).call(this,Bn);Pn.bezierPath2D.push(Qn)}const dr=Fn(Kn=Pn,pn,ro).call(Kn);return Nn(Pn,it,Math.max(lt,dr[2]-dr[0])),Nn(Pn,at,Math.max(lt,dr[3]-dr[1])),Fn(En=Pn,Ht,to).call(En,cr,er),Pn}serialize(){if(this.isEmpty())return null;const Zt=this.getRect(0,0),vn=this.rotation%180===0?Zt[3]-Zt[1]:Zt[2]-Zt[0],Pn=tt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:et.AnnotationEditorType.INK,color:Pn,thickness:this.thickness,opacity:this.opacity,paths:Fn(this,Vt,jo).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,vn),pageIndex:this.parent.pageIndex,rect:Zt,rotation:this.rotation}}};let ut=Wn;ht=new WeakMap,at=new WeakMap,it=new WeakMap,rt=new WeakMap,ot=new WeakMap,ft=new WeakMap,ct=new WeakMap,dt=new WeakMap,pt=new WeakMap,mt=new WeakMap,_t=new WeakMap,vt=new WeakMap,yt=new WeakMap,Ct=new WeakMap,bt=new WeakSet,Fo=function(Zt){const vn=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=Zt,Fn(this,kn,ws).call(this)},undo:()=>{this.thickness=vn,Fn(this,kn,ws).call(this)},mustExec:!0,type:et.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},wt=new WeakSet,$o=function(Zt){const vn=this.color;this.parent.addCommands({cmd:()=>{this.color=Zt,Fn(this,St,cs).call(this)},undo:()=>{this.color=vn,Fn(this,St,cs).call(this)},mustExec:!0,type:et.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Lt=new WeakSet,Mo=function(Zt){Zt/=100;const vn=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=Zt,Fn(this,St,cs).call(this)},undo:()=>{this.opacity=vn,Fn(this,St,cs).call(this)},mustExec:!0,type:et.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ut=new WeakSet,Ro=function(){const{width:Zt,height:vn,rotation:Pn}=this.parent.viewport;switch(Pn){case 90:return[0,Zt,Zt,vn];case 180:return[Zt,vn,Zt,vn];case 270:return[vn,0,Zt,vn];default:return[0,0,Zt,vn]}},qt=new WeakSet,Js=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,gt.opacityToHex)(this.opacity)}`},Gt=new WeakSet,Lo=function(Zt,vn){var Pn;this.isEditing=!0,Yt(this,pt)||(Nn(this,pt,!0),Fn(this,en,xs).call(this),this.thickness||(this.thickness=Wn._defaultThickness),this.color||(this.color=Wn._defaultColor||tt.AnnotationEditor._defaultLineColor),(Pn=this.opacity)!=null||(this.opacity=Wn._defaultOpacity)),this.currentPath.push([Zt,vn]),Nn(this,mt,null),Fn(this,qt,Js).call(this),this.ctx.beginPath(),this.ctx.moveTo(Zt,vn),Nn(this,Ct,()=>{!Yt(this,Ct)||(Yt(this,mt)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):Fn(this,St,cs).call(this),this.ctx.lineTo(...Yt(this,mt)),Nn(this,mt,null),this.ctx.stroke()),window.requestAnimationFrame(Yt(this,Ct)))}),window.requestAnimationFrame(Yt(this,Ct))},At=new WeakSet,Io=function(Zt,vn){const[Pn,zn]=this.currentPath.at(-1);Zt===Pn&&vn===zn||(this.currentPath.push([Zt,vn]),Nn(this,mt,[Zt,vn]))},Ot=new WeakSet,No=function(Zt,vn){var sr;this.ctx.closePath(),Nn(this,Ct,null),Zt=Math.min(Math.max(Zt,0),this.canvas.width),vn=Math.min(Math.max(vn,0),this.canvas.height);const[Pn,zn]=this.currentPath.at(-1);(Zt!==Pn||vn!==zn)&&this.currentPath.push([Zt,vn]);let Hn;if(this.currentPath.length!==1)Hn=(0,st.fitCurve)(this.currentPath,30,null);else{const dr=[Zt,vn];Hn=[[dr,dr.slice(),dr.slice(),dr]]}const cr=Fn(sr=Wn,Nt,no).call(sr,Hn);this.currentPath.length=0;const er=()=>{this.paths.push(Hn),this.bezierPath2D.push(cr),this.rebuild()},Jn=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Fn(this,Bt,Ms).call(this),Fn(this,Kt,Rs).call(this)),Fn(this,kn,ws).call(this))};this.parent.addCommands({cmd:er,undo:Jn,mustExec:!0})},St=new WeakSet,cs=function(){if(this.isEmpty()){Fn(this,Pt,Ls).call(this);return}Fn(this,qt,Js).call(this);const{canvas:Zt,ctx:vn}=this;vn.setTransform(1,0,0,1,0,0),vn.clearRect(0,0,Zt.width,Zt.height),Fn(this,Pt,Ls).call(this);for(const Pn of this.bezierPath2D)vn.stroke(Pn)},$t=new WeakSet,eo=function(Zt){Fn(this,Ot,No).call(this,Zt.offsetX,Zt.offsetY),this.canvas.removeEventListener("pointerleave",Yt(this,ot)),this.canvas.removeEventListener("pointermove",Yt(this,rt)),this.parent.addToAnnotationStorage(this)},Bt=new WeakSet,Ms=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Wn._l10nPromise.get("editor_ink_canvas_aria_label").then(Zt=>{var vn;return(vn=this.canvas)==null?void 0:vn.setAttribute("aria-label",Zt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Kt=new WeakSet,Rs=function(){let Zt=null;Nn(this,_t,new ResizeObserver(vn=>{const Pn=vn[0].contentRect;Pn.width&&Pn.height&&(Zt!==null&&clearTimeout(Zt),Zt=setTimeout(()=>{this.fixDims(),Zt=null},nt),this.setDimensions(Pn.width,Pn.height))})),Yt(this,_t).observe(this.div)},en=new WeakSet,xs=function(){if(!Yt(this,pt))return;const[Zt,vn]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*Zt),this.canvas.height=Math.ceil(this.height*vn),Fn(this,Pt,Ls).call(this)},Ht=new WeakSet,to=function(Zt,vn){const Pn=Fn(this,on,Is).call(this),zn=(Zt-Pn)/Yt(this,it),Hn=(vn-Pn)/Yt(this,at);this.scaleFactor=Math.min(zn,Hn)},Pt=new WeakSet,Ls=function(){const Zt=Fn(this,on,Is).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Zt,this.translationY*this.scaleFactor+Zt)},Nt=new WeakSet,no=function(Zt){const vn=new Path2D;for(let Pn=0,zn=Zt.length;Pn<zn;Pn++){const[Hn,cr,er,Jn]=Zt[Pn];Pn===0&&vn.moveTo(...Hn),vn.bezierCurveTo(cr[0],cr[1],er[0],er[1],Jn[0],Jn[1])}return vn},Vt=new WeakSet,jo=function(Zt,vn,Pn,zn){const cr=[],er=this.thickness/2;let Jn,sr;for(const dr of this.paths){Jn=[],sr=[];for(let Kn=0,En=dr.length;Kn<En;Kn++){const[$n,Bn,Xn,_r]=dr[Kn],Qn=Zt*($n[0]+vn)+er,hr=zn-Zt*($n[1]+Pn)-er,lr=Zt*(Bn[0]+vn)+er,$r=zn-Zt*(Bn[1]+Pn)-er,mr=Zt*(Xn[0]+vn)+er,Dr=zn-Zt*(Xn[1]+Pn)-er,Xr=Zt*(_r[0]+vn)+er,br=zn-Zt*(_r[1]+Pn)-er;Kn===0&&(Jn.push(Qn,hr),sr.push(Qn,hr)),Jn.push(lr,$r,mr,Dr,Xr,br),Fn(this,rn,Bo).call(this,Qn,hr,lr,$r,mr,Dr,Xr,br,4,sr)}cr.push({bezier:Jn,points:sr})}return cr},rn=new WeakSet,Bo=function(Zt,vn,Pn,zn,Hn,cr,er,Jn,sr,dr){if(Fn(this,cn,zo).call(this,Zt,vn,Pn,zn,Hn,cr,er,Jn)){dr.push(er,Jn);return}for(let Kn=1;Kn<sr-1;Kn++){const En=Kn/sr,$n=1-En;let Bn=En*Zt+$n*Pn,Xn=En*vn+$n*zn,_r=En*Pn+$n*Hn,Qn=En*zn+$n*cr;const hr=En*Hn+$n*er,lr=En*cr+$n*Jn;Bn=En*Bn+$n*_r,Xn=En*Xn+$n*Qn,_r=En*_r+$n*hr,Qn=En*Qn+$n*lr,Bn=En*Bn+$n*_r,Xn=En*Xn+$n*Qn,dr.push(Bn,Xn)}dr.push(er,Jn)},cn=new WeakSet,zo=function(Zt,vn,Pn,zn,Hn,cr,er,Jn){const dr=(3*Pn-2*Zt-er)**2,Kn=(3*zn-2*vn-Jn)**2,En=(3*Hn-Zt-2*er)**2,$n=(3*cr-vn-2*Jn)**2;return Math.max(dr,En)+Math.max(Kn,$n)<=10},pn=new WeakSet,ro=function(){let Zt=1/0,vn=-1/0,Pn=1/0,zn=-1/0;for(const Hn of this.paths)for(const[cr,er,Jn,sr]of Hn){const dr=et.Util.bezierBoundingBox(...cr,...er,...Jn,...sr);Zt=Math.min(Zt,dr[0]),Pn=Math.min(Pn,dr[1]),vn=Math.max(vn,dr[2]),zn=Math.max(zn,dr[3])}return[Zt,Pn,vn,zn]},on=new WeakSet,Is=function(){return Yt(this,dt)?Math.ceil(this.thickness*this.parent.scaleFactor):0},kn=new WeakSet,ws=function(Zt=!1){if(this.isEmpty())return;if(!Yt(this,dt)){Fn(this,St,cs).call(this);return}const vn=Fn(this,pn,ro).call(this),Pn=Fn(this,on,Is).call(this);Nn(this,it,Math.max(lt,vn[2]-vn[0])),Nn(this,at,Math.max(lt,vn[3]-vn[1]));const zn=Math.ceil(Pn+Yt(this,it)*this.scaleFactor),Hn=Math.ceil(Pn+Yt(this,at)*this.scaleFactor),[cr,er]=this.parent.viewportBaseDimensions;this.width=zn/cr,this.height=Hn/er,Nn(this,ht,zn/Hn),Fn(this,Gn,io).call(this);const Jn=this.translationX,sr=this.translationY;this.translationX=-vn[0],this.translationY=-vn[1],Fn(this,en,xs).call(this),Fn(this,St,cs).call(this),Nn(this,vt,zn),Nn(this,yt,Hn),this.setDims(zn,Hn);const dr=Zt?Pn/this.scaleFactor/2:0;this.translate(Jn-this.translationX-dr,sr-this.translationY-dr)},Gn=new WeakSet,io=function(){const{style:Zt}=this.div;Yt(this,ht)>=1?(Zt.minHeight=`${lt}px`,Zt.minWidth=`${Math.round(Yt(this,ht)*lt)}px`):(Zt.minWidth=`${lt}px`,Zt.minHeight=`${Math.round(lt/Yt(this,ht))}px`)},Tn(ut,Nt),Fr(ut,"_defaultColor",null),Fr(ut,"_defaultOpacity",1),Fr(ut,"_defaultThickness",1),Fr(ut,"_l10nPromise"),Fr(ut,"_type","ink"),$.InkEditor=ut},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.fitCurve=void 0;const et=_e(25);$.fitCurve=et},j=>{function $(ot,ft,ct){if(!Array.isArray(ot))throw new TypeError("First argument should be an array");if(ot.forEach(_t=>{if(!Array.isArray(_t)||_t.some(vt=>typeof vt!="number")||_t.length!==ot[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),ot=ot.filter((_t,vt)=>vt===0||!_t.every((yt,Ct)=>yt===ot[vt-1][Ct])),ot.length<2)return[];const dt=ot.length,pt=at(ot[1],ot[0]),mt=at(ot[dt-2],ot[dt-1]);return _e(ot,pt,mt,ft,ct)}function _e(ot,ft,ct,dt,pt){var _t,vt,yt,Ct,bt,Dt,wt,Ft,Lt,Qt,Ut,Xt,qt;if(ot.length===2)return Xt=it.vectorLen(it.subtract(ot[0],ot[1]))/3,_t=[ot[0],it.addArrays(ot[0],it.mulItems(ft,Xt)),it.addArrays(ot[1],it.mulItems(ct,Xt)),ot[1]],[_t];if(vt=lt(ot),[_t,Ct,Dt]=et(ot,vt,vt,ft,ct,pt),Ct===0||Ct<dt)return[_t];if(Ct<dt*dt)for(yt=vt,bt=Ct,wt=Dt,qt=0;qt<20;qt++){if(yt=st(_t,ot,yt),[_t,Ct,Dt]=et(ot,vt,yt,ft,ct,pt),Ct<dt)return[_t];if(Dt===wt){let Jt=Ct/bt;if(Jt>.9999&&Jt<1.0001)break}bt=Ct,wt=Dt}return Ut=[],Ft=it.subtract(ot[Dt-1],ot[Dt+1]),Ft.every(Jt=>Jt===0)&&(Ft=it.subtract(ot[Dt-1],ot[Dt]),[Ft[0],Ft[1]]=[-Ft[1],Ft[0]]),Lt=it.normalize(Ft),Qt=it.mulItems(Lt,-1),Ut=Ut.concat(_e(ot.slice(0,Dt+1),ft,Lt,dt,pt)),Ut=Ut.concat(_e(ot.slice(Dt),Qt,ct,dt,pt)),Ut}function et(ot,ft,ct,dt,pt,mt){var _t,vt,yt;return _t=tt(ot,ct,dt,pt),[vt,yt]=nt(ot,_t,ft),mt&&mt({bez:_t,points:ot,params:ft,maxErr:vt,maxPoint:yt}),[_t,vt,yt]}function tt(ot,ft,ct,dt){var pt,mt,_t,vt,yt,Ct,bt,Dt,wt,Ft,Lt,Qt,Ut,Xt,qt,Jt,Gt,Et=ot[0],At=ot[ot.length-1];for(pt=[Et,null,null,At],mt=it.zeros_Xx2x2(ft.length),Ut=0,Xt=ft.length;Ut<Xt;Ut++)Jt=ft[Ut],Gt=1-Jt,_t=mt[Ut],_t[0]=it.mulItems(ct,3*Jt*(Gt*Gt)),_t[1]=it.mulItems(dt,3*Gt*(Jt*Jt));for(vt=[[0,0],[0,0]],yt=[0,0],Ut=0,Xt=ot.length;Ut<Xt;Ut++)Jt=ft[Ut],_t=mt[Ut],vt[0][0]+=it.dot(_t[0],_t[0]),vt[0][1]+=it.dot(_t[0],_t[1]),vt[1][0]+=it.dot(_t[0],_t[1]),vt[1][1]+=it.dot(_t[1],_t[1]),qt=it.subtract(ot[Ut],rt.q([Et,Et,At,At],Jt)),yt[0]+=it.dot(_t[0],qt),yt[1]+=it.dot(_t[1],qt);return Ct=vt[0][0]*vt[1][1]-vt[1][0]*vt[0][1],bt=vt[0][0]*yt[1]-vt[1][0]*yt[0],Dt=yt[0]*vt[1][1]-yt[1]*vt[0][1],wt=Ct===0?0:Dt/Ct,Ft=Ct===0?0:bt/Ct,Qt=it.vectorLen(it.subtract(Et,At)),Lt=1e-6*Qt,wt<Lt||Ft<Lt?(pt[1]=it.addArrays(Et,it.mulItems(ct,Qt/3)),pt[2]=it.addArrays(At,it.mulItems(dt,Qt/3))):(pt[1]=it.addArrays(Et,it.mulItems(ct,wt)),pt[2]=it.addArrays(At,it.mulItems(dt,Ft))),pt}function st(ot,ft,ct){return ct.map((dt,pt)=>gt(ot,ft[pt],dt))}function gt(ot,ft,ct){var dt=it.subtract(rt.q(ot,ct),ft),pt=rt.qprime(ot,ct),mt=it.mulMatrix(dt,pt),_t=it.sum(it.squareItems(pt))+2*it.mulMatrix(dt,rt.qprimeprime(ot,ct));return _t===0?ct:ct-mt/_t}function lt(ot){var ft=[],ct,dt,pt;return ot.forEach((mt,_t)=>{ct=_t?dt+it.vectorLen(it.subtract(mt,pt)):0,ft.push(ct),dt=ct,pt=mt}),ft=ft.map(mt=>mt/dt),ft}function nt(ot,ft,ct){var dt,pt,mt,_t,vt,yt,Ct,bt;pt=0,mt=Math.floor(ot.length/2);const Dt=ut(ft,10);for(vt=0,yt=ot.length;vt<yt;vt++)Ct=ot[vt],bt=ht(ft,ct[vt],Dt,10),_t=it.subtract(rt.q(ft,bt),Ct),dt=_t[0]*_t[0]+_t[1]*_t[1],dt>pt&&(pt=dt,mt=vt);return[pt,mt]}var ut=function(ot,ft){for(var ct,dt=[0],pt=ot[0],mt=0,_t=1;_t<=ft;_t++)ct=rt.q(ot,_t/ft),mt+=it.vectorLen(it.subtract(ct,pt)),dt.push(mt),pt=ct;return dt=dt.map(vt=>vt/mt),dt};function ht(ot,ft,ct,dt){if(ft<0)return 0;if(ft>1)return 1;for(var pt,mt,_t,vt,yt,Ct=1;Ct<=dt;Ct++)if(ft<=ct[Ct]){vt=(Ct-1)/dt,_t=Ct/dt,mt=ct[Ct-1],pt=ct[Ct],yt=(ft-mt)/(pt-mt)*(_t-vt)+vt;break}return yt}function at(ot,ft){return it.normalize(it.subtract(ot,ft))}class it{static zeros_Xx2x2(ft){for(var ct=[];ft--;)ct.push([0,0]);return ct}static mulItems(ft,ct){return ft.map(dt=>dt*ct)}static mulMatrix(ft,ct){return ft.reduce((dt,pt,mt)=>dt+pt*ct[mt],0)}static subtract(ft,ct){return ft.map((dt,pt)=>dt-ct[pt])}static addArrays(ft,ct){return ft.map((dt,pt)=>dt+ct[pt])}static addItems(ft,ct){return ft.map(dt=>dt+ct)}static sum(ft){return ft.reduce((ct,dt)=>ct+dt)}static dot(ft,ct){return it.mulMatrix(ft,ct)}static vectorLen(ft){return Math.hypot(...ft)}static divItems(ft,ct){return ft.map(dt=>dt/ct)}static squareItems(ft){return ft.map(ct=>ct*ct)}static normalize(ft){return this.divItems(ft,this.vectorLen(ft))}}class rt{static q(ft,ct){var dt=1-ct,pt=it.mulItems(ft[0],dt*dt*dt),mt=it.mulItems(ft[1],3*dt*dt*ct),_t=it.mulItems(ft[2],3*dt*ct*ct),vt=it.mulItems(ft[3],ct*ct*ct);return it.addArrays(it.addArrays(pt,mt),it.addArrays(_t,vt))}static qprime(ft,ct){var dt=1-ct,pt=it.mulItems(it.subtract(ft[1],ft[0]),3*dt*dt),mt=it.mulItems(it.subtract(ft[2],ft[1]),6*dt*ct),_t=it.mulItems(it.subtract(ft[3],ft[2]),3*ct*ct);return it.addArrays(it.addArrays(pt,mt),_t)}static qprimeprime(ft,ct){return it.addArrays(it.mulItems(it.addArrays(it.subtract(ft[2],it.mulItems(ft[1],2)),ft[0]),6*(1-ct)),it.mulItems(it.addArrays(it.subtract(ft[3],it.mulItems(ft[2],2)),ft[1]),6*ct))}}j.exports=$,j.exports.fitCubic=_e,j.exports.createTangent=at},(j,$,_e)=>{var Tt,ys,xt,Uo,Bt,so,Kt,oo,en,ao;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationLayer=void 0;var et=_e(1),tt=_e(6),st=_e(3),gt=_e(27),lt=_e(28);const nt=1e3,ut=9,ht=new WeakSet;function at(nn){return{width:nn[2]-nn[0],height:nn[3]-nn[1]}}class it{static create(Pt){switch(Pt.data.annotationType){case et.AnnotationType.LINK:return new ot(Pt);case et.AnnotationType.TEXT:return new ft(Pt);case et.AnnotationType.WIDGET:switch(Pt.data.fieldType){case"Tx":return new dt(Pt);case"Btn":return Pt.data.radioButton?new mt(Pt):Pt.data.checkBox?new pt(Pt):new _t(Pt);case"Ch":return new vt(Pt)}return new ct(Pt);case et.AnnotationType.POPUP:return new yt(Pt);case et.AnnotationType.FREETEXT:return new bt(Pt);case et.AnnotationType.LINE:return new Dt(Pt);case et.AnnotationType.SQUARE:return new wt(Pt);case et.AnnotationType.CIRCLE:return new Ft(Pt);case et.AnnotationType.POLYLINE:return new Lt(Pt);case et.AnnotationType.CARET:return new Ut(Pt);case et.AnnotationType.INK:return new Xt(Pt);case et.AnnotationType.POLYGON:return new Qt(Pt);case et.AnnotationType.HIGHLIGHT:return new qt(Pt);case et.AnnotationType.UNDERLINE:return new Jt(Pt);case et.AnnotationType.SQUIGGLY:return new Gt(Pt);case et.AnnotationType.STRIKEOUT:return new Et(Pt);case et.AnnotationType.STAMP:return new At(Pt);case et.AnnotationType.FILEATTACHMENT:return new It(Pt);default:return new rt(Pt)}}}class rt{constructor(Pt,{isRenderable:kt=!1,ignoreBorder:Nt=!1,createQuadrilaterals:jt=!1}={}){this.isRenderable=kt,this.data=Pt.data,this.layer=Pt.layer,this.page=Pt.page,this.viewport=Pt.viewport,this.linkService=Pt.linkService,this.downloadManager=Pt.downloadManager,this.imageResourcesPath=Pt.imageResourcesPath,this.renderForms=Pt.renderForms,this.svgFactory=Pt.svgFactory,this.annotationStorage=Pt.annotationStorage,this.enableScripting=Pt.enableScripting,this.hasJSActions=Pt.hasJSActions,this._fieldObjects=Pt.fieldObjects,this._mouseState=Pt.mouseState,kt&&(this.container=this._createContainer(Nt)),jt&&(this.quadrilaterals=this._createQuadrilaterals(Nt))}_createContainer(Pt=!1){const kt=this.data,Nt=this.page,jt=this.viewport,Vt=document.createElement("section"),{width:sn,height:rn}=at(kt.rect),[_n,cn,An,pn]=jt.viewBox,xn=An-_n,on=pn-cn;Vt.setAttribute("data-annotation-id",kt.id);const Cn=et.Util.normalizeRect([kt.rect[0],Nt.view[3]-kt.rect[1]+Nt.view[1],kt.rect[2],Nt.view[3]-kt.rect[3]+Nt.view[1]]);if(!Pt&&kt.borderStyle.width>0){Vt.style.borderWidth=`${kt.borderStyle.width}px`;const jn=kt.borderStyle.horizontalCornerRadius,Gn=kt.borderStyle.verticalCornerRadius;if(jn>0||Gn>0){const Wn=`calc(${jn}px * var(--scale-factor)) / calc(${Gn}px * var(--scale-factor))`;Vt.style.borderRadius=Wn}else if(this instanceof mt){const Wn=`calc(${sn}px * var(--scale-factor)) / calc(${rn}px * var(--scale-factor))`;Vt.style.borderRadius=Wn}switch(kt.borderStyle.style){case et.AnnotationBorderStyleType.SOLID:Vt.style.borderStyle="solid";break;case et.AnnotationBorderStyleType.DASHED:Vt.style.borderStyle="dashed";break;case et.AnnotationBorderStyleType.BEVELED:(0,et.warn)("Unimplemented border style: beveled");break;case et.AnnotationBorderStyleType.INSET:(0,et.warn)("Unimplemented border style: inset");break;case et.AnnotationBorderStyleType.UNDERLINE:Vt.style.borderBottomStyle="solid";break}const Vn=kt.borderColor||null;Vn?Vt.style.borderColor=et.Util.makeHexColor(Vn[0]|0,Vn[1]|0,Vn[2]|0):Vt.style.borderWidth=0}Vt.style.left=`${100*(Cn[0]-_n)/xn}%`,Vt.style.top=`${100*(Cn[1]-cn)/on}%`;const{rotation:kn}=kt;return kt.hasOwnCanvas||kn===0?(Vt.style.width=`${100*sn/xn}%`,Vt.style.height=`${100*rn/on}%`):this.setRotation(kn,Vt),Vt}setRotation(Pt,kt=this.container){const[Nt,jt,Vt,sn]=this.viewport.viewBox,rn=Vt-Nt,_n=sn-jt,{width:cn,height:An}=at(this.data.rect);let pn,xn;Pt%180===0?(pn=100*cn/rn,xn=100*An/_n):(pn=100*An/rn,xn=100*cn/_n),kt.style.width=`${pn}%`,kt.style.height=`${xn}%`,kt.setAttribute("data-main-rotation",(360-Pt)%360)}get _commonActions(){const Pt=(kt,Nt,jt)=>{const Vt=jt.detail[kt];jt.target.style[Nt]=gt.ColorConverters[`${Vt[0]}_HTML`](Vt.slice(1))};return(0,et.shadow)(this,"_commonActions",{display:kt=>{const Nt=kt.detail.display%2===1;this.container.style.visibility=Nt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Nt,print:kt.detail.display===0||kt.detail.display===3})},print:kt=>{this.annotationStorage.setValue(this.data.id,{print:kt.detail.print})},hidden:kt=>{this.container.style.visibility=kt.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:kt.detail.hidden})},focus:kt=>{setTimeout(()=>kt.target.focus({preventScroll:!1}),0)},userName:kt=>{kt.target.title=kt.detail.userName},readonly:kt=>{kt.detail.readonly?kt.target.setAttribute("readonly",""):kt.target.removeAttribute("readonly")},required:kt=>{this._setRequired(kt.target,kt.detail.required)},bgColor:kt=>{Pt("bgColor","backgroundColor",kt)},fillColor:kt=>{Pt("fillColor","backgroundColor",kt)},fgColor:kt=>{Pt("fgColor","color",kt)},textColor:kt=>{Pt("textColor","color",kt)},borderColor:kt=>{Pt("borderColor","borderColor",kt)},strokeColor:kt=>{Pt("strokeColor","borderColor",kt)},rotation:kt=>{const Nt=kt.detail.rotation;this.setRotation(Nt),this.annotationStorage.setValue(this.data.id,{rotation:Nt})}})}_dispatchEventFromSandbox(Pt,kt){const Nt=this._commonActions;for(const jt of Object.keys(kt.detail)){const Vt=Pt[jt]||Nt[jt];Vt==null||Vt(kt)}}_setDefaultPropertiesFromJS(Pt){if(!this.enableScripting)return;const kt=this.annotationStorage.getRawValue(this.data.id);if(!kt)return;const Nt=this._commonActions;for(const[jt,Vt]of Object.entries(kt)){const sn=Nt[jt];if(sn){const rn={detail:{[jt]:Vt},target:Pt};sn(rn),delete kt[jt]}}}_createQuadrilaterals(Pt=!1){if(!this.data.quadPoints)return null;const kt=[],Nt=this.data.rect;for(const jt of this.data.quadPoints)this.data.rect=[jt[2].x,jt[2].y,jt[1].x,jt[1].y],kt.push(this._createContainer(Pt));return this.data.rect=Nt,kt}_createPopup(Pt,kt){let Nt=this.container;this.quadrilaterals&&(Pt=Pt||this.quadrilaterals,Nt=this.quadrilaterals[0]),Pt||(Pt=document.createElement("div"),Pt.className="popupTriggerArea",Nt.append(Pt));const Vt=new Ct({container:Nt,trigger:Pt,color:kt.color,titleObj:kt.titleObj,modificationDate:kt.modificationDate,contentsObj:kt.contentsObj,richText:kt.richText,hideWrapper:!0}).render();Vt.style.left="100%",Nt.append(Vt)}_renderQuadrilaterals(Pt){for(const kt of this.quadrilaterals)kt.className=Pt;return this.quadrilaterals}render(){(0,et.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Pt,kt=null){const Nt=[];if(this._fieldObjects){const jt=this._fieldObjects[Pt];if(jt)for(const{page:Vt,id:sn,exportValues:rn}of jt){if(Vt===-1||sn===kt)continue;const _n=typeof rn=="string"?rn:null,cn=document.querySelector(`[data-element-id="${sn}"]`);if(cn&&!ht.has(cn)){(0,et.warn)(`_getElementsByName - element not allowed: ${sn}`);continue}Nt.push({id:sn,exportValue:_n,domElement:cn})}return Nt}for(const jt of document.getElementsByName(Pt)){const{exportValue:Vt}=jt,sn=jt.getAttribute("data-element-id");sn!==kt&&(!ht.has(jt)||Nt.push({id:sn,exportValue:Vt,domElement:jt}))}return Nt}static get platform(){const Pt=typeof navigator<"u"?navigator.platform:"";return(0,et.shadow)(this,"platform",{isWin:Pt.includes("Win"),isMac:Pt.includes("Mac")})}}class ot extends rt{constructor(kt,Nt=null){super(kt,{isRenderable:!0,ignoreBorder:!!(Nt!=null&&Nt.ignoreBorder),createQuadrilaterals:!0});Tn(this,Tt);Tn(this,xt);this.isTooltipOnly=kt.data.isTooltipOnly}render(){const{data:kt,linkService:Nt}=this,jt=document.createElement("a");jt.setAttribute("data-element-id",kt.id);let Vt=!1;return kt.url?(Nt.addLinkAttributes(jt,kt.url,kt.newWindow),Vt=!0):kt.action?(this._bindNamedAction(jt,kt.action),Vt=!0):kt.attachment?(this._bindAttachment(jt,kt.attachment),Vt=!0):kt.setOCGState?(Fn(this,xt,Uo).call(this,jt,kt.setOCGState),Vt=!0):kt.dest?(this._bindLink(jt,kt.dest),Vt=!0):(kt.actions&&(kt.actions.Action||kt.actions["Mouse Up"]||kt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(jt,kt),Vt=!0),kt.resetForm?(this._bindResetFormAction(jt,kt.resetForm),Vt=!0):this.isTooltipOnly&&!Vt&&(this._bindLink(jt,""),Vt=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((sn,rn)=>{const _n=rn===0?jt:jt.cloneNode();return sn.append(_n),sn}):(this.container.className="linkAnnotation",Vt&&this.container.append(jt),this.container)}_bindLink(kt,Nt){kt.href=this.linkService.getDestinationHash(Nt),kt.onclick=()=>(Nt&&this.linkService.goToDestination(Nt),!1),(Nt||Nt==="")&&Fn(this,Tt,ys).call(this)}_bindNamedAction(kt,Nt){kt.href=this.linkService.getAnchorUrl(""),kt.onclick=()=>(this.linkService.executeNamedAction(Nt),!1),Fn(this,Tt,ys).call(this)}_bindAttachment(kt,Nt){kt.href=this.linkService.getAnchorUrl(""),kt.onclick=()=>{var jt;return(jt=this.downloadManager)==null||jt.openOrDownloadData(this.container,Nt.content,Nt.filename),!1},Fn(this,Tt,ys).call(this)}_bindJSAction(kt,Nt){kt.href=this.linkService.getAnchorUrl("");const jt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Vt of Object.keys(Nt.actions)){const sn=jt.get(Vt);!sn||(kt[sn]=()=>{var rn;return(rn=this.linkService.eventBus)==null||rn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Nt.id,name:Vt}}),!1})}kt.onclick||(kt.onclick=()=>!1),Fn(this,Tt,ys).call(this)}_bindResetFormAction(kt,Nt){const jt=kt.onclick;if(jt||(kt.href=this.linkService.getAnchorUrl("")),Fn(this,Tt,ys).call(this),!this._fieldObjects){(0,et.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),jt||(kt.onclick=()=>!1);return}kt.onclick=()=>{var pn;jt==null||jt();const{fields:Vt,refs:sn,include:rn}=Nt,_n=[];if(Vt.length!==0||sn.length!==0){const xn=new Set(sn);for(const on of Vt){const Cn=this._fieldObjects[on]||[];for(const{id:kn}of Cn)xn.add(kn)}for(const on of Object.values(this._fieldObjects))for(const Cn of on)xn.has(Cn.id)===rn&&_n.push(Cn)}else for(const xn of Object.values(this._fieldObjects))_n.push(...xn);const cn=this.annotationStorage,An=[];for(const xn of _n){const{id:on}=xn;switch(An.push(on),xn.type){case"text":{const kn=xn.defaultValue||"";cn.setValue(on,{value:kn});break}case"checkbox":case"radiobutton":{const kn=xn.defaultValue===xn.exportValues;cn.setValue(on,{value:kn});break}case"combobox":case"listbox":{const kn=xn.defaultValue||"";cn.setValue(on,{value:kn});break}default:continue}const Cn=document.querySelector(`[data-element-id="${on}"]`);if(Cn){if(!ht.has(Cn)){(0,et.warn)(`_bindResetFormAction - element not allowed: ${on}`);continue}}else continue;Cn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((pn=this.linkService.eventBus)==null||pn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:An,name:"ResetForm"}})),!1}}}Tt=new WeakSet,ys=function(){this.container.setAttribute("data-internal-link","")},xt=new WeakSet,Uo=function(kt,Nt){kt.href=this.linkService.getAnchorUrl(""),kt.onclick=()=>(this.linkService.executeSetOCGState(Nt),!1),Fn(this,Tt,ys).call(this)};class ft extends rt{constructor(Pt){var Nt,jt,Vt;const kt=!!(Pt.data.hasPopup||((Nt=Pt.data.titleObj)==null?void 0:Nt.str)||((jt=Pt.data.contentsObj)==null?void 0:jt.str)||((Vt=Pt.data.richText)==null?void 0:Vt.str));super(Pt,{isRenderable:kt})}render(){this.container.className="textAnnotation";const Pt=document.createElement("img");return Pt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Pt.alt="[{{type}} Annotation]",Pt.dataset.l10nId="text_annotation_type",Pt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(Pt,this.data),this.container.append(Pt),this.container}}class ct extends rt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(Pt){const{isWin:kt,isMac:Nt}=rt.platform;return kt&&Pt.ctrlKey||Nt&&Pt.metaKey}_setEventListener(Pt,kt,Nt,jt){kt.includes("mouse")?Pt.addEventListener(kt,Vt=>{var sn;(sn=this.linkService.eventBus)==null||sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Nt,value:jt(Vt),shift:Vt.shiftKey,modifier:this._getKeyModifier(Vt)}})}):Pt.addEventListener(kt,Vt=>{var sn;(sn=this.linkService.eventBus)==null||sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Nt,value:jt(Vt)}})})}_setEventListeners(Pt,kt,Nt){var jt;for(const[Vt,sn]of kt)(sn==="Action"||((jt=this.data.actions)==null?void 0:jt[sn]))&&this._setEventListener(Pt,Vt,sn,Nt)}_setBackgroundColor(Pt){const kt=this.data.backgroundColor||null;Pt.style.backgroundColor=kt===null?"transparent":et.Util.makeHexColor(kt[0],kt[1],kt[2])}_setTextStyle(Pt){const kt=["left","center","right"],{fontColor:Nt}=this.data.defaultAppearanceData,jt=this.data.defaultAppearanceData.fontSize||ut,Vt=Pt.style;let sn;const rn=2,_n=cn=>Math.round(10*cn)/10;if(this.data.multiLine){const cn=Math.abs(this.data.rect[3]-this.data.rect[1]-rn),An=Math.round(cn/(et.LINE_FACTOR*jt))||1,pn=cn/An;sn=Math.min(jt,_n(pn/et.LINE_FACTOR))}else{const cn=Math.abs(this.data.rect[3]-this.data.rect[1]-rn);sn=Math.min(jt,_n(cn/et.LINE_FACTOR))}Vt.fontSize=`calc(${sn}px * var(--scale-factor))`,Vt.color=et.Util.makeHexColor(Nt[0],Nt[1],Nt[2]),this.data.textAlignment!==null&&(Vt.textAlign=kt[this.data.textAlignment])}_setRequired(Pt,kt){kt?Pt.setAttribute("required",!0):Pt.removeAttribute("required"),Pt.setAttribute("aria-required",kt)}}class dt extends ct{constructor(Pt){const kt=Pt.renderForms||!Pt.data.hasAppearance&&!!Pt.data.fieldValue;super(Pt,{isRenderable:kt})}setPropertyOnSiblings(Pt,kt,Nt,jt){const Vt=this.annotationStorage;for(const sn of this._getElementsByName(Pt.name,Pt.id))sn.domElement&&(sn.domElement[kt]=Nt),Vt.setValue(sn.id,{[jt]:Nt})}render(){var jt;const Pt=this.annotationStorage,kt=this.data.id;this.container.className="textWidgetAnnotation";let Nt=null;if(this.renderForms){const Vt=Pt.getValue(kt,{value:this.data.fieldValue});let sn=Vt.formattedValue||Vt.value||"";const rn=Pt.getValue(kt,{charLimit:this.data.maxLen}).charLimit;rn&&sn.length>rn&&(sn=sn.slice(0,rn));const _n={userValue:sn,formattedValue:null,valueOnFocus:""};this.data.multiLine?(Nt=document.createElement("textarea"),Nt.textContent=sn,this.data.doNotScroll&&(Nt.style.overflowY="hidden")):(Nt=document.createElement("input"),Nt.type="text",Nt.setAttribute("value",sn),this.data.doNotScroll&&(Nt.style.overflowX="hidden")),ht.add(Nt),Nt.setAttribute("data-element-id",kt),Nt.disabled=this.data.readOnly,Nt.name=this.data.fieldName,Nt.tabIndex=nt,this._setRequired(Nt,this.data.required),rn&&(Nt.maxLength=rn),Nt.addEventListener("input",An=>{Pt.setValue(kt,{value:An.target.value}),this.setPropertyOnSiblings(Nt,"value",An.target.value,"value")}),Nt.addEventListener("resetform",An=>{var xn;const pn=(xn=this.data.defaultFieldValue)!=null?xn:"";Nt.value=_n.userValue=pn,_n.formattedValue=null});let cn=An=>{const{formattedValue:pn}=_n;pn!=null&&(An.target.value=pn),An.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Nt.addEventListener("focus",pn=>{_n.userValue&&(pn.target.value=_n.userValue),_n.valueOnFocus=pn.target.value}),Nt.addEventListener("updatefromsandbox",pn=>{const xn={value(on){var Cn;_n.userValue=(Cn=on.detail.value)!=null?Cn:"",Pt.setValue(kt,{value:_n.userValue.toString()}),on.target.value=_n.userValue},formattedValue(on){const{formattedValue:Cn}=on.detail;_n.formattedValue=Cn,Cn!=null&&on.target!==document.activeElement&&(on.target.value=Cn),Pt.setValue(kt,{formattedValue:Cn})},selRange(on){on.target.setSelectionRange(...on.detail.selRange)},charLimit:on=>{var Gn;const{charLimit:Cn}=on.detail,{target:kn}=on;if(Cn===0){kn.removeAttribute("maxLength");return}kn.setAttribute("maxLength",Cn);let jn=_n.userValue;!jn||jn.length<=Cn||(jn=jn.slice(0,Cn),kn.value=_n.userValue=jn,Pt.setValue(kt,{value:jn}),(Gn=this.linkService.eventBus)==null||Gn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:jn,willCommit:!0,commitKey:1,selStart:kn.selectionStart,selEnd:kn.selectionEnd}}))}};this._dispatchEventFromSandbox(xn,pn)}),Nt.addEventListener("keydown",pn=>{var Cn;let xn=-1;if(pn.key==="Escape"?xn=0:pn.key==="Enter"&&!this.data.multiLine?xn=2:pn.key==="Tab"&&(xn=3),xn===-1)return;const{value:on}=pn.target;_n.valueOnFocus!==on&&(_n.userValue=on,(Cn=this.linkService.eventBus)==null||Cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:on,willCommit:!0,commitKey:xn,selStart:pn.target.selectionStart,selEnd:pn.target.selectionEnd}}))});const An=cn;cn=null,Nt.addEventListener("blur",pn=>{var on;const{value:xn}=pn.target;_n.userValue=xn,this._mouseState.isDown&&_n.valueOnFocus!==xn&&((on=this.linkService.eventBus)==null||on.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:xn,willCommit:!0,commitKey:1,selStart:pn.target.selectionStart,selEnd:pn.target.selectionEnd}})),An(pn)}),(jt=this.data.actions)!=null&&jt.Keystroke&&Nt.addEventListener("beforeinput",pn=>{var Wn;const{data:xn,target:on}=pn,{value:Cn,selectionStart:kn,selectionEnd:jn}=on;let Gn=kn,Vn=jn;switch(pn.inputType){case"deleteWordBackward":{const wn=Cn.substring(0,kn).match(/\w*[^\w]*$/);wn&&(Gn-=wn[0].length);break}case"deleteWordForward":{const wn=Cn.substring(kn).match(/^[^\w]*\w*/);wn&&(Vn+=wn[0].length);break}case"deleteContentBackward":kn===jn&&(Gn-=1);break;case"deleteContentForward":kn===jn&&(Vn+=1);break}pn.preventDefault(),(Wn=this.linkService.eventBus)==null||Wn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:Cn,change:xn||"",willCommit:!1,selStart:Gn,selEnd:Vn}})}),this._setEventListeners(Nt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],pn=>pn.target.value)}if(cn&&Nt.addEventListener("blur",cn),this.data.comb){const pn=(this.data.rect[2]-this.data.rect[0])/rn;Nt.classList.add("comb"),Nt.style.letterSpacing=`calc(${pn}px * var(--scale-factor) - 1ch)`}}else Nt=document.createElement("div"),Nt.textContent=this.data.fieldValue,Nt.style.verticalAlign="middle",Nt.style.display="table-cell";return this._setTextStyle(Nt),this._setBackgroundColor(Nt),this._setDefaultPropertiesFromJS(Nt),this.container.append(Nt),this.container}}class pt extends ct{constructor(Pt){super(Pt,{isRenderable:Pt.renderForms})}render(){const Pt=this.annotationStorage,kt=this.data,Nt=kt.id;let jt=Pt.getValue(Nt,{value:kt.exportValue===kt.fieldValue}).value;typeof jt=="string"&&(jt=jt!=="Off",Pt.setValue(Nt,{value:jt})),this.container.className="buttonWidgetAnnotation checkBox";const Vt=document.createElement("input");return ht.add(Vt),Vt.setAttribute("data-element-id",Nt),Vt.disabled=kt.readOnly,this._setRequired(Vt,this.data.required),Vt.type="checkbox",Vt.name=kt.fieldName,jt&&Vt.setAttribute("checked",!0),Vt.setAttribute("exportValue",kt.exportValue),Vt.tabIndex=nt,Vt.addEventListener("change",sn=>{const{name:rn,checked:_n}=sn.target;for(const cn of this._getElementsByName(rn,Nt)){const An=_n&&cn.exportValue===kt.exportValue;cn.domElement&&(cn.domElement.checked=An),Pt.setValue(cn.id,{value:An})}Pt.setValue(Nt,{value:_n})}),Vt.addEventListener("resetform",sn=>{const rn=kt.defaultFieldValue||"Off";sn.target.checked=rn===kt.exportValue}),this.enableScripting&&this.hasJSActions&&(Vt.addEventListener("updatefromsandbox",sn=>{const rn={value(_n){_n.target.checked=_n.detail.value!=="Off",Pt.setValue(Nt,{value:_n.target.checked})}};this._dispatchEventFromSandbox(rn,sn)}),this._setEventListeners(Vt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],sn=>sn.target.checked)),this._setBackgroundColor(Vt),this._setDefaultPropertiesFromJS(Vt),this.container.append(Vt),this.container}}class mt extends ct{constructor(Pt){super(Pt,{isRenderable:Pt.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const Pt=this.annotationStorage,kt=this.data,Nt=kt.id;let jt=Pt.getValue(Nt,{value:kt.fieldValue===kt.buttonValue}).value;typeof jt=="string"&&(jt=jt!==kt.buttonValue,Pt.setValue(Nt,{value:jt}));const Vt=document.createElement("input");if(ht.add(Vt),Vt.setAttribute("data-element-id",Nt),Vt.disabled=kt.readOnly,this._setRequired(Vt,this.data.required),Vt.type="radio",Vt.name=kt.fieldName,jt&&Vt.setAttribute("checked",!0),Vt.tabIndex=nt,Vt.addEventListener("change",sn=>{const{name:rn,checked:_n}=sn.target;for(const cn of this._getElementsByName(rn,Nt))Pt.setValue(cn.id,{value:!1});Pt.setValue(Nt,{value:_n})}),Vt.addEventListener("resetform",sn=>{const rn=kt.defaultFieldValue;sn.target.checked=rn!=null&&rn===kt.buttonValue}),this.enableScripting&&this.hasJSActions){const sn=kt.buttonValue;Vt.addEventListener("updatefromsandbox",rn=>{const _n={value:cn=>{const An=sn===cn.detail.value;for(const pn of this._getElementsByName(cn.target.name)){const xn=An&&pn.id===Nt;pn.domElement&&(pn.domElement.checked=xn),Pt.setValue(pn.id,{value:xn})}}};this._dispatchEventFromSandbox(_n,rn)}),this._setEventListeners(Vt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],rn=>rn.target.checked)}return this._setBackgroundColor(Vt),this._setDefaultPropertiesFromJS(Vt),this.container.append(Vt),this.container}}class _t extends ot{constructor(Pt){super(Pt,{ignoreBorder:Pt.data.hasAppearance})}render(){const Pt=super.render();Pt.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(Pt.title=this.data.alternativeText);const kt=Pt.lastChild;return this.enableScripting&&this.hasJSActions&&kt&&(this._setDefaultPropertiesFromJS(kt),kt.addEventListener("updatefromsandbox",Nt=>{this._dispatchEventFromSandbox({},Nt)})),Pt}}class vt extends ct{constructor(Pt){super(Pt,{isRenderable:Pt.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const Pt=this.annotationStorage,kt=this.data.id,Nt=Pt.getValue(kt,{value:this.data.fieldValue}),jt=document.createElement("select");ht.add(jt),jt.setAttribute("data-element-id",kt),jt.disabled=this.data.readOnly,this._setRequired(jt,this.data.required),jt.name=this.data.fieldName,jt.tabIndex=nt;let Vt=this.data.combo&&this.data.options.length>0;this.data.combo||(jt.size=this.data.options.length,this.data.multiSelect&&(jt.multiple=!0)),jt.addEventListener("resetform",cn=>{const An=this.data.defaultFieldValue;for(const pn of jt.options)pn.selected=pn.value===An});for(const cn of this.data.options){const An=document.createElement("option");An.textContent=cn.displayValue,An.value=cn.exportValue,Nt.value.includes(cn.exportValue)&&(An.setAttribute("selected",!0),Vt=!1),jt.append(An)}let sn=null;if(Vt){const cn=document.createElement("option");cn.value=" ",cn.setAttribute("hidden",!0),cn.setAttribute("selected",!0),jt.prepend(cn),sn=()=>{cn.remove(),jt.removeEventListener("input",sn),sn=null},jt.addEventListener("input",sn)}const rn=(cn,An)=>{const pn=An?"value":"textContent",xn=cn.target.options;return cn.target.multiple?Array.prototype.filter.call(xn,on=>on.selected).map(on=>on[pn]):xn.selectedIndex===-1?null:xn[xn.selectedIndex][pn]},_n=cn=>{const An=cn.target.options;return Array.prototype.map.call(An,pn=>({displayValue:pn.textContent,exportValue:pn.value}))};return this.enableScripting&&this.hasJSActions?(jt.addEventListener("updatefromsandbox",cn=>{const An={value(pn){sn==null||sn();const xn=pn.detail.value,on=new Set(Array.isArray(xn)?xn:[xn]);for(const Cn of jt.options)Cn.selected=on.has(Cn.value);Pt.setValue(kt,{value:rn(pn,!0)})},multipleSelection(pn){jt.multiple=!0},remove(pn){const xn=jt.options,on=pn.detail.remove;xn[on].selected=!1,jt.remove(on),xn.length>0&&Array.prototype.findIndex.call(xn,kn=>kn.selected)===-1&&(xn[0].selected=!0),Pt.setValue(kt,{value:rn(pn,!0),items:_n(pn)})},clear(pn){for(;jt.length!==0;)jt.remove(0);Pt.setValue(kt,{value:null,items:[]})},insert(pn){const{index:xn,displayValue:on,exportValue:Cn}=pn.detail.insert,kn=jt.children[xn],jn=document.createElement("option");jn.textContent=on,jn.value=Cn,kn?kn.before(jn):jt.append(jn),Pt.setValue(kt,{value:rn(pn,!0),items:_n(pn)})},items(pn){const{items:xn}=pn.detail;for(;jt.length!==0;)jt.remove(0);for(const on of xn){const{displayValue:Cn,exportValue:kn}=on,jn=document.createElement("option");jn.textContent=Cn,jn.value=kn,jt.append(jn)}jt.options.length>0&&(jt.options[0].selected=!0),Pt.setValue(kt,{value:rn(pn,!0),items:_n(pn)})},indices(pn){const xn=new Set(pn.detail.indices);for(const on of pn.target.options)on.selected=xn.has(on.index);Pt.setValue(kt,{value:rn(pn,!0)})},editable(pn){pn.target.disabled=!pn.detail.editable}};this._dispatchEventFromSandbox(An,cn)}),jt.addEventListener("input",cn=>{var xn;const An=rn(cn,!0),pn=rn(cn,!1);Pt.setValue(kt,{value:An}),(xn=this.linkService.eventBus)==null||xn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:pn,changeEx:An,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(jt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],cn=>cn.target.checked)):jt.addEventListener("input",function(cn){Pt.setValue(kt,{value:rn(cn,!0)})}),this.data.combo&&this._setTextStyle(jt),this._setBackgroundColor(jt),this._setDefaultPropertiesFromJS(jt),this.container.append(jt),this.container}}const Rt=class extends rt{constructor(Pt){var jt,Vt,sn;const{data:kt}=Pt,Nt=!Rt.IGNORE_TYPES.has(kt.parentType)&&!!(((jt=kt.titleObj)==null?void 0:jt.str)||((Vt=kt.contentsObj)==null?void 0:Vt.str)||((sn=kt.richText)==null?void 0:sn.str));super(Pt,{isRenderable:Nt})}render(){this.container.className="popupAnnotation";const Pt=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(Pt.length===0)return this.container;const kt=new Ct({container:this.container,trigger:Array.from(Pt),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Nt=this.page,jt=et.Util.normalizeRect([this.data.parentRect[0],Nt.view[3]-this.data.parentRect[1]+Nt.view[1],this.data.parentRect[2],Nt.view[3]-this.data.parentRect[3]+Nt.view[1]]),Vt=jt[0]+this.data.parentRect[2]-this.data.parentRect[0],sn=jt[1],[rn,_n,cn,An]=this.viewport.viewBox,pn=cn-rn,xn=An-_n;return this.container.style.left=`${100*(Vt-rn)/pn}%`,this.container.style.top=`${100*(sn-_n)/xn}%`,this.container.append(kt.render()),this.container}};let yt=Rt;Fr(yt,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class Ct{constructor(Pt){this.container=Pt.container,this.trigger=Pt.trigger,this.color=Pt.color,this.titleObj=Pt.titleObj,this.modificationDate=Pt.modificationDate,this.contentsObj=Pt.contentsObj,this.richText=Pt.richText,this.hideWrapper=Pt.hideWrapper||!1,this.pinned=!1}render(){var rn,_n;const kt=document.createElement("div");kt.className="popupWrapper",this.hideElement=this.hideWrapper?kt:this.container,this.hideElement.hidden=!0;const Nt=document.createElement("div");Nt.className="popup";const jt=this.color;if(jt){const cn=.7*(255-jt[0])+jt[0],An=.7*(255-jt[1])+jt[1],pn=.7*(255-jt[2])+jt[2];Nt.style.backgroundColor=et.Util.makeHexColor(cn|0,An|0,pn|0)}const Vt=document.createElement("h1");Vt.dir=this.titleObj.dir,Vt.textContent=this.titleObj.str,Nt.append(Vt);const sn=tt.PDFDateString.toDateObject(this.modificationDate);if(sn){const cn=document.createElement("span");cn.className="popupDate",cn.textContent="{{date}}, {{time}}",cn.dataset.l10nId="annotation_date_string",cn.dataset.l10nArgs=JSON.stringify({date:sn.toLocaleDateString(),time:sn.toLocaleTimeString()}),Nt.append(cn)}if(((rn=this.richText)==null?void 0:rn.str)&&(!((_n=this.contentsObj)!=null&&_n.str)||this.contentsObj.str===this.richText.str))lt.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:Nt}),Nt.lastChild.className="richText popupContent";else{const cn=this._formatContents(this.contentsObj);Nt.append(cn)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const cn of this.trigger)cn.addEventListener("click",this._toggle.bind(this)),cn.addEventListener("mouseover",this._show.bind(this,!1)),cn.addEventListener("mouseout",this._hide.bind(this,!1));return Nt.addEventListener("click",this._hide.bind(this,!0)),kt.append(Nt),kt}_formatContents({str:Pt,dir:kt}){const Nt=document.createElement("p");Nt.className="popupContent",Nt.dir=kt;const jt=Pt.split(/(?:\r\n?|\n)/);for(let Vt=0,sn=jt.length;Vt<sn;++Vt){const rn=jt[Vt];Nt.append(document.createTextNode(rn)),Vt<sn-1&&Nt.append(document.createElement("br"))}return Nt}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(Pt=!1){Pt&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(Pt=!0){Pt&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class bt extends rt{constructor(Pt){var Nt,jt,Vt;const kt=!!(Pt.data.hasPopup||((Nt=Pt.data.titleObj)==null?void 0:Nt.str)||((jt=Pt.data.contentsObj)==null?void 0:jt.str)||((Vt=Pt.data.richText)==null?void 0:Vt.str));super(Pt,{isRenderable:kt,ignoreBorder:!0}),this.textContent=Pt.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const Pt=document.createElement("div");Pt.className="annotationTextContent",Pt.setAttribute("role","comment");for(const kt of this.textContent){const Nt=document.createElement("span");Nt.textContent=kt,Pt.append(Nt)}this.container.append(Pt)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Dt extends rt{constructor(Pt){var Nt,jt,Vt;const kt=!!(Pt.data.hasPopup||((Nt=Pt.data.titleObj)==null?void 0:Nt.str)||((jt=Pt.data.contentsObj)==null?void 0:jt.str)||((Vt=Pt.data.richText)==null?void 0:Vt.str));super(Pt,{isRenderable:kt,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const Pt=this.data,{width:kt,height:Nt}=at(Pt.rect),jt=this.svgFactory.create(kt,Nt,!0),Vt=this.svgFactory.createElement("svg:line");return Vt.setAttribute("x1",Pt.rect[2]-Pt.lineCoordinates[0]),Vt.setAttribute("y1",Pt.rect[3]-Pt.lineCoordinates[1]),Vt.setAttribute("x2",Pt.rect[2]-Pt.lineCoordinates[2]),Vt.setAttribute("y2",Pt.rect[3]-Pt.lineCoordinates[3]),Vt.setAttribute("stroke-width",Pt.borderStyle.width||1),Vt.setAttribute("stroke","transparent"),Vt.setAttribute("fill","transparent"),jt.append(Vt),this.container.append(jt),this._createPopup(Vt,Pt),this.container}}class wt extends rt{constructor(Pt){var Nt,jt,Vt;const kt=!!(Pt.data.hasPopup||((Nt=Pt.data.titleObj)==null?void 0:Nt.str)||((jt=Pt.data.contentsObj)==null?void 0:jt.str)||((Vt=Pt.data.richText)==null?void 0:Vt.str));super(Pt,{isRenderable:kt,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const Pt=this.data,{width:kt,height:Nt}=at(Pt.rect),jt=this.svgFactory.create(kt,Nt,!0),Vt=Pt.borderStyle.width,sn=this.svgFactory.createElement("svg:rect");return sn.setAttribute("x",Vt/2),sn.setAttribute("y",Vt/2),sn.setAttribute("width",kt-Vt),sn.setAttribute("height",Nt-Vt),sn.setAttribute("stroke-width",Vt||1),sn.setAttribute("stroke","transparent"),sn.setAttribute("fill","transparent"),jt.append(sn),this.container.append(jt),this._createPopup(sn,Pt),this.container}}class Ft extends rt{constructor(Pt){var Nt,jt,Vt;const kt=!!(Pt.data.hasPopup||((Nt=Pt.data.titleObj)==null?void 0:Nt.str)||((jt=Pt.data.contentsObj)==null?void 0:jt.str)||((Vt=Pt.data.richText)==null?void 0:Vt.str));super(Pt,{isRenderable:kt,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const Pt=this.data,{width:kt,height:Nt}=at(Pt.rect),jt=this.svgFactory.create(kt,Nt,!0),Vt=Pt.borderStyle.width,sn=this.svgFactory.createElement("svg:ellipse");return sn.setAttribute("cx",kt/2),sn.setAttribute("cy",Nt/2),sn.setAttribute("rx",kt/2-Vt/2),sn.setAttribute("ry",Nt/2-Vt/2),sn.setAttribute("stroke-width",Vt||1),sn.setAttribute("stroke","transparent"),sn.setAttribute("fill","transparent"),jt.append(sn),this.container.append(jt),this._createPopup(sn,Pt),this.container}}class Lt extends rt{constructor(Pt){var Nt,jt,Vt;const kt=!!(Pt.data.hasPopup||((Nt=Pt.data.titleObj)==null?void 0:Nt.str)||((jt=Pt.data.contentsObj)==null?void 0:jt.str)||((Vt=Pt.data.richText)==null?void 0:Vt.str));super(Pt,{isRenderable:kt,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const Pt=this.data,{width:kt,height:Nt}=at(Pt.rect),jt=this.svgFactory.create(kt,Nt,!0);let Vt=[];for(const rn of Pt.vertices){const _n=rn.x-Pt.rect[0],cn=Pt.rect[3]-rn.y;Vt.push(_n+","+cn)}Vt=Vt.join(" ");const sn=this.svgFactory.createElement(this.svgElementName);return sn.setAttribute("points",Vt),sn.setAttribute("stroke-width",Pt.borderStyle.width||1),sn.setAttribute("stroke","transparent"),sn.setAttribute("fill","transparent"),jt.append(sn),this.container.append(jt),this._createPopup(sn,Pt),this.container}}class Qt extends Lt{constructor(Pt){super(Pt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ut extends rt{constructor(Pt){var Nt,jt,Vt;const kt=!!(Pt.data.hasPopup||((Nt=Pt.data.titleObj)==null?void 0:Nt.str)||((jt=Pt.data.contentsObj)==null?void 0:jt.str)||((Vt=Pt.data.richText)==null?void 0:Vt.str));super(Pt,{isRenderable:kt,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Xt extends rt{constructor(Pt){var Nt,jt,Vt;const kt=!!(Pt.data.hasPopup||((Nt=Pt.data.titleObj)==null?void 0:Nt.str)||((jt=Pt.data.contentsObj)==null?void 0:jt.str)||((Vt=Pt.data.richText)==null?void 0:Vt.str));super(Pt,{isRenderable:kt,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const Pt=this.data,{width:kt,height:Nt}=at(Pt.rect),jt=this.svgFactory.create(kt,Nt,!0);for(const Vt of Pt.inkLists){let sn=[];for(const _n of Vt){const cn=_n.x-Pt.rect[0],An=Pt.rect[3]-_n.y;sn.push(`${cn},${An}`)}sn=sn.join(" ");const rn=this.svgFactory.createElement(this.svgElementName);rn.setAttribute("points",sn),rn.setAttribute("stroke-width",Pt.borderStyle.width||1),rn.setAttribute("stroke","transparent"),rn.setAttribute("fill","transparent"),this._createPopup(rn,Pt),jt.append(rn)}return this.container.append(jt),this.container}}class qt extends rt{constructor(Pt){var Nt,jt,Vt;const kt=!!(Pt.data.hasPopup||((Nt=Pt.data.titleObj)==null?void 0:Nt.str)||((jt=Pt.data.contentsObj)==null?void 0:jt.str)||((Vt=Pt.data.richText)==null?void 0:Vt.str));super(Pt,{isRenderable:kt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Jt extends rt{constructor(Pt){var Nt,jt,Vt;const kt=!!(Pt.data.hasPopup||((Nt=Pt.data.titleObj)==null?void 0:Nt.str)||((jt=Pt.data.contentsObj)==null?void 0:jt.str)||((Vt=Pt.data.richText)==null?void 0:Vt.str));super(Pt,{isRenderable:kt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Gt extends rt{constructor(Pt){var Nt,jt,Vt;const kt=!!(Pt.data.hasPopup||((Nt=Pt.data.titleObj)==null?void 0:Nt.str)||((jt=Pt.data.contentsObj)==null?void 0:jt.str)||((Vt=Pt.data.richText)==null?void 0:Vt.str));super(Pt,{isRenderable:kt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Et extends rt{constructor(Pt){var Nt,jt,Vt;const kt=!!(Pt.data.hasPopup||((Nt=Pt.data.titleObj)==null?void 0:Nt.str)||((jt=Pt.data.contentsObj)==null?void 0:jt.str)||((Vt=Pt.data.richText)==null?void 0:Vt.str));super(Pt,{isRenderable:kt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class At extends rt{constructor(Pt){var Nt,jt,Vt;const kt=!!(Pt.data.hasPopup||((Nt=Pt.data.titleObj)==null?void 0:Nt.str)||((jt=Pt.data.contentsObj)==null?void 0:jt.str)||((Vt=Pt.data.richText)==null?void 0:Vt.str));super(Pt,{isRenderable:kt,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class It extends rt{constructor(Pt){var jt;super(Pt,{isRenderable:!0});const{filename:kt,content:Nt}=this.data.file;this.filename=(0,tt.getFilenameFromUrl)(kt,!0),this.content=Nt,(jt=this.linkService.eventBus)==null||jt.dispatch("fileattachmentannotation",{source:this,filename:kt,content:Nt})}render(){var kt,Nt;this.container.className="fileAttachmentAnnotation";const Pt=document.createElement("div");return Pt.className="popupTriggerArea",Pt.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((kt=this.data.titleObj)==null?void 0:kt.str)||((Nt=this.data.contentsObj)==null?void 0:Nt.str)||this.data.richText)&&this._createPopup(Pt,this.data),this.container.append(Pt),this.container}_download(){var Pt;(Pt=this.downloadManager)==null||Pt.openOrDownloadData(this.container,this.content,this.filename)}}const Ht=class{static render(Pt){var rn,_n;const{annotations:kt,div:Nt,viewport:jt,accessibilityManager:Vt}=Pt;Fn(this,Kt,oo).call(this,Nt,jt);let sn=0;for(const cn of kt){if(cn.annotationType!==et.AnnotationType.POPUP){const{width:pn,height:xn}=at(cn.rect);if(pn<=0||xn<=0)continue}const An=it.create({data:cn,layer:Nt,page:Pt.page,viewport:jt,linkService:Pt.linkService,downloadManager:Pt.downloadManager,imageResourcesPath:Pt.imageResourcesPath||"",renderForms:Pt.renderForms!==!1,svgFactory:new tt.DOMSVGFactory,annotationStorage:Pt.annotationStorage||new st.AnnotationStorage,enableScripting:Pt.enableScripting,hasJSActions:Pt.hasJSActions,fieldObjects:Pt.fieldObjects,mouseState:Pt.mouseState||{isDown:!1}});if(An.isRenderable){const pn=An.render();if(cn.hidden&&(pn.style.visibility="hidden"),Array.isArray(pn))for(const xn of pn)xn.style.zIndex=sn++,Fn(rn=Ht,Bt,so).call(rn,xn,cn.id,Nt,Vt);else pn.style.zIndex=sn++,An instanceof yt?Nt.prepend(pn):Fn(_n=Ht,Bt,so).call(_n,pn,cn.id,Nt,Vt)}}Fn(this,en,ao).call(this,Nt,Pt.annotationCanvasMap)}static update(Pt){const{annotationCanvasMap:kt,div:Nt,viewport:jt}=Pt;Fn(this,Kt,oo).call(this,Nt,jt),Fn(this,en,ao).call(this,Nt,kt),Nt.hidden=!1}};let Ot=Ht;Bt=new WeakSet,so=function(Pt,kt,Nt,jt){const Vt=Pt.firstChild||Pt;Vt.id=`${tt.AnnotationPrefix}${kt}`,Nt.append(Pt),jt==null||jt.moveElementInDOM(Nt,Pt,Vt,!1)},Kt=new WeakSet,oo=function(Pt,{width:kt,height:Nt,rotation:jt}){const{style:Vt}=Pt,sn=jt%180!==0,rn=Math.floor(kt)+"px",_n=Math.floor(Nt)+"px";Vt.width=sn?_n:rn,Vt.height=sn?rn:_n,Pt.setAttribute("data-main-rotation",jt)},en=new WeakSet,ao=function(Pt,kt){if(!!kt){for(const[Nt,jt]of kt){const Vt=Pt.querySelector(`[data-annotation-id="${Nt}"]`);if(!Vt)continue;const{firstChild:sn}=Vt;sn?sn.nodeName==="CANVAS"?sn.replaceWith(jt):sn.before(jt):Vt.append(jt)}kt.clear()}},Tn(Ot,Bt),Tn(Ot,Kt),Tn(Ot,en),$.AnnotationLayer=Ot},(j,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function _e(tt){return Math.floor(Math.max(0,Math.min(1,tt))*255).toString(16).padStart(2,"0")}class et{static CMYK_G([st,gt,lt,nt]){return["G",1-Math.min(1,.3*st+.59*lt+.11*gt+nt)]}static G_CMYK([st]){return["CMYK",0,0,0,1-st]}static G_RGB([st]){return["RGB",st,st,st]}static G_HTML([st]){const gt=_e(st);return`#${gt}${gt}${gt}`}static RGB_G([st,gt,lt]){return["G",.3*st+.59*gt+.11*lt]}static RGB_HTML([st,gt,lt]){const nt=_e(st),ut=_e(gt),ht=_e(lt);return`#${nt}${ut}${ht}`}static T_HTML(){return"#00000000"}static CMYK_RGB([st,gt,lt,nt]){return["RGB",1-Math.min(1,st+nt),1-Math.min(1,lt+nt),1-Math.min(1,gt+nt)]}static CMYK_HTML(st){const gt=this.CMYK_RGB(st).slice(1);return this.RGB_HTML(gt)}static RGB_CMYK([st,gt,lt]){const nt=1-st,ut=1-gt,ht=1-lt,at=Math.min(nt,ut,ht);return["CMYK",nt,ut,ht,at]}}$.ColorConverters=et},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var et=_e(19);class tt{static setupStorage(gt,lt,nt,ut,ht){const at=ut.getValue(lt,{value:null});switch(nt.name){case"textarea":if(at.value!==null&&(gt.textContent=at.value),ht==="print")break;gt.addEventListener("input",it=>{ut.setValue(lt,{value:it.target.value})});break;case"input":if(nt.attributes.type==="radio"||nt.attributes.type==="checkbox"){if(at.value===nt.attributes.xfaOn?gt.setAttribute("checked",!0):at.value===nt.attributes.xfaOff&&gt.removeAttribute("checked"),ht==="print")break;gt.addEventListener("change",it=>{ut.setValue(lt,{value:it.target.checked?it.target.getAttribute("xfaOn"):it.target.getAttribute("xfaOff")})})}else{if(at.value!==null&&gt.setAttribute("value",at.value),ht==="print")break;gt.addEventListener("input",it=>{ut.setValue(lt,{value:it.target.value})})}break;case"select":if(at.value!==null)for(const it of nt.children)it.attributes.value===at.value&&(it.attributes.selected=!0);gt.addEventListener("input",it=>{const rt=it.target.options,ot=rt.selectedIndex===-1?"":rt[rt.selectedIndex].value;ut.setValue(lt,{value:ot})});break}}static setAttributes({html:gt,element:lt,storage:nt=null,intent:ut,linkService:ht}){const{attributes:at}=lt,it=gt instanceof HTMLAnchorElement;at.type==="radio"&&(at.name=`${at.name}-${ut}`);for(const[rt,ot]of Object.entries(at))if(ot!=null)switch(rt){case"class":ot.length&&gt.setAttribute(rt,ot.join(" "));break;case"dataId":break;case"id":gt.setAttribute("data-element-id",ot);break;case"style":Object.assign(gt.style,ot);break;case"textContent":gt.textContent=ot;break;default:(!it||rt!=="href"&&rt!=="newWindow")&&gt.setAttribute(rt,ot)}it&&ht.addLinkAttributes(gt,at.href,at.newWindow),nt&&at.dataId&&this.setupStorage(gt,at.dataId,lt,nt)}static render(gt){var ft;const lt=gt.annotationStorage,nt=gt.linkService,ut=gt.xfaHtml,ht=gt.intent||"display",at=document.createElement(ut.name);ut.attributes&&this.setAttributes({html:at,element:ut,intent:ht,linkService:nt});const it=[[ut,-1,at]],rt=gt.div;if(rt.append(at),gt.viewport){const ct=`matrix(${gt.viewport.transform.join(",")})`;rt.style.transform=ct}ht!=="richText"&&rt.setAttribute("class","xfaLayer xfaFont");const ot=[];for(;it.length>0;){const[ct,dt,pt]=it.at(-1);if(dt+1===ct.children.length){it.pop();continue}const mt=ct.children[++it.at(-1)[1]];if(mt===null)continue;const{name:_t}=mt;if(_t==="#text"){const yt=document.createTextNode(mt.value);ot.push(yt),pt.append(yt);continue}let vt;if((ft=mt==null?void 0:mt.attributes)!=null&&ft.xmlns?vt=document.createElementNS(mt.attributes.xmlns,_t):vt=document.createElement(_t),pt.append(vt),mt.attributes&&this.setAttributes({html:vt,element:mt,storage:lt,intent:ht,linkService:nt}),mt.children&&mt.children.length>0)it.push([mt,-1,vt]);else if(mt.value){const yt=document.createTextNode(mt.value);et.XfaText.shouldBuildText(_t)&&ot.push(yt),vt.append(yt)}}for(const ct of rt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))ct.setAttribute("readOnly",!0);return{textDivs:ot}}static update(gt){const lt=`matrix(${gt.viewport.transform.join(",")})`;gt.div.style.transform=lt,gt.div.hidden=!1}}$.XfaLayer=tt},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=rt;var et=_e(1),tt=_e(6);const st=1e5,gt=30,lt=.8,nt=new Map;function ut(ot,ft){const ct=nt.get(ot);if(ct)return ct;ft.save(),ft.font=`${gt}px ${ot}`;const dt=ft.measureText("");let pt=dt.fontBoundingBoxAscent,mt=Math.abs(dt.fontBoundingBoxDescent);if(pt){ft.restore();const vt=pt/(pt+mt);return nt.set(ot,vt),vt}ft.strokeStyle="red",ft.clearRect(0,0,gt,gt),ft.strokeText("g",0,0);let _t=ft.getImageData(0,0,gt,gt).data;mt=0;for(let vt=_t.length-1-3;vt>=0;vt-=4)if(_t[vt]>0){mt=Math.ceil(vt/4/gt);break}ft.clearRect(0,0,gt,gt),ft.strokeText("A",0,gt),_t=ft.getImageData(0,0,gt,gt).data,pt=0;for(let vt=0,yt=_t.length;vt<yt;vt+=4)if(_t[vt]>0){pt=gt-Math.floor(vt/4/gt);break}if(ft.restore(),pt){const vt=pt/(pt+mt);return nt.set(ot,vt),vt}return nt.set(ot,lt),lt}function ht(ot,ft,ct,dt){const pt=document.createElement("span"),mt={angle:0,canvasWidth:0,hasText:ft.str!=="",hasEOL:ft.hasEOL,fontSize:0};ot._textDivs.push(pt);const _t=et.Util.transform(ot._viewport.transform,ft.transform);let vt=Math.atan2(_t[1],_t[0]);const yt=ct[ft.fontName];yt.vertical&&(vt+=Math.PI/2);const Ct=Math.hypot(_t[2],_t[3]),bt=Ct*ut(yt.fontFamily,dt);let Dt,wt;vt===0?(Dt=_t[4],wt=_t[5]-bt):(Dt=_t[4]+bt*Math.sin(vt),wt=_t[5]-bt*Math.cos(vt)),pt.style.left=`${Dt}px`,pt.style.top=`${wt}px`,pt.style.fontSize=`${Ct}px`,pt.style.fontFamily=yt.fontFamily,mt.fontSize=Ct,pt.setAttribute("role","presentation"),pt.textContent=ft.str,pt.dir=ft.dir,ot._fontInspectorEnabled&&(pt.dataset.fontName=ft.fontName),vt!==0&&(mt.angle=vt*(180/Math.PI));let Ft=!1;if(ft.str.length>1)Ft=!0;else if(ft.str!==" "&&ft.transform[0]!==ft.transform[3]){const Lt=Math.abs(ft.transform[0]),Qt=Math.abs(ft.transform[3]);Lt!==Qt&&Math.max(Lt,Qt)/Math.min(Lt,Qt)>1.5&&(Ft=!0)}Ft&&(yt.vertical?mt.canvasWidth=ft.height*ot._viewport.scale:mt.canvasWidth=ft.width*ot._viewport.scale),ot._textDivProperties.set(pt,mt),ot._textContentStream&&ot._layoutText(pt)}function at(ot){if(ot._canceled)return;const ft=ot._textDivs,ct=ot._capability;if(ft.length>st){ot._renderingDone=!0,ct.resolve();return}if(!ot._textContentStream)for(const pt of ft)ot._layoutText(pt);ot._renderingDone=!0,ct.resolve()}class it{constructor({textContent:ft,textContentStream:ct,container:dt,viewport:pt,textDivs:mt,textContentItemsStr:_t}){var vt;this._textContent=ft,this._textContentStream=ct,this._container=dt,this._document=dt.ownerDocument,this._viewport=pt,this._textDivs=mt||[],this._textContentItemsStr=_t||[],this._fontInspectorEnabled=!!((vt=globalThis.FontInspector)!=null&&vt.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,et.createPromiseCapability)(),this._renderTimer=null,this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._textDivProperties=null,this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new et.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(ft,ct){for(const dt of ft){if(dt.str===void 0){if(dt.type==="beginMarkedContentProps"||dt.type==="beginMarkedContent"){const pt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),dt.id!==null&&this._container.setAttribute("id",`${dt.id}`),pt.append(this._container)}else dt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(dt.str),ht(this,dt,ct,this._layoutTextCtx)}}_layoutText(ft){const ct=this._textDivProperties.get(ft);let dt="";if(ct.canvasWidth!==0&&ct.hasText){const{fontFamily:pt}=ft.style,{fontSize:mt}=ct;(mt!==this._layoutTextLastFontSize||pt!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${mt*this._devicePixelRatio}px ${pt}`,this._layoutTextLastFontSize=mt,this._layoutTextLastFontFamily=pt);const{width:_t}=this._layoutTextCtx.measureText(ft.textContent);_t>0&&(dt=`scaleX(${this._devicePixelRatio*ct.canvasWidth/_t})`)}if(ct.angle!==0&&(dt=`rotate(${ct.angle}deg) ${dt}`),dt.length>0&&(ft.style.transform=dt),ct.hasText&&this._container.append(ft),ct.hasEOL){const pt=document.createElement("br");pt.setAttribute("role","presentation"),this._container.append(pt)}}_render(ft=0){const ct=(0,et.createPromiseCapability)();let dt=Object.create(null);const pt=this._document.createElement("canvas");if(pt.height=pt.width=gt,this._layoutTextCtx=pt.getContext("2d",{alpha:!1}),this._textContent){const mt=this._textContent.items,_t=this._textContent.styles;this._processItems(mt,_t),ct.resolve()}else if(this._textContentStream){const mt=()=>{this._reader.read().then(({value:_t,done:vt})=>{if(vt){ct.resolve();return}Object.assign(dt,_t.styles),this._processItems(_t.items,dt),mt()},ct.reject)};this._reader=this._textContentStream.getReader(),mt()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');ct.promise.then(()=>{dt=null,ft?((0,tt.deprecated)("The TextLayerRender `timeout` parameter will be removed in the future, since streaming of textContent has made it obsolete."),this._renderTimer=setTimeout(()=>{at(this),this._renderTimer=null},ft)):at(this)},this._capability.reject)}}$.TextLayerRenderTask=it;function rt(ot){const ft=new it({textContent:ot.textContent,textContentStream:ot.textContentStream,container:ot.container,viewport:ot.viewport,textDivs:ot.textDivs,textContentItemsStr:ot.textContentItemsStr});return ft._render(ot.timeout),ft}},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var et=_e(6),tt=_e(1),st=_e(12);let gt=class{constructor(){(0,tt.unreachable)("Not implemented: SVGGraphics")}};$.SVGGraphics=gt;{let pt=function(bt){let Dt=[];const wt=[];for(const Ft of bt){if(Ft.fn==="save"){Dt.push({fnId:92,fn:"group",items:[]}),wt.push(Dt),Dt=Dt.at(-1).items;continue}Ft.fn==="restore"?Dt=wt.pop():Dt.push(Ft)}return Dt},mt=function(bt){if(Number.isInteger(bt))return bt.toString();const Dt=bt.toFixed(10);let wt=Dt.length-1;if(Dt[wt]!=="0")return Dt;do wt--;while(Dt[wt]==="0");return Dt.substring(0,Dt[wt]==="."?wt:wt+1)},_t=function(bt){if(bt[4]===0&&bt[5]===0){if(bt[1]===0&&bt[2]===0)return bt[0]===1&&bt[3]===1?"":`scale(${mt(bt[0])} ${mt(bt[3])})`;if(bt[0]===bt[3]&&bt[1]===-bt[2]){const Dt=Math.acos(bt[0])*180/Math.PI;return`rotate(${mt(Dt)})`}}else if(bt[0]===1&&bt[1]===0&&bt[2]===0&&bt[3]===1)return`translate(${mt(bt[4])} ${mt(bt[5])})`;return`matrix(${mt(bt[0])} ${mt(bt[1])} ${mt(bt[2])} ${mt(bt[3])} ${mt(bt[4])} ${mt(bt[5])})`};var lt=pt,nt=mt,ut=_t;const ht={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},at="http://www.w3.org/XML/1998/namespace",it="http://www.w3.org/1999/xlink",rt=["butt","round","square"],ot=["miter","round","bevel"],ft=function(bt,Dt="",wt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!wt)return URL.createObjectURL(new Blob([bt],{type:Dt}));const Ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Lt=`data:${Dt};base64,`;for(let Qt=0,Ut=bt.length;Qt<Ut;Qt+=3){const Xt=bt[Qt]&255,qt=bt[Qt+1]&255,Jt=bt[Qt+2]&255,Gt=Xt>>2,Et=(Xt&3)<<4|qt>>4,At=Qt+1<Ut?(qt&15)<<2|Jt>>6:64,It=Qt+2<Ut?Jt&63:64;Lt+=Ft[Gt]+Ft[Et]+Ft[At]+Ft[It]}return Lt},ct=function(){const bt=new Uint8Array([137,80,78,71,13,10,26,10]),Dt=12,wt=new Int32Array(256);for(let Jt=0;Jt<256;Jt++){let Gt=Jt;for(let Et=0;Et<8;Et++)Gt&1?Gt=3988292384^Gt>>1&2147483647:Gt=Gt>>1&2147483647;wt[Jt]=Gt}function Ft(Jt,Gt,Et){let At=-1;for(let It=Gt;It<Et;It++){const Ot=(At^Jt[It])&255,Tt=wt[Ot];At=At>>>8^Tt}return At^-1}function Lt(Jt,Gt,Et,At){let It=At;const Ot=Gt.length;Et[It]=Ot>>24&255,Et[It+1]=Ot>>16&255,Et[It+2]=Ot>>8&255,Et[It+3]=Ot&255,It+=4,Et[It]=Jt.charCodeAt(0)&255,Et[It+1]=Jt.charCodeAt(1)&255,Et[It+2]=Jt.charCodeAt(2)&255,Et[It+3]=Jt.charCodeAt(3)&255,It+=4,Et.set(Gt,It),It+=Gt.length;const Tt=Ft(Et,At+4,It);Et[It]=Tt>>24&255,Et[It+1]=Tt>>16&255,Et[It+2]=Tt>>8&255,Et[It+3]=Tt&255}function Qt(Jt,Gt,Et){let At=1,It=0;for(let Ot=Gt;Ot<Et;++Ot)At=(At+(Jt[Ot]&255))%65521,It=(It+At)%65521;return It<<16|At}function Ut(Jt){if(!st.isNodeJS)return Xt(Jt);try{let Gt;parseInt(process.versions.node)>=8?Gt=Jt:Gt=Buffer.from(Jt);const Et=require$$5.deflateSync(Gt,{level:9});return Et instanceof Uint8Array?Et:new Uint8Array(Et)}catch(Gt){(0,tt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Gt)}return Xt(Jt)}function Xt(Jt){let Gt=Jt.length;const Et=65535,At=Math.ceil(Gt/Et),It=new Uint8Array(2+Gt+At*5+4);let Ot=0;It[Ot++]=120,It[Ot++]=156;let Tt=0;for(;Gt>Et;)It[Ot++]=0,It[Ot++]=255,It[Ot++]=255,It[Ot++]=0,It[Ot++]=0,It.set(Jt.subarray(Tt,Tt+Et),Ot),Ot+=Et,Tt+=Et,Gt-=Et;It[Ot++]=1,It[Ot++]=Gt&255,It[Ot++]=Gt>>8&255,It[Ot++]=~Gt&65535&255,It[Ot++]=(~Gt&65535)>>8&255,It.set(Jt.subarray(Tt),Ot),Ot+=Jt.length-Tt;const St=Qt(Jt,0,Jt.length);return It[Ot++]=St>>24&255,It[Ot++]=St>>16&255,It[Ot++]=St>>8&255,It[Ot++]=St&255,It}function qt(Jt,Gt,Et,At){const It=Jt.width,Ot=Jt.height;let Tt,St,xt;const $t=Jt.data;switch(Gt){case tt.ImageKind.GRAYSCALE_1BPP:St=0,Tt=1,xt=It+7>>3;break;case tt.ImageKind.RGB_24BPP:St=2,Tt=8,xt=It*3;break;case tt.ImageKind.RGBA_32BPP:St=6,Tt=8,xt=It*4;break;default:throw new Error("invalid format")}const Rt=new Uint8Array((1+xt)*Ot);let Bt=0,Wt=0;for(let nn=0;nn<Ot;++nn)Rt[Bt++]=0,Rt.set($t.subarray(Wt,Wt+xt),Bt),Wt+=xt,Bt+=xt;if(Gt===tt.ImageKind.GRAYSCALE_1BPP&&At){Bt=0;for(let nn=0;nn<Ot;nn++){Bt++;for(let Pt=0;Pt<xt;Pt++)Rt[Bt++]^=255}}const Kt=new Uint8Array([It>>24&255,It>>16&255,It>>8&255,It&255,Ot>>24&255,Ot>>16&255,Ot>>8&255,Ot&255,Tt,St,0,0,0]),ln=Ut(Rt),en=bt.length+Dt*3+Kt.length+ln.length,tn=new Uint8Array(en);let Ht=0;return tn.set(bt,Ht),Ht+=bt.length,Lt("IHDR",Kt,tn,Ht),Ht+=Dt+Kt.length,Lt("IDATA",ln,tn,Ht),Ht+=Dt+ln.length,Lt("IEND",new Uint8Array(0),tn,Ht),ft(tn,"image/png",Et)}return function(Gt,Et,At){const It=Gt.kind===void 0?tt.ImageKind.GRAYSCALE_1BPP:Gt.kind;return qt(Gt,It,Et,At)}}();class dt{constructor(){this.fontSizeScale=1,this.fontWeight=ht.fontWeight,this.fontSize=0,this.textMatrix=tt.IDENTITY_MATRIX,this.fontMatrix=tt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=tt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ht.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Dt,wt){this.x=Dt,this.y=wt}}let vt=0,yt=0,Ct=0;$.SVGGraphics=gt=class{constructor(bt,Dt,wt=!1){(0,et.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new et.DOMSVGFactory,this.current=new dt,this.transformMatrix=tt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=bt,this.objs=Dt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!wt,this._operatorIdMapping=[];for(const Ft in tt.OPS)this._operatorIdMapping[tt.OPS[Ft]]=Ft}getObject(bt,Dt=null){return typeof bt=="string"?bt.startsWith("g_")?this.commonObjs.get(bt):this.objs.get(bt):Dt}save(){this.transformStack.push(this.transformMatrix);const bt=this.current;this.extraStack.push(bt),this.current=bt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(bt){this.save(),this.executeOpTree(bt),this.restore()}loadDependencies(bt){const Dt=bt.fnArray,wt=bt.argsArray;for(let Ft=0,Lt=Dt.length;Ft<Lt;Ft++)if(Dt[Ft]===tt.OPS.dependency)for(const Qt of wt[Ft]){const Ut=Qt.startsWith("g_")?this.commonObjs:this.objs,Xt=new Promise(qt=>{Ut.get(Qt,qt)});this.current.dependencies.push(Xt)}return Promise.all(this.current.dependencies)}transform(bt,Dt,wt,Ft,Lt,Qt){const Ut=[bt,Dt,wt,Ft,Lt,Qt];this.transformMatrix=tt.Util.transform(this.transformMatrix,Ut),this.tgrp=null}getSVG(bt,Dt){this.viewport=Dt;const wt=this._initialize(Dt);return this.loadDependencies(bt).then(()=>(this.transformMatrix=tt.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(bt)),wt))}convertOpList(bt){const Dt=this._operatorIdMapping,wt=bt.argsArray,Ft=bt.fnArray,Lt=[];for(let Qt=0,Ut=Ft.length;Qt<Ut;Qt++){const Xt=Ft[Qt];Lt.push({fnId:Xt,fn:Dt[Xt],args:wt[Qt]})}return pt(Lt)}executeOpTree(bt){for(const Dt of bt){const wt=Dt.fn,Ft=Dt.fnId,Lt=Dt.args;switch(Ft|0){case tt.OPS.beginText:this.beginText();break;case tt.OPS.dependency:break;case tt.OPS.setLeading:this.setLeading(Lt);break;case tt.OPS.setLeadingMoveText:this.setLeadingMoveText(Lt[0],Lt[1]);break;case tt.OPS.setFont:this.setFont(Lt);break;case tt.OPS.showText:this.showText(Lt[0]);break;case tt.OPS.showSpacedText:this.showText(Lt[0]);break;case tt.OPS.endText:this.endText();break;case tt.OPS.moveText:this.moveText(Lt[0],Lt[1]);break;case tt.OPS.setCharSpacing:this.setCharSpacing(Lt[0]);break;case tt.OPS.setWordSpacing:this.setWordSpacing(Lt[0]);break;case tt.OPS.setHScale:this.setHScale(Lt[0]);break;case tt.OPS.setTextMatrix:this.setTextMatrix(Lt[0],Lt[1],Lt[2],Lt[3],Lt[4],Lt[5]);break;case tt.OPS.setTextRise:this.setTextRise(Lt[0]);break;case tt.OPS.setTextRenderingMode:this.setTextRenderingMode(Lt[0]);break;case tt.OPS.setLineWidth:this.setLineWidth(Lt[0]);break;case tt.OPS.setLineJoin:this.setLineJoin(Lt[0]);break;case tt.OPS.setLineCap:this.setLineCap(Lt[0]);break;case tt.OPS.setMiterLimit:this.setMiterLimit(Lt[0]);break;case tt.OPS.setFillRGBColor:this.setFillRGBColor(Lt[0],Lt[1],Lt[2]);break;case tt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Lt[0],Lt[1],Lt[2]);break;case tt.OPS.setStrokeColorN:this.setStrokeColorN(Lt);break;case tt.OPS.setFillColorN:this.setFillColorN(Lt);break;case tt.OPS.shadingFill:this.shadingFill(Lt[0]);break;case tt.OPS.setDash:this.setDash(Lt[0],Lt[1]);break;case tt.OPS.setRenderingIntent:this.setRenderingIntent(Lt[0]);break;case tt.OPS.setFlatness:this.setFlatness(Lt[0]);break;case tt.OPS.setGState:this.setGState(Lt[0]);break;case tt.OPS.fill:this.fill();break;case tt.OPS.eoFill:this.eoFill();break;case tt.OPS.stroke:this.stroke();break;case tt.OPS.fillStroke:this.fillStroke();break;case tt.OPS.eoFillStroke:this.eoFillStroke();break;case tt.OPS.clip:this.clip("nonzero");break;case tt.OPS.eoClip:this.clip("evenodd");break;case tt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case tt.OPS.paintImageXObject:this.paintImageXObject(Lt[0]);break;case tt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Lt[0]);break;case tt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Lt[0]);break;case tt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Lt[0],Lt[1]);break;case tt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case tt.OPS.closePath:this.closePath();break;case tt.OPS.closeStroke:this.closeStroke();break;case tt.OPS.closeFillStroke:this.closeFillStroke();break;case tt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case tt.OPS.nextLine:this.nextLine();break;case tt.OPS.transform:this.transform(Lt[0],Lt[1],Lt[2],Lt[3],Lt[4],Lt[5]);break;case tt.OPS.constructPath:this.constructPath(Lt[0],Lt[1]);break;case tt.OPS.endPath:this.endPath();break;case 92:this.group(Dt.items);break;default:(0,tt.warn)(`Unimplemented operator ${wt}`);break}}}setWordSpacing(bt){this.current.wordSpacing=bt}setCharSpacing(bt){this.current.charSpacing=bt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(bt,Dt,wt,Ft,Lt,Qt){const Ut=this.current;Ut.textMatrix=Ut.lineMatrix=[bt,Dt,wt,Ft,Lt,Qt],Ut.textMatrixScale=Math.hypot(bt,Dt),Ut.x=Ut.lineX=0,Ut.y=Ut.lineY=0,Ut.xcoords=[],Ut.ycoords=[],Ut.tspan=this.svgFactory.createElement("svg:tspan"),Ut.tspan.setAttributeNS(null,"font-family",Ut.fontFamily),Ut.tspan.setAttributeNS(null,"font-size",`${mt(Ut.fontSize)}px`),Ut.tspan.setAttributeNS(null,"y",mt(-Ut.y)),Ut.txtElement=this.svgFactory.createElement("svg:text"),Ut.txtElement.append(Ut.tspan)}beginText(){const bt=this.current;bt.x=bt.lineX=0,bt.y=bt.lineY=0,bt.textMatrix=tt.IDENTITY_MATRIX,bt.lineMatrix=tt.IDENTITY_MATRIX,bt.textMatrixScale=1,bt.tspan=this.svgFactory.createElement("svg:tspan"),bt.txtElement=this.svgFactory.createElement("svg:text"),bt.txtgrp=this.svgFactory.createElement("svg:g"),bt.xcoords=[],bt.ycoords=[]}moveText(bt,Dt){const wt=this.current;wt.x=wt.lineX+=bt,wt.y=wt.lineY+=Dt,wt.xcoords=[],wt.ycoords=[],wt.tspan=this.svgFactory.createElement("svg:tspan"),wt.tspan.setAttributeNS(null,"font-family",wt.fontFamily),wt.tspan.setAttributeNS(null,"font-size",`${mt(wt.fontSize)}px`),wt.tspan.setAttributeNS(null,"y",mt(-wt.y))}showText(bt){const Dt=this.current,wt=Dt.font,Ft=Dt.fontSize;if(Ft===0)return;const Lt=Dt.fontSizeScale,Qt=Dt.charSpacing,Ut=Dt.wordSpacing,Xt=Dt.fontDirection,qt=Dt.textHScale*Xt,Jt=wt.vertical,Gt=Jt?1:-1,Et=wt.defaultVMetrics,At=Ft*Dt.fontMatrix[0];let It=0;for(const St of bt){if(St===null){It+=Xt*Ut;continue}else if(typeof St=="number"){It+=Gt*St*Ft/1e3;continue}const xt=(St.isSpace?Ut:0)+Qt,$t=St.fontChar;let Rt,Bt,Wt=St.width;if(Jt){let ln;const en=St.vmetric||Et;ln=St.vmetric?en[1]:Wt*.5,ln=-ln*At;const tn=en[2]*At;Wt=en?-en[0]:Wt,Rt=ln/Lt,Bt=(It+tn)/Lt}else Rt=It/Lt,Bt=0;(St.isInFont||wt.missingFile)&&(Dt.xcoords.push(Dt.x+Rt),Jt&&Dt.ycoords.push(-Dt.y+Bt),Dt.tspan.textContent+=$t);let Kt;Jt?Kt=Wt*At-xt*Xt:Kt=Wt*At+xt*Xt,It+=Kt}Dt.tspan.setAttributeNS(null,"x",Dt.xcoords.map(mt).join(" ")),Jt?Dt.tspan.setAttributeNS(null,"y",Dt.ycoords.map(mt).join(" ")):Dt.tspan.setAttributeNS(null,"y",mt(-Dt.y)),Jt?Dt.y-=It:Dt.x+=It*qt,Dt.tspan.setAttributeNS(null,"font-family",Dt.fontFamily),Dt.tspan.setAttributeNS(null,"font-size",`${mt(Dt.fontSize)}px`),Dt.fontStyle!==ht.fontStyle&&Dt.tspan.setAttributeNS(null,"font-style",Dt.fontStyle),Dt.fontWeight!==ht.fontWeight&&Dt.tspan.setAttributeNS(null,"font-weight",Dt.fontWeight);const Ot=Dt.textRenderingMode&tt.TextRenderingMode.FILL_STROKE_MASK;if(Ot===tt.TextRenderingMode.FILL||Ot===tt.TextRenderingMode.FILL_STROKE?(Dt.fillColor!==ht.fillColor&&Dt.tspan.setAttributeNS(null,"fill",Dt.fillColor),Dt.fillAlpha<1&&Dt.tspan.setAttributeNS(null,"fill-opacity",Dt.fillAlpha)):Dt.textRenderingMode===tt.TextRenderingMode.ADD_TO_PATH?Dt.tspan.setAttributeNS(null,"fill","transparent"):Dt.tspan.setAttributeNS(null,"fill","none"),Ot===tt.TextRenderingMode.STROKE||Ot===tt.TextRenderingMode.FILL_STROKE){const St=1/(Dt.textMatrixScale||1);this._setStrokeAttributes(Dt.tspan,St)}let Tt=Dt.textMatrix;Dt.textRise!==0&&(Tt=Tt.slice(),Tt[5]+=Dt.textRise),Dt.txtElement.setAttributeNS(null,"transform",`${_t(Tt)} scale(${mt(qt)}, -1)`),Dt.txtElement.setAttributeNS(at,"xml:space","preserve"),Dt.txtElement.append(Dt.tspan),Dt.txtgrp.append(Dt.txtElement),this._ensureTransformGroup().append(Dt.txtElement)}setLeadingMoveText(bt,Dt){this.setLeading(-Dt),this.moveText(bt,Dt)}addFontStyle(bt){if(!bt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Dt=ft(bt.data,bt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${bt.loadedName}"; src: url(${Dt}); }
`}setFont(bt){const Dt=this.current,wt=this.commonObjs.get(bt[0]);let Ft=bt[1];Dt.font=wt,this.embedFonts&&!wt.missingFile&&!this.embeddedFonts[wt.loadedName]&&(this.addFontStyle(wt),this.embeddedFonts[wt.loadedName]=wt),Dt.fontMatrix=wt.fontMatrix||tt.FONT_IDENTITY_MATRIX;let Lt="normal";wt.black?Lt="900":wt.bold&&(Lt="bold");const Qt=wt.italic?"italic":"normal";Ft<0?(Ft=-Ft,Dt.fontDirection=-1):Dt.fontDirection=1,Dt.fontSize=Ft,Dt.fontFamily=wt.loadedName,Dt.fontWeight=Lt,Dt.fontStyle=Qt,Dt.tspan=this.svgFactory.createElement("svg:tspan"),Dt.tspan.setAttributeNS(null,"y",mt(-Dt.y)),Dt.xcoords=[],Dt.ycoords=[]}endText(){var Dt;const bt=this.current;bt.textRenderingMode&tt.TextRenderingMode.ADD_TO_PATH_FLAG&&((Dt=bt.txtElement)==null?void 0:Dt.hasChildNodes())&&(bt.element=bt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(bt){bt>0&&(this.current.lineWidth=bt)}setLineCap(bt){this.current.lineCap=rt[bt]}setLineJoin(bt){this.current.lineJoin=ot[bt]}setMiterLimit(bt){this.current.miterLimit=bt}setStrokeAlpha(bt){this.current.strokeAlpha=bt}setStrokeRGBColor(bt,Dt,wt){this.current.strokeColor=tt.Util.makeHexColor(bt,Dt,wt)}setFillAlpha(bt){this.current.fillAlpha=bt}setFillRGBColor(bt,Dt,wt){this.current.fillColor=tt.Util.makeHexColor(bt,Dt,wt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(bt){this.current.strokeColor=this._makeColorN_Pattern(bt)}setFillColorN(bt){this.current.fillColor=this._makeColorN_Pattern(bt)}shadingFill(bt){const Dt=this.viewport.width,wt=this.viewport.height,Ft=tt.Util.inverseTransform(this.transformMatrix),Lt=tt.Util.applyTransform([0,0],Ft),Qt=tt.Util.applyTransform([0,wt],Ft),Ut=tt.Util.applyTransform([Dt,0],Ft),Xt=tt.Util.applyTransform([Dt,wt],Ft),qt=Math.min(Lt[0],Qt[0],Ut[0],Xt[0]),Jt=Math.min(Lt[1],Qt[1],Ut[1],Xt[1]),Gt=Math.max(Lt[0],Qt[0],Ut[0],Xt[0]),Et=Math.max(Lt[1],Qt[1],Ut[1],Xt[1]),At=this.svgFactory.createElement("svg:rect");At.setAttributeNS(null,"x",qt),At.setAttributeNS(null,"y",Jt),At.setAttributeNS(null,"width",Gt-qt),At.setAttributeNS(null,"height",Et-Jt),At.setAttributeNS(null,"fill",this._makeShadingPattern(bt)),this.current.fillAlpha<1&&At.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(At)}_makeColorN_Pattern(bt){return bt[0]==="TilingPattern"?this._makeTilingPattern(bt):this._makeShadingPattern(bt)}_makeTilingPattern(bt){const Dt=bt[1],wt=bt[2],Ft=bt[3]||tt.IDENTITY_MATRIX,[Lt,Qt,Ut,Xt]=bt[4],qt=bt[5],Jt=bt[6],Gt=bt[7],Et=`shading${Ct++}`,[At,It,Ot,Tt]=tt.Util.normalizeRect([...tt.Util.applyTransform([Lt,Qt],Ft),...tt.Util.applyTransform([Ut,Xt],Ft)]),[St,xt]=tt.Util.singularValueDecompose2dScale(Ft),$t=qt*St,Rt=Jt*xt,Bt=this.svgFactory.createElement("svg:pattern");Bt.setAttributeNS(null,"id",Et),Bt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Bt.setAttributeNS(null,"width",$t),Bt.setAttributeNS(null,"height",Rt),Bt.setAttributeNS(null,"x",`${At}`),Bt.setAttributeNS(null,"y",`${It}`);const Wt=this.svg,Kt=this.transformMatrix,ln=this.current.fillColor,en=this.current.strokeColor,tn=this.svgFactory.create(Ot-At,Tt-It);if(this.svg=tn,this.transformMatrix=Ft,Gt===2){const Ht=tt.Util.makeHexColor(...Dt);this.current.fillColor=Ht,this.current.strokeColor=Ht}return this.executeOpTree(this.convertOpList(wt)),this.svg=Wt,this.transformMatrix=Kt,this.current.fillColor=ln,this.current.strokeColor=en,Bt.append(tn.childNodes[0]),this.defs.append(Bt),`url(#${Et})`}_makeShadingPattern(bt){switch(typeof bt=="string"&&(bt=this.objs.get(bt)),bt[0]){case"RadialAxial":const Dt=`shading${Ct++}`,wt=bt[3];let Ft;switch(bt[1]){case"axial":const Lt=bt[4],Qt=bt[5];Ft=this.svgFactory.createElement("svg:linearGradient"),Ft.setAttributeNS(null,"id",Dt),Ft.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ft.setAttributeNS(null,"x1",Lt[0]),Ft.setAttributeNS(null,"y1",Lt[1]),Ft.setAttributeNS(null,"x2",Qt[0]),Ft.setAttributeNS(null,"y2",Qt[1]);break;case"radial":const Ut=bt[4],Xt=bt[5],qt=bt[6],Jt=bt[7];Ft=this.svgFactory.createElement("svg:radialGradient"),Ft.setAttributeNS(null,"id",Dt),Ft.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ft.setAttributeNS(null,"cx",Xt[0]),Ft.setAttributeNS(null,"cy",Xt[1]),Ft.setAttributeNS(null,"r",Jt),Ft.setAttributeNS(null,"fx",Ut[0]),Ft.setAttributeNS(null,"fy",Ut[1]),Ft.setAttributeNS(null,"fr",qt);break;default:throw new Error(`Unknown RadialAxial type: ${bt[1]}`)}for(const Lt of wt){const Qt=this.svgFactory.createElement("svg:stop");Qt.setAttributeNS(null,"offset",Lt[0]),Qt.setAttributeNS(null,"stop-color",Lt[1]),Ft.append(Qt)}return this.defs.append(Ft),`url(#${Dt})`;case"Mesh":return(0,tt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${bt[0]}`)}}setDash(bt,Dt){this.current.dashArray=bt,this.current.dashPhase=Dt}constructPath(bt,Dt){const wt=this.current;let Ft=wt.x,Lt=wt.y,Qt=[],Ut=0;for(const Xt of bt)switch(Xt|0){case tt.OPS.rectangle:Ft=Dt[Ut++],Lt=Dt[Ut++];const qt=Dt[Ut++],Jt=Dt[Ut++],Gt=Ft+qt,Et=Lt+Jt;Qt.push("M",mt(Ft),mt(Lt),"L",mt(Gt),mt(Lt),"L",mt(Gt),mt(Et),"L",mt(Ft),mt(Et),"Z");break;case tt.OPS.moveTo:Ft=Dt[Ut++],Lt=Dt[Ut++],Qt.push("M",mt(Ft),mt(Lt));break;case tt.OPS.lineTo:Ft=Dt[Ut++],Lt=Dt[Ut++],Qt.push("L",mt(Ft),mt(Lt));break;case tt.OPS.curveTo:Ft=Dt[Ut+4],Lt=Dt[Ut+5],Qt.push("C",mt(Dt[Ut]),mt(Dt[Ut+1]),mt(Dt[Ut+2]),mt(Dt[Ut+3]),mt(Ft),mt(Lt)),Ut+=6;break;case tt.OPS.curveTo2:Qt.push("C",mt(Ft),mt(Lt),mt(Dt[Ut]),mt(Dt[Ut+1]),mt(Dt[Ut+2]),mt(Dt[Ut+3])),Ft=Dt[Ut+2],Lt=Dt[Ut+3],Ut+=4;break;case tt.OPS.curveTo3:Ft=Dt[Ut+2],Lt=Dt[Ut+3],Qt.push("C",mt(Dt[Ut]),mt(Dt[Ut+1]),mt(Ft),mt(Lt),mt(Ft),mt(Lt)),Ut+=4;break;case tt.OPS.closePath:Qt.push("Z");break}Qt=Qt.join(" "),wt.path&&bt.length>0&&bt[0]!==tt.OPS.rectangle&&bt[0]!==tt.OPS.moveTo?Qt=wt.path.getAttributeNS(null,"d")+Qt:(wt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(wt.path)),wt.path.setAttributeNS(null,"d",Qt),wt.path.setAttributeNS(null,"fill","none"),wt.element=wt.path,wt.setCurrentPoint(Ft,Lt)}endPath(){const bt=this.current;if(bt.path=null,!this.pendingClip)return;if(!bt.element){this.pendingClip=null;return}const Dt=`clippath${vt++}`,wt=this.svgFactory.createElement("svg:clipPath");wt.setAttributeNS(null,"id",Dt),wt.setAttributeNS(null,"transform",_t(this.transformMatrix));const Ft=bt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Ft.setAttributeNS(null,"clip-rule","evenodd"):Ft.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,wt.append(Ft),this.defs.append(wt),bt.activeClipUrl){bt.clipGroup=null;for(const Lt of this.extraStack)Lt.clipGroup=null;wt.setAttributeNS(null,"clip-path",bt.activeClipUrl)}bt.activeClipUrl=`url(#${Dt})`,this.tgrp=null}clip(bt){this.pendingClip=bt}closePath(){const bt=this.current;if(bt.path){const Dt=`${bt.path.getAttributeNS(null,"d")}Z`;bt.path.setAttributeNS(null,"d",Dt)}}setLeading(bt){this.current.leading=-bt}setTextRise(bt){this.current.textRise=bt}setTextRenderingMode(bt){this.current.textRenderingMode=bt}setHScale(bt){this.current.textHScale=bt/100}setRenderingIntent(bt){}setFlatness(bt){}setGState(bt){for(const[Dt,wt]of bt)switch(Dt){case"LW":this.setLineWidth(wt);break;case"LC":this.setLineCap(wt);break;case"LJ":this.setLineJoin(wt);break;case"ML":this.setMiterLimit(wt);break;case"D":this.setDash(wt[0],wt[1]);break;case"RI":this.setRenderingIntent(wt);break;case"FL":this.setFlatness(wt);break;case"Font":this.setFont(wt);break;case"CA":this.setStrokeAlpha(wt);break;case"ca":this.setFillAlpha(wt);break;default:(0,tt.warn)(`Unimplemented graphic state operator ${Dt}`);break}}fill(){const bt=this.current;bt.element&&(bt.element.setAttributeNS(null,"fill",bt.fillColor),bt.element.setAttributeNS(null,"fill-opacity",bt.fillAlpha),this.endPath())}stroke(){const bt=this.current;bt.element&&(this._setStrokeAttributes(bt.element),bt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(bt,Dt=1){const wt=this.current;let Ft=wt.dashArray;Dt!==1&&Ft.length>0&&(Ft=Ft.map(function(Lt){return Dt*Lt})),bt.setAttributeNS(null,"stroke",wt.strokeColor),bt.setAttributeNS(null,"stroke-opacity",wt.strokeAlpha),bt.setAttributeNS(null,"stroke-miterlimit",mt(wt.miterLimit)),bt.setAttributeNS(null,"stroke-linecap",wt.lineCap),bt.setAttributeNS(null,"stroke-linejoin",wt.lineJoin),bt.setAttributeNS(null,"stroke-width",mt(Dt*wt.lineWidth)+"px"),bt.setAttributeNS(null,"stroke-dasharray",Ft.map(mt).join(" ")),bt.setAttributeNS(null,"stroke-dashoffset",mt(Dt*wt.dashPhase)+"px")}eoFill(){var bt;(bt=this.current.element)==null||bt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var bt;(bt=this.current.element)==null||bt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const bt=this.svgFactory.createElement("svg:rect");bt.setAttributeNS(null,"x","0"),bt.setAttributeNS(null,"y","0"),bt.setAttributeNS(null,"width","1px"),bt.setAttributeNS(null,"height","1px"),bt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(bt)}paintImageXObject(bt){const Dt=this.getObject(bt);if(!Dt){(0,tt.warn)(`Dependent image with object ID ${bt} is not ready yet`);return}this.paintInlineImageXObject(Dt)}paintInlineImageXObject(bt,Dt){const wt=bt.width,Ft=bt.height,Lt=ct(bt,this.forceDataSchema,!!Dt),Qt=this.svgFactory.createElement("svg:rect");Qt.setAttributeNS(null,"x","0"),Qt.setAttributeNS(null,"y","0"),Qt.setAttributeNS(null,"width",mt(wt)),Qt.setAttributeNS(null,"height",mt(Ft)),this.current.element=Qt,this.clip("nonzero");const Ut=this.svgFactory.createElement("svg:image");Ut.setAttributeNS(it,"xlink:href",Lt),Ut.setAttributeNS(null,"x","0"),Ut.setAttributeNS(null,"y",mt(-Ft)),Ut.setAttributeNS(null,"width",mt(wt)+"px"),Ut.setAttributeNS(null,"height",mt(Ft)+"px"),Ut.setAttributeNS(null,"transform",`scale(${mt(1/wt)} ${mt(-1/Ft)})`),Dt?Dt.append(Ut):this._ensureTransformGroup().append(Ut)}paintImageMaskXObject(bt){const Dt=this.getObject(bt.data,bt);if(Dt.bitmap){(0,tt.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const wt=this.current,Ft=Dt.width,Lt=Dt.height,Qt=wt.fillColor;wt.maskId=`mask${yt++}`;const Ut=this.svgFactory.createElement("svg:mask");Ut.setAttributeNS(null,"id",wt.maskId);const Xt=this.svgFactory.createElement("svg:rect");Xt.setAttributeNS(null,"x","0"),Xt.setAttributeNS(null,"y","0"),Xt.setAttributeNS(null,"width",mt(Ft)),Xt.setAttributeNS(null,"height",mt(Lt)),Xt.setAttributeNS(null,"fill",Qt),Xt.setAttributeNS(null,"mask",`url(#${wt.maskId})`),this.defs.append(Ut),this._ensureTransformGroup().append(Xt),this.paintInlineImageXObject(Dt,Ut)}paintFormXObjectBegin(bt,Dt){if(Array.isArray(bt)&&bt.length===6&&this.transform(bt[0],bt[1],bt[2],bt[3],bt[4],bt[5]),Dt){const wt=Dt[2]-Dt[0],Ft=Dt[3]-Dt[1],Lt=this.svgFactory.createElement("svg:rect");Lt.setAttributeNS(null,"x",Dt[0]),Lt.setAttributeNS(null,"y",Dt[1]),Lt.setAttributeNS(null,"width",mt(wt)),Lt.setAttributeNS(null,"height",mt(Ft)),this.current.element=Lt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(bt){const Dt=this.svgFactory.create(bt.width,bt.height),wt=this.svgFactory.createElement("svg:defs");Dt.append(wt),this.defs=wt;const Ft=this.svgFactory.createElement("svg:g");return Ft.setAttributeNS(null,"transform",_t(bt.transform)),Dt.append(Ft),this.svg=Ft,Dt}_ensureClipGroup(){if(!this.current.clipGroup){const bt=this.svgFactory.createElement("svg:g");bt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(bt),this.current.clipGroup=bt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",_t(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var et=_e(1),tt=_e(32);const st=require$$5,gt=require$$5,lt=require$$5,nt=require$$5,ut=/^file:\/\/\/[a-zA-Z]:\//;function ht(mt){const _t=nt.parse(mt);return _t.protocol==="file:"||_t.host?_t:/^[a-z]:[/\\]/i.test(mt)?nt.parse(`file:///${mt}`):(_t.host||(_t.protocol="file:"),_t)}class at{constructor(_t){this.source=_t,this.url=ht(_t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&_t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var _t,vt;return(vt=(_t=this._fullRequestReader)==null?void 0:_t._loaded)!=null?vt:0}getFullReader(){return(0,et.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new dt(this):new ft(this),this._fullRequestReader}getRangeReader(_t,vt){if(vt<=this._progressiveDataLength)return null;const yt=this.isFsUrl?new pt(this,_t,vt):new ct(this,_t,vt);return this._rangeRequestReaders.push(yt),yt}cancelAllRequests(_t){var vt;(vt=this._fullRequestReader)==null||vt.cancel(_t);for(const yt of this._rangeRequestReaders.slice(0))yt.cancel(_t)}}$.PDFNodeStream=at;class it{constructor(_t){this._url=_t.url,this._done=!1,this._storedError=null,this.onProgress=null;const vt=_t.source;this._contentLength=vt.length,this._loaded=0,this._filename=null,this._disableRange=vt.disableRange||!1,this._rangeChunkSize=vt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!vt.disableStream,this._isRangeSupported=!vt.disableRange,this._readableStream=null,this._readCapability=(0,et.createPromiseCapability)(),this._headersCapability=(0,et.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var yt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const _t=this._readableStream.read();return _t===null?(this._readCapability=(0,et.createPromiseCapability)(),this.read()):(this._loaded+=_t.length,(yt=this.onProgress)==null||yt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(_t).buffer,done:!1})}cancel(_t){if(!this._readableStream){this._error(_t);return}this._readableStream.destroy(_t)}_error(_t){this._storedError=_t,this._readCapability.resolve()}_setReadableStream(_t){this._readableStream=_t,_t.on("readable",()=>{this._readCapability.resolve()}),_t.on("end",()=>{_t.destroy(),this._done=!0,this._readCapability.resolve()}),_t.on("error",vt=>{this._error(vt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new et.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class rt{constructor(_t){this._url=_t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,et.createPromiseCapability)();const vt=_t.source;this._isStreamingSupported=!vt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var yt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const _t=this._readableStream.read();return _t===null?(this._readCapability=(0,et.createPromiseCapability)(),this.read()):(this._loaded+=_t.length,(yt=this.onProgress)==null||yt.call(this,{loaded:this._loaded}),{value:new Uint8Array(_t).buffer,done:!1})}cancel(_t){if(!this._readableStream){this._error(_t);return}this._readableStream.destroy(_t)}_error(_t){this._storedError=_t,this._readCapability.resolve()}_setReadableStream(_t){this._readableStream=_t,_t.on("readable",()=>{this._readCapability.resolve()}),_t.on("end",()=>{_t.destroy(),this._done=!0,this._readCapability.resolve()}),_t.on("error",vt=>{this._error(vt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function ot(mt,_t){return{protocol:mt.protocol,auth:mt.auth,host:mt.hostname,port:mt.port,path:mt.path,method:"GET",headers:_t}}class ft extends it{constructor(_t){super(_t);const vt=yt=>{if(yt.statusCode===404){const wt=new et.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=wt,this._headersCapability.reject(wt);return}this._headersCapability.resolve(),this._setReadableStream(yt);const Ct=wt=>this._readableStream.headers[wt.toLowerCase()],{allowRangeRequests:bt,suggestedLength:Dt}=(0,tt.validateRangeRequestCapabilities)({getResponseHeader:Ct,isHttp:_t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=bt,this._contentLength=Dt||this._contentLength,this._filename=(0,tt.extractFilenameFromHeader)(Ct)};this._request=null,this._url.protocol==="http:"?this._request=gt.request(ot(this._url,_t.httpHeaders),vt):this._request=lt.request(ot(this._url,_t.httpHeaders),vt),this._request.on("error",yt=>{this._storedError=yt,this._headersCapability.reject(yt)}),this._request.end()}}class ct extends rt{constructor(_t,vt,yt){super(_t),this._httpHeaders={};for(const bt in _t.httpHeaders){const Dt=_t.httpHeaders[bt];typeof Dt>"u"||(this._httpHeaders[bt]=Dt)}this._httpHeaders.Range=`bytes=${vt}-${yt-1}`;const Ct=bt=>{if(bt.statusCode===404){const Dt=new et.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Dt;return}this._setReadableStream(bt)};this._request=null,this._url.protocol==="http:"?this._request=gt.request(ot(this._url,this._httpHeaders),Ct):this._request=lt.request(ot(this._url,this._httpHeaders),Ct),this._request.on("error",bt=>{this._storedError=bt}),this._request.end()}}class dt extends it{constructor(_t){super(_t);let vt=decodeURIComponent(this._url.path);ut.test(this._url.href)&&(vt=vt.replace(/^\//,"")),st.lstat(vt,(yt,Ct)=>{if(yt){yt.code==="ENOENT"&&(yt=new et.MissingPDFException(`Missing PDF "${vt}".`)),this._storedError=yt,this._headersCapability.reject(yt);return}this._contentLength=Ct.size,this._setReadableStream(st.createReadStream(vt)),this._headersCapability.resolve()})}}class pt extends rt{constructor(_t,vt,yt){super(_t);let Ct=decodeURIComponent(this._url.path);ut.test(this._url.href)&&(Ct=Ct.replace(/^\//,"")),this._setReadableStream(st.createReadStream(Ct,{start:vt,end:yt-1}))}}},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=nt,$.extractFilenameFromHeader=lt,$.validateRangeRequestCapabilities=gt,$.validateResponseStatus=ut;var et=_e(1),tt=_e(33),st=_e(6);function gt({getResponseHeader:ht,isHttp:at,rangeChunkSize:it,disableRange:rt}){const ot={allowRangeRequests:!1,suggestedLength:void 0},ft=parseInt(ht("Content-Length"),10);return!Number.isInteger(ft)||(ot.suggestedLength=ft,ft<=2*it)||rt||!at||ht("Accept-Ranges")!=="bytes"||(ht("Content-Encoding")||"identity")!=="identity"||(ot.allowRangeRequests=!0),ot}function lt(ht){const at=ht("Content-Disposition");if(at){let it=(0,tt.getFilenameFromContentDispositionHeader)(at);if(it.includes("%"))try{it=decodeURIComponent(it)}catch{}if((0,st.isPdfFile)(it))return it}return null}function nt(ht,at){return ht===404||ht===0&&at.startsWith("file:")?new et.MissingPDFException('Missing PDF "'+at+'".'):new et.UnexpectedResponseException(`Unexpected server response (${ht}) while retrieving PDF "${at}".`,ht)}function ut(ht){return ht===200||ht===206}},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=tt;var et=_e(1);function tt(st){let gt=!0,lt=nt("filename\\*","i").exec(st);if(lt){lt=lt[1];let ft=it(lt);return ft=unescape(ft),ft=rt(ft),ft=ot(ft),ht(ft)}if(lt=at(st),lt){const ft=ot(lt);return ht(ft)}if(lt=nt("filename","i").exec(st),lt){lt=lt[1];let ft=it(lt);return ft=ot(ft),ht(ft)}function nt(ft,ct){return new RegExp("(?:^|;)\\s*"+ft+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',ct)}function ut(ft,ct){if(ft){if(!/^[\x00-\xFF]+$/.test(ct))return ct;try{const dt=new TextDecoder(ft,{fatal:!0}),pt=(0,et.stringToBytes)(ct);ct=dt.decode(pt),gt=!1}catch{}}return ct}function ht(ft){return gt&&/[\x80-\xff]/.test(ft)&&(ft=ut("utf-8",ft),gt&&(ft=ut("iso-8859-1",ft))),ft}function at(ft){const ct=[];let dt;const pt=nt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(dt=pt.exec(ft))!==null;){let[,_t,vt,yt]=dt;if(_t=parseInt(_t,10),_t in ct){if(_t===0)break;continue}ct[_t]=[vt,yt]}const mt=[];for(let _t=0;_t<ct.length&&_t in ct;++_t){let[vt,yt]=ct[_t];yt=it(yt),vt&&(yt=unescape(yt),_t===0&&(yt=rt(yt))),mt.push(yt)}return mt.join("")}function it(ft){if(ft.startsWith('"')){const ct=ft.slice(1).split('\\"');for(let dt=0;dt<ct.length;++dt){const pt=ct[dt].indexOf('"');pt!==-1&&(ct[dt]=ct[dt].slice(0,pt),ct.length=dt+1),ct[dt]=ct[dt].replace(/\\(.)/g,"$1")}ft=ct.join('"')}return ft}function rt(ft){const ct=ft.indexOf("'");if(ct===-1)return ft;const dt=ft.slice(0,ct),mt=ft.slice(ct+1).replace(/^[^']*'/,"");return ut(dt,mt)}function ot(ft){return!ft.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ft)?ft:ft.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(ct,dt,pt,mt){if(pt==="q"||pt==="Q")return mt=mt.replace(/_/g," "),mt=mt.replace(/=([0-9a-fA-F]{2})/g,function(_t,vt){return String.fromCharCode(parseInt(vt,16))}),ut(dt,mt);try{mt=atob(mt)}catch{}return ut(dt,mt)})}return""}},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var et=_e(1),tt=_e(32);const st=200,gt=206;function lt(it){const rt=it.response;return typeof rt!="string"?rt:(0,et.stringToBytes)(rt).buffer}class nt{constructor(rt,ot={}){this.url=rt,this.isHttp=/^https?:/i.test(rt),this.httpHeaders=this.isHttp&&ot.httpHeaders||Object.create(null),this.withCredentials=ot.withCredentials||!1,this.getXhr=ot.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(rt,ot,ft){const ct={begin:rt,end:ot};for(const dt in ft)ct[dt]=ft[dt];return this.request(ct)}requestFull(rt){return this.request(rt)}request(rt){const ot=this.getXhr(),ft=this.currXhrId++,ct=this.pendingRequests[ft]={xhr:ot};ot.open("GET",this.url),ot.withCredentials=this.withCredentials;for(const dt in this.httpHeaders){const pt=this.httpHeaders[dt];typeof pt>"u"||ot.setRequestHeader(dt,pt)}return this.isHttp&&"begin"in rt&&"end"in rt?(ot.setRequestHeader("Range",`bytes=${rt.begin}-${rt.end-1}`),ct.expectedStatus=gt):ct.expectedStatus=st,ot.responseType="arraybuffer",rt.onError&&(ot.onerror=function(dt){rt.onError(ot.status)}),ot.onreadystatechange=this.onStateChange.bind(this,ft),ot.onprogress=this.onProgress.bind(this,ft),ct.onHeadersReceived=rt.onHeadersReceived,ct.onDone=rt.onDone,ct.onError=rt.onError,ct.onProgress=rt.onProgress,ot.send(null),ft}onProgress(rt,ot){var ct;const ft=this.pendingRequests[rt];!ft||(ct=ft.onProgress)==null||ct.call(ft,ot)}onStateChange(rt,ot){var _t,vt,yt;const ft=this.pendingRequests[rt];if(!ft)return;const ct=ft.xhr;if(ct.readyState>=2&&ft.onHeadersReceived&&(ft.onHeadersReceived(),delete ft.onHeadersReceived),ct.readyState!==4||!(rt in this.pendingRequests))return;if(delete this.pendingRequests[rt],ct.status===0&&this.isHttp){(_t=ft.onError)==null||_t.call(ft,ct.status);return}const dt=ct.status||st;if(!(dt===st&&ft.expectedStatus===gt)&&dt!==ft.expectedStatus){(vt=ft.onError)==null||vt.call(ft,ct.status);return}const mt=lt(ct);if(dt===gt){const Ct=ct.getResponseHeader("Content-Range"),bt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Ct);ft.onDone({begin:parseInt(bt[1],10),chunk:mt})}else mt?ft.onDone({begin:0,chunk:mt}):(yt=ft.onError)==null||yt.call(ft,ct.status)}getRequestXhr(rt){return this.pendingRequests[rt].xhr}isPendingRequest(rt){return rt in this.pendingRequests}abortRequest(rt){const ot=this.pendingRequests[rt].xhr;delete this.pendingRequests[rt],ot.abort()}}class ut{constructor(rt){this._source=rt,this._manager=new nt(rt.url,{httpHeaders:rt.httpHeaders,withCredentials:rt.withCredentials}),this._rangeChunkSize=rt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(rt){const ot=this._rangeRequestReaders.indexOf(rt);ot>=0&&this._rangeRequestReaders.splice(ot,1)}getFullReader(){return(0,et.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ht(this._manager,this._source),this._fullRequestReader}getRangeReader(rt,ot){const ft=new at(this._manager,rt,ot);return ft.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ft),ft}cancelAllRequests(rt){var ot;(ot=this._fullRequestReader)==null||ot.cancel(rt);for(const ft of this._rangeRequestReaders.slice(0))ft.cancel(rt)}}$.PDFNetworkStream=ut;class ht{constructor(rt,ot){this._manager=rt;const ft={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ot.url,this._fullRequestId=rt.requestFull(ft),this._headersReceivedCapability=(0,et.createPromiseCapability)(),this._disableRange=ot.disableRange||!1,this._contentLength=ot.length,this._rangeChunkSize=ot.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const rt=this._fullRequestId,ot=this._manager.getRequestXhr(rt),ft=pt=>ot.getResponseHeader(pt),{allowRangeRequests:ct,suggestedLength:dt}=(0,tt.validateRangeRequestCapabilities)({getResponseHeader:ft,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});ct&&(this._isRangeSupported=!0),this._contentLength=dt||this._contentLength,this._filename=(0,tt.extractFilenameFromHeader)(ft),this._isRangeSupported&&this._manager.abortRequest(rt),this._headersReceivedCapability.resolve()}_onDone(rt){if(rt&&(this._requests.length>0?this._requests.shift().resolve({value:rt.chunk,done:!1}):this._cachedChunks.push(rt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(rt){this._storedError=(0,tt.createResponseStatusError)(rt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ot of this._requests)ot.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(rt){var ot;(ot=this.onProgress)==null||ot.call(this,{loaded:rt.loaded,total:rt.lengthComputable?rt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const rt=(0,et.createPromiseCapability)();return this._requests.push(rt),rt.promise}cancel(rt){this._done=!0,this._headersReceivedCapability.reject(rt);for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class at{constructor(rt,ot,ft){this._manager=rt;const ct={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=rt.url,this._requestId=rt.requestRange(ot,ft,ct),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var rt;(rt=this.onClosed)==null||rt.call(this,this)}_onDone(rt){const ot=rt.chunk;this._requests.length>0?this._requests.shift().resolve({value:ot,done:!1}):this._queuedChunk=ot,this._done=!0;for(const ft of this._requests)ft.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(rt){this._storedError=(0,tt.createResponseStatusError)(rt,this._url);for(const ot of this._requests)ot.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(rt){var ot;this.isStreamingSupported||(ot=this.onProgress)==null||ot.call(this,{loaded:rt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ot=this._queuedChunk;return this._queuedChunk=null,{value:ot,done:!1}}if(this._done)return{value:void 0,done:!0};const rt=(0,et.createPromiseCapability)();return this._requests.push(rt),rt.promise}cancel(rt){this._done=!0;for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(j,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var et=_e(1),tt=_e(32);function st(ht,at,it){return{method:"GET",headers:ht,signal:it.signal,mode:"cors",credentials:at?"include":"same-origin",redirect:"follow"}}function gt(ht){const at=new Headers;for(const it in ht){const rt=ht[it];typeof rt>"u"||at.append(it,rt)}return at}class lt{constructor(at){this.source=at,this.isHttp=/^https?:/i.test(at.url),this.httpHeaders=this.isHttp&&at.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var at,it;return(it=(at=this._fullRequestReader)==null?void 0:at._loaded)!=null?it:0}getFullReader(){return(0,et.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new nt(this),this._fullRequestReader}getRangeReader(at,it){if(it<=this._progressiveDataLength)return null;const rt=new ut(this,at,it);return this._rangeRequestReaders.push(rt),rt}cancelAllRequests(at){var it;(it=this._fullRequestReader)==null||it.cancel(at);for(const rt of this._rangeRequestReaders.slice(0))rt.cancel(at)}}$.PDFFetchStream=lt;class nt{constructor(at){this._stream=at,this._reader=null,this._loaded=0,this._filename=null;const it=at.source;this._withCredentials=it.withCredentials||!1,this._contentLength=it.length,this._headersCapability=(0,et.createPromiseCapability)(),this._disableRange=it.disableRange||!1,this._rangeChunkSize=it.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!it.disableStream,this._isRangeSupported=!it.disableRange,this._headers=gt(this._stream.httpHeaders);const rt=it.url;fetch(rt,st(this._headers,this._withCredentials,this._abortController)).then(ot=>{if(!(0,tt.validateResponseStatus)(ot.status))throw(0,tt.createResponseStatusError)(ot.status,rt);this._reader=ot.body.getReader(),this._headersCapability.resolve();const ft=pt=>ot.headers.get(pt),{allowRangeRequests:ct,suggestedLength:dt}=(0,tt.validateRangeRequestCapabilities)({getResponseHeader:ft,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ct,this._contentLength=dt||this._contentLength,this._filename=(0,tt.extractFilenameFromHeader)(ft),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new et.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ot;await this._headersCapability.promise;const{value:at,done:it}=await this._reader.read();return it?{value:at,done:it}:(this._loaded+=at.byteLength,(ot=this.onProgress)==null||ot.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(at).buffer,done:!1})}cancel(at){var it;(it=this._reader)==null||it.cancel(at),this._abortController.abort()}}class ut{constructor(at,it,rt){this._stream=at,this._reader=null,this._loaded=0;const ot=at.source;this._withCredentials=ot.withCredentials||!1,this._readCapability=(0,et.createPromiseCapability)(),this._isStreamingSupported=!ot.disableStream,this._abortController=new AbortController,this._headers=gt(this._stream.httpHeaders),this._headers.append("Range",`bytes=${it}-${rt-1}`);const ft=ot.url;fetch(ft,st(this._headers,this._withCredentials,this._abortController)).then(ct=>{if(!(0,tt.validateResponseStatus)(ct.status))throw(0,tt.createResponseStatusError)(ct.status,ft);this._readCapability.resolve(),this._reader=ct.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ot;await this._readCapability.promise;const{value:at,done:it}=await this._reader.read();return it?{value:at,done:it}:(this._loaded+=at.byteLength,(ot=this.onProgress)==null||ot.call(this,{loaded:this._loaded}),{value:new Uint8Array(at).buffer,done:!1})}cancel(at){var it;(it=this._reader)==null||it.cancel(at),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(j){var $=__webpack_module_cache__[j];if($!==void 0)return $.exports;var _e=__webpack_module_cache__[j]={exports:{}};return __webpack_modules__[j](_e,_e.exports,__w_pdfjs_require__),_e.exports}var __webpack_exports__={};return(()=>{var j=__webpack_exports__;Object.defineProperty(j,"__esModule",{value:!0}),Object.defineProperty(j,"AnnotationEditorLayer",{enumerable:!0,get:function(){return tt.AnnotationEditorLayer}}),Object.defineProperty(j,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(j,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(j,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return st.AnnotationEditorUIManager}}),Object.defineProperty(j,"AnnotationLayer",{enumerable:!0,get:function(){return gt.AnnotationLayer}}),Object.defineProperty(j,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(j,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(j,"GlobalWorkerOptions",{enumerable:!0,get:function(){return lt.GlobalWorkerOptions}}),Object.defineProperty(j,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(j,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(j,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(j,"PDFDataRangeTransport",{enumerable:!0,get:function(){return _e.PDFDataRangeTransport}}),Object.defineProperty(j,"PDFDateString",{enumerable:!0,get:function(){return et.PDFDateString}}),Object.defineProperty(j,"PDFWorker",{enumerable:!0,get:function(){return _e.PDFWorker}}),Object.defineProperty(j,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(j,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(j,"PixelsPerInch",{enumerable:!0,get:function(){return et.PixelsPerInch}}),Object.defineProperty(j,"RenderingCancelledException",{enumerable:!0,get:function(){return et.RenderingCancelledException}}),Object.defineProperty(j,"SVGGraphics",{enumerable:!0,get:function(){return ht.SVGGraphics}}),Object.defineProperty(j,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return $.UNSUPPORTED_FEATURES}}),Object.defineProperty(j,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(j,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(j,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(j,"XfaLayer",{enumerable:!0,get:function(){return at.XfaLayer}}),Object.defineProperty(j,"build",{enumerable:!0,get:function(){return _e.build}}),Object.defineProperty(j,"createPromiseCapability",{enumerable:!0,get:function(){return $.createPromiseCapability}}),Object.defineProperty(j,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(j,"getDocument",{enumerable:!0,get:function(){return _e.getDocument}}),Object.defineProperty(j,"getFilenameFromUrl",{enumerable:!0,get:function(){return et.getFilenameFromUrl}}),Object.defineProperty(j,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return et.getPdfFilenameFromUrl}}),Object.defineProperty(j,"getXfaPageViewport",{enumerable:!0,get:function(){return et.getXfaPageViewport}}),Object.defineProperty(j,"isPdfFile",{enumerable:!0,get:function(){return et.isPdfFile}}),Object.defineProperty(j,"loadScript",{enumerable:!0,get:function(){return et.loadScript}}),Object.defineProperty(j,"renderTextLayer",{enumerable:!0,get:function(){return ut.renderTextLayer}}),Object.defineProperty(j,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(j,"version",{enumerable:!0,get:function(){return _e.version}});var $=__w_pdfjs_require__(1),_e=__w_pdfjs_require__(2),et=__w_pdfjs_require__(6),tt=__w_pdfjs_require__(21),st=__w_pdfjs_require__(5),gt=__w_pdfjs_require__(26),lt=__w_pdfjs_require__(14),nt=__w_pdfjs_require__(12),ut=__w_pdfjs_require__(29),ht=__w_pdfjs_require__(30),at=__w_pdfjs_require__(28);if(nt.isNodeJS){const{PDFNodeStream:it}=__w_pdfjs_require__(31);(0,_e.setPDFNetworkStreamFactory)(rt=>new it(rt))}else{const{PDFNetworkStream:it}=__w_pdfjs_require__(34),{PDFFetchStream:rt}=__w_pdfjs_require__(35);(0,_e.setPDFNetworkStreamFactory)(ot=>(0,et.isValidFetchUrl)(ot.url)?new rt(ot):new it(ot))}})(),__webpack_exports__})())})(pdf);(function(j){var $=react.exports,_e=pdf.exports;function et(Mt){var zt=Object.create(null);return Mt&&Object.keys(Mt).forEach(function(an){if(an!=="default"){var un=Object.getOwnPropertyDescriptor(Mt,an);Object.defineProperty(zt,an,un.get?un:{enumerable:!0,get:function(){return Mt[an]}})}}),zt.default=Mt,Object.freeze(zt)}var tt,st=et($),gt=et(_e);j.AnnotationType=void 0,(tt=j.AnnotationType||(j.AnnotationType={}))[tt.Text=1]="Text",tt[tt.Link=2]="Link",tt[tt.FreeText=3]="FreeText",tt[tt.Line=4]="Line",tt[tt.Square=5]="Square",tt[tt.Circle=6]="Circle",tt[tt.Polygon=7]="Polygon",tt[tt.Polyline=8]="Polyline",tt[tt.Highlight=9]="Highlight",tt[tt.Underline=10]="Underline",tt[tt.Squiggly=11]="Squiggly",tt[tt.StrikeOut=12]="StrikeOut",tt[tt.Stamp=13]="Stamp",tt[tt.Caret=14]="Caret",tt[tt.Ink=15]="Ink",tt[tt.Popup=16]="Popup",tt[tt.FileAttachment=17]="FileAttachment";var lt=function(Mt,zt){return lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(an,un){an.__proto__=un}||function(an,un){for(var fn in un)Object.prototype.hasOwnProperty.call(un,fn)&&(an[fn]=un[fn])},lt(Mt,zt)};function nt(Mt,zt){if(typeof zt!="function"&&zt!==null)throw new TypeError("Class extends value "+String(zt)+" is not a constructor or null");function an(){this.constructor=Mt}lt(Mt,zt),Mt.prototype=zt===null?Object.create(zt):(an.prototype=zt.prototype,new an)}var ut,ht=function(){return ht=Object.assign||function(Mt){for(var zt,an=1,un=arguments.length;an<un;an++)for(var fn in zt=arguments[an])Object.prototype.hasOwnProperty.call(zt,fn)&&(Mt[fn]=zt[fn]);return Mt},ht.apply(this,arguments)};j.TextDirection=void 0,(ut=j.TextDirection||(j.TextDirection={})).RightToLeft="RTL",ut.LeftToRight="LTR";var at,it=st.createContext({currentTheme:"light",direction:j.TextDirection.LeftToRight,setCurrentTheme:function(){}}),rt=function(Mt){var zt=[];return Object.keys(Mt).forEach(function(an){an&&Mt[an]&&zt.push(an)}),zt.join(" ")},ot=typeof window<"u"?st.useLayoutEffect:st.useEffect,ft=function(Mt){var zt=st.useRef(null),an=Mt.once,un=Mt.threshold,fn=Mt.onVisibilityChanged;return ot(function(){var gn=zt.current;if(gn){var Sn=new IntersectionObserver(function(mn){mn.forEach(function(hn){var yn=hn.isIntersecting,bn=hn.intersectionRatio;fn({isVisible:yn,ratio:bn}),yn&&an&&(Sn.unobserve(gn),Sn.disconnect())})},{threshold:un||0});return Sn.observe(gn),function(){Sn.unobserve(gn),Sn.disconnect()}}},[]),zt},ct=function(Mt){var zt=Mt.children,an=Mt.ignoreDirection,un=an!==void 0&&an,fn=Mt.size,gn=fn===void 0?24:fn,Sn=st.useContext(it).direction,mn=!un&&Sn===j.TextDirection.RightToLeft,hn="".concat(gn||24,"px");return st.createElement("svg",{"aria-hidden":"true",className:rt({"rpv-core__icon":!0,"rpv-core__icon--rtl":mn}),focusable:"false",height:hn,viewBox:"0 0 24 24",width:hn},zt)},dt=function(){return st.createElement(ct,{size:16},st.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},pt=function(Mt){var zt=Mt.children,an=Mt.testId,un=Mt.onClick,fn=st.useContext(it).direction===j.TextDirection.RightToLeft,gn=an?{"data-testid":an}:{};return st.createElement("button",ht({className:rt({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":fn}),type:"button",onClick:un},gn),zt)},mt=function(Mt){var zt=Mt.size,an=zt===void 0?"4rem":zt,un=Mt.testId,fn=st.useState(!1),gn=fn[0],Sn=fn[1],mn=un?{"data-testid":un}:{},hn=ft({onVisibilityChanged:function(yn){Sn(yn.isVisible)}});return st.createElement("div",ht({},mn,{className:rt({"rpv-core__spinner":!0,"rpv-core__spinner--animating":gn}),ref:hn,style:{height:an,width:an}}))},_t=function(Mt){var zt=Mt.ariaLabel,an=zt===void 0?"":zt,un=Mt.autoFocus,fn=un!==void 0&&un,gn=Mt.placeholder,Sn=gn===void 0?"":gn,mn=Mt.testId,hn=Mt.type,yn=hn===void 0?"text":hn,bn=Mt.value,Mn=bn===void 0?"":bn,Dn=Mt.onChange,Rn=Mt.onKeyDown,On=Rn===void 0?function(){}:Rn,Zn=st.useContext(it).direction,Ln=st.useRef(),tr=Zn===j.TextDirection.RightToLeft,Un={ref:Ln,"data-testid":"","aria-label":an,className:rt({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":tr}),placeholder:Sn,value:Mn,onChange:function(Yn){return Dn(Yn.target.value)},onKeyDown:On};return mn&&(Un["data-testid"]=mn),ot(function(){if(fn){var Yn=Ln.current;if(Yn){var rr=window.scrollX,qn=window.scrollY;Yn.focus(),window.scrollTo(rr,qn)}}},[]),yn==="text"?st.createElement("input",ht({type:"text"},Un)):st.createElement("input",ht({type:"password"},Un))},vt=function(){var Mt=st.useRef(!1);return st.useEffect(function(){return Mt.current=!0,function(){Mt.current=!1}},[]),Mt};(function(Mt){Mt.NotRenderedYet="NotRenderedYet",Mt.Rendering="Rendering",Mt.Rendered="Rendered"})(at||(at={}));var yt,Ct=function(Mt){var zt=Mt.doc,an=zt.numPages,un=zt.loadingTask.docId,fn=st.useMemo(function(){return Array(an).fill(null).map(function(mn,hn){return{pageIndex:hn,renderStatus:at.NotRenderedYet,visibility:-9999}})},[un]),gn=st.useRef({currentRenderingPage:-1,startRange:0,endRange:an-1,visibilities:fn}),Sn=function(mn,hn){gn.current.visibilities[mn].visibility=hn};return{getHighestPriorityPage:function(){var mn=gn.current.visibilities.slice(gn.current.startRange,gn.current.endRange+1).filter(function(Dn){return Dn.visibility>-9999});if(!mn.length)return-1;for(var hn=mn[0].pageIndex,yn=mn[mn.length-1].pageIndex,bn=mn.length,Mn=0;Mn<bn;Mn++){if(mn[Mn].renderStatus===at.Rendering)return-1;if(mn[Mn].renderStatus===at.NotRenderedYet)return mn[Mn].pageIndex}return yn+1<an&&gn.current.visibilities[yn+1].renderStatus!==at.Rendered?yn+1:hn-1>=0&&gn.current.visibilities[hn-1].renderStatus!==at.Rendered?hn-1:-1},isInRange:function(mn){return mn>=gn.current.startRange&&mn<=gn.current.endRange},markNotRendered:function(){for(var mn=0;mn<an;mn++)gn.current.visibilities[mn].renderStatus=at.NotRenderedYet},markRendered:function(mn){gn.current.visibilities[mn].renderStatus=at.Rendered},markRendering:function(mn){gn.current.currentRenderingPage!==-1&&gn.current.currentRenderingPage!==mn&&gn.current.visibilities[gn.current.currentRenderingPage].renderStatus===at.Rendering&&(gn.current.visibilities[gn.current.currentRenderingPage].renderStatus=at.NotRenderedYet),gn.current.visibilities[mn].renderStatus=at.Rendering,gn.current.currentRenderingPage=mn},setOutOfRange:function(mn){Sn(mn,-9999)},setRange:function(mn,hn){gn.current.startRange=mn,gn.current.endRange=hn;for(var yn=0;yn<an;yn++)(yn<mn||yn>hn)&&(gn.current.visibilities[yn].visibility=-9999,gn.current.visibilities[yn].renderStatus=at.NotRenderedYet)},setVisibility:Sn}},bt={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Dt=st.createContext({l10n:bt,setL10n:function(){}}),wt=0,Ft=function(){return wt++},Lt=function(Mt,zt,an){var un=function(fn){var gn=zt.current;if(gn){var Sn=fn.target;if(Sn instanceof Element&&Sn.shadowRoot){var mn=fn.composedPath();mn.length>0&&!gn.contains(mn[0])&&an()}else gn.contains(Sn)||an()}};st.useEffect(function(){if(Mt){var fn={capture:!0};return document.addEventListener("click",un,fn),function(){document.removeEventListener("click",un,fn)}}},[])},Qt=function(Mt){var zt=function(an){an.key==="Escape"&&Mt()};st.useEffect(function(){return document.addEventListener("keyup",zt),function(){document.removeEventListener("keyup",zt)}},[])},Ut=function(Mt){var zt=Mt.ariaControlsSuffix,an=Mt.children,un=Mt.closeOnClickOutside,fn=Mt.closeOnEscape,gn=Mt.onToggle,Sn=st.useRef(),mn=st.useContext(it).direction===j.TextDirection.RightToLeft;return st.useEffect(function(){var hn=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=hn}},[]),Qt(function(){Sn.current&&fn&&gn()}),Lt(un,Sn,gn),ot(function(){var hn=Sn.current;if(hn){var yn=.75*document.body.clientHeight;hn.getBoundingClientRect().height>=yn&&(hn.style.overflow="auto",hn.style.maxHeight="".concat(yn,"px"))}},[]),st.createElement("div",{"aria-modal":"true",className:rt({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":mn}),id:"rpv-core__modal-body-".concat(zt),ref:Sn,role:"dialog",tabIndex:-1},an)},Xt=function(Mt){var zt=Mt.children;return st.createElement("div",{className:"rpv-core__modal-overlay"},zt)};j.ToggleStatus=void 0,(yt=j.ToggleStatus||(j.ToggleStatus={})).Close="Close",yt.Open="Open",yt.Toggle="Toggle";var qt,Jt=function(Mt){var zt=st.useState(Mt),an=zt[0],un=zt[1];return{opened:an,toggle:function(fn){switch(fn){case j.ToggleStatus.Close:un(!1);break;case j.ToggleStatus.Open:un(!0);break;case j.ToggleStatus.Toggle:default:un(function(gn){return!gn})}}}},Gt=function(Mt){var zt=Mt.content,an=Mt.isOpened,un=an!==void 0&&an,fn=Mt.target,gn=Jt(un),Sn=gn.opened,mn=gn.toggle;return st.createElement(st.Fragment,null,fn&&fn(mn,Sn),Sn&&zt(mn))};j.Position=void 0,(qt=j.Position||(j.Position={})).TopLeft="TOP_LEFT",qt.TopCenter="TOP_CENTER",qt.TopRight="TOP_RIGHT",qt.RightTop="RIGHT_TOP",qt.RightCenter="RIGHT_CENTER",qt.RightBottom="RIGHT_BOTTOM",qt.BottomLeft="BOTTOM_LEFT",qt.BottomCenter="BOTTOM_CENTER",qt.BottomRight="BOTTOM_RIGHT",qt.LeftTop="LEFT_TOP",qt.LeftCenter="LEFT_CENTER",qt.LeftBottom="LEFT_BOTTOM";var Et,At,It,Ot,Tt,St=function(Mt,zt,an,un,fn){ot(function(){var gn=zt.current,Sn=Mt.current,mn=an.current;if(Sn&&gn&&mn){var hn=mn.getBoundingClientRect(),yn=function(Dn,Rn,On,Zn){var Ln=Rn.getBoundingClientRect(),tr=Dn.getBoundingClientRect(),Un=tr.height,Yn=tr.width,rr=0,qn=0;switch(On){case j.Position.TopLeft:rr=Ln.top-Un,qn=Ln.left;break;case j.Position.TopCenter:rr=Ln.top-Un,qn=Ln.left+Ln.width/2-Yn/2;break;case j.Position.TopRight:rr=Ln.top-Un,qn=Ln.left+Ln.width-Yn;break;case j.Position.RightTop:rr=Ln.top,qn=Ln.left+Ln.width;break;case j.Position.RightCenter:rr=Ln.top+Ln.height/2-Un/2,qn=Ln.left+Ln.width;break;case j.Position.RightBottom:rr=Ln.top+Ln.height-Un,qn=Ln.left+Ln.width;break;case j.Position.BottomLeft:rr=Ln.top+Ln.height,qn=Ln.left;break;case j.Position.BottomCenter:rr=Ln.top+Ln.height,qn=Ln.left+Ln.width/2-Yn/2;break;case j.Position.BottomRight:rr=Ln.top+Ln.height,qn=Ln.left+Ln.width-Yn;break;case j.Position.LeftTop:rr=Ln.top,qn=Ln.left-Yn;break;case j.Position.LeftCenter:rr=Ln.top+Ln.height/2-Un/2,qn=Ln.left-Yn;break;case j.Position.LeftBottom:rr=Ln.top+Ln.height-Un,qn=Ln.left-Yn}return{left:qn+(Zn.left||0),top:rr+(Zn.top||0)}}(Sn,gn,un,fn),bn=yn.top,Mn=yn.left;Sn.style.top="".concat(bn-hn.top,"px"),Sn.style.left="".concat(Mn-hn.left,"px")}},[])},xt=function(Mt){var zt,an=Mt.customClassName,un=Mt.position;return st.createElement("div",{className:rt((zt={"rpv-core__arrow":!0,"rpv-core__arrow--tl":un===j.Position.TopLeft,"rpv-core__arrow--tc":un===j.Position.TopCenter,"rpv-core__arrow--tr":un===j.Position.TopRight,"rpv-core__arrow--rt":un===j.Position.RightTop,"rpv-core__arrow--rc":un===j.Position.RightCenter,"rpv-core__arrow--rb":un===j.Position.RightBottom,"rpv-core__arrow--bl":un===j.Position.BottomLeft,"rpv-core__arrow--bc":un===j.Position.BottomCenter,"rpv-core__arrow--br":un===j.Position.BottomRight,"rpv-core__arrow--lt":un===j.Position.LeftTop,"rpv-core__arrow--lc":un===j.Position.LeftCenter,"rpv-core__arrow--lb":un===j.Position.LeftBottom},zt["".concat(an)]=an!=="",zt))})},$t=function(Mt){var zt=Mt.ariaControlsSuffix,an=Mt.children,un=Mt.closeOnClickOutside,fn=Mt.offset,gn=Mt.position,Sn=Mt.targetRef,mn=Mt.onClose,hn=st.useRef(),yn=st.useRef(),bn=st.useRef(),Mn=st.useContext(it).direction===j.TextDirection.RightToLeft;Lt(un,hn,mn),St(hn,Sn,bn,gn,fn),ot(function(){var Rn=yn.current;if(Rn){var On=.75*document.body.clientHeight;Rn.getBoundingClientRect().height>=On&&(Rn.style.overflow="auto",Rn.style.maxHeight="".concat(On,"px"))}},[]);var Dn="rpv-core__popover-body-inner-".concat(zt);return st.createElement(st.Fragment,null,st.createElement("div",{ref:bn,style:{left:0,position:"absolute",top:0}}),st.createElement("div",{"aria-describedby":Dn,className:rt({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":Mn}),id:"rpv-core__popover-body-".concat(zt),ref:hn,role:"dialog",tabIndex:-1},st.createElement(xt,{customClassName:"rpv-core__popover-body-arrow",position:gn}),st.createElement("div",{id:Dn,ref:yn},an)))},Rt=function(Mt){var zt=Mt.closeOnEscape,an=Mt.onClose,un=st.useRef();return Qt(function(){un.current&&zt&&an()}),st.createElement("div",{className:"rpv-core__popover-overlay",ref:un})},Bt=function(Mt){var zt=Mt.ariaControlsSuffix,an=Mt.children,un=Mt.contentRef,fn=Mt.offset,gn=Mt.position,Sn=Mt.targetRef,mn=st.useRef(),hn=st.useContext(it).direction===j.TextDirection.RightToLeft;return St(un,Sn,mn,gn,fn),st.createElement(st.Fragment,null,st.createElement("div",{ref:mn,style:{left:0,position:"absolute",top:0}}),st.createElement("div",{className:rt({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":hn}),id:"rpv-core__tooltip-body-".concat(zt),ref:un,role:"tooltip"},st.createElement(xt,{customClassName:"rpv-core__tooltip-body-arrow",position:gn}),st.createElement("div",{className:"rpv-core__tooltip-body-content"},an)))};j.LayerRenderStatus=void 0,(Et=j.LayerRenderStatus||(j.LayerRenderStatus={}))[Et.PreRender=0]="PreRender",Et[Et.DidRender=1]="DidRender",j.PageMode=void 0,(At=j.PageMode||(j.PageMode={})).Attachments="UseAttachments",At.Bookmarks="UseOutlines",At.ContentGroup="UseOC",At.Default="UserNone",At.FullScreen="FullScreen",At.Thumbnails="UseThumbs",j.RotateDirection=void 0,(It=j.RotateDirection||(j.RotateDirection={})).Backward="Backward",It.Forward="Forward",j.ScrollMode=void 0,(Ot=j.ScrollMode||(j.ScrollMode={})).Horizontal="Horizontal",Ot.Vertical="Vertical",Ot.Wrapped="Wrapped",j.SpecialZoomLevel=void 0,(Tt=j.SpecialZoomLevel||(j.SpecialZoomLevel={})).ActualSize="ActualSize",Tt.PageFit="PageFit",Tt.PageWidth="PageWidth";var Wt=function(Mt,zt){switch(zt[1].name){case"XYZ":return{bottomOffset:function(an,un){return zt[3]===null?un:zt[3]},leftOffset:function(an,un){return zt[2]===null?0:zt[2]},pageIndex:Mt,scaleTo:zt[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Mt,scaleTo:j.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:zt[2],leftOffset:0,pageIndex:Mt,scaleTo:j.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Mt,scaleTo:1}}},Kt=new Map,ln=new Map,en=function(Mt,zt){return"".concat(Mt.loadingTask.docId,"___").concat(zt.num,"R").concat(zt.gen===0?"":zt.gen)},tn=function(Mt,zt,an){Kt.set(en(Mt,zt),an)},Ht=function(Mt,zt){if(!Mt)return Promise.reject("The document is not loaded yet");var an="".concat(Mt.loadingTask.docId,"___").concat(zt),un=ln.get(an);return un?Promise.resolve(un):new Promise(function(fn,gn){Mt.getPage(zt+1).then(function(Sn){ln.set(an,Sn),Sn.ref&&tn(Mt,Sn.ref,zt),fn(Sn)})})},nn=function(Mt,zt){return new Promise(function(an){new Promise(function(un){typeof zt=="string"?Mt.getDestination(zt).then(function(fn){un(fn)}):un(zt)}).then(function(un){if(typeof un[0]=="object"&&un[0]!==null){var fn=un[0],gn=function(mn,hn){var yn=en(mn,hn);return Kt.has(yn)?Kt.get(yn):null}(Mt,fn);gn===null?Mt.getPageIndex(fn).then(function(mn){tn(Mt,fn,mn),nn(Mt,zt).then(function(hn){return an(hn)})}):an(Wt(gn,un))}else{var Sn=Wt(un[0],un);an(Sn)}})})};function Pt(Mt){var zt=st.useRef(Mt);return st.useEffect(function(){zt.current=Mt},[Mt]),zt.current}var kt,Nt=function(Mt,zt){var an=zt.rect;return Mt.height!==an.height||Mt.width!==an.width?an:Mt},jt=function(Mt){return 1-Math.pow(1-Mt,4)},Vt={left:0,top:0},sn={capture:!1,passive:!0},rn=function(Mt){var zt=Mt.elementRef,an=Mt.isRtl,un=Mt.scrollMode,fn=Mt.onSmoothScroll,gn=function(Ln){var tr=vt(),Un=st.useRef(0),Yn=st.useState(Ln),rr=Yn[0],qn=Yn[1],ur=st.useCallback(function(pr){cancelAnimationFrame(Un.current),Un.current=requestAnimationFrame(function(){tr.current&&qn(pr)})},[]);return st.useEffect(function(){return function(){cancelAnimationFrame(Un.current)}},[]),[rr,ur]}(Vt),Sn=gn[0],mn=gn[1],hn=st.useState(zt.current),yn=hn[0],bn=hn[1],Mn=an?-1:1,Dn=st.useRef(un);Dn.current=un;var Rn=st.useCallback(function(){return fn(!1)},[]),On=st.useCallback(function(){if(yn)switch(Dn.current){case j.ScrollMode.Horizontal:mn({left:Mn*yn.scrollLeft,top:0});break;case j.ScrollMode.Vertical:default:mn({left:0,top:yn.scrollTop})}},[yn]);ot(function(){bn(zt.current)}),ot(function(){if(yn)return yn.addEventListener("scroll",On,sn),function(){yn.removeEventListener("scroll",On,sn)}},[yn]);var Zn=st.useCallback(function(Ln,tr){var Un=zt.current;if(Un){var Yn=0,rr=j.ScrollMode.Vertical;switch(Dn.current){case j.ScrollMode.Horizontal:Yn=Mn*Ln.left,rr=j.ScrollMode.Horizontal;break;case j.ScrollMode.Vertical:default:Yn=Ln.top,rr=j.ScrollMode.Vertical}if(tr)fn(!0),function(qn,ur,pr,Mr,Cr,zr){Cr===void 0&&(Cr=function(Ir){return Ir}),zr===void 0&&(zr=function(){});var Sr=0;switch(ur){case j.ScrollMode.Horizontal:Sr=qn.scrollLeft;case j.ScrollMode.Vertical:default:Sr=qn.scrollTop}var jr,Lr=-1,Gr=Sr-pr;if(Gr!==0){var Er=function(Ir){Lr===-1&&(Lr=Ir);var Ur=Ir-Lr,Yr=Math.min(Ur/Mr,1),fr=Cr(Yr),ir=Sr-Gr*fr;switch(ur){case j.ScrollMode.Horizontal:qn.scrollLeft=ir;case j.ScrollMode.Vertical:default:qn.scrollTop=ir}ir===pr&&zr(),Ur<Mr?jr=window.requestAnimationFrame(Er):window.cancelAnimationFrame(jr)};jr=window.requestAnimationFrame(Er)}}(Un,rr,Yn,400,jt,Rn);else switch(Dn.current){case j.ScrollMode.Horizontal:Un.scrollLeft=Yn;break;case j.ScrollMode.Vertical:default:Un.scrollTop=Yn}}},[zt]);return{scrollOffset:Sn,scrollTo:Zn}},_n={height:0,width:0},cn={left:0,top:0},An=function(Mt){var zt=Mt.estimateSize,an=Mt.isRtl,un=Mt.numberOfItems,fn=Mt.setStartRange,gn=Mt.setEndRange,Sn=Mt.parentRef,mn=Mt.scrollMode,hn=Mt.transformSize,yn=st.useState(!1),bn=yn[0],Mn=yn[1],Dn=st.useCallback(function(fr){return Mn(fr)},[]),Rn=rn({elementRef:Sn,isRtl:an,scrollMode:mn,onSmoothScroll:Dn}),On=Rn.scrollOffset,Zn=Rn.scrollTo,Ln=function(fr){var ir=fr.elementRef,gr=st.useState(ir.current),or=gr[0],vr=gr[1],xr=st.useRef(!1),yr=st.useReducer(Nt,{height:0,width:0}),Kr=yr[0],Ar=yr[1];return ot(function(){ir.current!==or&&vr(ir.current)}),ot(function(){if(or&&!xr.current){xr.current=!0;var qr=or.getBoundingClientRect(),Jr=qr.height,es=qr.width;Ar({rect:{height:Jr,width:es}})}},[or]),st.useEffect(function(){if(or){var qr=new ResizeObserver(function(Jr,es){Jr.forEach(function(ts){if(ts.target===or){var wr=ts.contentRect,Qr=wr.height,Zr=wr.width;Ar({rect:{height:Qr,width:Zr}})}})});return qr.observe(or),function(){qr.unobserve(or)}}},[or]),Kr}({elementRef:Sn}),tr=st.useRef({scrollOffset:cn,measurements:[],parentRect:_n,totalSize:_n});tr.current.scrollOffset=On,tr.current.parentRect=Ln;var Un=st.useState({}),Yn=Un[0],rr=Un[1],qn=st.useMemo(function(){for(var fr=[],ir=0,gr={left:0,top:0},or=0,vr=0;vr<un;vr++){var xr=Yn[vr]||hn(vr,zt(vr)),yr=cn;if(vr===0)ir=xr.width,gr={left:0,top:0},or=xr.height;else switch(mn){case j.ScrollMode.Wrapped:(ir+=xr.width)<Ln.width?(yr={left:fr[vr-1].end.left,top:gr.top},or=Math.max(or,xr.height)):(ir=xr.width,gr={left:(yr={left:gr.left,top:gr.top+or}).left,top:yr.top},or=xr.height);break;case j.ScrollMode.Horizontal:case j.ScrollMode.Vertical:default:yr=fr[vr-1].end}var Kr={left:yr.left+xr.width,top:yr.top+xr.height};fr[vr]={index:vr,start:yr,size:xr,end:Kr,visibility:-1}}return fr},[zt,mn,Ln,Yn,hn]),ur=qn[un-1]?{height:qn[un-1].end.top,width:qn[un-1].end.left}:_n;tr.current.measurements=qn,tr.current.totalSize=ur;var pr=function(fr,ir,gr,or){var vr=0;switch(fr){case j.ScrollMode.Horizontal:vr=or.left;break;case j.ScrollMode.Vertical:default:vr=or.top}var xr=ir.length-1,yr=function(Or,ss,gs,ns){for(;Or<=ss;){var ls=(Or+ss)/2|0,bs=ns(ls);if(bs<gs)Or=ls+1;else{if(!(bs>gs))return ls;ss=ls-1}}return Or>0?Or-1:0}(0,xr,vr,function(Or){switch(fr){case j.ScrollMode.Horizontal:return ir[Or].start.left;case j.ScrollMode.Wrapped:case j.ScrollMode.Vertical:default:return ir[Or].start.top}});if(fr===j.ScrollMode.Wrapped)for(var Kr=ir[yr].start.top;yr-1>=0&&ir[yr-1].start.top===Kr&&ir[yr-1].start.left>=or.left;)yr--;for(var Ar=yr,qr={},Jr=yr,es=-1;Ar<=xr;){var ts=ir[Ar].size,wr=_n,Qr={top:ir[Ar].start.top-or.top,left:ir[Ar].start.left-or.left},Zr={height:gr.height-Qr.top,width:gr.width-Qr.left};if(fr===j.ScrollMode.Horizontal&&Zr.width<0){Ar--;break}if(fr===j.ScrollMode.Vertical&&Zr.height<0){Ar--;break}if(fr===j.ScrollMode.Wrapped&&(Zr.width<0||Zr.height<0)){Ar--;break}if(fr===j.ScrollMode.Vertical)wr.width=1;else if(Qr.left<0){var ms=ts.width- -Qr.left;wr.width=ms<=gr.width?ms/gr.width:1}else wr.width=ts.width<=Zr.width?1:Zr.width/ts.width;if(fr===j.ScrollMode.Horizontal)wr.height=1;else if(Qr.top<0){var Wr=ts.height- -Qr.top;wr.height=Wr<=gr.height?Wr/gr.height:1}else wr.height=ts.height<=Zr.height?1:Zr.height/ts.height;qr[Ar]=wr.width*wr.height,es<qr[Ar]&&(es=qr[Ar],Jr=Ar),Ar++}return{start:yr,end:Ar,maxVisbilityIndex:Jr,visibilities:qr}}(mn,tr.current.measurements,tr.current.parentRect,tr.current.scrollOffset),Mr=pr.maxVisbilityIndex,Cr=pr.visibilities,zr=pr.start,Sr=pr.end,jr=fn(zr),Lr=gn(Sr),Gr=st.useMemo(function(){for(var fr=[],ir=function(or){var vr=qn[or],xr=ht(ht({},vr),{visibility:Cr[or]!==void 0?Cr[or]:-1,measureRef:function(yr){if(yr){var Kr=yr.getBoundingClientRect();if(Kr.height!==0||Kr.width!==0){var Ar=hn(or,{height:Kr.height,width:Kr.width});Ar.height===vr.size.height&&Ar.width===vr.size.width||rr(function(qr){var Jr;return ht(ht({},qr),((Jr={})[or]=Ar,Jr))})}}}});fr.push(xr)},gr=jr;gr<=Lr;gr++)ir(gr);return fr},[hn,Cr,qn]),Er=st.useCallback(function(fr,ir){var gr,or,vr,xr=tr.current.measurements[gr=0,or=un-1,vr=fr,Math.max(gr,Math.min(vr,or))];xr&&Zn({left:ir.left+xr.start.left,top:ir.top+xr.start.top},!0)},[Zn]),Ir=st.useCallback(function(){switch(mn){case j.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(ur.width,"px")};case j.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(ur.height,"px"),width:"100%"}}},[mn,ur]),Ur=st.useCallback(function(fr){var ir,gr,or,vr=an?"right":"left",xr=an?-1:1;switch(mn){case j.ScrollMode.Horizontal:return(ir={height:"100%",width:"".concat(fr.size.width,"px")})[vr]=0,ir.position="absolute",ir.top=0,ir.transform="translateX(".concat(fr.start.left*xr,"px)"),ir;case j.ScrollMode.Wrapped:return(gr={height:"".concat(fr.size.height,"px"),width:"".concat(fr.size.width,"px")})[vr]=0,gr.position="absolute",gr.top=0,gr.transform="translate(".concat(fr.start.left*xr,"px, ").concat(fr.start.top,"px)"),gr;case j.ScrollMode.Vertical:default:return(or={height:"".concat(fr.size.height,"px"),width:"100%"})[vr]=0,or.position="absolute",or.top=0,or.transform="translateY(".concat(fr.start.top,"px)"),or}},[an,mn]),Yr=st.useCallback(function(fr){rr({});var ir=tr.current.scrollOffset,gr={left:ir.left*fr,top:ir.top*fr};Zn(gr,!1)},[]);return{isSmoothScrolling:bn,startIndex:zr,startRange:jr,endIndex:Sr,endRange:Lr,maxVisbilityIndex:Mr,virtualItems:Gr,getContainerStyles:Ir,getItemStyles:Ur,scrollToItem:Er,zoom:Yr}};(function(Mt){Mt[Mt.Solid=1]="Solid",Mt[Mt.Dashed=2]="Dashed",Mt[Mt.Beveled=3]="Beveled",Mt[Mt.Inset=4]="Inset",Mt[Mt.Underline=5]="Underline"})(kt||(kt={}));var pn,xn=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),on=function(Mt,zt,an,un){var fn=parseInt(Mt,10);return fn>=zt&&fn<=an?fn:un},Cn=function(Mt){return Mt.contentsObj?Mt.contentsObj.str:Mt.contents||""},kn=function(Mt){return Mt.titleObj?Mt.titleObj.str:Mt.title||""},jn=function(Mt){var zt=Mt.annotation,an=st.useContext(it).direction,un=kn(zt),fn=Cn(zt),gn=an===j.TextDirection.RightToLeft,Sn=st.useRef(),mn="";if(zt.modificationDate){var hn=function(yn){var bn=xn.exec(yn);if(!bn)return null;var Mn=parseInt(bn[1],10),Dn=on(bn[2],1,12,1)-1,Rn=on(bn[3],1,31,1),On=on(bn[4],0,23,0),Zn=on(bn[5],0,59,0),Ln=on(bn[6],0,59,0),tr=bn[7]||"Z",Un=on(bn[8],0,23,0),Yn=on(bn[9],0,59,0);switch(tr){case"-":On+=Un,Zn+=Yn;break;case"+":On-=Un,Zn-=Yn}return new Date(Date.UTC(Mn,Dn,Rn,On,Zn,Ln))}(zt.modificationDate);mn=hn?"".concat(hn.toLocaleDateString(),", ").concat(hn.toLocaleTimeString()):""}return st.useLayoutEffect(function(){if(Sn.current){var yn=document.querySelector('[data-annotation-id="'.concat(zt.id,'"]'));if(yn){var bn=yn;return bn.style.zIndex+=1,function(){bn.style.zIndex="".concat(parseInt(bn.style.zIndex,10)-1)}}}},[]),st.createElement("div",{ref:Sn,className:rt({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":gn}),style:{top:zt.annotationType===j.AnnotationType.Popup?"":"100%"}},un&&st.createElement(st.Fragment,null,st.createElement("div",{className:rt({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!gn,"rpv-core__annotation-popup-title--rtl":gn})},un),st.createElement("div",{className:"rpv-core__annotation-popup-date"},mn)),fn&&st.createElement("div",{className:"rpv-core__annotation-popup-content"},fn.split(`
`).map(function(yn,bn){return st.createElement(st.Fragment,{key:bn},yn,st.createElement("br",null))})))};(function(Mt){Mt.Click="Click",Mt.Hover="Hover"})(pn||(pn={}));var Gn,Vn=function(Mt){var zt,an=Mt.annotation,un=Mt.children,fn=Mt.ignoreBorder,gn=Mt.hasPopup,Sn=Mt.isRenderable,mn=Mt.page,hn=Mt.viewport,yn=an.rect,bn=function(){var pr=Jt(!1),Mr=pr.opened,Cr=pr.toggle,zr=st.useState(pn.Hover),Sr=zr[0],jr=zr[1];return{opened:Mr,closeOnHover:function(){Sr===pn.Hover&&Cr(j.ToggleStatus.Close)},openOnHover:function(){Sr===pn.Hover&&Cr(j.ToggleStatus.Open)},toggleOnClick:function(){switch(Sr){case pn.Click:Mr&&jr(pn.Hover),Cr(j.ToggleStatus.Toggle);break;case pn.Hover:jr(pn.Click),Cr(j.ToggleStatus.Open)}}}}(),Mn=bn.closeOnHover,Dn=bn.opened,Rn=bn.openOnHover,On=bn.toggleOnClick,Zn=(zt=[yn[0],mn.view[3]+mn.view[1]-yn[1],yn[2],mn.view[3]+mn.view[1]-yn[3]],[Math.min(zt[0],zt[2]),Math.min(zt[1],zt[3]),Math.max(zt[0],zt[2]),Math.max(zt[1],zt[3])]),Ln=yn[2]-yn[0],tr=yn[3]-yn[1],Un={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!fn&&an.borderStyle.width>0){switch(an.borderStyle.style){case kt.Dashed:Un.borderStyle="dashed";break;case kt.Solid:Un.borderStyle="solid";break;case kt.Underline:Un=Object.assign({borderBottomStyle:"solid"},Un);case kt.Beveled:case kt.Inset:}var Yn=an.borderStyle.width;Un.borderWidth="".concat(Yn,"px"),an.borderStyle.style!==kt.Underline&&(Ln-=2*Yn,tr-=2*Yn);var rr=an.borderStyle,qn=rr.horizontalCornerRadius,ur=rr.verticalCornerRadius;(qn>0||ur>0)&&(Un.borderRadius="".concat(qn,"px / ").concat(ur,"px")),an.color?Un.borderColor="rgb(".concat(0|an.color[0],", ").concat(0|an.color[1],", ").concat(0|an.color[2],")"):Un.borderWidth="0"}return st.createElement(st.Fragment,null,Sn&&un({popup:{opened:Dn,closeOnHover:Mn,openOnHover:Rn,toggleOnClick:On},slot:{attrs:{style:Object.assign({height:"".concat(tr,"px"),left:"".concat(Zn[0],"px"),top:"".concat(Zn[1],"px"),transform:"matrix(".concat(hn.transform.join(","),")"),transformOrigin:"-".concat(Zn[0],"px -").concat(Zn[1],"px"),width:"".concat(Ln,"px")},Un)},children:st.createElement(st.Fragment,null,gn&&Dn&&st.createElement(jn,{annotation:an}))}}))},Wn=function(Mt){var zt=Mt.annotation,an=Mt.page,un=Mt.viewport,fn=zt.hasPopup===!1,gn=kn(zt),Sn=Cn(zt),mn=!!(zt.hasPopup||gn||Sn);return st.createElement(Vn,{annotation:zt,hasPopup:fn,ignoreBorder:!0,isRenderable:mn,page:an,viewport:un},function(hn){return st.createElement("div",ht({},hn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":zt.id,onClick:hn.popup.toggleOnClick,onMouseEnter:hn.popup.openOnHover,onMouseLeave:hn.popup.closeOnHover}),hn.slot.children)})},wn=function(Mt){var zt=Mt.annotation,an=Mt.page,un=Mt.viewport,fn=zt.hasPopup===!1,gn=kn(zt),Sn=Cn(zt),mn=!!(zt.hasPopup||gn||Sn),hn=zt.rect,yn=hn[2]-hn[0],bn=hn[3]-hn[1],Mn=zt.borderStyle.width;return st.createElement(Vn,{annotation:zt,hasPopup:fn,ignoreBorder:!0,isRenderable:mn,page:an,viewport:un},function(Dn){return st.createElement("div",ht({},Dn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":zt.id,onClick:Dn.popup.toggleOnClick,onMouseEnter:Dn.popup.openOnHover,onMouseLeave:Dn.popup.closeOnHover}),st.createElement("svg",{height:"".concat(bn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(yn," ").concat(bn),width:"".concat(yn,"px")},st.createElement("circle",{cy:bn/2,fill:"none",rx:yn/2-Mn/2,ry:bn/2-Mn/2,stroke:"transparent",strokeWidth:Mn||1})),Dn.slot.children)})},dn=function(Mt){var zt=Mt.annotation,an=Mt.page,un=Mt.viewport,fn=kn(zt),gn=Cn(zt),Sn=!(zt.hasPopup!==!1||!fn&&!gn),mn=function(){var hn,yn,bn,Mn,Dn=zt.file;Dn&&(hn=Dn.filename,yn=Dn.content,bn=typeof yn=="string"?"":URL.createObjectURL(new Blob([yn],{type:""})),(Mn=document.createElement("a")).style.display="none",Mn.href=bn||hn,Mn.setAttribute("download",function(Rn){var On=Rn.split("/").pop();return On?On.split("#")[0].split("?")[0]:Rn}(hn)),document.body.appendChild(Mn),Mn.click(),document.body.removeChild(Mn),bn&&URL.revokeObjectURL(bn))};return st.createElement(Vn,{annotation:zt,hasPopup:Sn,ignoreBorder:!0,isRenderable:!0,page:an,viewport:un},function(hn){return st.createElement("div",ht({},hn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":zt.id,onClick:hn.popup.toggleOnClick,onDoubleClick:mn,onMouseEnter:hn.popup.openOnHover,onMouseLeave:hn.popup.closeOnHover}),hn.slot.children)})},Zt=function(Mt){var zt=Mt.annotation,an=Mt.page,un=Mt.viewport,fn=zt.hasPopup===!1,gn=kn(zt),Sn=Cn(zt),mn=!!(zt.hasPopup||gn||Sn);return st.createElement(Vn,{annotation:zt,hasPopup:fn,ignoreBorder:!0,isRenderable:mn,page:an,viewport:un},function(hn){return st.createElement("div",ht({},hn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":zt.id,onClick:hn.popup.toggleOnClick,onMouseEnter:hn.popup.openOnHover,onMouseLeave:hn.popup.closeOnHover}),hn.slot.children)})},vn=function(Mt){var zt=Mt.annotation,an=Mt.page,un=Mt.viewport,fn=kn(zt),gn=Cn(zt),Sn=!(!fn&&!gn),mn=!zt.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(zt.parentType)!==-1;return ot(function(){if(zt.parentId){var hn=document.querySelector('[data-annotation-id="'.concat(zt.parentId,'"]')),yn=document.querySelector('[data-annotation-id="'.concat(zt.id,'"]'));if(hn&&yn){var bn=parseFloat(hn.style.left),Mn=parseFloat(hn.style.top)+parseFloat(hn.style.height);yn.style.left="".concat(bn,"px"),yn.style.top="".concat(Mn,"px"),yn.style.transformOrigin="-".concat(bn,"px -").concat(Mn,"px")}}},[]),st.createElement(Vn,{annotation:zt,hasPopup:mn,ignoreBorder:!1,isRenderable:Sn,page:an,viewport:un},function(hn){return st.createElement("div",ht({},hn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":zt.id}),st.createElement(jn,{annotation:zt}))})},Pn=function(Mt){var zt=Mt.annotation,an=Mt.childAnnotation,un=Mt.page,fn=Mt.viewport,gn=zt.hasPopup===!1,Sn=kn(zt),mn=Cn(zt),hn=!!(zt.hasPopup||Sn||mn);if(zt.quadPoints&&zt.quadPoints.length>0){var yn=zt.quadPoints.map(function(bn){return Object.assign({},zt,{rect:[bn[2].x,bn[2].y,bn[1].x,bn[1].y],quadPoints:[]})});return st.createElement(st.Fragment,null,yn.map(function(bn,Mn){return st.createElement(Pn,{key:Mn,annotation:bn,childAnnotation:an,page:un,viewport:fn})}))}return st.createElement(Vn,{annotation:zt,hasPopup:gn,ignoreBorder:!0,isRenderable:hn,page:un,viewport:fn},function(bn){return st.createElement(st.Fragment,null,st.createElement("div",ht({},bn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":zt.id,onClick:bn.popup.toggleOnClick,onMouseEnter:bn.popup.openOnHover,onMouseLeave:bn.popup.closeOnHover}),bn.slot.children),an&&an.annotationType===j.AnnotationType.Popup&&bn.popup.opened&&st.createElement(vn,{annotation:an,page:un,viewport:fn}))})},zn=function(Mt){var zt=Mt.annotation,an=Mt.page,un=Mt.viewport,fn=zt.hasPopup===!1,gn=kn(zt),Sn=Cn(zt),mn=!!(zt.hasPopup||gn||Sn),hn=zt.rect,yn=hn[2]-hn[0],bn=hn[3]-hn[1],Mn=zt.borderStyle.width;return st.createElement(Vn,{annotation:zt,hasPopup:fn,ignoreBorder:!0,isRenderable:mn,page:an,viewport:un},function(Dn){return st.createElement("div",ht({},Dn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":zt.id,onClick:Dn.popup.toggleOnClick,onMouseEnter:Dn.popup.openOnHover,onMouseLeave:Dn.popup.closeOnHover}),zt.inkLists&&zt.inkLists.length&&st.createElement("svg",{height:"".concat(bn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(yn," ").concat(bn),width:"".concat(yn,"px")},zt.inkLists.map(function(Rn,On){return st.createElement("polyline",{key:On,fill:"none",stroke:"transparent",strokeWidth:Mn||1,points:Rn.map(function(Zn){return"".concat(Zn.x-hn[0],",").concat(hn[3]-Zn.y)}).join(" ")})})),Dn.slot.children)})},Hn=function(Mt){var zt=Mt.annotation,an=Mt.page,un=Mt.viewport,fn=zt.hasPopup===!1,gn=kn(zt),Sn=Cn(zt),mn=!!(zt.hasPopup||gn||Sn),hn=zt.rect,yn=hn[2]-hn[0],bn=hn[3]-hn[1],Mn=zt.borderStyle.width;return st.createElement(Vn,{annotation:zt,hasPopup:fn,ignoreBorder:!0,isRenderable:mn,page:an,viewport:un},function(Dn){return st.createElement("div",ht({},Dn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":zt.id,onClick:Dn.popup.toggleOnClick,onMouseEnter:Dn.popup.openOnHover,onMouseLeave:Dn.popup.closeOnHover}),st.createElement("svg",{height:"".concat(bn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(yn," ").concat(bn),width:"".concat(yn,"px")},st.createElement("line",{stroke:"transparent",strokeWidth:Mn||1,x1:hn[2]-zt.lineCoordinates[0],x2:hn[2]-zt.lineCoordinates[2],y1:hn[3]-zt.lineCoordinates[1],y2:hn[3]-zt.lineCoordinates[3]})),Dn.slot.children)})},cr=/^([^\w]*)(javascript|data|vbscript)/im,er=/&#(\w+)(^\w|;)?/g,Jn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,sr=/^([^:]+):/gm,dr=function(Mt,zt){zt===void 0&&(zt="about:blank");var an,un=(an=Mt||"",an.replace(er,function(mn,hn){return String.fromCharCode(hn)})).replace(Jn,"").trim();if(!un)return zt;var fn=un[0];if(fn==="."||fn==="/")return un;var gn=un.match(sr);if(!gn)return un;var Sn=gn[0];return cr.test(Sn)?zt:un},Kn=function(Mt){var zt,an=Mt.annotation,un=Mt.doc,fn=Mt.outlines,gn=Mt.page,Sn=Mt.viewport,mn=Mt.onExecuteNamedAction,hn=Mt.onJumpToDest,yn=!!(an.url||an.dest||an.action||an.unsafeUrl),bn={};if(an.url||an.unsafeUrl){var Mn=dr(an.url||an.unsafeUrl,"");Mn?bn={"data-target":"external",href:Mn,rel:"noopener noreferrer nofollow",target:an.newWindow?"_blank":"",title:Mn}:yn=!1}else bn={href:"","data-annotation-link":an.id,onClick:function(Rn){Rn.preventDefault(),an.action?mn(an.action):nn(un,an.dest).then(function(On){var Zn=On.pageIndex,Ln=On.bottomOffset,tr=On.leftOffset,Un=On.scaleTo;hn(Zn,Ln,tr,Un)})}};var Dn=fn&&fn.length&&an.dest&&typeof an.dest=="string"?(zt=fn.find(function(Rn){return Rn.dest===an.dest}))===null||zt===void 0?void 0:zt.title:"";return Dn&&(bn=Object.assign({},bn,{title:Dn,"aria-label":Dn})),st.createElement(Vn,{annotation:an,hasPopup:!1,ignoreBorder:!1,isRenderable:yn,page:gn,viewport:Sn},function(Rn){return st.createElement("div",ht({},Rn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":an.id,"data-testid":"core__annotation--link-".concat(an.id)}),st.createElement("a",ht({},bn)))})},En=function(Mt){var zt=Mt.annotation,an=Mt.page,un=Mt.viewport,fn=zt.hasPopup===!1,gn=kn(zt),Sn=Cn(zt),mn=!!(zt.hasPopup||gn||Sn),hn=zt.rect,yn=hn[2]-hn[0],bn=hn[3]-hn[1],Mn=zt.borderStyle.width;return st.createElement(Vn,{annotation:zt,hasPopup:fn,ignoreBorder:!0,isRenderable:mn,page:an,viewport:un},function(Dn){return st.createElement("div",ht({},Dn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":zt.id,onClick:Dn.popup.toggleOnClick,onMouseEnter:Dn.popup.openOnHover,onMouseLeave:Dn.popup.closeOnHover}),zt.vertices&&zt.vertices.length&&st.createElement("svg",{height:"".concat(bn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(yn," ").concat(bn),width:"".concat(yn,"px")},st.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:Mn||1,points:zt.vertices.map(function(Rn){return"".concat(Rn.x-hn[0],",").concat(hn[3]-Rn.y)}).join(" ")})),Dn.slot.children)})},$n=function(Mt){var zt=Mt.annotation,an=Mt.page,un=Mt.viewport,fn=zt.hasPopup===!1,gn=kn(zt),Sn=Cn(zt),mn=!!(zt.hasPopup||gn||Sn),hn=zt.rect,yn=hn[2]-hn[0],bn=hn[3]-hn[1],Mn=zt.borderStyle.width;return st.createElement(Vn,{annotation:zt,hasPopup:fn,ignoreBorder:!0,isRenderable:mn,page:an,viewport:un},function(Dn){return st.createElement("div",ht({},Dn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":zt.id,onClick:Dn.popup.toggleOnClick,onMouseEnter:Dn.popup.openOnHover,onMouseLeave:Dn.popup.closeOnHover}),zt.vertices&&zt.vertices.length&&st.createElement("svg",{height:"".concat(bn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(yn," ").concat(bn),width:"".concat(yn,"px")},st.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:Mn||1,points:zt.vertices.map(function(Rn){return"".concat(Rn.x-hn[0],",").concat(hn[3]-Rn.y)}).join(" ")})),Dn.slot.children)})},Bn=function(Mt){var zt=Mt.annotation,an=Mt.page,un=Mt.viewport,fn=zt.hasPopup===!1,gn=kn(zt),Sn=Cn(zt),mn=!!(zt.hasPopup||gn||Sn),hn=zt.rect,yn=hn[2]-hn[0],bn=hn[3]-hn[1],Mn=zt.borderStyle.width;return st.createElement(Vn,{annotation:zt,hasPopup:fn,ignoreBorder:!0,isRenderable:mn,page:an,viewport:un},function(Dn){return st.createElement("div",ht({},Dn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":zt.id,onClick:Dn.popup.toggleOnClick,onMouseEnter:Dn.popup.openOnHover,onMouseLeave:Dn.popup.closeOnHover}),st.createElement("svg",{height:"".concat(bn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(yn," ").concat(bn),width:"".concat(yn,"px")},st.createElement("rect",{height:bn-Mn,fill:"none",stroke:"transparent",strokeWidth:Mn||1,x:Mn/2,y:Mn/2,width:yn-Mn})),Dn.slot.children)})},Xn=function(Mt){var zt=Mt.annotation,an=Mt.page,un=Mt.viewport,fn=zt.hasPopup===!1,gn=kn(zt),Sn=Cn(zt),mn=!!(zt.hasPopup||gn||Sn);return st.createElement(Vn,{annotation:zt,hasPopup:fn,ignoreBorder:!0,isRenderable:mn,page:an,viewport:un},function(hn){return st.createElement("div",ht({},hn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":zt.id,onClick:hn.popup.toggleOnClick,onMouseEnter:hn.popup.openOnHover,onMouseLeave:hn.popup.closeOnHover}),hn.slot.children)})},_r=function(Mt){var zt=Mt.annotation,an=Mt.page,un=Mt.viewport,fn=zt.hasPopup===!1,gn=kn(zt),Sn=Cn(zt),mn=!!(zt.hasPopup||gn||Sn);return st.createElement(Vn,{annotation:zt,hasPopup:fn,ignoreBorder:!0,isRenderable:mn,page:an,viewport:un},function(hn){return st.createElement("div",ht({},hn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":zt.id,onClick:hn.popup.toggleOnClick,onMouseEnter:hn.popup.openOnHover,onMouseLeave:hn.popup.closeOnHover}),hn.slot.children)})},Qn=function(Mt){var zt=Mt.annotation,an=Mt.page,un=Mt.viewport,fn=zt.hasPopup===!1,gn=kn(zt),Sn=Cn(zt),mn=!!(zt.hasPopup||gn||Sn);return st.createElement(Vn,{annotation:zt,hasPopup:fn,ignoreBorder:!0,isRenderable:mn,page:an,viewport:un},function(hn){return st.createElement("div",ht({},hn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":zt.id,onClick:hn.popup.toggleOnClick,onMouseEnter:hn.popup.openOnHover,onMouseLeave:hn.popup.closeOnHover}),hn.slot.children)})},hr=function(){return st.createElement(ct,{size:16},st.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),st.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),st.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),st.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},lr=function(){return st.createElement(ct,{size:16},st.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),st.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),st.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),st.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),st.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),st.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),st.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),st.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),st.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),st.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},$r=function(){return st.createElement(ct,{size:16},st.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),st.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},mr=function(){return st.createElement(ct,{size:16},st.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),st.createElement("path",{d:"M6 4.5L6 0.5"}),st.createElement("path",{d:"M18 4.5L18 0.5"}),st.createElement("path",{d:"M10 4.5L10 0.5"}),st.createElement("path",{d:"M14 4.5L14 0.5"}))},Dr=function(){return st.createElement(ct,{size:16},st.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),st.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),st.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Xr=function(){return st.createElement(ct,{size:16},st.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},br=function(Mt){var zt=Mt.annotation,an=Mt.childAnnotation,un=Mt.page,fn=Mt.viewport,gn=zt.hasPopup===!1,Sn=kn(zt),mn=Cn(zt),hn=!!(zt.hasPopup||Sn||mn),yn=zt.name?zt.name.toLowerCase():"";return st.createElement(Vn,{annotation:zt,hasPopup:gn,ignoreBorder:!1,isRenderable:hn,page:un,viewport:fn},function(bn){return st.createElement(st.Fragment,null,st.createElement("div",ht({},bn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":zt.id,onClick:bn.popup.toggleOnClick,onMouseEnter:bn.popup.openOnHover,onMouseLeave:bn.popup.closeOnHover}),yn&&st.createElement("div",{className:"rpv-core__annotation-text-icon"},yn==="check"&&st.createElement(dt,null),yn==="comment"&&st.createElement(hr,null),yn==="help"&&st.createElement(lr,null),yn==="insert"&&st.createElement(Xr,null),yn==="key"&&st.createElement($r,null),yn==="note"&&st.createElement(mr,null),(yn==="newparagraph"||yn==="paragraph")&&st.createElement(Dr,null)),bn.slot.children),an&&an.annotationType===j.AnnotationType.Popup&&bn.popup.opened&&st.createElement(vn,{annotation:an,page:un,viewport:fn}))})},Tr=function(Mt){var zt=Mt.annotation,an=Mt.page,un=Mt.viewport,fn=zt.hasPopup===!1,gn=kn(zt),Sn=Cn(zt),mn=!!(zt.hasPopup||gn||Sn);return st.createElement(Vn,{annotation:zt,hasPopup:fn,ignoreBorder:!0,isRenderable:mn,page:an,viewport:un},function(hn){return st.createElement("div",ht({},hn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":zt.id,onClick:hn.popup.toggleOnClick,onMouseEnter:hn.popup.openOnHover,onMouseLeave:hn.popup.closeOnHover}),hn.slot.children)})},Rr=function(Mt){var zt=Mt.annotations,an=Mt.doc,un=Mt.outlines,fn=Mt.page,gn=Mt.pageIndex,Sn=Mt.plugins,mn=Mt.rotation,hn=Mt.scale,yn=Mt.onExecuteNamedAction,bn=Mt.onJumpToDest,Mn=st.useRef(),Dn=fn.getViewport({rotation:mn,scale:hn}).clone({dontFlip:!0}),Rn=zt.filter(function(On){return!On.parentId});return ot(function(){var On=Mn.current;On&&Sn.forEach(function(Zn){Zn.onAnnotationLayerRender&&Zn.onAnnotationLayerRender({annotations:Rn,container:On,pageIndex:gn,rotation:mn,scale:hn})})},[]),st.createElement("div",{ref:Mn,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(gn)},Rn.map(function(On){var Zn=zt.find(function(Ln){return Ln.parentId===On.id});switch(On.annotationType){case j.AnnotationType.Caret:return st.createElement(Wn,{key:On.id,annotation:On,page:fn,viewport:Dn});case j.AnnotationType.Circle:return st.createElement(wn,{key:On.id,annotation:On,page:fn,viewport:Dn});case j.AnnotationType.FileAttachment:return st.createElement(dn,{key:On.id,annotation:On,page:fn,viewport:Dn});case j.AnnotationType.FreeText:return st.createElement(Zt,{key:On.id,annotation:On,page:fn,viewport:Dn});case j.AnnotationType.Highlight:return st.createElement(Pn,{key:On.id,annotation:On,childAnnotation:Zn,page:fn,viewport:Dn});case j.AnnotationType.Ink:return st.createElement(zn,{key:On.id,annotation:On,page:fn,viewport:Dn});case j.AnnotationType.Line:return st.createElement(Hn,{key:On.id,annotation:On,page:fn,viewport:Dn});case j.AnnotationType.Link:return st.createElement(Kn,{key:On.id,annotation:On,doc:an,outlines:un,page:fn,viewport:Dn,onExecuteNamedAction:yn,onJumpToDest:bn});case j.AnnotationType.Polygon:return st.createElement(En,{key:On.id,annotation:On,page:fn,viewport:Dn});case j.AnnotationType.Polyline:return st.createElement($n,{key:On.id,annotation:On,page:fn,viewport:Dn});case j.AnnotationType.Popup:return st.createElement(vn,{key:On.id,annotation:On,page:fn,viewport:Dn});case j.AnnotationType.Square:return st.createElement(Bn,{key:On.id,annotation:On,page:fn,viewport:Dn});case j.AnnotationType.Squiggly:return st.createElement(Xn,{key:On.id,annotation:On,page:fn,viewport:Dn});case j.AnnotationType.Stamp:return st.createElement(_r,{key:On.id,annotation:On,page:fn,viewport:Dn});case j.AnnotationType.StrikeOut:return st.createElement(Qn,{key:On.id,annotation:On,page:fn,viewport:Dn});case j.AnnotationType.Text:return st.createElement(br,{key:On.id,annotation:On,childAnnotation:Zn,page:fn,viewport:Dn});case j.AnnotationType.Underline:return st.createElement(Tr,{key:On.id,annotation:On,page:fn,viewport:Dn});default:return st.createElement(st.Fragment,{key:On.id})}}))},ds=function(Mt){var zt=Mt.page,an=Mt.renderAnnotations,un=vt(),fn=st.useState({loading:!0,annotations:[]}),gn=fn[0],Sn=fn[1];return st.useEffect(function(){zt.getAnnotations({intent:"display"}).then(function(mn){un.current&&Sn({loading:!1,annotations:mn})})},[]),gn.loading?st.createElement(st.Fragment,null):an(gn.annotations)},us=function(Mt){var zt=Mt.doc,an=Mt.outlines,un=Mt.page,fn=Mt.pageIndex,gn=Mt.plugins,Sn=Mt.rotation,mn=Mt.scale,hn=Mt.onExecuteNamedAction,yn=Mt.onJumpToDest;return st.createElement(ds,{page:un,renderAnnotations:function(bn){return st.createElement(Rr,{annotations:bn,doc:zt,outlines:an,page:un,pageIndex:fn,plugins:gn,rotation:Sn,scale:mn,onExecuteNamedAction:hn,onJumpToDest:yn})}})},kr=function(Mt,zt){var an=Mt%zt;return an===0?Mt:Math.floor(Mt-an)},Pr=function(Mt){var zt=Mt.canvasLayerRef,an=Mt.height,un=Mt.page,fn=Mt.pageIndex,gn=Mt.plugins,Sn=Mt.rotation,mn=Mt.scale,hn=Mt.width,yn=Mt.onRenderCanvasCompleted,bn=st.useRef();return ot(function(){var Mn=bn.current;Mn&&Mn.cancel();var Dn=zt.current;gn.forEach(function(pr){pr.onCanvasLayerRender&&pr.onCanvasLayerRender({ele:Dn,pageIndex:fn,rotation:Sn,scale:mn,status:j.LayerRenderStatus.PreRender})});var Rn=un.getViewport({rotation:Sn,scale:mn}),On=window.devicePixelRatio||1,Zn=Math.sqrt(16777216/(Rn.width*Rn.height)),Ln=On>Zn;Ln?Dn.style.transform="scale(1, 1)":Dn.style.removeProperty("transform");var tr=Math.min(Zn,On),Un=function(pr,Mr){var Cr,zr;if(Math.floor(pr)===pr)return[pr,1];var Sr=1/pr;if(Sr>Mr)return[1,Mr];if(Math.floor(Sr)===Sr)return[1,Sr];for(var jr=pr>1?Sr:pr,Lr=0,Gr=1,Er=1,Ir=1;;){var Ur=Lr+Er,Yr=Gr+Ir;if(Yr>Mr)break;jr<=Ur/Yr?(Er=(Cr=[Ur,Yr])[0],Ir=Cr[1]):(Lr=(zr=[Ur,Yr])[0],Gr=zr[1])}return jr<(Lr/Gr+Er/Ir)/2?jr===pr?[Lr,Gr]:[Gr,Lr]:jr===pr?[Er,Ir]:[Ir,Er]}(tr,8),Yn=Un[0],rr=Un[1];Dn.width=kr(Rn.width*tr,Yn),Dn.height=kr(Rn.height*tr,Yn),Dn.style.width="".concat(kr(Rn.width,rr),"px"),Dn.style.height="".concat(kr(Rn.height,rr),"px"),Dn.hidden=!0;var qn=Dn.getContext("2d",{alpha:!1}),ur=Ln||On!==1?[tr,0,0,tr,0,0]:null;return bn.current=un.render({canvasContext:qn,transform:ur,viewport:Rn}),bn.current.promise.then(function(){Dn.hidden=!1,gn.forEach(function(pr){pr.onCanvasLayerRender&&pr.onCanvasLayerRender({ele:Dn,pageIndex:fn,rotation:Sn,scale:mn,status:j.LayerRenderStatus.DidRender})}),yn()},function(){yn()}),function(){Dn&&(Dn.width=0,Dn.height=0)}},[]),st.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(an,"px"),width:"".concat(hn,"px")}},st.createElement("canvas",{ref:zt}))},as=function(Mt){var zt=Mt.height,an=Mt.page,un=Mt.rotation,fn=Mt.scale,gn=Mt.width,Sn=st.useRef();return ot(function(){var mn=Sn.current,hn=an.getViewport({rotation:un,scale:fn});an.getOperatorList().then(function(yn){(function(){var bn=Sn.current;bn&&(bn.innerHTML="")})(),new gt.SVGGraphics(an.commonObjs,an.objs).getSVG(yn,hn).then(function(bn){bn.style.height="".concat(zt,"px"),bn.style.width="".concat(gn,"px"),mn.appendChild(bn)})})},[]),st.createElement("div",{className:"rpv-core__svg-layer",ref:Sn})},Es=function(Mt){var zt=Mt.containerRef,an=Mt.page,un=Mt.pageIndex,fn=Mt.plugins,gn=Mt.rotation,Sn=Mt.scale,mn=Mt.onRenderTextCompleted,hn=st.useRef(),yn=function(){var bn=zt.current;bn&&([].slice.call(bn.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(Mn){return bn.removeChild(Mn)}),[].slice.call(bn.querySelectorAll('br[role="presentation"]')).forEach(function(Mn){return bn.removeChild(Mn)}))};return ot(function(){var bn=hn.current;bn&&bn.cancel();var Mn=zt.current;if(Mn){Mn.removeAttribute("data-testid");var Dn=an.getViewport({rotation:gn,scale:Sn});return fn.forEach(function(Rn){Rn.onTextLayerRender&&Rn.onTextLayerRender({ele:Mn,pageIndex:un,scale:Sn,status:j.LayerRenderStatus.PreRender})}),an.getTextContent().then(function(Rn){yn(),hn.current=gt.renderTextLayer({container:Mn,textContent:Rn,viewport:Dn}),hn.current.promise.then(function(){Mn.setAttribute("data-testid","core__text-layer-".concat(un)),[].slice.call(Mn.children).forEach(function(On){On.classList.contains("rpv-core__text-layer-text--not")||On.classList.add("rpv-core__text-layer-text")}),fn.forEach(function(On){On.onTextLayerRender&&On.onTextLayerRender({ele:Mn,pageIndex:un,scale:Sn,status:j.LayerRenderStatus.DidRender})}),mn()},function(){Mn.removeAttribute("data-testid"),mn()})}),function(){var Rn;yn(),(Rn=hn.current)===null||Rn===void 0||Rn.cancel()}}},[]),st.createElement("div",{className:"rpv-core__text-layer",ref:zt})},Ps=function(Mt){var zt=Mt.doc,an=Mt.outlines,un=Mt.pageIndex,fn=Mt.pageRotation,gn=Mt.pageSize,Sn=Mt.plugins,mn=Mt.renderPage,hn=Mt.renderQueueKey,yn=Mt.rotation,bn=Mt.scale,Mn=Mt.shouldRender,Dn=Mt.onExecuteNamedAction,Rn=Mt.onJumpToDest,On=Mt.onRenderCompleted,Zn=Mt.onRotatePage,Ln=vt(),tr=st.useState(null),Un=tr[0],Yn=tr[1],rr=st.useState(!1),qn=rr[0],ur=rr[1],pr=st.useState(!1),Mr=pr[0],Cr=pr[1],zr=st.useRef(),Sr=st.useRef(),jr=Math.abs(yn+fn)%180==0,Lr=gn.pageWidth*bn,Gr=gn.pageHeight*bn,Er=jr?Lr:Gr,Ir=jr?Gr:Lr,Ur=(gn.rotation+yn+fn)%360,Yr=st.useRef(0),fr=mn||function(ir){return st.createElement(st.Fragment,null,ir.canvasLayer.children,ir.textLayer.children,ir.annotationLayer.children)};return st.useEffect(function(){Yn(null),ur(!1),Cr(!1)},[fn,yn,bn]),st.useEffect(function(){Mn&&Ln.current&&!Un&&Ht(zt,un).then(function(ir){Ln.current&&(Yr.current=hn,Yn(ir))})},[Mn,Un]),st.useEffect(function(){qn&&Mr&&(hn!==Yr.current?(Yn(null),ur(!1),Cr(!1)):On(un))},[qn,Mr]),st.createElement("div",{className:"rpv-core__page-layer","data-testid":"core__page-layer-".concat(un),style:{height:"".concat(Ir,"px"),width:"".concat(Er,"px")}},Un?st.createElement(st.Fragment,null,fr({annotationLayer:{attrs:{},children:st.createElement(us,{doc:zt,outlines:an,page:Un,pageIndex:un,plugins:Sn,rotation:Ur,scale:bn,onExecuteNamedAction:Dn,onJumpToDest:Rn})},canvasLayer:{attrs:{},children:st.createElement(Pr,{canvasLayerRef:zr,height:Ir,page:Un,pageIndex:un,plugins:Sn,rotation:Ur,scale:bn,width:Er,onRenderCanvasCompleted:function(){Ln.current&&ur(!0)}})},canvasLayerRendered:qn,doc:zt,height:Ir,pageIndex:un,rotation:Ur,scale:bn,svgLayer:{attrs:{},children:st.createElement(as,{height:Ir,page:Un,rotation:Ur,scale:bn,width:Er})},textLayer:{attrs:{},children:st.createElement(Es,{containerRef:Sr,page:Un,pageIndex:un,plugins:Sn,rotation:Ur,scale:bn,onRenderTextCompleted:function(){Ln.current&&Cr(!0)}})},textLayerRendered:Mr,width:Er,markRendered:On,onRotatePage:function(ir){return Zn(un,ir)}}),Sn.map(function(ir,gr){return ir.renderPageLayer?st.createElement(st.Fragment,{key:gr},ir.renderPageLayer({canvasLayerRef:zr,canvasLayerRendered:qn,doc:zt,height:Ir,pageIndex:un,rotation:Ur,scale:bn,textLayerRef:Sr,textLayerRendered:Mr,width:Er})):st.createElement(st.Fragment,{key:gr})})):st.createElement(mt,{testId:"core__page-layer-loading-".concat(un)}))},hs=function(Mt,zt,an,un){switch(un){case j.SpecialZoomLevel.ActualSize:return 1;case j.SpecialZoomLevel.PageFit:return Math.min((Mt.clientWidth-17)/an,(Mt.clientHeight-16)/zt);case j.SpecialZoomLevel.PageWidth:return(Mt.clientWidth-17)/an}},ps=function(Mt){var zt=[];return Mt.map(function(an){zt=zt.concat(an).concat(function(un){var fn=[];return un.items&&un.items.length>0&&(fn=fn.concat(ps(un.items))),fn}(an))}),zt},Wo={buildPageStyles:function(){return{}},tranformSize:function(Mt){return Mt.size}},Ho=function(Mt){var zt=Mt.currentFile,an=Mt.defaultScale,un=Mt.doc,fn=Mt.initialPage,gn=Mt.initialRotation,Sn=Mt.initialScale,mn=Mt.pageLayout,hn=Mt.pageSizes,yn=Mt.plugins,bn=Mt.renderPage,Mn=Mt.scrollMode,Dn=Mt.viewerState,Rn=Mt.onDocumentLoad,On=Mt.onOpenFile,Zn=Mt.onPageChange,Ln=Mt.onRotate,tr=Mt.onRotatePage,Un=Mt.onZoom,Yn=un.numPages,rr=un.loadingTask.docId,qn=st.useContext(Dt).l10n,ur=st.useContext(it),pr=ur.direction===j.TextDirection.RightToLeft,Mr=st.useRef(),Cr=st.useRef(),zr=st.useState(fn),Sr=zr[0],jr=zr[1],Lr=st.useRef(null),Gr=st.useState(gn),Er=Gr[0],Ir=Gr[1],Ur=Pt(Er),Yr=st.useState(!1),fr=Yr[0],ir=Yr[1],gr=st.useState(new Map),or=gr[0],vr=gr[1],xr=st.useState(Mn),yr=xr[0],Kr=xr[1],Ar=Pt(yr),qr=function(In){var nr=vt(),ar=st.useState([]),Nr=ar[0],Hr=ar[1];return st.useEffect(function(){In.getOutline().then(function(Br){if(nr.current&&Br!==null){var rs=ps(Br);Hr(rs)}})},[]),Nr}(un),Jr=st.useState(Sn),es=Jr[0],ts=Jr[1],wr=st.useRef(Dn),Qr=st.useRef(typeof an=="string"?an:null),Zr=st.useState(-1),ms=Zr[0],Wr=Zr[1],Or=st.useState(0),ss=Or[0],gs=Or[1],ns=Ct({doc:un});st.useEffect(function(){return function(){Kt.clear(),ln.clear()}},[rr]);var ls,bs,Os,Bs,ho=st.useMemo(function(){return Object.assign({},Wo,mn)},[]),qo=st.useCallback(function(In){var nr=[hn[In].pageHeight,hn[In].pageWidth],ar=Math.abs(Er)%180==0?{height:nr[0],width:nr[1]}:{height:nr[1],width:nr[0]};return{height:ar.height*es,width:ar.width*es}},[Er,es]),Ko=st.useCallback(function(In){return Math.max(In-3,0)},[]),Qo=st.useCallback(function(In){return Math.min(In+3,Yn-1)},[Yn]),Zo=st.useCallback(function(In,nr){return ho.tranformSize({numPages:Yn,pageIndex:In,size:nr})},[]),Vr=An({estimateSize:qo,isRtl:pr,numberOfItems:Yn,parentRef:Cr,scrollMode:yr,setStartRange:Ko,setEndRange:Qo,transformSize:Zo}),Jo=(ls=function(In){Qr.current&&(Wr(-1),Ts(Qr.current))},bs=200,Os=st.useRef(),Bs=function(){Os.current&&clearTimeout(Os.current)},st.useEffect(function(){return function(){return Bs()}},[]),st.useCallback(function(){for(var In=[],nr=0;nr<arguments.length;nr++)In[nr]=arguments[nr];Bs(),Os.current=setTimeout(function(){ls.apply(void 0,In)},bs)},[ls,bs]));(function(In){var nr=In.targetRef,ar=In.onResize;ot(function(){var Nr=new ResizeObserver(function(Br){Br.forEach(function(rs){ar(rs.target)})}),Hr=nr.current;if(Hr)return Nr.observe(Hr),function(){Nr.unobserve(Hr)}},[])})({targetRef:Cr,onResize:Jo});var Ss=function(In){var nr=In;yn.forEach(function(ar){ar.onViewerStateChange&&(nr=ar.onViewerStateChange(nr))}),wr.current=nr},na=function(){return Cr.current},ga=function(){return wr.current},fo=st.useCallback(function(In,nr,ar,Nr){var Hr=Cr.current,Br=wr.current;Hr&&Br&&Ht(un,In).then(function(rs){var fs=rs.getViewport({scale:1}),vs=0,Fs=(typeof nr=="function"?nr(fs.width,fs.height):nr)||0,$s=(typeof ar=="function"?ar(fs.width,fs.height):ar)||0,Cs=Br.scale;switch(Nr){case j.SpecialZoomLevel.PageFit:vs=0,$s=0,Ts(j.SpecialZoomLevel.PageFit);break;case j.SpecialZoomLevel.PageWidth:Cs=hs(Hr,hn[In].pageHeight,hn[In].pageWidth,j.SpecialZoomLevel.PageWidth),vs=(fs.height-Fs)*Cs,$s*=Cs,Ts(Cs);break;default:vs=(fs.height-Fs)*Cs,$s*=Cs}switch(Br.scrollMode){case j.ScrollMode.Horizontal:Vr.scrollToItem(In,{left:$s,top:0});break;case j.ScrollMode.Vertical:default:Vr.scrollToItem(In,{left:0,top:vs})}})},[]),_s=st.useCallback(function(In){0<=In&&In<Yn&&Vr.scrollToItem(In,{left:0,top:0})},[]),po=st.useCallback(function(In){var nr,ar;(nr=In.name,ar=nr.split(/\./).pop(),ar?ar.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Nr){var Hr=new FileReader;Hr.readAsArrayBuffer(In),Hr.onload=function(){var Br=new Uint8Array(Hr.result);Nr(Br)}}).then(function(Nr){On(In.name,Nr)})},[On]),mo=st.useCallback(function(In){var nr=In===j.RotateDirection.Backward?-90:90,ar=wr.current.rotation,Nr=ar===360||ar===-360?nr:ar+nr;ns.markNotRendered(),Ir(Nr),Ss(ht(ht({},wr.current),{rotation:Nr})),Ln({direction:In,doc:un,rotation:Nr})},[]),zs=st.useCallback(function(In,nr){var ar=nr===j.RotateDirection.Backward?-90:90,Nr=wr.current.pagesRotation,Hr=(Nr.has(In)?Nr.get(In):gn)+ar,Br=Nr.set(In,Hr);vr(Br),ir(function(rs){return!rs}),Ss(ht(ht({},wr.current),{pagesRotation:Br,rotatedPage:In})),tr({direction:nr,doc:un,pageIndex:In,rotation:Hr}),ns.markRendering(In),Wr(In)},[]),_o=st.useCallback(function(In){Ss(ht(ht({},wr.current),{scrollMode:In})),Kr(In)},[]),Ts=st.useCallback(function(In){var nr=Cr.current,ar=wr.current.pageIndex;if(!(ar<0||ar>=Yn)){var Nr=hn[ar].pageHeight,Hr=hn[ar].pageWidth,Br=nr?typeof In=="string"?hs(nr,Nr,Hr,In):In:1;Qr.current=typeof In=="string"?In:null,Br!==wr.current.scale&&(Vr.zoom(Br/wr.current.scale),gs(function(rs){return rs+1}),ns.markNotRendered(),ts(Br),Un({doc:un,scale:Br}),Ss(ht(ht({},wr.current),{scale:Br})))}},[]);st.useEffect(function(){var In={getPagesContainer:na,getViewerState:ga,jumpToDestination:fo,jumpToPage:_s,openFile:po,rotate:mo,rotatePage:zs,setViewerState:Ss,switchScrollMode:_o,zoom:Ts};return yn.forEach(function(nr){nr.install&&nr.install(In)}),function(){yn.forEach(function(nr){nr.uninstall&&nr.uninstall(In)})}},[rr]),st.useEffect(function(){Rn({doc:un,file:zt}),yn.forEach(function(In){In.onDocumentLoad&&In.onDocumentLoad({doc:un,file:zt})}),fn&&_s(fn)},[rr]),ot(function(){var In=wr.current.pageIndex;In>-1&&Ar!==yr&&Vr.scrollToItem(In,{left:0,top:0})},[yr]),ot(function(){var In=wr.current.pageIndex;In>-1&&Ur!==Er&&Vr.scrollToItem(In,{left:0,top:0})},[Er]),st.useEffect(function(){Vr.isSmoothScrolling||Lr.current!==null&&Lr.current===Sr||(Lr.current=Sr,Zn({currentPage:Sr,doc:un}))},[Sr,Vr.isSmoothScrolling]),st.useEffect(function(){var In=Vr.startRange,nr=Vr.endRange,ar=Vr.maxVisbilityIndex,Nr=Vr.virtualItems,Hr=ar;jr(Hr),Ss(ht(ht({},wr.current),{pageIndex:Hr})),ns.setRange(In,nr);for(var Br=function(fs){var vs=Nr.find(function(Fs){return Fs.index===fs});vs&&ns.setVisibility(fs,vs.visibility)},rs=In;rs<=nr;rs++)Br(rs);vo()},[Vr.startRange,Vr.endRange,Vr.maxVisbilityIndex,fr,Er,es]);var _a=st.useCallback(function(In){ns.markRendered(In),vo()},[ss]),vo=function(){var In=ns.getHighestPriorityPage();In>-1&&ns.isInRange(In)&&(ns.markRendering(In),Wr(In))},ba=function(In){var nr=Sr-1,ar=Sr+1;switch(In){case"FirstPage":_s(0);break;case"LastPage":_s(Yn-1);break;case"NextPage":ar<Yn&&_s(ar);break;case"PrevPage":nr>=0&&_s(nr)}},xa=st.useCallback(function(){var In=qn&&qn.core?qn.core.pageLabel:"Page {{pageIndex}}",nr={attrs:{"data-testid":"core__inner-container",ref:Mr,style:{height:"100%"}},children:st.createElement(st.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:rt({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":yr===j.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":pr,"rpv-core__inner-pages--vertical":yr===j.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":yr===j.ScrollMode.Wrapped}),ref:Cr,style:{height:"100%",overflow:"auto",position:"relative"}},children:st.createElement("div",{style:Vr.getContainerStyles()},Vr.virtualItems.map(function(ar){return st.createElement("div",{"aria-label":In.replace("{{pageIndex}}","".concat(ar.index+1)),className:"rpv-core__inner-page",key:ar.index,role:"region",style:Object.assign({},Vr.getItemStyles(ar),ho.buildPageStyles({numPages:Yn,pageIndex:ar.index}))},st.createElement(Ps,{doc:un,outlines:qr,pageIndex:ar.index,pageRotation:or.has(ar.index)?or.get(ar.index):0,pageSize:hn[ar.index],plugins:yn,renderPage:bn,renderQueueKey:ss,rotation:Er,scale:es,shouldRender:ms===ar.index,onExecuteNamedAction:ba,onJumpToDest:fo,onRenderCompleted:_a,onRotatePage:zs}))}))}};return yn.forEach(function(ar){ar.renderViewer&&(nr=ar.renderViewer({containerRef:Mr,doc:un,pagesRotation:or,pageSizes:hn,rotation:Er,slot:nr,themeContext:ur,jumpToPage:_s,openFile:po,rotate:mo,rotatePage:zs,switchScrollMode:_o,zoom:Ts}))}),nr},[yn,Vr]),yo=st.useCallback(function(In){return st.createElement("div",ht({},In.attrs,{style:In.attrs&&In.attrs.style?In.attrs.style:{}}),In.children,In.subSlot&&yo(In.subSlot))},[]);return yo(xa())},lo=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Vo=function(Mt){var zt=Mt.defaultScale,an=Mt.doc,un=Mt.render,fn=Mt.scrollMode,gn=st.useRef(),Sn=st.useState(1),mn=Sn[0],hn=Sn[1],yn=st.useState([]),bn=yn[0],Mn=yn[1];return st.useLayoutEffect(function(){var Dn=Array(an.numPages).fill(0).map(function(Rn,On){return new Promise(function(Zn,Ln){Ht(an,On).then(function(tr){var Un=tr.getViewport({scale:1});Zn({pageHeight:Un.height,pageWidth:Un.width,rotation:Un.rotation})})})});Promise.all(Dn).then(function(Rn){Mn(Rn);var On=gn.current;if(On&&Rn.length!==0){var Zn=Rn[0].pageWidth,Ln=Rn[0].pageHeight,tr=On.parentElement,Un=(tr.clientWidth-45)/Zn,Yn=(tr.clientHeight-45)/Ln,rr=Un;switch(fn){case j.ScrollMode.Horizontal:rr=Math.min(Un,Yn);break;case j.ScrollMode.Vertical:default:rr=Un}var qn,ur,pr=zt?typeof zt=="string"?hs(tr,Ln,Zn,zt):zt:(qn=rr,(ur=lo.findIndex(function(Mr){return Mr>=qn}))===-1||ur===0?qn:lo[ur-1]);hn(pr)}})},[an.loadingTask.docId]),bn.length===0?st.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:gn},st.createElement(mt,null)):un(bn,mn)},As=function(){};(function(Mt){Mt[Mt.REQUIRE_PASSWORD=0]="REQUIRE_PASSWORD",Mt[Mt.WRONG_PASSWORD=1]="WRONG_PASSWORD"})(Gn||(Gn={}));var Ns=function(Mt){function zt(an,un){var fn=Mt.call(this)||this;return fn.verifyPassword=an,fn.submitPassword=un,fn}return nt(zt,Mt),zt}(As),Xo=function(Mt){var zt=Mt.submitPassword,an=Mt.verifyPassword,un=Mt.onDocumentAskPassword,fn=st.useContext(Dt).l10n,gn=st.useState(""),Sn=gn[0],mn=gn[1],hn=st.useContext(it).direction===j.TextDirection.RightToLeft,yn=function(){return an(Sn)};return st.useEffect(function(){un&&un({verifyPassword:an})},[]),st.createElement("div",{className:"rpv-core__asking-password-wrapper"},st.createElement("div",{className:rt({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":hn})},st.createElement("div",{className:"rpv-core__asking-password-message"},zt===Gn.REQUIRE_PASSWORD&&fn.core.askingPassword.requirePasswordToOpen,zt===Gn.WRONG_PASSWORD&&fn.core.wrongPassword.tryAgain),st.createElement("div",{className:"rpv-core__asking-password-body"},st.createElement("div",{className:rt({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!hn,"rpv-core__asking-password-input--rtl":hn})},st.createElement(_t,{testId:"core__asking-password-input",type:"password",value:Sn,onChange:mn,onKeyDown:function(bn){bn.key==="Enter"&&yn()}})),st.createElement(pt,{onClick:yn},fn.core.askingPassword.submit))))},co=function(Mt){function zt(an){var un=Mt.call(this)||this;return un.doc=an,un}return nt(zt,Mt),zt}(As),uo=function(Mt){function zt(an){var un=Mt.call(this)||this;return un.error=an,un}return nt(zt,Mt),zt}(As),js=function(Mt){function zt(an){var un=Mt.call(this)||this;return un.percentages=an,un}return nt(zt,Mt),zt}(As),Go=function(Mt){var zt=Mt.characterMap,an=Mt.file,un=Mt.httpHeaders,fn=Mt.render,gn=Mt.renderError,Sn=Mt.renderLoader,mn=Mt.transformGetDocumentParams,hn=Mt.withCredentials,yn=Mt.onDocumentAskPassword,bn=st.useContext(it).direction===j.TextDirection.RightToLeft,Mn=st.useState(new js(0)),Dn=Mn[0],Rn=Mn[1],On=st.useState(0);On[0],On[1];var Zn=st.useRef(""),Ln=st.useState(null);Ln[0],Ln[1];var tr=vt();return st.useEffect(function(){Zn.current="",Rn(new js(0));var Un=new gt.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Yn=Object.assign({httpHeaders:un,withCredentials:hn,worker:Un},typeof an=="string"?{url:an}:{data:an},zt?{cMapUrl:zt.url,cMapPacked:zt.isCompressed}:{}),rr=mn?mn(Yn):Yn,qn=gt.getDocument(rr);return qn.onPassword=function(ur,pr){switch(pr){case gt.PasswordResponses.NEED_PASSWORD:tr.current&&Rn(new Ns(ur,Gn.REQUIRE_PASSWORD));break;case gt.PasswordResponses.INCORRECT_PASSWORD:tr.current&&Rn(new Ns(ur,Gn.WRONG_PASSWORD))}},qn.onProgress=function(ur){var pr=ur.total>0?Math.min(100,100*ur.loaded/ur.total):100;tr.current&&Zn.current===""&&Rn(new js(pr))},qn.promise.then(function(ur){Zn.current=ur.loadingTask.docId,tr.current&&Rn(new co(ur))},function(ur){return tr.current&&!Un.destroyed&&Rn(new uo({message:ur.message||"Cannot load document",name:ur.name}))}),function(){qn.destroy(),Un.destroy()}},[an]),Dn instanceof Ns?st.createElement(Xo,{submitPassword:Dn.submitPassword,verifyPassword:Dn.verifyPassword,onDocumentAskPassword:yn}):Dn instanceof co?fn(Dn.doc):Dn instanceof uo?gn?gn(Dn.error):st.createElement("div",{className:rt({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":bn})},st.createElement("div",{className:"rpv-core__doc-error-text"},Dn.error.message)):st.createElement("div",{"data-testid":"core__doc-loading",className:rt({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":bn})},Sn?Sn(Dn.percentages):st.createElement(mt,null))},Yo=function(Mt,zt){var an=st.useMemo(function(){return Mt==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Mt},[]),un=st.useState(an),fn=un[0],gn=un[1],Sn=Pt(fn);return st.useEffect(function(){if(Mt==="auto"){var mn=window.matchMedia("(prefers-color-scheme: dark)"),hn=function(yn){gn(yn.matches?"dark":"light")};return mn.addEventListener("change",hn),function(){return mn.removeEventListener("change",hn)}}},[]),st.useEffect(function(){fn!==Sn&&zt&&zt(fn)},[fn]),st.useEffect(function(){Mt!==fn&&gn(Mt)},[Mt]),{currentTheme:fn,setCurrentTheme:gn}};j.Button=function(Mt){var zt=Mt.children,an=Mt.testId,un=Mt.onClick,fn=st.useContext(it).direction===j.TextDirection.RightToLeft,gn=an?{"data-testid":an}:{};return st.createElement("button",ht({className:rt({"rpv-core__button":!0,"rpv-core__button--rtl":fn}),type:"button",onClick:un},gn),zt)},j.Icon=ct,j.LazyRender=function(Mt){var zt=Mt.attrs,an=Mt.children,un=Mt.testId,fn=st.useState(!1),gn=fn[0],Sn=fn[1],mn=un?ht(ht({},zt),{"data-testid":un}):zt,hn=ft({once:!0,onVisibilityChanged:function(yn){yn.isVisible&&Sn(!0)}});return st.createElement("div",ht({ref:hn},mn),gn&&an)},j.LocalizationContext=Dt,j.Menu=function(Mt){var zt=Mt.children,an=st.useRef(),un=st.useRef([]),fn=st.useContext(it).direction===j.TextDirection.RightToLeft,gn=function(mn){if(an.current)switch(mn.key){case"Tab":mn.preventDefault();break;case"ArrowDown":mn.preventDefault(),Sn(function(hn,yn){return yn+1});break;case"ArrowUp":mn.preventDefault(),Sn(function(hn,yn){return yn-1});break;case"End":mn.preventDefault(),Sn(function(hn,yn){return hn.length-1});break;case"Home":mn.preventDefault(),Sn(function(hn,yn){return 0})}},Sn=function(mn){if(an.current){var hn=un.current,yn=hn.findIndex(function(Mn){return Mn.getAttribute("tabindex")==="0"}),bn=Math.min(hn.length-1,Math.max(0,mn(hn,yn)));yn>=0&&yn<=hn.length-1&&hn[yn].setAttribute("tabindex","-1"),hn[bn].setAttribute("tabindex","0"),hn[bn].focus()}};return ot(function(){var mn=an.current;if(mn){var hn=function(yn){var bn=[];return yn.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(Mn){if(Mn instanceof HTMLElement){var Dn=Mn.parentElement;(Dn===yn||window.getComputedStyle(Dn).display!=="none")&&bn.push(Mn)}}),bn}(mn);un.current=hn}},[]),ot(function(){return document.addEventListener("keydown",gn),function(){document.removeEventListener("keydown",gn)}},[]),st.createElement("div",{ref:an,"aria-orientation":"vertical",className:rt({"rpv-core__menu":!0,"rpv-core__menu--rtl":fn}),role:"menu",tabIndex:0},zt)},j.MenuDivider=function(){return st.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},j.MenuItem=function(Mt){var zt=Mt.checked,an=zt!==void 0&&zt,un=Mt.children,fn=Mt.icon,gn=fn===void 0?null:fn,Sn=Mt.isDisabled,mn=Sn!==void 0&&Sn,hn=Mt.testId,yn=Mt.onClick,bn=st.useContext(it).direction===j.TextDirection.RightToLeft,Mn=hn?{"data-testid":hn}:{};return st.createElement("button",ht({className:rt({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":mn,"rpv-core__menu-item--ltr":!bn,"rpv-core__menu-item--rtl":bn}),role:"menuitem",tabIndex:-1,type:"button",onClick:yn},Mn),st.createElement("div",{className:rt({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!bn,"rpv-core__menu-item-icon--rtl":bn})},gn),st.createElement("div",{className:rt({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!bn,"rpv-core__menu-item-label--rtl":bn})},un),st.createElement("div",{className:rt({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!bn,"rpv-core__menu-item-check--rtl":bn})},an&&st.createElement(dt,null)))},j.MinimalButton=function(Mt){var zt=Mt.ariaLabel,an=zt===void 0?"":zt,un=Mt.ariaKeyShortcuts,fn=un===void 0?"":un,gn=Mt.children,Sn=Mt.isDisabled,mn=Sn!==void 0&&Sn,hn=Mt.isSelected,yn=hn!==void 0&&hn,bn=Mt.testId,Mn=Mt.onClick,Dn=st.useContext(it).direction===j.TextDirection.RightToLeft,Rn=bn?{"data-testid":bn}:{};return st.createElement("button",ht({"aria-label":an},fn&&{"aria-keyshortcuts":fn},mn&&{"aria-disabled":!0},{className:rt({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":mn,"rpv-core__minimal-button--rtl":Dn,"rpv-core__minimal-button--selected":yn}),type:"button",onClick:Mn},Rn),gn)},j.Modal=function(Mt){var zt=Mt.ariaControlsSuffix,an=Mt.closeOnClickOutside,un=Mt.closeOnEscape,fn=Mt.content,gn=Mt.isOpened,Sn=gn!==void 0&&gn,mn=Mt.target,hn=zt||"".concat(Ft());return st.createElement(Gt,{target:mn?function(yn,bn){return st.createElement("div",{"aria-expanded":bn?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(hn)},mn(yn,bn))}:null,content:function(yn){return st.createElement(Xt,null,st.createElement(Ut,{ariaControlsSuffix:hn,closeOnClickOutside:an,closeOnEscape:un,onToggle:yn},fn(yn)))},isOpened:Sn})},j.Popover=function(Mt){var zt=Mt.ariaHasPopup,an=zt===void 0?"dialog":zt,un=Mt.ariaControlsSuffix,fn=Mt.closeOnClickOutside,gn=Mt.closeOnEscape,Sn=Mt.content,mn=Mt.lockScroll,hn=mn===void 0||mn,yn=Mt.offset,bn=Mt.position,Mn=Mt.target,Dn=Jt(!1),Rn=Dn.opened,On=Dn.toggle,Zn=st.useRef(),Ln=st.useMemo(function(){return un||"".concat(Ft())},[]);return st.createElement("div",{ref:Zn,"aria-expanded":Rn?"true":"false","aria-haspopup":an,"aria-controls":"rpv-core__popver-body-".concat(Ln)},Mn(On,Rn),Rn&&st.createElement(st.Fragment,null,hn&&st.createElement(Rt,{closeOnEscape:gn,onClose:On}),st.createElement($t,{ariaControlsSuffix:Ln,closeOnClickOutside:fn,offset:yn,position:bn,targetRef:Zn,onClose:On},Sn(On))))},j.PrimaryButton=pt,j.ProgressBar=function(Mt){var zt=Mt.progress,an=st.useContext(it).direction===j.TextDirection.RightToLeft;return st.createElement("div",{className:rt({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":an})},st.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(zt,"%")}},zt,"%"))},j.Separator=function(){return st.createElement("div",{className:"rpv-core__separator"})},j.Spinner=mt,j.Splitter=function(Mt){var zt=Mt.constrain,an=st.useContext(it).direction===j.TextDirection.RightToLeft,un=st.useRef(),fn=st.useRef(),gn=st.useRef(),Sn=st.useRef(0),mn=st.useRef(0),hn=st.useRef(0),yn=st.useRef(0),bn={capture:!0},Mn=function(Rn){var On=un.current,Zn=fn.current,Ln=gn.current;if(On&&Zn&&Ln){var tr=yn.current,Un=Rn.clientX-Sn.current,Yn=hn.current+(an?-Un:Un),rr=On.parentElement.getBoundingClientRect().width,qn=100*Yn/rr;if(On.classList.add("rpv-core__splitter--resizing"),zt){var ur=rr-Yn-tr;if(!zt({firstHalfPercentage:qn,firstHalfSize:Yn,secondHalfPercentage:100*ur/rr,secondHalfSize:ur}))return}Zn.style.width="".concat(qn,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Zn.classList.add("rpv-core__splitter-sibling--resizing"),Ln.classList.add("rpv-core__splitter-sibling--resizing")}},Dn=function(Rn){var On=un.current,Zn=fn.current,Ln=gn.current;On&&Zn&&Ln&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),On.classList.remove("rpv-core__splitter--resizing"),Zn.classList.remove("rpv-core__splitter-sibling--resizing"),Ln.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",Mn,bn),document.removeEventListener("mouseup",Dn,bn))};return st.useEffect(function(){var Rn=un.current;Rn&&(yn.current=Rn.getBoundingClientRect().width,fn.current=Rn.previousElementSibling,gn.current=Rn.nextElementSibling)},[]),st.createElement("div",{ref:un,className:"rpv-core__splitter",onMouseDown:function(Rn){var On=fn.current;On&&(Sn.current=Rn.clientX,mn.current=Rn.clientY,hn.current=On.getBoundingClientRect().width,document.addEventListener("mousemove",Mn,bn),document.addEventListener("mouseup",Dn,bn))}})},j.TextBox=_t,j.ThemeContext=it,j.Tooltip=function(Mt){var zt=Mt.ariaControlsSuffix,an=Mt.content,un=Mt.offset,fn=Mt.position,gn=Mt.target,Sn=Jt(!1),mn=Sn.opened,hn=Sn.toggle,yn=st.useRef(),bn=st.useRef(),Mn=st.useMemo(function(){return zt||"".concat(Ft())},[]);Qt(function(){yn.current&&document.activeElement&&yn.current.contains(document.activeElement)&&Rn()});var Dn=function(){hn(j.ToggleStatus.Open)},Rn=function(){hn(j.ToggleStatus.Close)};return st.createElement(st.Fragment,null,st.createElement("div",{ref:yn,"aria-describedby":"rpv-core__tooltip-body-".concat(Mn),onBlur:function(On){On.relatedTarget instanceof HTMLElement&&On.currentTarget.parentElement&&On.currentTarget.parentElement.contains(On.relatedTarget)?bn.current&&(bn.current.style.display="none"):Rn()},onFocus:Dn,onMouseEnter:Dn,onMouseLeave:Rn},gn),mn&&st.createElement(Bt,{ariaControlsSuffix:Mn,contentRef:bn,offset:un,position:fn,targetRef:yn},an()))},j.Viewer=function(Mt){var zt=Mt.characterMap,an=Mt.defaultScale,un=Mt.fileUrl,fn=Mt.httpHeaders,gn=fn===void 0?{}:fn,Sn=Mt.initialPage,mn=Sn===void 0?0:Sn,hn=Mt.pageLayout,yn=Mt.initialRotation,bn=yn===void 0?0:yn,Mn=Mt.localization,Dn=Mt.plugins,Rn=Dn===void 0?[]:Dn,On=Mt.renderError,Zn=Mt.renderPage,Ln=Mt.renderLoader,tr=Mt.scrollMode,Un=tr===void 0?j.ScrollMode.Vertical:tr,Yn=Mt.transformGetDocumentParams,rr=Mt.theme,qn=rr===void 0?{direction:j.TextDirection.LeftToRight,theme:"light"}:rr,ur=Mt.withCredentials,pr=ur!==void 0&&ur,Mr=Mt.onDocumentAskPassword,Cr=Mt.onDocumentLoad,zr=Cr===void 0?function(){}:Cr,Sr=Mt.onPageChange,jr=Sr===void 0?function(){}:Sr,Lr=Mt.onRotate,Gr=Lr===void 0?function(){}:Lr,Er=Mt.onRotatePage,Ir=Er===void 0?function(){}:Er,Ur=Mt.onSwitchTheme,Yr=Ur===void 0?function(){}:Ur,fr=Mt.onZoom,ir=fr===void 0?function(){}:fr,gr=st.useState({data:un,name:typeof un=="string"?un:"",shouldLoad:!1}),or=gr[0],vr=gr[1],xr=function(Wr,Or){vr({data:Or,name:Wr,shouldLoad:!0})},yr=st.useState(!1),Kr=yr[0],Ar=yr[1],qr=Pt(or);st.useEffect(function(){var Wr,Or,ss,gs;Wr=qr.data,gs=typeof(Or=un),(ss=typeof Wr)=="string"&&gs==="string"&&Wr===Or||ss==="object"&&gs==="object"&&Wr.length===Or.length&&Wr.every(function(ns,ls){return ns===Or[ls]})||vr({data:un,name:typeof un=="string"?un:"",shouldLoad:Kr})},[un,Kr]);var Jr=ft({onVisibilityChanged:function(Wr){Ar(Wr.isVisible),Wr.isVisible&&vr(function(Or){return Object.assign({},Or,{shouldLoad:!0})})}}),es=typeof qn=="string"?{direction:j.TextDirection.LeftToRight,theme:qn}:qn,ts=st.useState(Mn||bt),wr=ts[0],Qr=ts[1],Zr={l10n:wr,setL10n:Qr},ms=Object.assign({},{direction:es.direction},Yo(es.theme||"light",Yr));return st.useEffect(function(){Mn&&Qr(Mn)},[Mn]),st.createElement(Dt.Provider,{value:Zr},st.createElement(it.Provider,{value:ms},st.createElement("div",{ref:Jr,className:"rpv-core__viewer rpv-core__viewer--".concat(ms.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},or.shouldLoad&&st.createElement(Go,{characterMap:zt,file:or.data,httpHeaders:gn,render:function(Wr){return st.createElement(Vo,{defaultScale:an,doc:Wr,render:function(Or,ss){return st.createElement(Ho,{currentFile:{data:or.data,name:or.name},defaultScale:an,doc:Wr,initialPage:mn,initialRotation:bn,initialScale:ss,pageLayout:hn,pageSizes:Or,plugins:Rn,renderPage:Zn,scrollMode:Un,viewerState:{file:or,pageIndex:-1,pageHeight:Or[0].pageHeight,pageWidth:Or[0].pageWidth,pagesRotation:new Map,rotation:bn,scale:ss,scrollMode:Un},onDocumentLoad:zr,onOpenFile:xr,onPageChange:jr,onRotate:Gr,onRotatePage:Ir,onZoom:ir})},scrollMode:Un})},renderError:On,renderLoader:Ln,transformGetDocumentParams:Yn,withCredentials:pr,onDocumentAskPassword:Mr}))))},j.Worker=function(Mt){var zt=Mt.children,an=Mt.workerUrl;return gt.GlobalWorkerOptions.workerSrc=an,st.createElement(st.Fragment,null,zt)},j.classNames=rt,j.createStore=function(Mt){var zt=Mt||{},an={},un=function(gn,Sn){var mn;zt=ht(ht({},zt),((mn={})[gn]=Sn,mn)),(an[gn]||[]).forEach(function(hn){return hn(zt[gn])})},fn=function(gn){return zt[gn]};return{subscribe:function(gn,Sn){an[gn]=(an[gn]||[]).concat(Sn)},unsubscribe:function(gn,Sn){an[gn]=(an[gn]||[]).filter(function(mn){return mn!==Sn})},update:function(gn,Sn){un(gn,Sn)},updateCurrentValue:function(gn,Sn){var mn=fn(gn);mn!==void 0&&un(gn,Sn(mn))},get:function(gn){return fn(gn)}}},j.getDestination=nn,j.getPage=Ht,j.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},j.useIntersectionObserver=ft,j.useIsMounted=vt,j.useIsomorphicLayoutEffect=ot,j.useRenderQueue=Ct})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=core_min})(lib$h);var lib$g={exports:{}},defaultLayout_min={},lib$f={exports:{}},attachment_min={},e$f=lib$h.exports;function t$f(j){var $=Object.create(null);return j&&Object.keys(j).forEach(function(_e){if(_e!=="default"){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}}),$.default=j,Object.freeze($)}var n$f=t$f(react.exports),a$f=function(j){var $=j.files,_e=n$f.useRef(),et=n$f.useContext(e$f.LocalizationContext).l10n,tt=n$f.useContext(e$f.ThemeContext).direction===e$f.TextDirection.RightToLeft,st=n$f.useRef([]),gt=et&&et.attachment?et.attachment.clickToDownload:"Click to download",lt=function(nt){var ut=_e.current,ht=[].slice.call(ut.getElementsByClassName("rpv-attachment__item"));if(ht.length!==0){ht.forEach(function(rt){return rt.setAttribute("tabindex","-1")});var at=document.activeElement,it=ht[Math.min(ht.length-1,Math.max(0,nt(ht,at)))];it.setAttribute("tabindex","0"),it.focus()}};return e$f.useIsomorphicLayoutEffect(function(){var nt=_e.current;if(nt){var ut=[].slice.call(nt.getElementsByClassName("rpv-attachment__item"));if(st.current=ut,ut.length>0){var ht=ut[0];ht.focus(),ht.setAttribute("tabindex","0")}}},[]),n$f.createElement("div",{"data-testid":"attachment__list",className:e$f.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":tt}),ref:_e,tabIndex:-1,onKeyDown:function(nt){switch(nt.key){case"ArrowDown":nt.preventDefault(),lt(function(ut,ht){return ut.indexOf(ht)+1});break;case"ArrowUp":nt.preventDefault(),lt(function(ut,ht){return ut.indexOf(ht)-1});break;case"End":nt.preventDefault(),lt(function(ut,ht){return ut.length-1});break;case"Home":nt.preventDefault(),lt(function(ut,ht){return 0})}}},$.map(function(nt){return n$f.createElement("button",{className:"rpv-attachment__item",key:nt.fileName,tabIndex:-1,title:gt,type:"button",onClick:function(){return ut=nt.fileName,ht=nt.data,at=typeof ht=="string"?"":URL.createObjectURL(new Blob([ht],{type:""})),(it=document.createElement("a")).style.display="none",it.href=at||ut,it.setAttribute("download",function(rt){var ot=rt.split("/").pop();return ot?ot.split("#")[0].split("?")[0]:rt}(ut)),document.body.appendChild(it),it.click(),document.body.removeChild(it),void(at&&URL.revokeObjectURL(at));var ut,ht,at,it}},nt.fileName)}))},r$f=function(j){var $=j.doc,_e=n$f.useContext(e$f.LocalizationContext).l10n,et=n$f.useContext(e$f.ThemeContext).direction===e$f.TextDirection.RightToLeft,tt=_e&&_e.attachment?_e.attachment.noAttachment:"There is no attachment",st=n$f.useState({files:[],isLoaded:!1}),gt=st[0],lt=st[1];return n$f.useEffect(function(){$.getAttachments().then(function(nt){var ut=nt?Object.keys(nt).map(function(ht){return{data:nt[ht].content,fileName:nt[ht].filename}}):[];lt({files:ut,isLoaded:!0})})},[$]),gt.isLoaded?gt.files.length===0?n$f.createElement("div",{"data-testid":"attachment__empty",className:e$f.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":et})},tt):n$f.createElement(a$f,{files:gt.files}):n$f.createElement(e$f.Spinner,null)},c$f=function(j){var $=j.store,_e=n$f.useState($.get("doc")),et=_e[0],tt=_e[1],st=function(gt){tt(gt)};return n$f.useEffect(function(){return $.subscribe("doc",st),function(){$.unsubscribe("doc",st)}},[]),et?n$f.createElement(r$f,{doc:et}):n$f.createElement("div",{className:"rpv-attachment__loader"},n$f.createElement(e$f.Spinner,null))};attachment_min.attachmentPlugin=function(){var j=n$f.useMemo(function(){return e$f.createStore({})},[]);return{onDocumentLoad:function($){j.update("doc",$.doc)},Attachments:function(){return n$f.createElement(c$f,{store:j})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=attachment_min})(lib$f);var lib$e={exports:{}},bookmark_min={},e$e=lib$h.exports;function t$e(j){var $=Object.create(null);return j&&Object.keys(j).forEach(function(_e){if(_e!=="default"){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}}),$.default=j,Object.freeze($)}var o$e,r$e=t$e(react.exports),n$e=function(){return r$e.createElement(e$e.Icon,{size:16},r$e.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},a$e=function(){return r$e.createElement(e$e.Icon,{size:16},r$e.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},i$e=function(j){var $=j.bookmark,_e=j.depth,et=j.doc,tt=j.index,st=j.isBookmarkExpanded,gt=j.numberOfSiblings,lt=j.pathFromRoot,nt=j.renderBookmarkItem,ut=j.store,ht=j.onJumpToDest,at=lt?"".concat(lt,".").concat(tt):"".concat(tt),it=r$e.useMemo(function(){return function(Dt){var wt=Dt.count,Ft=Dt.items;if(wt>=0)return!1;var Lt=Ft.length;if(Lt===0)return!1;for(var Qt=Ft.concat([]);Qt.length>0;){var Ut=Qt.shift(),Xt=Ut.items;Ut.count&&Xt&&Ut.count>0&&Xt.length>0&&(Lt+=Xt.length,Qt=Qt.concat(Xt))}return Math.abs(wt)===Lt}($)},[$]),rt=ut.get("bookmarkExpandedMap"),ot=st?st({bookmark:$,doc:et,depth:_e,index:tt}):rt.has(at)?rt.get(at):!it,ft=r$e.useState(ot),ct=ft[0],dt=ft[1],pt=$.items&&$.items.length>0,mt=function(){var Dt=!ct;ut.updateCurrentValue("bookmarkExpandedMap",function(wt){return wt.set(at,Dt)}),dt(Dt)},_t=function(){pt&&$.dest&&ht($.dest)},vt=function(){!pt&&$.dest&&ht($.dest)},yt=function(Dt,wt){return r$e.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*_e,"rem")},onClick:Dt},wt)},Ct=function(Dt,wt){return pt?r$e.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(_e,"-").concat(tt),onClick:mt},ct?Dt:wt):r$e.createElement("span",{className:"rpv-bookmark__toggle"})},bt=function(Dt){return $.url?r$e.createElement("a",{className:"rpv-bookmark__title",href:$.url,rel:"noopener noreferrer nofollow",target:$.newWindow?"_blank":""},$.title):r$e.createElement("div",{className:"rpv-bookmark__title","aria-label":$.title,onClick:Dt},$.title)};return r$e.createElement("li",{"aria-expanded":ct?"true":"false","aria-label":$.title,"aria-level":_e+1,"aria-posinset":tt+1,"aria-setsize":gt,role:"treeitem",tabIndex:-1},nt?nt({bookmark:$,depth:_e,hasSubItems:pt,index:tt,isExpanded:ct,path:at,defaultRenderItem:yt,defaultRenderTitle:bt,defaultRenderToggle:Ct,onClickItem:vt,onClickTitle:_t,onToggleSubItems:mt}):yt(vt,r$e.createElement(r$e.Fragment,null,Ct(r$e.createElement(n$e,null),r$e.createElement(a$e,null)),bt(_t))),pt&&ct&&r$e.createElement(c$e,{bookmarks:$.items,depth:_e+1,doc:et,isBookmarkExpanded:st,isRoot:!1,pathFromRoot:at,renderBookmarkItem:nt,store:ut,onJumpToDest:ht}))},c$e=function(j){var $=j.bookmarks,_e=j.depth,et=_e===void 0?0:_e,tt=j.doc,st=j.isBookmarkExpanded,gt=j.isRoot,lt=j.pathFromRoot,nt=j.renderBookmarkItem,ut=j.store,ht=j.onJumpToDest;return r$e.createElement("ul",{className:"rpv-bookmark__list",role:gt?"tree":"group",tabIndex:-1},$.map(function(at,it){return r$e.createElement(i$e,{bookmark:at,depth:et,doc:tt,index:it,isBookmarkExpanded:st,key:it,numberOfSiblings:$.length,pathFromRoot:lt,renderBookmarkItem:nt,store:ut,onJumpToDest:ht})}))};(function(j){j[j.Collapse=0]="Collapse",j[j.Expand=1]="Expand"})(o$e||(o$e={}));var m$8=function(j){var $=j.bookmarks,_e=j.doc,et=j.isBookmarkExpanded,tt=j.renderBookmarkItem,st=j.store,gt=j.onJumpToDest,lt=r$e.useRef(),nt=function(it){var rt=lt.current;if(rt&&it.target instanceof HTMLElement&&rt.contains(it.target))switch(it.key){case"ArrowDown":it.preventDefault(),ht(function(ot,ft){return ot.indexOf(ft)+1});break;case"ArrowLeft":it.preventDefault(),at(o$e.Collapse);break;case"ArrowRight":it.preventDefault(),at(o$e.Expand);break;case"ArrowUp":it.preventDefault,ht(function(ot,ft){return ot.indexOf(ft)-1});break;case"End":it.preventDefault(),ht(function(ot,ft){return ot.length-1});break;case" ":case"Enter":case"Space":it.preventDefault(),ut();break;case"Home":it.preventDefault(),ht(function(ot,ft){return 0})}},ut=function(){var it=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");it&&it.click()},ht=function(it){var rt=lt.current,ot=[].slice.call(rt.getElementsByClassName("rpv-bookmark__item"));if(ot.length!==0){var ft=document.activeElement,ct=ot[Math.min(ot.length-1,Math.max(0,it(ot,ft)))];ft.setAttribute("tabindex","-1"),ct.setAttribute("tabindex","0"),ct.focus()}},at=function(it){var rt=lt.current;if([].slice.call(rt.getElementsByClassName("rpv-bookmark__item")).length!==0){var ot=document.activeElement.closest(".rpv-bookmark__item"),ft=it===o$e.Collapse?"true":"false";if(ot&&ot.parentElement.getAttribute("aria-expanded")===ft){var ct=ot.querySelector(".rpv-bookmark__toggle");ct&&ct.click()}}};return r$e.useEffect(function(){return document.addEventListener("keydown",nt),function(){document.removeEventListener("keydown",nt)}},[]),r$e.useEffect(function(){var it=lt.current;if(it){var rt=[].slice.call(it.getElementsByClassName("rpv-bookmark__item"));rt.length>0&&(rt[0].focus(),rt[0].setAttribute("tabindex","0"))}},[]),r$e.createElement("div",{ref:lt},r$e.createElement(c$e,{bookmarks:$,depth:0,doc:_e,isBookmarkExpanded:et,isRoot:!0,pathFromRoot:"",renderBookmarkItem:tt,store:st,onJumpToDest:function(it){e$e.getDestination(_e,it).then(function(rt){var ot=rt.pageIndex,ft=rt.bottomOffset,ct=rt.leftOffset,dt=rt.scaleTo;gt(ot,ft,ct,dt)})}}))},s$a=function(j){var $=j.doc,_e=j.isBookmarkExpanded,et=j.renderBookmarkItem,tt=j.store,st=j.onJumpToDest,gt=r$e.useContext(e$e.LocalizationContext).l10n,lt=r$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,nt=r$e.useState({isLoaded:!1,items:[]}),ut=nt[0],ht=nt[1];return r$e.useEffect(function(){ht({isLoaded:!1,items:[]}),$.getOutline().then(function(at){ht({isLoaded:!0,items:at||[]})})},[$]),ut.isLoaded?ut.items.length===0?r$e.createElement("div",{"data-testid":"bookmark__empty",className:e$e.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":lt})},gt&&gt.bookmark?gt.bookmark.noBookmark:"There is no bookmark"):r$e.createElement("div",{"data-testid":"bookmark__container",className:e$e.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":lt})},r$e.createElement(m$8,{bookmarks:ut.items,doc:$,isBookmarkExpanded:_e,renderBookmarkItem:et,store:tt,onJumpToDest:st})):r$e.createElement("div",{className:"rpv-bookmark__loader"},r$e.createElement(e$e.Spinner,null))},l$e=function(j){var $=j.isBookmarkExpanded,_e=j.renderBookmarkItem,et=j.store,tt=r$e.useState(et.get("doc")),st=tt[0],gt=tt[1],lt=function(nt){gt(nt)};return r$e.useEffect(function(){return et.subscribe("doc",lt),function(){et.unsubscribe("doc",lt)}},[]),st?r$e.createElement(s$a,{doc:st,isBookmarkExpanded:$,renderBookmarkItem:_e,store:et,onJumpToDest:function(nt,ut,ht,at){var it=et.get("jumpToDestination");it&&it(nt,ut,ht,at)}}):r$e.createElement("div",{className:"rpv-bookmark__loader"},r$e.createElement(e$e.Spinner,null))};bookmark_min.DownArrowIcon=n$e,bookmark_min.RightArrowIcon=a$e,bookmark_min.bookmarkPlugin=function(){var j=r$e.useMemo(function(){return e$e.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function($){j.update("jumpToDestination",$.jumpToDestination)},onDocumentLoad:function($){j.update("doc",$.doc)},Bookmarks:function($){return r$e.createElement(l$e,{isBookmarkExpanded:$==null?void 0:$.isBookmarkExpanded,renderBookmarkItem:$==null?void 0:$.renderBookmarkItem,store:j})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=bookmark_min})(lib$e);var lib$d={exports:{}},thumbnail_min={},e$d=lib$h.exports;function t$d(j){var $=Object.create(null);return j&&Object.keys(j).forEach(function(_e){if(_e!=="default"){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}}),$.default=j,Object.freeze($)}var n$d=t$d(react.exports),a$d=function(){return a$d=Object.assign||function(j){for(var $,_e=1,et=arguments.length;_e<et;_e++)for(var tt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,tt)&&(j[tt]=$[tt]);return j},a$d.apply(this,arguments)},r$d=function(j){var $=j.doc,_e=j.getPageIndex,et=j.renderSpinner,tt=j.store,st=$.numPages,gt=_e?_e({numPages:st}):0,lt=Math.max(0,Math.min(gt,st-1)),nt=tt.get("pagesRotation")||new Map,ut=nt.has(lt)?nt.get(lt):0,ht=n$d.useState(""),at=ht[0],it=ht[1],rt=e$d.useIsMounted(),ot=n$d.useRef(),ft=n$d.useState(tt.get("rotation")||0),ct=ft[0],dt=ft[1],pt=n$d.useState(ut),mt=pt[0],_t=pt[1],vt=n$d.useState(!1),yt=vt[0],Ct=vt[1],bt=function(Ft){var Lt=Ft.has(lt)?Ft.get(lt):0;_t(Lt)},Dt=function(Ft){dt(Ft)},wt=e$d.useIntersectionObserver({onVisibilityChanged:function(Ft){Ct(Ft.isVisible)}});return n$d.useEffect(function(){if(yt){var Ft=wt.current;Ft&&(it(""),e$d.getPage($,lt).then(function(Lt){var Qt=Lt.getViewport({scale:1}),Ut=(Qt.rotation+ct+mt)%360,Xt=Math.abs(ct+mt)%180==0,qt=Xt?Qt.width:Qt.height,Jt=Xt?Qt.height:Qt.width,Gt=document.createElement("canvas"),Et=Gt.getContext("2d",{alpha:!1}),At=Ft.clientWidth,It=Ft.clientHeight,Ot=Math.min(At/qt,It/Jt),Tt=Ot*qt,St=Ot*Jt;Gt.height=St,Gt.width=Tt,Gt.style.opacity="0";var xt=Lt.getViewport({rotation:Ut,scale:Ot});ot.current=Lt.render({canvasContext:Et,viewport:xt}),ot.current.promise.then(function(){rt.current&&it(Gt.toDataURL()),Gt.width=0,Gt.height=0},function(){})}))}},[mt,yt]),n$d.useEffect(function(){return tt.subscribe("pagesRotation",bt),tt.subscribe("rotation",Dt),function(){tt.unsubscribe("pagesRotation",bt),tt.unsubscribe("rotation",Dt)}},[]),n$d.useEffect(function(){return function(){var Ft;(Ft=ot.current)===null||Ft===void 0||Ft.cancel()}},[]),n$d.createElement("div",{ref:wt,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},at?n$d.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:at}):n$d.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},et?et():n$d.createElement(e$d.Spinner,null)))},i$d=function(j){var $=j.getPageIndex,_e=j.renderSpinner,et=j.store,tt=n$d.useState(et.get("doc")),st=tt[0],gt=tt[1],lt=function(nt){gt(nt)};return n$d.useEffect(function(){return et.subscribe("doc",lt),function(){et.unsubscribe("doc",lt)}},[]),n$d.createElement("div",{className:"rpv-thumbnail__cover"},st?n$d.createElement(r$d,{doc:st,getPageIndex:$,renderSpinner:_e,store:et}):n$d.createElement("div",{className:"rpv-thumbnail__cover-loader"},_e?_e():n$d.createElement(e$d.Spinner,null)))},o$d=function(){return n$d.createElement(e$d.Spinner,null)},u$d=n$d.createContext({renderSpinner:o$d}),c$d=function(j){var $=j.children,_e=j.doc,et=e$d.useIsMounted(),tt=n$d.useState({loading:!0,labels:[]}),st=tt[0],gt=tt[1];return n$d.useEffect(function(){_e.getPageLabels().then(function(lt){et.current&&gt({loading:!1,labels:lt||[]})})},[_e.loadingTask.docId]),st.loading?n$d.createElement(n$d.Fragment,null):$(st.labels)},s$9=function(j){var $=j.page,_e=j.pageHeight,et=j.pageIndex,tt=j.pageWidth,st=j.rotation,gt=j.thumbnailHeight,lt=j.thumbnailWidth,nt=j.onRenderCompleted,ut=n$d.useContext(e$d.LocalizationContext).l10n,ht=n$d.useRef(),at=n$d.useState(""),it=at[0],rt=at[1],ot=ut&&ut.thumbnail?ut.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return n$d.useEffect(function(){var ft=ht.current;ft&&ft.cancel();var ct=document.createElement("canvas"),dt=ct.getContext("2d",{alpha:!1}),pt=lt,mt=pt/(tt/_e),_t=pt/tt;ct.height=mt,ct.width=pt,ct.style.height="".concat(mt,"px"),ct.style.width="".concat(pt,"px");var vt=$.getViewport({rotation:st,scale:_t});return ht.current=$.render({canvasContext:dt,viewport:vt}),ht.current.promise.then(function(){rt(ct.toDataURL()),nt(et)},function(){nt(et)}),function(){var yt;(yt=ht.current)===null||yt===void 0||yt.cancel()}},[st]),it?n$d.createElement("img",{"aria-label":ot.replace("{{pageIndex}}","".concat(et+1)),src:it,height:"".concat(gt,"px"),width:"".concat(lt,"px")}):n$d.useContext(u$d).renderSpinner()},l$d=function(j){var $=j.doc,_e=j.pageHeight,et=j.pageIndex,tt=j.pageRotation,st=j.pageWidth,gt=j.rotation,lt=j.shouldRender,nt=j.thumbnailWidth,ut=j.onRenderCompleted,ht=j.onVisibilityChanged,at=e$d.useIsMounted(),it=n$d.useState({height:_e,page:null,viewportRotation:0,width:st}),rt=it[0],ot=it[1],ft=rt.page,ct=rt.height,dt=rt.width,pt=dt/ct,mt=Math.abs(gt+tt)%180==0,_t=mt?nt:nt/pt,vt=mt?nt/pt:nt;n$d.useEffect(function(){lt&&e$d.getPage($,et).then(function(bt){var Dt=bt.getViewport({scale:1});at.current&&ot({height:Dt.height,page:bt,viewportRotation:Dt.rotation,width:Dt.width})})},[lt]);var yt=(rt.viewportRotation+gt+tt)%360,Ct=e$d.useIntersectionObserver({onVisibilityChanged:function(bt){ht(et,bt)}});return n$d.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(et),ref:Ct,style:{height:"".concat(vt,"px"),width:"".concat(_t,"px")}},ft?n$d.createElement(s$9,{page:ft,pageHeight:mt?ct:dt,pageIndex:et,pageWidth:mt?dt:ct,rotation:yt,thumbnailHeight:vt,thumbnailWidth:_t,onRenderCompleted:ut}):n$d.useContext(u$d).renderSpinner())},d$a=function(j){var $=j.currentPage,_e=j.doc,et=j.labels,tt=j.pagesRotation,st=j.pageHeight,gt=j.pageWidth,lt=j.renderCurrentPageLabel,nt=j.renderThumbnailItem,ut=j.rotatedPage,ht=j.rotation,at=j.thumbnailWidth,it=j.onJumpToPage,rt=j.onRotatePage,ot=_e.numPages,ft=_e.loadingTask.docId,ct=n$d.useRef(null),dt=n$d.useRef([]),pt=n$d.useState($),mt=pt[0],_t=pt[1],vt=n$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,yt=n$d.useState(-1),Ct=yt[0],bt=yt[1],Dt=e$d.useIsMounted(),wt=n$d.useRef(!1),Ft=e$d.useRenderQueue({doc:_e}),Lt=n$d.useMemo(function(){return Array(ot).fill(0).map(function(Et,At){return At})},[ft]),Qt=function(){if(ct.current){var Et=dt.current,At=mt+1;At<Et.length&&(mt>=0&&Et[mt].setAttribute("tabindex","-1"),_t(At))}},Ut=function(){if(ct.current){var Et=dt.current,At=mt-1;At>=0&&(mt>=0&&Et[mt].setAttribute("tabindex","-1"),_t(At))}},Xt=function(){mt>=0&&mt<ot&&it(mt)};e$d.useIsomorphicLayoutEffect(function(){var Et=ct.current;Et&&(dt.current=Array.from(Et.querySelectorAll(".rpv-thumbnail__item")))},[]),n$d.useEffect(function(){var Et=dt.current;if(!(Et.length===0||mt<0||mt>Et.length)){var At=Et[mt];At.setAttribute("tabindex","0"),At.focus()}},[mt]),e$d.useIsomorphicLayoutEffect(function(){var Et=ct.current;if(Et){var At=Et.children;$<At.length&&function(It,Ot){var Tt=It.getBoundingClientRect().top-Ot.getBoundingClientRect().top,St=It.clientHeight,xt=Ot.clientHeight;Tt<0?Ot.scrollTop+=Tt:Tt+St<=xt||(Ot.scrollTop+=Tt+St-xt)}(At.item($),Et)}},[$]);var qt=n$d.useCallback(function(Et){Dt.current&&(Ft.markRendered(Et),wt.current=!1,Gt())},[ft]),Jt=n$d.useCallback(function(Et,At){At.isVisible?Ft.setVisibility(Et,At.ratio):Ft.setOutOfRange(Et),Gt()},[ft]),Gt=n$d.useCallback(function(){if(!wt.current){var Et=Ft.getHighestPriorityPage();Et>-1&&(Ft.markRendering(Et),wt.current=!0,bt(Et))}},[ft]);return n$d.useEffect(function(){ut>=0&&(Ft.markRendering(ut),wt.current=!0,bt(ut))},[ft,ut]),n$d.createElement("div",{ref:ct,"data-testid":"thumbnail__list",className:e$d.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--rtl":vt}),onKeyDown:function(Et){switch(Et.key){case"ArrowDown":Qt();break;case"ArrowUp":Ut();break;case"Enter":Xt()}}},Lt.map(function(Et){var At="".concat(_e.loadingTask.docId,"___").concat(Et),It=et.length===ot?et[Et]:"".concat(Et+1),Ot=lt?lt({currentPage:$,pageIndex:Et,numPages:ot,pageLabel:It}):It,Tt=tt.has(Et)?tt.get(Et):0,St=n$d.createElement(l$d,{doc:_e,pageHeight:st,pageIndex:Et,pageRotation:Tt,pageWidth:gt,rotation:ht,shouldRender:Ct===Et,thumbnailWidth:at,onRenderCompleted:qt,onVisibilityChanged:Jt});return nt?nt({currentPage:$,key:At,numPages:ot,pageIndex:Et,renderPageLabel:n$d.createElement(n$d.Fragment,null,Ot),renderPageThumbnail:St,onJumpToPage:function(){return it(Et)},onRotatePage:function(xt){return rt(Et,xt)}}):n$d.createElement("div",{key:At},n$d.createElement("div",{className:e$d.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--selected":$===Et}),role:"button",tabIndex:$===Et?0:-1,onClick:function(){return it(Et)}},St),n$d.createElement("div",{"data-testid":"thumbnail__label-".concat(Et),className:"rpv-thumbnail__label"},Ot))}))},g$6=function(j){var $=j.renderCurrentPageLabel,_e=j.renderThumbnailItem,et=j.store,tt=j.thumbnailWidth,st=n$d.useState(et.get("doc")),gt=st[0],lt=st[1],nt=n$d.useState(et.get("currentPage")||0),ut=nt[0],ht=nt[1],at=n$d.useState(et.get("pageHeight")||0),it=at[0],rt=at[1],ot=n$d.useState(et.get("pageWidth")||0),ft=ot[0],ct=ot[1],dt=n$d.useState(et.get("rotation")||0),pt=dt[0],mt=dt[1],_t=n$d.useState(et.get("pagesRotation")||new Map),vt=_t[0],yt=_t[1],Ct=n$d.useState(et.get("rotatedPage")||-1),bt=Ct[0],Dt=Ct[1],wt=function(Et){ht(Et)},Ft=function(Et){lt(Et)},Lt=function(Et){rt(Et)},Qt=function(Et){ct(Et)},Ut=function(Et){mt(Et)},Xt=function(Et){yt(Et)},qt=function(Et){Dt(Et)},Jt=function(Et){var At=et.get("jumpToPage");At&&At(Et)},Gt=function(Et,At){et.get("rotatePage")(Et,At)};return n$d.useEffect(function(){return et.subscribe("doc",Ft),et.subscribe("pageHeight",Lt),et.subscribe("pageWidth",Qt),et.subscribe("rotatedPage",qt),et.subscribe("rotation",Ut),et.subscribe("pagesRotation",Xt),function(){et.unsubscribe("doc",Ft),et.unsubscribe("pageHeight",Lt),et.unsubscribe("pageWidth",Qt),et.unsubscribe("rotatedPage",qt),et.unsubscribe("rotation",Ut),et.unsubscribe("pagesRotation",Xt)}},[]),e$d.useIsomorphicLayoutEffect(function(){return et.subscribe("currentPage",wt),function(){et.unsubscribe("currentPage",wt)}},[]),gt?n$d.createElement(e$d.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},n$d.createElement(c$d,{doc:gt},function(Et){return n$d.createElement(d$a,{currentPage:ut,doc:gt,labels:Et,pagesRotation:vt,pageHeight:it,pageWidth:ft,renderCurrentPageLabel:$,renderThumbnailItem:_e,rotatedPage:bt,rotation:pt,thumbnailWidth:tt,onJumpToPage:Jt,onRotatePage:Gt})})):n$d.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},n$d.useContext(u$d).renderSpinner())};thumbnail_min.thumbnailPlugin=function(j){var $=n$d.useMemo(function(){return e$d.createStore({rotatePage:function(){}})},[]),_e=n$d.useState(""),et=_e[0],tt=_e[1];return{install:function(st){$.update("jumpToPage",st.jumpToPage),$.update("rotatePage",st.rotatePage)},onDocumentLoad:function(st){tt(st.doc.loadingTask.docId),$.update("doc",st.doc)},onViewerStateChange:function(st){return $.update("currentPage",st.pageIndex),$.update("pagesRotation",st.pagesRotation),$.update("pageHeight",st.pageHeight),$.update("pageWidth",st.pageWidth),$.update("rotation",st.rotation),$.update("rotatedPage",st.rotatedPage),st},Cover:function(st){return n$d.createElement(i$d,a$d({},st,{renderSpinner:j==null?void 0:j.renderSpinner,store:$}))},Thumbnails:n$d.useCallback(function(st){return n$d.createElement(u$d.Provider,{value:{renderSpinner:(j==null?void 0:j.renderSpinner)||o$d}},n$d.createElement(g$6,{renderCurrentPageLabel:j==null?void 0:j.renderCurrentPageLabel,renderThumbnailItem:st==null?void 0:st.renderThumbnailItem,store:$,thumbnailWidth:(j==null?void 0:j.thumbnailWidth)||100}))},[et])}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=thumbnail_min})(lib$d);var lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={};(function(j){var $=lib$h.exports;function _e(ot){var ft=Object.create(null);return ot&&Object.keys(ot).forEach(function(ct){if(ct!=="default"){var dt=Object.getOwnPropertyDescriptor(ot,ct);Object.defineProperty(ft,ct,dt.get?dt:{enumerable:!0,get:function(){return ot[ct]}})}}),ft.default=ot,Object.freeze(ft)}var et,tt=_e(react.exports),st=function(){return tt.createElement($.Icon,{size:16},tt.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},gt=function(){return gt=Object.assign||function(ot){for(var ft,ct=1,dt=arguments.length;ct<dt;ct++)for(var pt in ft=arguments[ct])Object.prototype.hasOwnProperty.call(ft,pt)&&(ot[pt]=ft[pt]);return ot},gt.apply(this,arguments)};j.SelectionMode=void 0,(et=j.SelectionMode||(j.SelectionMode={})).Hand="Hand",et.Text="Text";var lt=function(){return tt.createElement($.Icon,{size:16},tt.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},nt=function(ot){var ft=ot.children,ct=ot.mode,dt=ot.onClick,pt=tt.useContext($.LocalizationContext).l10n,mt="",_t=tt.createElement(lt,null);switch(ct){case j.SelectionMode.Hand:mt=pt&&pt.selectionMode?pt.selectionMode.handTool:"Hand tool",_t=tt.createElement(st,null);break;case j.SelectionMode.Text:default:mt=pt&&pt.selectionMode?pt.selectionMode.textSelectionTool:"Text selection tool",_t=tt.createElement(lt,null)}return ft({icon:_t,label:mt,onClick:dt})},ut={left:0,top:8},ht=function(ot){var ft=ot.isSelected,ct=ot.mode,dt=ot.onClick,pt="";switch(ct){case j.SelectionMode.Hand:pt="selection-mode__hand-button";break;case j.SelectionMode.Text:default:pt="selection-mode__text-button"}return tt.createElement(nt,{mode:ct,onClick:dt},function(mt){return tt.createElement($.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:$.Position.BottomCenter,target:tt.createElement($.MinimalButton,{ariaLabel:mt.label,isSelected:ft,testId:pt,onClick:mt.onClick},mt.icon),content:function(){return mt.label},offset:ut})})},at=function(ot){var ft=ot.children,ct=ot.mode,dt=ot.store,pt=ct===dt.get("selectionMode");return(ft||function(mt){return tt.createElement(ht,{isSelected:pt,mode:mt.mode,onClick:mt.onClick})})({isSelected:pt,mode:ct,onClick:function(){return dt.update("selectionMode",ct)}})},it=function(ot){var ft=ot.isSelected,ct=ot.mode,dt=ot.onClick,pt="";switch(ct){case j.SelectionMode.Hand:pt="selection-mode__hand-menu";break;case j.SelectionMode.Text:default:pt="selection-mode__text-menu"}return tt.createElement(nt,{mode:ct,onClick:dt},function(mt){return tt.createElement($.MenuItem,{checked:ft,icon:mt.icon,testId:pt,onClick:mt.onClick},mt.label)})},rt=function(ot){var ft=ot.store,ct=tt.useRef(null),dt=tt.useState(j.SelectionMode.Text),pt=dt[0],mt=dt[1],_t=tt.useRef({top:0,left:0,x:0,y:0}),vt=function(wt){var Ft=ct.current;Ft&&(Ft.scrollTop=_t.current.top-(wt.clientY-_t.current.y),Ft.scrollLeft=_t.current.left-(wt.clientX-_t.current.x))},yt=function(){var wt=ct.current;wt&&(wt.classList.add("rpv-selection-mode__grab"),wt.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",vt),document.removeEventListener("mouseup",yt))},Ct=function(wt){var Ft=ct.current;Ft&&pt!==j.SelectionMode.Text&&(Ft.classList.remove("rpv-selection-mode__grab"),Ft.classList.add("rpv-selection-mode__grabbing"),wt.preventDefault(),wt.stopPropagation(),_t.current={left:Ft.scrollLeft,top:Ft.scrollTop,x:wt.clientX,y:wt.clientY},document.addEventListener("mousemove",vt),document.addEventListener("mouseup",yt))},bt=function(wt){ct.current=wt()},Dt=function(wt){mt(wt)};return tt.useEffect(function(){var wt=ct.current;if(wt)return pt===j.SelectionMode.Hand?wt.classList.add("rpv-selection-mode__grab"):wt.classList.remove("rpv-selection-mode__grab"),wt.addEventListener("mousedown",Ct),function(){wt.removeEventListener("mousedown",Ct)}},[pt]),tt.useEffect(function(){return ft.subscribe("getPagesContainer",bt),ft.subscribe("selectionMode",Dt),function(){ft.unsubscribe("getPagesContainer",bt),ft.unsubscribe("selectionMode",Dt)}},[]),tt.createElement(tt.Fragment,null)};j.HandToolIcon=st,j.TextSelectionIcon=lt,j.selectionModePlugin=function(ot){var ft=tt.useMemo(function(){return $.createStore()},[]),ct=function(dt){return tt.createElement(at,gt({},dt,{store:ft}))};return{install:function(dt){ft.update("selectionMode",ot&&ot.selectionMode?ot.selectionMode:j.SelectionMode.Text),ft.update("getPagesContainer",dt.getPagesContainer)},renderViewer:function(dt){var pt=dt.slot;return pt.subSlot&&pt.subSlot.children&&(pt.subSlot.children=tt.createElement(tt.Fragment,null,tt.createElement(rt,{store:ft}),pt.subSlot.children)),pt},SwitchSelectionMode:ct,SwitchSelectionModeButton:function(dt){return tt.createElement(ct,{mode:dt.mode},function(pt){return tt.createElement(ht,{isSelected:pt.isSelected,mode:pt.mode,onClick:function(){pt.onClick()}})})},SwitchSelectionModeMenuItem:function(dt){return tt.createElement(ct,{mode:dt.mode},function(pt){return tt.createElement(it,{isSelected:pt.isSelected,mode:pt.mode,onClick:function(){pt.onClick(),dt.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=selectionMode_min})(lib$b);var lib$a={exports:{}},fullScreen_min={},e$c=lib$h.exports;function n$c(j){var $=Object.create(null);return j&&Object.keys(j).forEach(function(_e){if(_e!=="default"){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}}),$.default=j,Object.freeze($)}var t$c,l$c=n$c(react.exports),r$c=function(){return l$c.createElement(e$c.Icon,{size:16},l$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),l$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),l$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),l$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),l$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},c$c=function(){return l$c.createElement(e$c.Icon,{size:16},l$c.createElement("path",{d:"M0.5 12L23.5 12"}),l$c.createElement("path",{d:"M11.5 1L11.5 23"}),l$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),l$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),l$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),l$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},u$c=function(){return u$c=Object.assign||function(j){for(var $,_e=1,et=arguments.length;_e<et;_e++)for(var tt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,tt)&&(j[tt]=$[tt]);return j},u$c.apply(this,arguments)};(function(j){j[j.ExitFullScreen=0]="ExitFullScreen",j[j.FullScreenChange=1]="FullScreenChange",j[j.FullScreenElement=2]="FullScreenElement",j[j.FullScreenEnabled=3]="FullScreenEnabled",j[j.RequestFullScreen=4]="RequestFullScreen"})(t$c||(t$c={}));var o$c={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},i$c={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},a$c={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},s$8=typeof window<"u",f$8=s$8&&(t$c.FullScreenEnabled in document&&o$c||i$c.FullScreenEnabled in document&&i$c||a$c.FullScreenEnabled in document&&a$c)||o$c,S$3=function(){return s$8&&f$8.FullScreenEnabled in document&&document[f$8.FullScreenEnabled]===!0},E$5=function(j){return s$8?j[f$8.ExitFullScreen]():Promise.resolve({})},F=function(){return s$8?document[f$8.FullScreenElement]:null},m$7={left:0,top:8},d$9=function(j){var $=j.enableShortcuts,_e=j.onClick,et=l$c.useContext(e$c.LocalizationContext).l10n,tt=et&&et.fullScreen?et.fullScreen.enterFullScreen:"Full screen",st=$?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return l$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:l$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:st,ariaLabel:tt,isDisabled:!S$3(),testId:"full-screen__enter-button",onClick:_e},l$c.createElement(c$c,null)),content:function(){return tt},offset:m$7})},b$4={left:0,top:8},g$5=function(j){var $=j.onClick,_e=l$c.useContext(e$c.LocalizationContext).l10n,et=_e&&_e.fullScreen?_e.fullScreen.exitFullScreen:"Exit full screen";return l$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:l$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:et,testId:"full-screen__exit-button-with-tooltip",onClick:$},l$c.createElement(r$c,null)),content:function(){return et},offset:b$4})},x$2=function(j,$,_e,et){var tt=l$c.useState(!1),st=tt[0],gt=tt[1],lt=l$c.useRef($.get("getPagesContainer")?$.get("getPagesContainer")():null),nt=function(){var at=F(),it=lt.current,rt=at===j(it);$.update("isFullScreen",rt),rt?it.classList.add("rpv-full-screen__pages"):it.classList.remove("rpv-full-screen__pages");var ot=$.get("zoom");ot&&(rt?_e(ot):et(ot))},ut=function(at){var it;lt.current=at(),it=nt,s$8&&document.addEventListener(f$8.FullScreenChange,it)},ht=function(at){gt(at)};return l$c.useEffect(function(){return $.subscribe("isFullScreen",ht),$.subscribe("getPagesContainer",ut),function(){$.unsubscribe("getPagesContainer",ut),$.unsubscribe("isFullScreen",ht)}},[]),{enterFullScreen:function(){if(S$3()){var at=lt.current;at&&function(){var it=lt.current;if(!it)return Promise.resolve();var rt=F();return rt&&rt!==j(it)?E$5(rt):Promise.resolve()}().then(function(){var it;it=j(at),s$8&&it[f$8.RequestFullScreen]()})}},exitFullScreen:function(){gt(!1);var at=$.get("getPagesContainer");if(at){var it=at();if(it){var rt=F();rt&&rt===j(it)&&E$5(document)}}},isFullScreen:st}},v$5=function(j){var $=j.children,_e=j.enableShortcuts,et=j.getFullScreenTarget,tt=j.store,st=j.onEnterFullScreen,gt=j.onExitFullScreen,lt=x$2(et,tt,st,gt),nt=lt.enterFullScreen,ut=lt.exitFullScreen,ht=lt.isFullScreen;return($||function(at){return ht?l$c.createElement(g$5,{onClick:at.onClick}):l$c.createElement(d$9,{enableShortcuts:_e,onClick:at.onClick})})({onClick:ht?ut:nt})},C$3=function(j){var $=j.onClick,_e=l$c.useContext(e$c.LocalizationContext).l10n,et=_e&&_e.fullScreen?_e.fullScreen.enterFullScreen:"Full screen";return l$c.createElement(e$c.MenuItem,{icon:l$c.createElement(c$c,null),isDisabled:!S$3(),testId:"full-screen__enter-menu",onClick:$},et)},h$5=function(j){var $=j.onClick,_e=l$c.useContext(e$c.LocalizationContext).l10n,et=l$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,tt=_e&&_e.fullScreen?_e.fullScreen.exitFullScreen:"Exit full screen";return l$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!et,"rpv-full-screen__exit-button--rtl":et})},l$c.createElement(e$c.MinimalButton,{ariaLabel:tt,testId:"full-screen__exit-button",onClick:$},l$c.createElement(r$c,null)))},p$7=function(j){var $=j.children,_e=j.getFullScreenTarget,et=j.store,tt=j.onEnterFullScreen,st=j.onExitFullScreen,gt=x$2(_e,et,tt,st),lt=gt.enterFullScreen,nt=gt.exitFullScreen,ut=gt.isFullScreen;return ut&&($||function(ht){return l$c.createElement(h$5,{onClick:ht.onClick})})({onClick:ut?nt:lt})},k$3=function(j){var $=j.containerRef,_e=j.getFullScreenTarget,et=j.store,tt=j.onEnterFullScreen,st=j.onExitFullScreen,gt=x$2(_e,et,tt,st).enterFullScreen,lt=function(nt){if(!nt.shiftKey&&!nt.altKey&&(e$c.isMac()?nt.metaKey&&nt.ctrlKey&&nt.key==="f":nt.key==="F11")){var ut=$.current;ut&&document.activeElement&&ut.contains(document.activeElement)&&(nt.preventDefault(),gt())}};return l$c.useEffect(function(){if($.current)return document.addEventListener("keydown",lt),function(){document.removeEventListener("keydown",lt)}},[$.current]),l$c.createElement(l$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$c,fullScreen_min.FullScreenIcon=c$c,fullScreen_min.fullScreenPlugin=function(j){var $=(j==null?void 0:j.getFullScreenTarget)||function(gt){return gt},_e=l$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},j)},[]),et=l$c.useMemo(function(){return e$c.createStore({})},[]),tt=function(gt){return l$c.createElement(v$5,u$c({},gt,{enableShortcuts:_e.enableShortcuts,getFullScreenTarget:$,store:et,onEnterFullScreen:_e.onEnterFullScreen,onExitFullScreen:_e.onExitFullScreen}))},st=function(){return l$c.createElement(p$7,{getFullScreenTarget:$,store:et,onEnterFullScreen:_e.onEnterFullScreen,onExitFullScreen:_e.onExitFullScreen},j==null?void 0:j.renderExitFullScreenButton)};return{install:function(gt){et.update("getPagesContainer",gt.getPagesContainer),et.update("zoom",gt.zoom)},renderViewer:function(gt){var lt=gt.slot;return lt.subSlot&&(lt.subSlot.children=l$c.createElement(l$c.Fragment,null,_e.enableShortcuts&&l$c.createElement(k$3,{containerRef:gt.containerRef,getFullScreenTarget:$,store:et,onEnterFullScreen:_e.onEnterFullScreen,onExitFullScreen:_e.onExitFullScreen}),l$c.createElement(st,null),lt.subSlot.children)),lt},EnterFullScreen:tt,EnterFullScreenButton:function(){return l$c.createElement(tt,null,function(gt){return l$c.createElement(d$9,u$c({enableShortcuts:_e.enableShortcuts},gt))})},EnterFullScreenMenuItem:function(gt){return l$c.createElement(tt,null,function(lt){return l$c.createElement(C$3,{onClick:function(){lt.onClick(),gt.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=fullScreen_min})(lib$a);var lib$9={exports:{}},getFile_min={},e$b=lib$h.exports;function t$b(j){var $=Object.create(null);return j&&Object.keys(j).forEach(function(_e){if(_e!=="default"){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}}),$.default=j,Object.freeze($)}var n$b=t$b(react.exports),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$b=function(){return r$b=Object.assign||function(j){for(var $,_e=1,et=arguments.length;_e<et;_e++)for(var tt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,tt)&&(j[tt]=$[tt]);return j},r$b.apply(this,arguments)},i$b={left:0,top:8},a$b=function(j){var $=j.onClick,_e=n$b.useContext(e$b.LocalizationContext).l10n,et=_e&&_e.download?_e.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:et,testId:"get-file__download-button",onClick:$},n$b.createElement(o$b,null)),content:function(){return et},offset:i$b})},c$b=function(j,$){var _e=document.createElement("a");_e.style.display="none",_e.href=j,_e.setAttribute("download",$),document.body.appendChild(_e),_e.click(),document.body.removeChild(_e)},l$b=function(j,$,_e){var et=URL.createObjectURL(new Blob([j],{type:_e}));c$b(et,$),et&&URL.revokeObjectURL(et)},u$b=function(j,$){j.getData().then(function(_e){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(_e,$,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$b("data:application/pdf;base64,".concat(function(et){return btoa(Array(et.length).fill("").map(function(tt,st){return String.fromCharCode(et[st])}).join(""))}(_e)),$):l$b(_e,$,"application/pdf")})},f$7=function(j){var $=j.children,_e=j.fileNameGenerator,et=j.store,tt=n$b.useState(et.get("file")),st=tt[0],gt=tt[1],lt=n$b.useState(et.get("doc")),nt=lt[0],ut=lt[1],ht=function(it){ut(it)},at=function(it){gt(it)};return n$b.useEffect(function(){return et.subscribe("doc",ht),et.subscribe("file",at),function(){et.subscribe("doc",ht),et.unsubscribe("file",at)}},[]),($||function(it){return n$b.createElement(a$b,{onClick:it.onClick})})({onClick:function(){nt&&st&&u$b(nt,_e(st))}})},d$8=function(j){var $=j.onClick,_e=n$b.useContext(e$b.LocalizationContext).l10n,et=_e&&_e.download?_e.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:$},et)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function(j){var $=n$b.useMemo(function(){return e$b.createStore({})},[]),_e=function(tt){return tt.name?(st=tt.name,(gt=st.split("/").pop())?gt.split("#")[0].split("?")[0]:st):"document.pdf";var st,gt},et=function(tt){return n$b.createElement(f$7,r$b({},tt,{fileNameGenerator:j&&j.fileNameGenerator||_e,store:$}))};return{onDocumentLoad:function(tt){$.update("doc",tt.doc),$.update("file",tt.file)},Download:et,DownloadButton:function(){return n$b.createElement(et,null,function(tt){return n$b.createElement(a$b,r$b({},tt))})},DownloadMenuItem:function(tt){return n$b.createElement(et,null,function(st){return n$b.createElement(d$8,{onClick:function(){st.onClick(),tt.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=getFile_min})(lib$9);var lib$8={exports:{}},open_min={},e$a=lib$h.exports;function t$a(j){var $=Object.create(null);return j&&Object.keys(j).forEach(function(_e){if(_e!=="default"){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}}),$.default=j,Object.freeze($)}var n$a=t$a(react.exports),r$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function(j){for(var $,_e=1,et=arguments.length;_e<et;_e++)for(var tt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,tt)&&(j[tt]=$[tt]);return j},o$a.apply(this,arguments)},i$a=function(j){var $=n$a.useRef(),_e=function(){var tt=$.current;tt&&(tt.click(),j.get("triggerOpenFile")&&j.update("triggerOpenFile",!1))},et=function(tt){tt&&_e()};return n$a.useEffect(function(){return j.subscribe("triggerOpenFile",et),function(){j.unsubscribe("triggerOpenFile",et)}},[]),{inputRef:$,openFile:_e}},c$a={left:0,top:8},u$a=function(j){var $=j.enableShortcuts,_e=j.store,et=j.onClick,tt=n$a.useContext(e$a.LocalizationContext).l10n,st=tt&&tt.open?tt.open.openFile:"Open file",gt=i$a(_e),lt=gt.inputRef,nt=gt.openFile,ut=$?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:lt,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:et}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:ut,ariaLabel:st,testId:"open__button",onClick:nt},n$a.createElement(r$a,null))),content:function(){return st},offset:c$a})},a$a=function(j){var $=j.children,_e=j.enableShortcuts,et=j.store;return($||function(tt){return n$a.createElement(u$a,{enableShortcuts:_e,store:et,onClick:tt.onClick})})({onClick:function(tt){var st=tt.target.files;if(st&&st.length){var gt=et.get("openFile");gt&&gt(st[0])}}})},l$a=function(j){var $=j.store,_e=j.onClick,et=n$a.useContext(e$a.LocalizationContext).l10n,tt=et&&et.open?et.open.openFile:"Open file",st=i$a($),gt=st.inputRef,lt=st.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$a,null),testId:"open__menu",onClick:lt},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:gt,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:_e}),tt))},p$6=function(j){var $=j.containerRef,_e=j.store,et=function(tt){if(!tt.shiftKey&&!tt.altKey&&tt.key==="o"&&(e$a.isMac()?tt.metaKey:tt.ctrlKey)){var st=$.current;st&&document.activeElement&&st.contains(document.activeElement)&&(tt.preventDefault(),_e.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if($.current)return document.addEventListener("keydown",et),function(){document.removeEventListener("keydown",et)}},[$.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$a,open_min.openPlugin=function(j){var $=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},j)},[]),_e=n$a.useMemo(function(){return e$a.createStore({})},[]),et=function(tt){return n$a.createElement(a$a,o$a({enableShortcuts:$.enableShortcuts},tt,{store:_e}))};return{install:function(tt){_e.update("openFile",tt.openFile)},renderViewer:function(tt){var st=tt.slot,gt={children:n$a.createElement(n$a.Fragment,null,$.enableShortcuts&&n$a.createElement(p$6,{containerRef:tt.containerRef,store:_e}),st.children)};return o$a(o$a({},st),gt)},Open:et,OpenButton:function(){return n$a.createElement(et,null)},OpenMenuItem:function(){return n$a.createElement(et,null,function(tt){return n$a.createElement(l$a,{store:_e,onClick:tt.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=open_min})(lib$8);var lib$7={exports:{}},pageNavigation_min={},e$9=lib$h.exports;function t$9(j){var $=Object.create(null);return j&&Object.keys(j).forEach(function(_e){if(_e!=="default"){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}}),$.default=j,Object.freeze($)}var n$9=t$9(react.exports),r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$9=function(){return o$9=Object.assign||function(j){for(var $,_e=1,et=arguments.length;_e<et;_e++)for(var tt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,tt)&&(j[tt]=$[tt]);return j},o$9.apply(this,arguments)},i$9=function(j){var $=n$9.useState(j.get("currentPage")||0),_e=$[0],et=$[1],tt=function(st){et(st)};return e$9.useIsomorphicLayoutEffect(function(){return j.subscribe("currentPage",tt),function(){j.unsubscribe("currentPage",tt)}},[]),{currentPage:_e}},u$9=function(j){var $=n$9.useState(j.get("numberOfPages")||0),_e=$[0],et=$[1],tt=function(st){et(st)};return n$9.useEffect(function(){return j.subscribe("numberOfPages",tt),function(){j.unsubscribe("numberOfPages",tt)}},[]),{numberOfPages:_e}},c$9=function(j){var $=j.store,_e=n$9.useContext(e$9.LocalizationContext).l10n,et=n$9.useState("1"),tt=et[0],st=et[1],gt=i$9($).currentPage,lt=u$9($).numberOfPages;n$9.useEffect(function(){return st("".concat(gt+1))},[gt]);var nt=function(ht){var at=$.get("jumpToPage");at&&at(ht)},ut=_e&&_e.pageNavigation?_e.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:ut,testId:"page-navigation__current-page-input",type:"text",value:tt,onChange:st,onKeyDown:function(ht){switch(ht.key){case"ArrowUp":(rt=gt-1)>=0&&(st("".concat(rt+1)),nt(rt));break;case"ArrowDown":(it=gt+1)<lt&&(st("".concat(it+1)),nt(it));break;case"Enter":at=parseInt(tt,10),tt===""||at<1||at>lt?st("".concat(gt+1)):nt(at-1)}var at,it,rt}}))},l$9=function(j){var $=j.children,_e=j.doc,et=e$9.useIsMounted(),tt=n$9.useState({loading:!0,labels:[]}),st=tt[0],gt=tt[1];return n$9.useEffect(function(){_e.getPageLabels().then(function(lt){et.current&&gt({loading:!1,labels:lt||[]})})},[_e.loadingTask.docId]),st.loading?n$9.createElement(n$9.Fragment,null):$(st.labels)},s$7=function(j){var $=j.children,_e=j.store,et=function(lt){var nt=n$9.useState(lt.get("doc")),ut=nt[0],ht=nt[1],at=function(it){ht(it)};return n$9.useEffect(function(){return lt.subscribe("doc",at),function(){lt.unsubscribe("doc",at)}},[]),ut}(_e),tt=i$9(_e).currentPage,st=u$9(_e).numberOfPages,gt=$||function(lt){return n$9.createElement(n$9.Fragment,null,lt.currentPage+1)};return et?n$9.createElement(l$9,{doc:et},function(lt){var nt=lt.length===st&&st>0?lt[tt]:"";return gt({currentPage:tt,numberOfPages:st,pageLabel:nt})}):n$9.createElement(n$9.Fragment,null)},g$4=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$6={left:0,top:8},m$6=function(j){var $=j.isDisabled,_e=j.onClick,et=n$9.useContext(e$9.LocalizationContext).l10n,tt=et&&et.pageNavigation?et.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:tt,isDisabled:$,testId:"page-navigation__first-button",onClick:_e},n$9.createElement(g$4,null)),content:function(){return tt},offset:f$6})},p$5=function(j){var $=j.children,_e=j.store;return($||function(et){return n$9.createElement(m$6,{isDisabled:et.isDisabled,onClick:et.onClick})})({isDisabled:i$9(_e).currentPage===0,onClick:function(){var et=_e.get("jumpToPage");et&&et(0)}})},d$7=function(j){var $=j.isDisabled,_e=j.onClick,et=n$9.useContext(e$9.LocalizationContext).l10n,tt=et&&et.pageNavigation?et.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$4,null),isDisabled:$,testId:"page-navigation__first-menu",onClick:_e},tt)},v$4={left:0,top:8},b$3=function(j){var $=j.isDisabled,_e=j.onClick,et=n$9.useContext(e$9.LocalizationContext).l10n,tt=et&&et.pageNavigation?et.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:tt,isDisabled:$,testId:"page-navigation__last-button",onClick:_e},n$9.createElement(r$9,null)),content:function(){return tt},offset:v$4})},P$2=function(j){var $=j.children,_e=j.store,et=i$9(_e).currentPage,tt=u$9(_e).numberOfPages;return($||function(st){return n$9.createElement(b$3,{isDisabled:st.isDisabled,onClick:st.onClick})})({isDisabled:et+1>=tt,onClick:function(){var st=_e.get("jumpToPage");st&&st(tt-1)}})},E$4=function(j){var $=j.isDisabled,_e=j.onClick,et=n$9.useContext(e$9.LocalizationContext).l10n,tt=et&&et.pageNavigation?et.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),isDisabled:$,testId:"page-navigation__last-menu",onClick:_e},tt)},C$2={left:0,top:8},k$2=function(j){var $=j.isDisabled,_e=j.onClick,et=n$9.useContext(e$9.LocalizationContext).l10n,tt=et&&et.pageNavigation?et.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:tt,isDisabled:$,testId:"page-navigation__next-button",onClick:_e},n$9.createElement(a$9,null)),content:function(){return tt},offset:C$2})},D=function(j){var $=j.children,_e=j.store,et=i$9(_e).currentPage,tt=u$9(_e).numberOfPages;return($||function(st){return n$9.createElement(k$2,{onClick:st.onClick,isDisabled:st.isDisabled})})({isDisabled:et+1>=tt,onClick:function(){var st=_e.get("jumpToPage");st&&st(et+1)}})},x$1=function(j){var $=j.isDisabled,_e=j.onClick,et=n$9.useContext(e$9.LocalizationContext).l10n,tt=et&&et.pageNavigation?et.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:$,testId:"page-navigation__next-menu",onClick:_e},tt)},L=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},T={left:0,top:8},h$4=function(j){var $=j.isDisabled,_e=j.onClick,et=n$9.useContext(e$9.LocalizationContext).l10n,tt=et&&et.pageNavigation?et.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:tt,isDisabled:$,testId:"page-navigation__previous-button",onClick:_e},n$9.createElement(L,null)),content:function(){return tt},offset:T})},y$1=function(j){var $=j.store,_e=j.children,et=i$9($).currentPage;return(_e||function(tt){return n$9.createElement(h$4,{isDisabled:tt.isDisabled,onClick:tt.onClick})})({isDisabled:et<=0,onClick:function(){var tt=$.get("jumpToPage");tt&&tt(et-1)}})},I$1=function(j){var $=j.isDisabled,_e=j.onClick,et=n$9.useContext(e$9.LocalizationContext).l10n,tt=et&&et.pageNavigation?et.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(L,null),isDisabled:$,testId:"page-navigation__previous-menu",onClick:_e},tt)},N=function(j){var $=j.children,_e=j.store,et=u$9(_e).numberOfPages;return $?$({numberOfPages:et}):n$9.createElement(n$9.Fragment,null,et)},O=function(j){var $=j.containerRef,_e=j.numPages,et=j.store,tt=n$9.useRef(et.get("jumpFromAnnotation")||{bottomOffset:0,dest:"",leftOffset:0,pageIndex:-1}),st=i$9(et).currentPage,gt=n$9.useRef(st);gt.current=st;var lt=n$9.useRef(!1),nt=function(){lt.current=!0},ut=function(){lt.current=!1},ht=function(it){var rt=$.current,ot=lt.current||document.activeElement&&rt.contains(document.activeElement);if(rt&&ot){var ft,ct,dt,pt,mt=it.altKey&&it.key==="ArrowDown"||!it.shiftKey&&!it.altKey&&it.key==="PageDown",_t=it.altKey&&it.key==="ArrowUp"||!it.shiftKey&&!it.altKey&&it.key==="PageUp",vt=(e$9.isMac()?it.metaKey&&!it.ctrlKey:it.ctrlKey)&&it.key==="ArrowUp";mt?(it.preventDefault(),dt=et.get("jumpToPage"),pt=gt.current+1,dt&&pt<_e&&dt(pt)):_t?(it.preventDefault(),function(){var yt=et.get("jumpToPage"),Ct=gt.current-1;yt&&Ct>=0&&yt(Ct)}()):vt&&tt.current&&tt.current.dest&&(it.preventDefault(),ft=tt.current,(ct=et.get("jumpToDestination"))&&ct(ft.pageIndex,ft.bottomOffset,ft.leftOffset))}},at=function(it){tt.current=it};return n$9.useEffect(function(){return et.subscribe("jumpFromAnnotation",at),function(){et.unsubscribe("jumpFromAnnotation",at)}},[]),n$9.useEffect(function(){var it=$.current;if(it)return document.addEventListener("keydown",ht),it.addEventListener("mouseenter",nt),it.addEventListener("mouseleave",ut),function(){document.removeEventListener("keydown",ht),it.removeEventListener("mouseenter",nt),it.removeEventListener("mouseleave",ut)}},[$.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=r$9,pageNavigation_min.NextIcon=a$9,pageNavigation_min.PreviousIcon=L,pageNavigation_min.UpArrowIcon=g$4,pageNavigation_min.pageNavigationPlugin=function(j){var $=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},j)},[]),_e=n$9.useMemo(function(){return e$9.createStore()},[]),et=function(lt){return n$9.createElement(p$5,o$9({},lt,{store:_e}))},tt=function(lt){return n$9.createElement(P$2,o$9({},lt,{store:_e}))},st=function(lt){return n$9.createElement(D,o$9({},lt,{store:_e}))},gt=function(lt){return n$9.createElement(y$1,o$9({},lt,{store:_e}))};return{install:function(lt){_e.update("jumpToDestination",lt.jumpToDestination),_e.update("jumpToPage",lt.jumpToPage)},renderViewer:function(lt){var nt=lt.slot;if(!$.enableShortcuts)return nt;var ut={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(O,{containerRef:lt.containerRef,numPages:lt.doc.numPages,store:_e}),nt.children)};return o$9(o$9({},nt),ut)},onAnnotationLayerRender:function(lt){if(lt.annotations.length){var nt=lt.annotations.filter(function(ut){return ut.subtype==="Link"&&!ut.url&&!ut.unsafeUrl&&!ut.action&&ut.dest});nt.length&&nt.forEach(function(ut){var ht=lt.container.querySelector('a[data-annotation-link="'.concat(ut.id,'"]'));ht&&ht.addEventListener("click",function(){lt.container.style.setProperty("height","100%"),lt.container.style.setProperty("width","100%");var at=lt.container.getBoundingClientRect();lt.container.style.removeProperty("height"),lt.container.style.removeProperty("width");var it=ht.getBoundingClientRect(),rt=it.left-at.left,ot=at.bottom-it.bottom+it.height;_e.update("jumpFromAnnotation",{bottomOffset:ot/lt.scale,dest:ut.dest,leftOffset:rt/lt.scale,pageIndex:lt.pageIndex})})})}},onDocumentLoad:function(lt){_e.update("doc",lt.doc),_e.update("numberOfPages",lt.doc.numPages)},onViewerStateChange:function(lt){return _e.update("currentPage",lt.pageIndex),lt},jumpToPage:function(lt){var nt=_e.get("jumpToPage");nt&&nt(lt)},CurrentPageInput:function(){return n$9.createElement(c$9,{store:_e})},CurrentPageLabel:function(lt){return n$9.createElement(s$7,o$9({},lt,{store:_e}))},GoToFirstPage:et,GoToFirstPageButton:function(){return n$9.createElement(et,null,function(lt){return n$9.createElement(m$6,o$9({},lt))})},GoToFirstPageMenuItem:function(lt){return n$9.createElement(et,null,function(nt){return n$9.createElement(d$7,{isDisabled:nt.isDisabled,onClick:function(){nt.onClick(),lt.onClick()}})})},GoToLastPage:tt,GoToLastPageButton:function(){return n$9.createElement(tt,null,function(lt){return n$9.createElement(b$3,o$9({},lt))})},GoToLastPageMenuItem:function(lt){return n$9.createElement(tt,null,function(nt){return n$9.createElement(E$4,{isDisabled:nt.isDisabled,onClick:function(){nt.onClick(),lt.onClick()}})})},GoToNextPage:st,GoToNextPageButton:function(){return n$9.createElement(st,null,function(lt){return n$9.createElement(k$2,o$9({},lt))})},GoToNextPageMenuItem:function(lt){return n$9.createElement(st,null,function(nt){return n$9.createElement(x$1,{isDisabled:nt.isDisabled,onClick:function(){nt.onClick(),lt.onClick()}})})},GoToPreviousPage:gt,GoToPreviousPageButton:function(){return n$9.createElement(gt,null,function(lt){return n$9.createElement(h$4,o$9({},lt))})},GoToPreviousPageMenuItem:function(lt){return n$9.createElement(gt,null,function(nt){return n$9.createElement(I$1,{isDisabled:nt.isDisabled,onClick:function(){nt.onClick(),lt.onClick()}})})},NumberOfPages:function(lt){return n$9.createElement(N,o$9({},lt,{store:_e}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=pageNavigation_min})(lib$7);var lib$6={exports:{}},print_min={},e$8=lib$h.exports,t$8=react.exports,n$8=reactDom.exports;function r$8(j){var $=Object.create(null);return j&&Object.keys(j).forEach(function(_e){if(_e!=="default"){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}}),$.default=j,Object.freeze($)}var o$8,a$8=r$8(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},c$8=function(){return c$8=Object.assign||function(j){for(var $,_e=1,et=arguments.length;_e<et;_e++)for(var tt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,tt)&&(j[tt]=$[tt]);return j},c$8.apply(this,arguments)},u$8={left:0,top:8},s$6=function(j){var $=j.enableShortcuts,_e=j.onClick,et=a$8.useContext(e$8.LocalizationContext).l10n,tt=et&&et.print?et.print.print:"Print",st=$?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:st,ariaLabel:tt,testId:"print__button",onClick:_e},a$8.createElement(i$8,null)),content:function(){return tt},offset:u$8})};(function(j){j.CheckingPermission="CheckingPermission",j.Inactive="Inactive",j.Preparing="Preparing",j.Cancelled="Cancelled",j.Ready="Ready"})(o$8||(o$8={}));var l$8=function(j){var $=j.children,_e=j.enableShortcuts,et=j.store;return($||s$6)({enableShortcuts:_e,onClick:function(){et.update("printStatus",o$8.CheckingPermission)}})},p$4=function(j){var $=j.doc,_e=j.store,et=a$8.useContext(e$8.LocalizationContext).l10n,tt=a$8.useState(!0),st=tt[0],gt=tt[1];return a$8.useEffect(function(){$.getPermissions().then(function(lt){lt===null||lt.includes(4)||lt.includes(2048)?_e.update("printStatus",o$8.Preparing):gt(!1)})},[]),st?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(lt){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},et&&et.print?et.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){lt(),_e.update("printStatus",o$8.Cancelled)}},et&&et.print?et.print.close:"Close")))},isOpened:!0})},m$5=function(j){var $=j.numLoadedPages,_e=j.numPages,et=j.onCancel,tt=a$8.useContext(e$8.LocalizationContext).l10n,st=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,gt=Math.floor(100*$/_e);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":st})},a$8.createElement("div",{className:"rpv-print__progress-message"},tt&&tt.print?tt.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:gt})),a$8.createElement(e$8.Button,{onClick:et},tt&&tt.print?tt.print.cancel:"Cancel")))},d$6=function(j){var $=j.canvas,_e=j.page,et=j.pageHeight,tt=j.pageIndex,st=j.pageWidth,gt=j.rotation,lt=j.onLoad,nt=e$8.useIsMounted(),ut=a$8.useRef(),ht=a$8.useState(""),at=ht[0],it=ht[1],rt=a$8.useMemo(function(){return typeof process<"u"&&process.env.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var ot=ut.current;ot&&ot.cancel();var ft=150/72;$.height=Math.floor(et*ft),$.width=Math.floor(st*ft);var ct=$.getContext("2d");ct.save(),ct.fillStyle="rgb(255, 255, 255)",ct.fillRect(0,0,$.width,$.height),ct.restore();var dt=_e.getViewport({rotation:gt,scale:1});ut.current=_e.render({canvasContext:ct,intent:"print",transform:[ft,0,0,ft,0,0],viewport:dt}),ut.current.promise.then(function(){"toBlob"in $&&"createObjectURL"in URL?$.toBlob(function(pt){nt.current&&it(URL.createObjectURL(pt)),rt&&lt()}):(nt.current&&it($.toDataURL()),rt&&lt())},function(){})},[]),at&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(tt),src:at,onLoad:function(){rt||lt()}}))},f$5=function(j){var $=j.canvas,_e=j.doc,et=j.pageIndex,tt=j.pageRotation,st=j.pageSize,gt=j.rotation,lt=j.shouldRender,nt=j.onLoad,ut=e$8.useIsMounted(),ht=a$8.useState(null),at=ht[0],it=ht[1],rt=Math.abs(gt+tt)%180==0;a$8.useEffect(function(){lt&&e$8.getPage(_e,et).then(function(ft){ut.current&&it(ft)})},[lt]);var ot=(st.rotation+gt+tt)%360;return at&&a$8.createElement(d$6,{canvas:$,page:at,pageHeight:rt?st.pageHeight:st.pageWidth,pageIndex:et,pageWidth:rt?st.pageWidth:st.pageHeight,rotation:ot,onLoad:nt})},g$3=function(j){var $=j.doc,_e=j.numLoadedPages,et=j.pagesRotation,tt=j.pageSizes,st=j.printPages,gt=j.printStatus,lt=j.rotation,nt=j.onCancel,ut=j.onLoad,ht=a$8.useMemo(function(){return document.createElement("canvas")},[]),at=a$8.useMemo(function(){var ot=document.querySelector(".rpv-print__zone");if(ot)return ot;var ft=document.createElement("div");return ft.classList.add("rpv-print__zone"),ft.setAttribute("data-testid","print__zone"),document.body.appendChild(ft),ft},[]);a$8.useEffect(function(){gt===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var ot=function(){if(gt===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var ft=document.querySelectorAll(".rpv-print__zone");ft&&ft.forEach(function(ct){ct.parentElement.removeChild(ct)}),ht.height=0,ht.width=0,document.removeEventListener("mousemove",ot),nt()}};return document.addEventListener("mousemove",ot),function(){return document.removeEventListener("mousemove",ot)}},[gt]);var it=tt[0].pageHeight,rt=tt[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,st.map(function(ot,ft){return a$8.createElement(f$5,{key:ot,canvas:ht,doc:$,pageIndex:ot,pageRotation:et.has(ot)?et.get(ot):0,pageSize:tt[ot],rotation:lt,shouldRender:ft===_e,onLoad:ut})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(rt,"pt ").concat(it,"pt }")}})),at)},v$3=function(j){var $=j.doc,_e=j.pagesRotation,et=j.pageSizes,tt=j.renderProgressBar,st=j.rotation,gt=j.setPages,lt=j.store,nt=a$8.useState(o$8.Inactive),ut=nt[0],ht=nt[1],at=a$8.useState(0),it=at[0],rt=at[1],ot=a$8.useMemo(function(){var pt=$.numPages;return gt($).filter(function(mt){return mt>=0&&mt<pt})},[$,gt]),ft=ot.length,ct=function(){rt(0),ht(o$8.Inactive)},dt=function(pt){return ht(pt)};return a$8.useEffect(function(){return lt.subscribe("printStatus",dt),function(){lt.unsubscribe("printStatus",dt)}},[]),a$8.createElement(a$8.Fragment,null,ut===o$8.CheckingPermission&&a$8.createElement(p$4,{doc:$,store:lt}),ut===o$8.Preparing&&(tt?tt(it,ft,ct):a$8.createElement(m$5,{numLoadedPages:it,numPages:ft,onCancel:ct})),(ut===o$8.Preparing||ut===o$8.Ready)&&it<=ft&&a$8.createElement(g$3,{doc:$,numLoadedPages:it,pagesRotation:_e,pageSizes:et,printPages:ot,printStatus:ut,rotation:st,onCancel:ct,onLoad:function(){var pt=it+1;pt<=ft&&(rt(pt),pt===ft&&ht(o$8.Ready))}}))},h$3=function(j){var $=j.onClick,_e=a$8.useContext(e$8.LocalizationContext).l10n,et=_e&&_e.print?_e.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:$},et)},E$3=function(j){var $=j.containerRef,_e=j.store,et=function(tt){if(!tt.shiftKey&&!tt.altKey&&tt.key==="p"&&(e$8.isMac()?tt.metaKey:tt.ctrlKey)){var st=$.current;st&&document.activeElement&&st.contains(document.activeElement)&&(tt.preventDefault(),_e.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if($.current)return document.addEventListener("keydown",et),function(){document.removeEventListener("keydown",et)}},[$.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function(j){return Array(j.numPages).fill(0).map(function($,_e){return _e})},print_min.getCustomPagesNumbers=function(j){return function($){var _e,et=[];return j.replace(/\s+/g,"").split(",").forEach(function(tt){var st,gt,lt=tt.split("-").map(function(nt){return parseInt(nt,10)}).filter(function(nt){return Number.isInteger(nt)});lt.length===1?et.push(lt[0]-1):lt.length===2&&et.push.apply(et,(st=lt[0]-1,gt=lt[1]-1,Array(gt-st+1).fill(0).map(function(nt,ut){return st+ut})))}),(_e=et,_e.filter(function(tt){return _e.indexOf(tt)===_e.lastIndexOf(tt)})).filter(function(tt){return tt>=0&&tt<$.numPages})}},print_min.getEvenPagesNumbers=function(j){return Array(j.numPages).fill(0).map(function($,_e){return _e}).filter(function($){return($+1)%2==0})},print_min.getOddPagesNumbers=function(j){return Array(j.numPages).fill(0).map(function($,_e){return _e}).filter(function($){return($+1)%2==1})},print_min.printPlugin=function(j){var $=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(tt){return Array(tt.numPages).fill(0).map(function(st,gt){return gt})}},j)},[]),_e=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),et=function(tt){return a$8.createElement(l$8,c$8({enableShortcuts:$.enableShortcuts},tt,{store:_e}))};return{print:function(){_e.update("printStatus",o$8.CheckingPermission)},renderViewer:function(tt){var st=tt.slot,gt={children:a$8.createElement(a$8.Fragment,null,$.enableShortcuts&&a$8.createElement(E$3,{containerRef:tt.containerRef,store:_e}),a$8.createElement(v$3,{doc:tt.doc,pagesRotation:tt.pagesRotation,pageSizes:tt.pageSizes,renderProgressBar:j==null?void 0:j.renderProgressBar,rotation:tt.rotation,setPages:$.setPages,store:_e}),st.children)};return c$8(c$8({},st),gt)},Print:et,PrintButton:function(){return a$8.createElement(et,null,function(tt){return a$8.createElement(s$6,c$8({},tt))})},PrintMenuItem:function(tt){return a$8.createElement(et,null,function(st){return a$8.createElement(h$3,{onClick:function(){st.onClick(),tt.onClick()}})})},setPages:function(tt){$.setPages=tt}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=print_min})(lib$6);var lib$5={exports:{}},properties_min={},e$7=lib$h.exports;function t$7(j){var $=Object.create(null);return j&&Object.keys(j).forEach(function(_e){if(_e!=="default"){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}}),$.default=j,Object.freeze($)}var r$7=t$7(react.exports),n$7=function(){return r$7.createElement(e$7.Icon,{size:16},r$7.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},o$7=function(){return o$7=Object.assign||function(j){for(var $,_e=1,et=arguments.length;_e<et;_e++)for(var tt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,tt)&&(j[tt]=$[tt]);return j},o$7.apply(this,arguments)},a$7=function(j){var $=j.doc,_e=j.render,et=r$7.useState(),tt=et[0],st=et[1];return r$7.useEffect(function(){$.getMetadata().then(function(gt){return Promise.resolve(gt)}).then(function(gt){return $.getDownloadInfo().then(function(lt){return Promise.resolve({fileName:gt.contentDispositionFilename||"",info:gt.info,length:lt.length})})}).then(function(gt){st(gt)})},[]),tt?_e(tt):r$7.createElement("div",{className:"rpv-properties__loader"},r$7.createElement(e$7.Spinner,null))},i$7=function(j){var $=j.label,_e=j.value,et=r$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$7.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":et})},r$7.createElement("dt",{className:"rpv-properties__item-label"},$,":"),r$7.createElement("dd",{className:"rpv-properties__item-value"},_e||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$7=function(j,$,_e,et){var tt=parseInt(j,10);return tt>=$&&tt<=_e?tt:et},p$3=function(j){var $=j.doc,_e=j.fileName,et=j.onToggle,tt=r$7.useContext(e$7.LocalizationContext).l10n,st=function(gt){var lt=function(nt){var ut=l$7.exec(nt);if(!ut)return null;var ht=parseInt(ut[1],10),at=c$7(ut[2],1,12,1)-1,it=c$7(ut[3],1,31,1),rt=c$7(ut[4],0,23,0),ot=c$7(ut[5],0,59,0),ft=c$7(ut[6],0,59,0),ct=ut[7]||"Z",dt=c$7(ut[8],0,23,0),pt=c$7(ut[9],0,59,0);switch(ct){case"-":rt+=dt,ot+=pt;break;case"+":rt-=dt,ot-=pt}return new Date(Date.UTC(ht,at,it,rt,ot,ft))}(gt);return lt?"".concat(lt.toLocaleDateString(),", ").concat(lt.toLocaleTimeString()):""};return r$7.createElement("div",{className:"rpv-properties__modal"},r$7.createElement(a$7,{doc:$,render:function(gt){return r$7.createElement(r$7.Fragment,null,r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:tt&&tt.properties?tt.properties.fileName:"File name",value:gt.fileName||(ut=_e,ht=ut.split("/").pop(),ht?ht.split("#")[0].split("?")[0]:ut)}),r$7.createElement(i$7,{label:tt&&tt.properties?tt.properties.fileSize:"File size",value:(lt=gt.length,nt=Math.floor(Math.log(lt)/Math.log(1024)),"".concat((lt/Math.pow(1024,nt)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][nt]))})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:tt&&tt.properties?tt.properties.title:"Title",value:gt.info.Title}),r$7.createElement(i$7,{label:tt&&tt.properties?tt.properties.author:"Author",value:gt.info.Author}),r$7.createElement(i$7,{label:tt&&tt.properties?tt.properties.subject:"Subject",value:gt.info.Subject}),r$7.createElement(i$7,{label:tt&&tt.properties?tt.properties.keywords:"Keywords",value:gt.info.Keywords}),r$7.createElement(i$7,{label:tt&&tt.properties?tt.properties.creator:"Creator",value:gt.info.Creator}),r$7.createElement(i$7,{label:tt&&tt.properties?tt.properties.creationDate:"Creation date",value:st(gt.info.CreationDate)}),r$7.createElement(i$7,{label:tt&&tt.properties?tt.properties.modificationDate:"Modification date",value:st(gt.info.ModDate)})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:tt&&tt.properties?tt.properties.pdfProducer:"PDF producer",value:gt.info.Producer}),r$7.createElement(i$7,{label:tt&&tt.properties?tt.properties.pdfVersion:"PDF version",value:gt.info.PDFFormatVersion}),r$7.createElement(i$7,{label:tt&&tt.properties?tt.properties.pageCount:"Page count",value:"".concat($.numPages)})));var lt,nt,ut,ht}}),r$7.createElement("div",{className:"rpv-properties__modal-footer"},r$7.createElement(e$7.Button,{onClick:et},tt&&tt.properties?tt.properties.close:"Close")))},s$5={left:0,top:8},u$7=function(j){var $=j.onClick,_e=r$7.useContext(e$7.LocalizationContext).l10n,et=_e&&_e.properties?_e.properties.showProperties:"Show properties";return r$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$7.createElement(e$7.MinimalButton,{ariaLabel:et,testId:"properties__button",onClick:$},r$7.createElement(n$7,null)),content:function(){return et},offset:s$5})},m$4=function(j){var $=j.children,_e=j.store,et=function(gt){var lt=r$7.useState(gt.get("doc")),nt=lt[0],ut=lt[1],ht=function(at){ut(at)};return r$7.useEffect(function(){return gt.subscribe("doc",ht),function(){gt.unsubscribe("doc",ht)}},[]),{currentDoc:nt}}(_e).currentDoc,tt=_e.get("fileName")||"",st=$||function(gt){return r$7.createElement(u$7,o$7({},gt))};return et?r$7.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(gt){return st({onClick:gt})},content:function(gt){return r$7.createElement(p$3,{doc:et,fileName:tt,onToggle:gt})},closeOnClickOutside:!0,closeOnEscape:!0}):r$7.createElement(r$7.Fragment,null)},f$4=function(j){var $=j.onClick,_e=r$7.useContext(e$7.LocalizationContext).l10n,et=_e&&_e.properties?_e.properties.showProperties:"Show properties";return r$7.createElement(e$7.MenuItem,{icon:r$7.createElement(n$7,null),testId:"properties__menu",onClick:$},et)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var j=r$7.useMemo(function(){return e$7.createStore({fileName:""})},[]),$=function(_e){return r$7.createElement(m$4,o$7({},_e,{store:j}))};return{onDocumentLoad:function(_e){j.update("doc",_e.doc)},onViewerStateChange:function(_e){return j.update("fileName",_e.file.name),_e},ShowProperties:$,ShowPropertiesButton:function(){return r$7.createElement(m$4,{store:j})},ShowPropertiesMenuItem:function(_e){return r$7.createElement($,null,function(et){return r$7.createElement(f$4,o$7({},et))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=properties_min})(lib$5);var lib$4={exports:{}},rotate_min={},t$6=lib$h.exports;function e$6(j){var $=Object.create(null);return j&&Object.keys(j).forEach(function(_e){if(_e!=="default"){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}}),$.default=j,Object.freeze($)}var r$6=e$6(react.exports),n$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},o$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},c$6=function(){return c$6=Object.assign||function(j){for(var $,_e=1,et=arguments.length;_e<et;_e++)for(var tt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,tt)&&(j[tt]=$[tt]);return j},c$6.apply(this,arguments)},a$6={left:0,top:8},i$6=function(j){var $=j.direction,_e=j.onClick,et=r$6.useContext(t$6.LocalizationContext).l10n,tt=et&&et.rotate?et.rotate.rotateBackward:"Rotate counterclockwise",st=et&&et.rotate?et.rotate.rotateForward:"Rotate clockwise",gt=$===t$6.RotateDirection.Backward?tt:st,lt=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$6.createElement(t$6.MinimalButton,{ariaLabel:gt,testId:$===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:_e},lt),content:function(){return gt},offset:a$6})},u$6=function(j){var $=j.children,_e=j.direction,et=j.store;return($||function(tt){return r$6.createElement(i$6,{direction:tt.direction,onClick:tt.onClick})})({direction:_e,onClick:function(){var tt=et.get("rotate");tt&&tt(_e)}})},l$6=function(j){var $=j.direction,_e=j.onClick,et=r$6.useContext(t$6.LocalizationContext).l10n,tt=et&&et.rotate?et.rotate.rotateBackward:"Rotate counterclockwise",st=et&&et.rotate?et.rotate.rotateForward:"Rotate clockwise",gt=$===t$6.RotateDirection.Backward?tt:st,lt=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.MenuItem,{icon:lt,testId:$===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:_e},gt)},d$5=function(j){var $=j.children,_e=j.store;return $({onRotatePage:function(et,tt){var st=_e.get("rotatePage");st&&st(et,tt)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var j=r$6.useMemo(function(){return t$6.createStore()},[]),$=function(_e){return r$6.createElement(u$6,c$6({},_e,{store:j}))};return{install:function(_e){j.update("rotate",_e.rotate),j.update("rotatePage",_e.rotatePage)},Rotate:$,RotateBackwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(_e){return r$6.createElement(i$6,c$6({},_e))})},RotateBackwardMenuItem:function(_e){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(et){return r$6.createElement(l$6,{direction:et.direction,onClick:function(){et.onClick(),_e.onClick()}})})},RotateForwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(_e){return r$6.createElement(i$6,c$6({},_e))})},RotateForwardMenuItem:function(_e){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(et){return r$6.createElement(l$6,{direction:et.direction,onClick:function(){et.onClick(),_e.onClick()}})})},RotatePage:function(_e){return r$6.createElement(d$5,c$6({},_e,{store:j}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=rotate_min})(lib$4);var lib$3={exports:{}},scrollMode_min={},e$5=lib$h.exports;function c$5(j){var $=Object.create(null);return j&&Object.keys(j).forEach(function(_e){if(_e!=="default"){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}}),$.default=j,Object.freeze($)}var o$5=c$5(react.exports),t$5=function(){return o$5.createElement(e$5.Icon,{size:16},o$5.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},l$5=function(){return l$5=Object.assign||function(j){for(var $,_e=1,et=arguments.length;_e<et;_e++)for(var tt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,tt)&&(j[tt]=$[tt]);return j},l$5.apply(this,arguments)},r$5=function(){return o$5.createElement(e$5.Icon,{size:16},o$5.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},n$5=function(){return o$5.createElement(e$5.Icon,{size:16},o$5.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},i$5=function(j){var $=j.children,_e=j.mode,et=j.onClick,tt=o$5.useContext(e$5.LocalizationContext).l10n,st="",gt=o$5.createElement(r$5,null);switch(_e){case e$5.ScrollMode.Horizontal:st=tt&&tt.scrollMode?tt.scrollMode.horizontalScrolling:"Horizontal scrolling",gt=o$5.createElement(t$5,null);break;case e$5.ScrollMode.Wrapped:st=tt&&tt.scrollMode?tt.scrollMode.wrappedScrolling:"Wrapped scrolling",gt=o$5.createElement(n$5,null);break;case e$5.ScrollMode.Vertical:default:st=tt&&tt.scrollMode?tt.scrollMode.verticalScrolling:"Vertical scrolling",gt=o$5.createElement(r$5,null)}return $({icon:gt,label:st,onClick:et})},a$5={left:0,top:8},u$5=function(j){var $=j.isSelected,_e=j.mode,et=j.onClick,tt="";switch(_e){case e$5.ScrollMode.Horizontal:tt="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Wrapped:tt="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:tt="scroll-mode__vertical-button"}return o$5.createElement(i$5,{mode:_e,onClick:et},function(st){return o$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:o$5.createElement(e$5.MinimalButton,{ariaLabel:st.label,isSelected:$,testId:tt,onClick:st.onClick},st.icon),content:function(){return st.label},offset:a$5})})},d$4=function(j){var $=j.children,_e=j.mode,et=j.store,tt=function(gt){var lt=o$5.useState(gt.get("scrollMode")||e$5.ScrollMode.Vertical),nt=lt[0],ut=lt[1],ht=function(at){ut(at)};return o$5.useEffect(function(){return gt.subscribe("scrollMode",ht),function(){gt.unsubscribe("scrollMode",ht)}},[]),{scrollMode:nt}}(et).scrollMode,st=tt===_e;return($||function(gt){return o$5.createElement(u$5,{isSelected:st,mode:gt.mode,onClick:gt.onClick})})({isSelected:st,mode:_e,onClick:function(){et.get("switchScrollMode")(_e)}})},s$4=function(j){var $=j.isSelected,_e=j.mode,et=j.onClick,tt="";switch(_e){case e$5.ScrollMode.Horizontal:tt="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Wrapped:tt="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:tt="scroll-mode__vertical-menu"}return o$5.createElement(i$5,{mode:_e,onClick:et},function(st){return o$5.createElement(e$5.MenuItem,{checked:$,icon:st.icon,testId:tt,onClick:st.onClick},st.label)})};scrollMode_min.HorizontalScrollingIcon=t$5,scrollMode_min.VerticalScrollingIcon=r$5,scrollMode_min.WrappedScrollingIcon=n$5,scrollMode_min.scrollModePlugin=function(){var j=o$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,switchScrollMode:function(){}})},[]),$=function(_e){return o$5.createElement(d$4,l$5({},_e,{store:j}))};return{install:function(_e){j.update("switchScrollMode",_e.switchScrollMode)},onViewerStateChange:function(_e){return j.update("scrollMode",_e.scrollMode),_e},switchScrollMode:function(_e){j.get("switchScrollMode")(_e)},SwitchScrollMode:$,SwitchScrollModeButton:function(_e){return o$5.createElement($,{mode:_e.mode},function(et){return o$5.createElement(u$5,{isSelected:et.isSelected,mode:et.mode,onClick:function(){et.onClick()}})})},SwitchScrollModeMenuItem:function(_e){return o$5.createElement($,{mode:_e.mode},function(et){return o$5.createElement(s$4,{isSelected:et.isSelected,mode:et.mode,onClick:function(){et.onClick(),_e.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=scrollMode_min})(lib$3);var lib$2={exports:{}},search_min={},e$4=lib$h.exports;function t$4(j){var $=Object.create(null);return j&&Object.keys(j).forEach(function(_e){if(_e!=="default"){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}}),$.default=j,Object.freeze($)}var r$4=t$4(react.exports),n$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a$4=function(){return r$4.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$4.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c$4=function(){return c$4=Object.assign||function(j){for(var $,_e=1,et=arguments.length;_e<et;_e++)for(var tt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,tt)&&(j[tt]=$[tt]);return j},c$4.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function(j){return{left:"".concat(j.left,"%"),top:"".concat(j.top,"%"),height:"".concat(j.height,"%"),width:"".concat(j.width,"%")}},s$3=function(j){var $=j.index,_e=j.area,et=j.onHighlightKeyword,tt=r$4.useRef();return e$4.useIsomorphicLayoutEffect(function(){var st=tt.current;et&&st&&et({highlightEle:st,keyword:_e.keyword})},[]),r$4.createElement("div",{className:"rpv-search__highlight","data-index":$,ref:tt,style:i$4(_e),title:_e.keywordStr.trim()})},l$4=function(j){var $=j.parentNode;$&&$.removeChild(j)},h$2=function(j){var $=j.parentNode;if($){var _e=document.createRange();_e.selectNodeContents(j),function(et,tt){l$4(et);var st=tt.parentNode;st&&st.insertBefore(et,tt),l$4(tt)}(_e.extractContents(),j),$.normalize()}},d$3=function(j,$){return j.top<$.top?-1:j.top>$.top?1:j.left<$.left?-1:j.left>$.left?1:0},f$3=function(j){var $=j.numPages,_e=j.pageIndex,et=j.renderHighlights,tt=j.store,st=j.onHighlightKeyword,gt=r$4.useRef(),lt=r$4.useCallback(function(Ut){return r$4.createElement(r$4.Fragment,null,Ut.highlightAreas.map(function(Xt,qt){return r$4.createElement(s$3,{index:qt,key:qt,area:Xt,onHighlightKeyword:st})}))},[]),nt=et||lt,ut=r$4.useState(tt.get("matchPosition")),ht=ut[0],at=ut[1],it=r$4.useState(tt.get("keyword")||[u$4]),rt=it[0],ot=it[1],ft=r$4.useState({pageIndex:_e,scale:1,status:e$4.LayerRenderStatus.PreRender}),ct=ft[0],dt=ft[1],pt=r$4.useRef(null),mt=r$4.useRef([]),_t=r$4.useState([]),vt=_t[0],yt=_t[1],Ct=function(){return!0},bt=r$4.useCallback(function(){return tt.get("targetPageFilter")||Ct},[tt.get("targetPageFilter")]),Dt=function(Ut){var Xt=mt.current;if(Xt.length===0)return[];var qt=[],Jt=[].slice.call(Ut.querySelectorAll(".rpv-core__text-layer-text")),Gt=Xt.map(function(Et){return Et.char}).join("");return rt.forEach(function(Et){var At=Et.keyword;if(At.trim()){for(var It,Ot=Et.regExp.flags.indexOf("g")===-1?new RegExp(Et.regExp,"".concat(Et.regExp.flags,"g")):Et.regExp,Tt=[];(It=Ot.exec(Gt))!==null;)Tt.push({keyword:Ot,startIndex:It.index,endIndex:Ot.lastIndex});Tt.map(function(St){return{keyword:St.keyword,indexes:Xt.slice(St.startIndex,St.endIndex)}}).forEach(function(St){var xt=St.indexes.reduce(function($t,Rt){return $t[Rt.spanIndex]=($t[Rt.spanIndex]||[]).concat([Rt]),$t},{});Object.values(xt).forEach(function($t){if($t.length!==1||$t[0].char.trim()!==""){var Rt=Et.wholeWords?$t.slice(1,-1):$t,Bt=function(Wt,Kt,ln,en,tn){var Ht=document.createRange(),nn=en.firstChild;if(!nn||nn.nodeType!==Node.TEXT_NODE)return null;var Pt=nn.textContent.length,kt=tn[0].charIndexInSpan,Nt=tn.length===1?kt:tn[tn.length-1].charIndexInSpan;if(kt>Pt||Nt+1>Pt)return null;Ht.setStart(nn,kt),Ht.setEnd(nn,Nt+1);var jt=document.createElement("span");Ht.surroundContents(jt);var Vt=jt.getBoundingClientRect(),sn=ln.getBoundingClientRect(),rn=sn.height,_n=sn.width,cn=100*(Vt.left-sn.left)/_n,An=100*(Vt.top-sn.top)/rn,pn=100*Vt.height/rn,xn=100*Vt.width/_n;return h$2(jt),{keyword:Kt,keywordStr:Wt,numPages:$,pageIndex:_e,left:cn,top:An,height:pn,width:xn,pageHeight:rn,pageWidth:_n}}(At,St.keyword,Ut,Jt[Rt[0].spanIndex],Rt);Bt&&qt.push(Bt)}})})}}),qt.sort(d$3)},wt=function(Ut){Ut&&Ut.length>0&&ot(Ut)},Ft=function(Ut){return at(Ut)},Lt=function(Ut){if(Ut.has(_e)){var Xt=Ut.get(_e);Xt&&dt({ele:Xt.ele,pageIndex:_e,scale:Xt.scale,status:Xt.status})}},Qt=function(){return rt.length===0||rt.length===1&&rt[0].keyword.trim()===""};return r$4.useEffect(function(){if(!Qt()&&ct.status===e$4.LayerRenderStatus.DidRender&&!mt.current.length){var Ut=ct.ele,Xt=[].slice.call(Ut.querySelectorAll(".rpv-core__text-layer-text")).map(function(qt){return qt.textContent}).reduce(function(qt,Jt,Gt){return qt.concat(Jt.split("").map(function(Et,At){return{char:Et,charIndexInSpan:At,spanIndex:Gt}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);mt.current=Xt}},[rt,ct.status]),r$4.useEffect(function(){if(!Qt()&&ct.ele&&ct.status===e$4.LayerRenderStatus.DidRender&&bt()({pageIndex:_e,numPages:$})){var Ut=ct.ele,Xt=Dt(Ut);yt(Xt)}},[rt,ht,ct.status,mt.current]),r$4.useEffect(function(){Qt()&&ct.ele&&ct.status===e$4.LayerRenderStatus.DidRender&&yt([])},[rt,ct.status]),r$4.useEffect(function(){if(vt.length!==0){var Ut=gt.current;if(ht.pageIndex===_e&&Ut&&ct.status===e$4.LayerRenderStatus.DidRender){var Xt=Ut.querySelector('.rpv-search__highlight[data-index="'.concat(ht.matchIndex,'"]'));if(Xt){var qt=function(At,It){for(var Ot=At.offsetTop,Tt=At.offsetLeft,St=At.parentElement;St&&St!==It;)Ot+=St.offsetTop,Tt+=St.offsetLeft,St=St.parentElement;return{left:Tt,top:Ot}}(Xt,Ut),Jt=qt.left,Gt=qt.top,Et=tt.get("jumpToDestination");Et&&(Et(_e,(Ut.getBoundingClientRect().height-Gt)/ct.scale,Jt/ct.scale,ct.scale),pt.current&&pt.current.classList.remove("rpv-search__highlight--current"),pt.current=Xt,Xt.classList.add("rpv-search__highlight--current"))}}}},[vt,ht]),r$4.useEffect(function(){return tt.subscribe("keyword",wt),tt.subscribe("matchPosition",Ft),tt.subscribe("renderStatus",Lt),function(){tt.unsubscribe("keyword",wt),tt.unsubscribe("matchPosition",Ft),tt.unsubscribe("renderStatus",Lt)}},[]),r$4.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(_e),ref:gt},nt({getCssProperties:i$4,highlightAreas:vt}))},p$2=function(j){var $,_e=j.wholeWords?" ".concat(j.keyword," "):j.keyword,et=j.matchCase?"g":"gi";return{keyword:j.keyword,regExp:new RegExp(($=_e,$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),et),wholeWords:j.wholeWords||!1}},g$2=function(j,$,_e){return j instanceof RegExp?{keyword:j.source,regExp:j,wholeWords:_e||!1}:typeof j=="string"?j===""?u$4:p$2({keyword:j,matchCase:$||!1,wholeWords:_e||!1}):($!==void 0&&(j.matchCase=$),_e!==void 0&&(j.wholeWords=_e),p$2(j))},m$3=function(j){var $,_e=j.get("initialKeyword"),et=r$4.useMemo(function(){if(_e&&_e.length===1){var Ft=g$2(_e[0]);return{matchCase:Ft.regExp.flags.indexOf("i")===-1,wholeWords:Ft.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),tt=function(Ft){var Lt=r$4.useRef(Ft.get("doc")),Qt=function(Ut){Lt.current=Ut};return r$4.useEffect(function(){return Ft.subscribe("doc",Qt),function(){Ft.unsubscribe("doc",Qt)}},[]),Lt}(j),st=r$4.useState(_e),gt=st[0],lt=st[1],nt=r$4.useState([]),ut=nt[0],ht=nt[1],at=r$4.useState(0),it=at[0],rt=at[1],ot=r$4.useState(et.matchCase),ft=ot[0],ct=ot[1],dt=r$4.useRef([]),pt=r$4.useState(et.wholeWords),mt=pt[0],_t=pt[1],vt=function(){return!0},yt=r$4.useCallback(function(){return j.get("targetPageFilter")||vt},[j.get("targetPageFilter")]),Ct=function(Ft){var Lt=ut.length;if(gt.length===0||Lt===0)return null;var Qt=Ft===Lt+1?1:Math.max(1,Math.min(Lt,Ft));return rt(Qt),Dt(ut[Qt-1])},bt=function(Ft){return lt(Ft===""?[]:[Ft])},Dt=function(Ft){var Lt=j.get("jumpToPage");return Lt&&Lt(Ft.pageIndex),j.update("matchPosition",{matchIndex:Ft.matchIndex,pageIndex:Ft.pageIndex}),Ft},wt=function(Ft,Lt,Qt){var Ut=tt.current;if(!Ut)return Promise.resolve([]);var Xt=Ut.numPages,qt=Ft.map(function(Jt){return g$2(Jt,Lt,Qt)});return j.update("keyword",qt),rt(0),ht([]),new Promise(function(Jt,Gt){var Et=dt.current.length===0?function(){var At=tt.current;if(!At)return Promise.resolve([]);var It=Array(At.numPages).fill(0).map(function(Ot,Tt){return e$4.getPage(At,Tt).then(function(St){return St.getTextContent()}).then(function(St){var xt=St.items.map(function($t){return $t.str||""}).join("");return Promise.resolve({pageContent:xt,pageIndex:Tt})})});return Promise.all(It).then(function(Ot){return Ot.sort(function(Tt,St){return Tt.pageIndex-St.pageIndex}),Promise.resolve(Ot.map(function(Tt){return Tt.pageContent}))})}().then(function(At){return dt.current=At,Promise.resolve(At)}):Promise.resolve(dt.current);Et.then(function(At){var It=[];At.forEach(function(Ot,Tt){yt()({pageIndex:Tt,numPages:Xt})&&qt.forEach(function(St){for(var xt,$t=0;(xt=St.regExp.exec(Ot))!==null;)It.push({keyword:St.regExp,matchIndex:$t,pageIndex:Tt,pageText:Ot,startIndex:xt.index,endIndex:St.regExp.lastIndex}),$t++})}),ht(It),It.length>0&&(rt(1),Dt(It[0])),Jt(It)})})};return r$4.useEffect(function(){dt.current=[]},[tt.current]),{clearKeyword:function(){j.update("keyword",[u$4]),bt(""),rt(0),ht([]),ct(!1),_t(!1)},changeMatchCase:function(Ft){ct(Ft),gt.length>0&&wt(gt,Ft,mt)},changeWholeWords:function(Ft){_t(Ft),gt.length>0&&wt(gt,ft,Ft)},currentMatch:it,jumpToMatch:Ct,jumpToNextMatch:function(){return Ct(it+1)},jumpToPreviousMatch:function(){return Ct(it-1)},keywords:gt,matchCase:ft,numberOfMatches:ut.length,wholeWords:mt,search:function(){return wt(gt,ft,mt)},searchFor:wt,setKeywords:lt,keyword:gt.length===0?"":($=gt[0],$ instanceof RegExp?$.source:typeof $=="string"?$:$.keyword),setKeyword:bt,setTargetPages:function(Ft){j.update("targetPageFilter",Ft)}}},v$2=function(j){var $=j.children,_e=j.store,et=m$3(_e),tt=r$4.useState(!1),st=tt[0],gt=tt[1],lt=function(nt){return gt(!0)};return r$4.useEffect(function(){return _e.subscribe("doc",lt),function(){_e.unsubscribe("doc",lt)}},[]),$(c$4(c$4({},et),{isDocumentLoaded:st}))},x=function(j){var $=j.containerRef,_e=j.store,et=r$4.useRef(!1),tt=function(){et.current=!0},st=function(){et.current=!1},gt=function(lt){var nt=$.current;nt&&(lt.shiftKey||lt.altKey||lt.key!=="f"||(e$4.isMac()?lt.metaKey&&!lt.ctrlKey:lt.ctrlKey)&&(et.current||document.activeElement&&nt.contains(document.activeElement))&&(lt.preventDefault(),_e.update("areShortcutsPressed",!0)))};return r$4.useEffect(function(){var lt=$.current;if(lt)return document.addEventListener("keydown",gt),lt.addEventListener("mouseenter",tt),lt.addEventListener("mouseleave",st),function(){document.removeEventListener("keydown",gt),lt.removeEventListener("mouseenter",tt),lt.removeEventListener("mouseleave",st)}},[$.current]),r$4.createElement(r$4.Fragment,null)},y={left:0,top:8},E$2=function(j){var $=j.store,_e=j.onToggle,et=r$4.useContext(e$4.LocalizationContext).l10n,tt=r$4.useContext(e$4.ThemeContext).direction,st=r$4.useState(!1),gt=st[0],lt=st[1],nt=r$4.useState(!1),ut=nt[0],ht=nt[1],at=tt===e$4.TextDirection.RightToLeft,it=m$3($),rt=it.clearKeyword,ot=it.changeMatchCase,ft=it.changeWholeWords,ct=it.currentMatch,dt=it.jumpToNextMatch,pt=it.jumpToPreviousMatch,mt=it.keyword,_t=it.matchCase,vt=it.numberOfMatches,yt=it.wholeWords,Ct=it.search,bt=it.setKeyword,Dt=function(Ut){lt(!0),Ct().then(function(Xt){lt(!1),ht(!0),Ut&&Ut()})};r$4.useEffect(function(){var Ut=$.get("initialKeyword");Ut&&Ut.length===1&&mt&&Dt(function(){$.update("initialKeyword",[])})},[]);var wt=et&&et.search?et.search.enterToSearch:"Enter to search",Ft=et&&et.search?et.search.previousMatch:"Previous match",Lt=et&&et.search?et.search.nextMatch:"Next match",Qt=et&&et.search?et.search.close:"Close";return r$4.createElement("div",{className:"rpv-search__popover"},r$4.createElement("div",{className:"rpv-search__popover-input-counter"},r$4.createElement(e$4.TextBox,{ariaLabel:wt,autoFocus:!0,placeholder:wt,type:"text",value:mt,onChange:function(Ut){ht(!1),bt(Ut)},onKeyDown:function(Ut){Ut.key==="Enter"&&mt&&(ut?dt():Dt())}}),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!at,"rpv-search__popover-counter--rtl":at})},gt&&r$4.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!gt&&r$4.createElement("span",{"data-testid":"search__popover-num-matches"},ct,"/",vt))),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:_t,type:"checkbox",onChange:function(Ut){ht(!1),ot(Ut.target.checked)}})," ",et&&et.search?et.search.matchCase:"Match case"),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:yt,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(Ut){ht(!1),ft(Ut.target.checked)}})," ",et&&et.search?et.search.wholeWords:"Whole words"),r$4.createElement("div",{className:"rpv-search__popover-footer"},r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:at?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:Ft,isDisabled:ct<=1,onClick:pt},r$4.createElement(o$4,null)),content:function(){return Ft},offset:y})),r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:Lt,isDisabled:ct>vt-1,onClick:dt},r$4.createElement(n$4,null)),content:function(){return Lt},offset:y})),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!at,"rpv-search__popover-footer-button--rtl":at})},r$4.createElement(e$4.Button,{onClick:function(){_e(),rt()}},Qt))))},w=function(j){var $=j.children,_e=j.onClick,et=r$4.useContext(e$4.LocalizationContext).l10n,tt=et&&et.search?et.search.search:"Search";return $({icon:r$4.createElement(a$4,null),label:tt,onClick:_e})},b$2={left:0,top:8},k$1=function(j){var $=j.enableShortcuts,_e=j.store,et=j.onClick,tt=$?e$4.isMac()?"Meta+F":"Ctrl+F":"",st=function(gt){gt&&et()};return r$4.useEffect(function(){return _e.subscribe("areShortcutsPressed",st),function(){_e.unsubscribe("areShortcutsPressed",st)}},[]),r$4.createElement(w,{onClick:et},function(gt){return r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaKeyShortcuts:tt,ariaLabel:gt.label,testId:"search__popover-button",onClick:et},gt.icon),content:function(){return gt.label},offset:b$2})})},S$2={left:0,top:8},C$1=function(j){var $=j.children,_e=j.enableShortcuts,et=j.store,tt=r$4.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,st=$||function(gt){return r$4.createElement(k$1,c$4({enableShortcuts:_e,store:et},gt))};return r$4.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:tt,target:function(gt){return st({onClick:gt})},content:function(gt){return r$4.createElement(E$2,{store:et,onToggle:gt})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(j){return Array.isArray(j)?j.map(function($){return g$2($)}):[g$2(j)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function(j){var $=r$4.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},j)},[]),_e=r$4.useMemo(function(){return e$4.createStore({initialKeyword:j&&j.keyword?Array.isArray(j.keyword)?j.keyword:[j.keyword]:[],keyword:j&&j.keyword?P$1(j.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),et=m$3(_e),tt=et.clearKeyword,st=et.jumpToMatch,gt=et.jumpToNextMatch,lt=et.jumpToPreviousMatch,nt=et.searchFor,ut=et.setKeywords,ht=et.setTargetPages,at=function(it){return r$4.createElement(C$1,c$4({enableShortcuts:$.enableShortcuts},it,{store:_e}))};return{install:function(it){var rt=j&&j.keyword?Array.isArray(j.keyword)?j.keyword:[j.keyword]:[],ot=j&&j.keyword?P$1(j.keyword):[u$4];_e.update("initialKeyword",rt),_e.update("jumpToDestination",it.jumpToDestination),_e.update("jumpToPage",it.jumpToPage),_e.update("keyword",ot)},renderPageLayer:function(it){return r$4.createElement(f$3,{key:it.pageIndex,numPages:it.doc.numPages,pageIndex:it.pageIndex,renderHighlights:j==null?void 0:j.renderHighlights,store:_e,onHighlightKeyword:$.onHighlightKeyword})},renderViewer:function(it){var rt=it.slot;return rt.subSlot&&(rt.subSlot.children=r$4.createElement(r$4.Fragment,null,$.enableShortcuts&&r$4.createElement(x,{containerRef:it.containerRef,store:_e}),rt.subSlot.children)),rt},uninstall:function(it){var rt=_e.get("renderStatus");rt&&rt.clear()},onDocumentLoad:function(it){_e.update("doc",it.doc)},onTextLayerRender:function(it){var rt=_e.get("renderStatus");rt&&(rt=rt.set(it.pageIndex,it),_e.update("renderStatus",rt))},Search:function(it){return r$4.createElement(v$2,c$4({},it,{store:_e}))},ShowSearchPopover:at,ShowSearchPopoverButton:function(){return r$4.createElement(at,null,function(it){return r$4.createElement(k$1,c$4({enableShortcuts:$.enableShortcuts,store:_e},it))})},clearHighlights:function(){tt()},highlight:function(it){var rt=Array.isArray(it)?it:[it];return ut(rt),nt(rt)},jumpToMatch:st,jumpToNextMatch:gt,jumpToPreviousMatch:lt,setTargetPages:ht}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=search_min})(lib$2);var lib$1={exports:{}},theme_min={},e$3=lib$h.exports;function t$3(j){var $=Object.create(null);return j&&Object.keys(j).forEach(function(_e){if(_e!=="default"){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}}),$.default=j,Object.freeze($)}var n$3=t$3(react.exports),r$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function(j){for(var $,_e=1,et=arguments.length;_e<et;_e++)for(var tt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,tt)&&(j[tt]=$[tt]);return j},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function(j){var $=j.onClick,_e=n$3.useContext(e$3.ThemeContext),et=n$3.useContext(e$3.LocalizationContext).l10n,tt=_e.currentTheme==="dark",st=et&&et.theme?tt?et.theme.switchLightTheme:et.theme.switchDarkTheme:tt?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:st,testId:"theme__switch-button",onClick:$},tt?n$3.createElement(c$3,null):n$3.createElement(r$3,null)),content:function(){return st},offset:a$3})},l$3=function(j){var $=j.children,_e=n$3.useContext(e$3.ThemeContext);return($||function(et){return n$3.createElement(i$3,{onClick:et.onClick})})({onClick:function(){return _e.setCurrentTheme(_e.currentTheme==="dark"?"light":"dark")}})},u$3=function(j){var $=j.onClick,_e=n$3.useContext(e$3.ThemeContext),et=n$3.useContext(e$3.LocalizationContext).l10n,tt=_e.currentTheme==="dark",st=et&&et.theme?tt?et.theme.switchLightTheme:et.theme.switchDarkTheme:tt?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:tt?n$3.createElement(c$3,null):n$3.createElement(r$3,null),testId:"theme__switch-menu",onClick:$},st)};theme_min.DarkIcon=r$3,theme_min.LightIcon=c$3,theme_min.themePlugin=function(){var j=function($){return n$3.createElement(l$3,o$3({},$))};return{SwitchTheme:j,SwitchThemeButton:function(){return n$3.createElement(j,null,function($){return n$3.createElement(i$3,o$3({},$))})},SwitchThemeMenuItem:function($){return n$3.createElement(j,null,function(_e){return n$3.createElement(u$3,{onClick:function(){_e.onClick(),$.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=theme_min})(lib$1);var lib={exports:{}},zoom_min={},e$2=lib$h.exports;function t$2(j){var $=Object.create(null);return j&&Object.keys(j).forEach(function(_e){if(_e!=="default"){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}}),$.default=j,Object.freeze($)}var n$2=t$2(react.exports),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$2=function(){return c$2=Object.assign||function(j){for(var $,_e=1,et=arguments.length;_e<et;_e++)for(var tt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,tt)&&(j[tt]=$[tt]);return j},c$2.apply(this,arguments)},a$2=function(j){var $=n$2.useState(j.get("scale")||0),_e=$[0],et=$[1],tt=function(st){et(st)};return n$2.useEffect(function(){return j.subscribe("scale",tt),function(){j.unsubscribe("scale",tt)}},[]),{scale:_e}},u$2=function(j){var $=j.children,_e=j.store;return($||function(et){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*et.scale),"%"))})({scale:a$2(_e).scale})},i$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],l$2=function(j){return i$2.find(function($){return $>j})||j},m$2=function(j){var $=i$2.findIndex(function(_e){return _e>=j});return $===-1||$===0?j:i$2[$-1]},s$2=function(j){var $=j.containerRef,_e=j.store,et=function(tt){if(!tt.shiftKey&&!tt.altKey&&(e$2.isMac()?tt.metaKey:tt.ctrlKey)){var st=$.current;if(st&&document.activeElement&&st.contains(document.activeElement)){var gt=_e.get("zoom");if(gt){var lt=_e.get("scale")||1,nt=1;switch(tt.key){case"-":nt=m$2(lt);break;case"=":nt=l$2(lt);break;case"0":nt=1;break;default:nt=lt}nt!==lt&&(tt.preventDefault(),gt(nt))}}}};return n$2.useEffect(function(){if($.current)return document.addEventListener("keydown",et),function(){document.removeEventListener("keydown",et)}},[$.current]),n$2.createElement(n$2.Fragment,null)},f$2=[.5,.75,1,1.25,1.5,2,3,4],v$1={left:0,top:8},p$1=function(j){var $=j.levels,_e=$===void 0?f$2:$,et=j.scale,tt=j.onZoom,st=n$2.useContext(e$2.LocalizationContext).l10n,gt=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,lt=st&&st.zoom?st.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(nt){return n$2.createElement(e$2.MinimalButton,{ariaLabel:lt,testId:"zoom__popover-target",onClick:function(){nt()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!gt,"rpv-zoom__popover-target-scale--rtl":gt})},Math.round(100*et),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(nt){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(ut){var ht=ut;return n$2.createElement(e$2.MenuItem,{key:ht,onClick:function(){nt(),tt(ht)}},function(at){switch(at){case e$2.SpecialZoomLevel.ActualSize:return st&&st.zoom?st.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return st&&st.zoom?st.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return st&&st.zoom?st.zoom.pageWidth:"Page width"}}(ht))}),n$2.createElement(e$2.MenuDivider,null),_e.map(function(ut){return n$2.createElement(e$2.MenuItem,{key:ut,onClick:function(){nt(),tt(ut)}},"".concat(Math.round(100*ut),"%"))}))},offset:v$1,closeOnClickOutside:!0,closeOnEscape:!0})},z=function(j){var $=j.children,_e=j.levels,et=j.store;return($||function(tt){return n$2.createElement(p$1,{levels:_e,scale:tt.scale,onZoom:tt.onZoom})})({scale:a$2(et).scale,onZoom:function(tt){var st=et.get("zoom");st&&st(tt)}})},E$1={left:0,top:8},d$2=function(j){var $=j.enableShortcuts,_e=j.onClick,et=n$2.useContext(e$2.LocalizationContext).l10n,tt=et&&et.zoom?et.zoom.zoomIn:"Zoom in",st=$?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:st,ariaLabel:tt,testId:"zoom__in-button",onClick:_e},n$2.createElement(o$2,null)),content:function(){return tt},offset:E$1})},C=function(j){var $=j.children,_e=j.enableShortcuts,et=j.store,tt=a$2(et).scale;return($||d$2)({enableShortcuts:_e,onClick:function(){var st=et.get("zoom");st&&st(l$2(tt))}})},h$1=function(j){var $=j.onClick,_e=n$2.useContext(e$2.LocalizationContext).l10n,et=_e&&_e.zoom?_e.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:$},et)},g$1={left:0,top:8},b$1=function(j){var $=j.enableShortcuts,_e=j.onClick,et=n$2.useContext(e$2.LocalizationContext).l10n,tt=et&&et.zoom?et.zoom.zoomOut:"Zoom out",st=$?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:st,ariaLabel:tt,testId:"zoom__out-button",onClick:_e},n$2.createElement(r$2,null)),content:function(){return tt},offset:g$1})},k=function(j){var $=j.children,_e=j.enableShortcuts,et=j.store,tt=a$2(et).scale;return($||b$1)({enableShortcuts:_e,onClick:function(){var st=et.get("zoom");st&&st(m$2(tt))}})},S$1=function(j){var $=j.onClick,_e=n$2.useContext(e$2.LocalizationContext).l10n,et=_e&&_e.zoom?_e.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),testId:"zoom__out-menu",onClick:$},et)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$2,zoom_min.zoomPlugin=function(j){var $=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},j)},[]),_e=n$2.useMemo(function(){return e$2.createStore({})},[]),et=function(gt){return n$2.createElement(C,c$2({enableShortcuts:$.enableShortcuts},gt,{store:_e}))},tt=function(gt){return n$2.createElement(k,c$2({enableShortcuts:$.enableShortcuts},gt,{store:_e}))},st=function(gt){return n$2.createElement(z,c$2({},gt,{store:_e}))};return{renderViewer:function(gt){var lt=gt.slot;if(!$.enableShortcuts)return lt;var nt={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(s$2,{containerRef:gt.containerRef,store:_e}),lt.children)};return c$2(c$2({},lt),nt)},install:function(gt){_e.update("zoom",gt.zoom)},onViewerStateChange:function(gt){return _e.update("scale",gt.scale),gt},zoomTo:function(gt){var lt=_e.get("zoom");lt&&lt(gt)},CurrentScale:function(gt){return n$2.createElement(u$2,c$2({},gt,{store:_e}))},ZoomIn:et,ZoomInButton:function(){return n$2.createElement(et,null,function(gt){return n$2.createElement(d$2,c$2({},gt))})},ZoomInMenuItem:function(gt){return n$2.createElement(et,null,function(lt){return n$2.createElement(h$1,{onClick:function(){lt.onClick(),gt.onClick()}})})},ZoomOut:tt,ZoomOutButton:function(){return n$2.createElement(tt,null,function(gt){return n$2.createElement(b$1,c$2({},gt))})},ZoomOutMenuItem:function(gt){return n$2.createElement(tt,null,function(lt){return n$2.createElement(S$1,{onClick:function(){lt.onClick(),gt.onClick()}})})},Zoom:st,ZoomPopover:function(gt){return n$2.createElement(st,null,function(lt){return n$2.createElement(p$1,c$2({levels:gt==null?void 0:gt.levels},lt))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=zoom_min})(lib);var e$1=lib$h.exports,t$1=lib$b.exports,n$1=react.exports,r$1=lib$a.exports,o$1=lib$9.exports,a$1=lib$8.exports,l$1=lib$7.exports,i$1=lib$6.exports,c$1=lib$5.exports,m$1=lib$4.exports,u$1=lib$3.exports,s$1=lib$2.exports,d$1=lib$1.exports,p=lib.exports;function v(j){var $=Object.create(null);return j&&Object.keys(j).forEach(function(_e){if(_e!=="default"){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}}),$.default=j,Object.freeze($)}var g=v(n$1),_=function(){return g.createElement(e$1.Icon,{size:16},g.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},E={left:0,top:8},P=function(j){var $=j.toolbarSlot,_e=g.useContext(e$1.LocalizationContext).l10n,et=g.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,tt=$.DownloadMenuItem,st=$.EnterFullScreenMenuItem,gt=$.GoToFirstPageMenuItem,lt=$.GoToLastPageMenuItem,nt=$.GoToNextPageMenuItem,ut=$.GoToPreviousPageMenuItem,ht=$.OpenMenuItem,at=$.PrintMenuItem,it=$.RotateBackwardMenuItem,rt=$.RotateForwardMenuItem,ot=$.ShowPropertiesMenuItem,ft=$.SwitchScrollModeMenuItem,ct=$.SwitchSelectionModeMenuItem,dt=$.SwitchThemeMenuItem;return g.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:et,target:function(pt,mt){var _t=_e&&_e.toolbar?_e.toolbar.moreActions:"More actions";return g.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:et,target:g.createElement(e$1.MinimalButton,{ariaLabel:_t,isSelected:mt,testId:"toolbar__more-actions-popover-target",onClick:pt},g.createElement(_,null)),content:function(){return _t},offset:E})},content:function(pt){return g.createElement(e$1.Menu,null,g.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},g.createElement(dt,{onClick:pt})),g.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},g.createElement(st,{onClick:pt})),g.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},g.createElement(ht,null)),g.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},g.createElement(at,{onClick:pt})),g.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},g.createElement(tt,{onClick:pt})),g.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},g.createElement(e$1.MenuDivider,null)),g.createElement(gt,{onClick:pt}),g.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},g.createElement(ut,{onClick:pt})),g.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},g.createElement(nt,{onClick:pt})),g.createElement(lt,{onClick:pt}),g.createElement(e$1.MenuDivider,null),g.createElement(rt,{onClick:pt}),g.createElement(it,{onClick:pt}),g.createElement(e$1.MenuDivider,null),g.createElement(ct,{mode:t$1.SelectionMode.Text,onClick:pt}),g.createElement(ct,{mode:t$1.SelectionMode.Hand,onClick:pt}),g.createElement(e$1.MenuDivider,null),g.createElement(ft,{mode:e$1.ScrollMode.Vertical,onClick:pt}),g.createElement(ft,{mode:e$1.ScrollMode.Horizontal,onClick:pt}),g.createElement(ft,{mode:e$1.ScrollMode.Wrapped,onClick:pt}),g.createElement(e$1.MenuDivider,null),g.createElement(ot,{onClick:pt}))},offset:E,closeOnClickOutside:!0,closeOnEscape:!0})},f$1=function(){return f$1=Object.assign||function(j){for(var $,_e=1,et=arguments.length;_e<et;_e++)for(var tt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,tt)&&(j[tt]=$[tt]);return j},f$1.apply(this,arguments)},h=function(j){return function($){var _e=g.useMemo(function(){return j($)},[]),et=g.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,tt=_e.CurrentPageInput,st=_e.Download,gt=_e.EnterFullScreen,lt=_e.GoToNextPage,nt=_e.GoToPreviousPage,ut=_e.NumberOfPages,ht=_e.Open,at=_e.Print,it=_e.ShowSearchPopover,rt=_e.SwitchTheme,ot=_e.Zoom,ft=_e.ZoomIn,ct=_e.ZoomOut;return g.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":et}),role:"toolbar","aria-orientation":"horizontal"},g.createElement("div",{className:"rpv-toolbar__left"},g.createElement("div",{className:"rpv-toolbar__item"},g.createElement(it,null)),g.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},g.createElement("div",{className:"rpv-toolbar__item"},g.createElement(nt,null))),g.createElement("div",{className:"rpv-toolbar__item"},g.createElement(tt,null),g.createElement("span",{className:"rpv-toolbar__label"},g.createElement(ut,null))),g.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},g.createElement("div",{className:"rpv-toolbar__item"},g.createElement(lt,null)))),g.createElement("div",{className:"rpv-toolbar__center"},g.createElement("div",{className:"rpv-toolbar__item"},g.createElement(ct,null)),g.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},g.createElement("div",{className:"rpv-toolbar__item"},g.createElement(ot,null))),g.createElement("div",{className:"rpv-toolbar__item"},g.createElement(ft,null))),g.createElement("div",{className:"rpv-toolbar__right"},g.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},g.createElement("div",{className:"rpv-toolbar__item"},g.createElement(rt,null))),g.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},g.createElement("div",{className:"rpv-toolbar__item"},g.createElement(gt,null))),g.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},g.createElement("div",{className:"rpv-toolbar__item"},g.createElement(ht,null))),g.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},g.createElement("div",{className:"rpv-toolbar__item"},g.createElement(st,null))),g.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},g.createElement("div",{className:"rpv-toolbar__item"},g.createElement(at,null))),g.createElement("div",{className:"rpv-toolbar__item"},g.createElement(P,{toolbarSlot:_e}))))}},M=function(j){var $=j.NumberOfPages;return Object.assign({},j,{NumberOfPages:function(){return g.createElement(g.Fragment,null,"/ ",g.createElement($,null))}})},S=function(j){return h(M)(j)},I=function(j){var $=j.children,_e=j.slot;return($||S)(_e)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=_,toolbar_min.toolbarPlugin=function(j){var $=r$1.fullScreenPlugin(j?j.fullScreenPlugin:{}),_e=o$1.getFilePlugin(j?j.getFilePlugin:{}),et=a$1.openPlugin(j?j.openPlugin:{}),tt=l$1.pageNavigationPlugin(j?j.pageNavigationPlugin:{}),st=i$1.printPlugin(j?j.printPlugin:{}),gt=c$1.propertiesPlugin(),lt=m$1.rotatePlugin(),nt=u$1.scrollModePlugin(),ut=s$1.searchPlugin(j?j.searchPlugin:{}),ht=t$1.selectionModePlugin(j?j.selectionModePlugin:{}),at=d$1.themePlugin(),it=p.zoomPlugin(j?j.zoomPlugin:{}),rt=[$,_e,et,tt,st,gt,lt,nt,ut,ht,at,it],ot=g.useCallback(function(ft){var ct=$.EnterFullScreen,dt=$.EnterFullScreenMenuItem,pt=_e.Download,mt=_e.DownloadMenuItem,_t=et.Open,vt=et.OpenMenuItem,yt=tt.CurrentPageInput,Ct=tt.CurrentPageLabel,bt=tt.GoToFirstPage,Dt=tt.GoToFirstPageMenuItem,wt=tt.GoToLastPage,Ft=tt.GoToLastPageMenuItem,Lt=tt.GoToNextPage,Qt=tt.GoToNextPageMenuItem,Ut=tt.GoToPreviousPage,Xt=tt.GoToPreviousPageMenuItem,qt=tt.NumberOfPages,Jt=st.Print,Gt=st.PrintMenuItem,Et=gt.ShowProperties,At=gt.ShowPropertiesMenuItem,It=lt.Rotate,Ot=lt.RotateBackwardMenuItem,Tt=lt.RotateForwardMenuItem,St=nt.SwitchScrollMode,xt=nt.SwitchScrollModeMenuItem,$t=ut.Search,Rt=ut.ShowSearchPopover,Bt=ht.SwitchSelectionMode,Wt=ht.SwitchSelectionModeMenuItem,Kt=at.SwitchTheme,ln=at.SwitchThemeMenuItem,en=it.CurrentScale,tn=it.Zoom,Ht=it.ZoomIn,nn=it.ZoomInMenuItem,Pt=it.ZoomOut,kt=it.ZoomOutMenuItem;return g.createElement(I,f$1({},ft,{slot:{CurrentPageInput:yt,CurrentPageLabel:Ct,CurrentScale:en,Download:pt,DownloadMenuItem:mt,EnterFullScreen:ct,EnterFullScreenMenuItem:dt,GoToFirstPage:bt,GoToFirstPageMenuItem:Dt,GoToLastPage:wt,GoToLastPageMenuItem:Ft,GoToNextPage:Lt,GoToNextPageMenuItem:Qt,GoToPreviousPage:Ut,GoToPreviousPageMenuItem:Xt,NumberOfPages:qt,Open:_t,OpenMenuItem:vt,Print:Jt,PrintMenuItem:Gt,Rotate:It,RotateBackwardMenuItem:Ot,RotateForwardMenuItem:Tt,Search:$t,ShowProperties:Et,ShowPropertiesMenuItem:At,ShowSearchPopover:Rt,SwitchScrollMode:St,SwitchScrollModeMenuItem:xt,SwitchSelectionMode:Bt,SwitchSelectionModeMenuItem:Wt,SwitchTheme:Kt,SwitchThemeMenuItem:ln,Zoom:tn,ZoomIn:Ht,ZoomInMenuItem:nn,ZoomOut:Pt,ZoomOutMenuItem:kt}}))},[]);return{fullScreenPluginInstance:$,getFilePluginInstance:_e,openPluginInstance:et,pageNavigationPluginInstance:tt,printPluginInstance:st,propertiesPluginInstance:gt,rotatePluginInstance:lt,scrollModePluginInstance:nt,searchPluginInstance:ut,selectionModePluginInstance:ht,themePluginInstance:at,zoomPluginInstance:it,install:function(ft){rt.forEach(function(ct){ct.install&&ct.install(ft)})},renderPageLayer:function(ft){return g.createElement(g.Fragment,null,rt.map(function(ct,dt){return ct.renderPageLayer?g.createElement(g.Fragment,{key:dt},ct.renderPageLayer(ft)):g.createElement(g.Fragment,{key:dt})}))},renderViewer:function(ft){var ct=ft.slot;return rt.forEach(function(dt){dt.renderViewer&&(ct=dt.renderViewer(f$1(f$1({},ft),{slot:ct})))}),ct},uninstall:function(ft){rt.forEach(function(ct){ct.uninstall&&ct.uninstall(ft)})},onDocumentLoad:function(ft){rt.forEach(function(ct){ct.onDocumentLoad&&ct.onDocumentLoad(ft)})},onAnnotationLayerRender:function(ft){rt.forEach(function(ct){ct.onAnnotationLayerRender&&ct.onAnnotationLayerRender(ft)})},onTextLayerRender:function(ft){rt.forEach(function(ct){ct.onTextLayerRender&&ct.onTextLayerRender(ft)})},onViewerStateChange:function(ft){var ct=ft;return rt.forEach(function(dt){dt.onViewerStateChange&&(ct=dt.onViewerStateChange(ct))}),ct},renderDefaultToolbar:h,Toolbar:ot}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=toolbar_min})(lib$c);var e=lib$h.exports,t=react.exports,n=lib$f.exports,a=lib$e.exports,r=lib$d.exports,o=lib$c.exports;function l(j){var $=Object.create(null);return j&&Object.keys(j).forEach(function(_e){if(_e!=="default"){var et=Object.getOwnPropertyDescriptor(j,_e);Object.defineProperty($,_e,et.get?et:{enumerable:!0,get:function(){return j[_e]}})}}),$.default=j,Object.freeze($)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},i=function(){return i=Object.assign||function(j){for(var $,_e=1,et=arguments.length;_e<et;_e++)for(var tt in $=arguments[_e])Object.prototype.hasOwnProperty.call($,tt)&&(j[tt]=$[tt]);return j},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},b={left:8,top:0},f={left:-8,top:0},m=function(j){var $=j.attachmentTabContent,_e=j.bookmarkTabContent,et=j.store,tt=j.thumbnailTabContent,st=j.tabs,gt=u.useRef(),lt=u.useContext(e.LocalizationContext).l10n,nt=u.useState(et.get("isCurrentTabOpened")||!1),ut=nt[0],ht=nt[1],at=u.useState(Math.max(et.get("currentTab")||0,0)),it=at[0],rt=at[1],ot=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,ft=[{content:tt,icon:u.createElement(d,null),title:lt&&lt.defaultLayout?lt.defaultLayout.thumbnail:"Thumbnail"},{content:_e,icon:u.createElement(c,null),title:lt&&lt.defaultLayout?lt.defaultLayout.bookmark:"Bookmark"},{content:$,icon:u.createElement(s,null),title:lt&&lt.defaultLayout?lt.defaultLayout.attachment:"Attachment"}],ct=st?st(ft):ft,dt=function(mt){mt>=0&&mt<=ct.length-1&&(et.update("isCurrentTabOpened",!0),rt(mt))},pt=function(mt){ht(mt)};return u.useEffect(function(){return et.subscribe("currentTab",dt),et.subscribe("isCurrentTabOpened",pt),function(){et.unsubscribe("currentTab",dt),et.unsubscribe("isCurrentTabOpened",pt)}},[]),ct.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":ut,"rpv-default-layout__sidebar--ltr":!ot,"rpv-default-layout__sidebar--rtl":ot}),ref:gt},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},ct.map(function(mt,_t){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":it===_t,key:_t,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(_t),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(_t),position:ot?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:mt.title,isSelected:it===_t,onClick:function(){return function(vt){if(it===vt){et.update("isCurrentTabOpened",!et.get("isCurrentTabOpened"));var yt=gt.current;yt&&yt.style.width&&yt.style.removeProperty("width")}else et.update("currentTab",vt)}(_t)}},mt.icon),content:function(){return mt.title},offset:ot?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(it),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":ut,"rpv-default-layout__sidebar-content--ltr":!ot,"rpv-default-layout__sidebar-content--rtl":ot}),role:"tabpanel",tabIndex:-1},ct[it].content))),ut&&u.createElement(e.Splitter,{constrain:function(mt){return mt.firstHalfPercentage>=20&&mt.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function(j){var $=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),_e=n.attachmentPlugin(),et=a.bookmarkPlugin(),tt=r.thumbnailPlugin(j?j.thumbnailPlugin:{}),st=o.toolbarPlugin(j?j.toolbarPlugin:{}),gt=_e.Attachments,lt=et.Bookmarks,nt=tt.Thumbnails,ut=st.Toolbar,ht=j?j.sidebarTabs:function(it){return it},at=[_e,et,tt,st];return{attachmentPluginInstance:_e,bookmarkPluginInstance:et,thumbnailPluginInstance:tt,toolbarPluginInstance:st,activateTab:function(it){$.update("currentTab",it)},toggleTab:function(it){var rt=$.get("currentTab");$.update("isCurrentTabOpened",!$.get("isCurrentTabOpened")),rt!==it&&$.update("currentTab",it)},install:function(it){at.forEach(function(rt){rt.install&&rt.install(it)})},renderPageLayer:function(it){return u.createElement(u.Fragment,null,at.map(function(rt,ot){return rt.renderPageLayer?u.createElement(u.Fragment,{key:ot},rt.renderPageLayer(it)):u.createElement(u.Fragment,{key:ot},u.createElement(u.Fragment,null))}))},renderViewer:function(it){var rt=it.slot;at.forEach(function(ft){ft.renderViewer&&(rt=ft.renderViewer(i(i({},it),{slot:rt})))});var ot=rt.subSlot&&rt.subSlot.attrs?{className:rt.subSlot.attrs.className,"data-testid":rt.subSlot.attrs["data-testid"],ref:rt.subSlot.attrs.ref,style:rt.subSlot.attrs.style}:{};return rt.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":it.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(gt,null),bookmarkTabContent:u.createElement(lt,null),store:$,thumbnailTabContent:u.createElement(nt,null),tabs:ht}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},j&&j.renderToolbar?j.renderToolbar(ut):u.createElement(ut,null)),u.createElement("div",i({},ot),rt.subSlot.children))),rt.children),rt.subSlot.attrs={},rt.subSlot.children=u.createElement(u.Fragment,null),rt},uninstall:function(it){at.forEach(function(rt){rt.uninstall&&rt.uninstall(it)})},onDocumentLoad:function(it){at.forEach(function(rt){rt.onDocumentLoad&&rt.onDocumentLoad(it)}),j&&j.setInitialTab&&j.setInitialTab(it.doc).then(function(rt){$.update("currentTab",rt),$.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(it){at.forEach(function(rt){rt.onAnnotationLayerRender&&rt.onAnnotationLayerRender(it)})},onTextLayerRender:function(it){at.forEach(function(rt){rt.onTextLayerRender&&rt.onTextLayerRender(it)})},onViewerStateChange:function(it){var rt=it;return at.forEach(function(ot){ot.onViewerStateChange&&(rt=ot.onViewerStateChange(rt))}),rt}}},defaultLayout_min.setInitialTabFromPageMode=function(j){return new Promise(function($,_e){j.getPageMode().then(function(et){if(et)switch(et){case e.PageMode.Attachments:$(2);break;case e.PageMode.Bookmarks:$(1);break;case e.PageMode.Thumbnails:$(0);break;default:$(-1)}else $(-1)})})};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2022 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(j){j.exports=defaultLayout_min})(lib$g);const index$2="",index$1="";function Pdf(){const{file:j,setFile:$}=react.exports.useContext(modalContext);react.exports.useRef(null);const _e=()=>{const lt=new fabric.fabric.Canvas(document.querySelector("#canvasTw"));fabric.fabric.Image.fromURL(localStorage.getItem("img"),function(ut){ut.set({top:150,left:100}),ut.scaleToWidth(300),lt.add(ut).setActiveObject(ut),lt.renderAll()}),document.querySelector(".canvas-container").setAttribute("style","position:absolute;top:100")},et=()=>({onCanvasLayerRender:nt=>{const ut=nt.ele,ht=ut.getContext("2d");ut.width/2,ut.height/2;const at=ht.font.split(" "),it=parseInt(at[0],10);ht.textAlign="center",ht.font=`${it*nt.scale*4}px ${at[1]}`,_e()}}),tt=()=>{const nt=document.querySelector(".rpv-core__canvas-layer > canvas").toDataURL("image/png"),ht=document.querySelector("canvas").toDataURL("image/png"),at=new jsPDF,it=at.internal.pageSize.width,rt=at.internal.pageSize.height;at.addImage(nt,"png",0,0,it,rt),at.addImage(ht,"png",0,0,it,rt),at.save("download.pdf")},st=lib$g.exports.defaultLayoutPlugin(),gt=et();return jsxs("div",{className:"relative h-full ",children:[jsx("button",{onClick:tt,children:"download"}),jsx("div",{className:"fixed bottom-5 right-5 z-40",children:jsx("p",{className:" h-13 w-13 flex cursor-pointer items-center justify-center rounded-full bg-black p-3 uppercase text-white hover:bg-slate-200 hover:text-black",children:"open"})}),jsx("canvas",{id:"canvasTw",width:"553",height:"783",className:"fixed top-[50px] left-[100%] z-10 "}),jsx(lib$h.exports.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.1.81/build/pdf.worker.min.js",children:jsx("div",{className:" relative flex justify-items-center",style:{border:"1px solid rgba(0, 0, 0, 0.3)",height:"90vh"},children:jsx(lib$h.exports.Viewer,{fileUrl:j,defaultScale:lib$h.exports.SpecialZoomLevel.PageFit,plugins:[st,gt]})})})]})}function ProcessModal(){const{hasShow:j,setShow:$,setFile:_e,setSignModel:et}=react.exports.useContext(modalContext);let[tt,st]=react.exports.useState(0),gt=react.exports.useRef(null);const lt=()=>{st(ht=>(ht=1,ht)),gt.current.click()};return j&&jsxs("div",{className:"fixed top-0 left-0  flex h-[100vh] w-[100vw] items-center justify-center ",children:[jsx("div",{className:"absolute top-0 left-0 h-[100%] w-[100%] bg-black opacity-25"}),jsx("input",{type:"file",name:"",id:"",className:"seo_hidden",onChange:ht=>{if(ht.target.files[0]===void 0)return;const at=ht.target.files[0],it=new FileReader;it.readAsArrayBuffer(at),it.addEventListener("load",()=>{const rt=new Uint8Array(it.result);_e(rt),$(!1),et(!0)})},ref:gt,accept:"application/pdf"}),jsxs("div",{className:"relative z-10 h-[700px] w-[1080px] rounded bg-slate-100 p-[100px]",children:[jsx("div",{className:" absolute top-3 right-5 text-3xl",children:jsx("i",{className:"fa-solid fa-xmark  inline-block cursor-pointer",onClick:()=>{$(ht=>!ht),st(0)}})}),jsxs("ul",{className:"process mb-[150px] mt-5 flex justify-between text-2xl",children:[jsx("li",{className:tt>=0?"active":"",children:"\u4E0A\u50B3\u6587\u4EF6"}),jsx("li",{className:tt>=1?"active":"",children:"\u5EFA\u7ACB\u7C3D\u540D\u6A94"}),jsx("li",{className:tt>=2?"active":"",children:"\u7C3D\u7F72\u6587\u4EF6"})]}),jsxs("div",{className:"flex h-4/5 flex-col items-center text-center",children:[jsxs("div",{className:"mb-10",children:[jsx("button",{className:"mb-2 rounded-xl bg-[#6C8268] py-[19px] px-[65.5px] text-[32px] font-bold text-white",onClick:lt,children:"\u4E0A\u50B3PDF\u6A94\u6848"}),jsx("p",{children:"\u5F9E\u4F60\u7684\u88DD\u7F6E\u76F4\u63A5\u4E0A\u50B3PDF\u6A94\u6848\u3002"})]}),jsxs("div",{className:"",children:[jsx("button",{className:"mb-2 rounded-xl bg-[#6C8268] py-[19px] px-[65.5px] text-[32px] font-bold text-white",children:"\u62CD\u7167\u4E0A\u50B3\u6587\u4EF6"}),jsx("p",{children:"\u4F7F\u7528\u88DD\u7F6E\u76F8\u6A5F\u5C07\u5BE6\u9AD4\u6587\u4EF6\u62CD\u4E0B\u5F8C\u4E0A\u50B3\u3002"})]})]})]})]})}function CanvasArea(j){const $=react.exports.useRef(null);let[_e,et]=react.exports.useState(!1);const{hasSignModelShow:tt,setSignModel:st}=react.exports.useContext(modalContext);let[gt,lt]=useSearchParams();const nt=`z-5 resetBtn absolute right-5 top-4 rounded ${_e?" bg-[#6C8268]":" bg-[#CFCFCF]"} py-1 px-2 text-[12px] ${_e?"text-white":"text-black"} `,ut=`z-5 absolute right-5 top-[60px] rounded ${_e?" bg-[#6C8268]":" bg-[#CFCFCF]"} py-1 px-2 text-[12px] ${_e?"text-white":"text-black"}`,ht=`mt-4 self-center rounded  ${_e?" bg-[#6C8268]":" bg-[#CFCFCF]"} py-1 px-2 text-center text-[24px] text-white`;function at(){const rt=$.current.toDataURL("image/png");localStorage.setItem(j.imgName,rt),st(!1),lt({methods:"sign"})}return react.exports.useEffect(()=>{const it=$.current,rt=document.querySelector("#canvas"),ot=document.querySelector(".resetBtn"),ft=it.getContext("2d");let ct=!1;ft.fillStyle="#fff",ft.fillRect(20,16,1200,800),ft.lineWidth=4,ft.lineCap="round";function dt(yt){const Ct=it.getBoundingClientRect();return yt.type==="mousemove"?{x:yt.clientX-Ct.left,y:yt.clientY-Ct.top}:{x:yt.touches[0].clientX-Ct.left,y:yt.touches[0].clientY-Ct.top}}function pt(yt){yt.preventDefault(),et(!0),ct=!0}function mt(){ct=!1,ft.beginPath()}function _t(yt){if(!ct)return;const Ct=dt(yt);ft.lineTo(Ct.x,Ct.y),ft.stroke()}function vt(){ft.clearRect(0,0,1200,800),ft.fillStyle="#fff",ft.fillRect(20,16,1200,800),et(!1)}rt.addEventListener("mousedown",pt),rt.addEventListener("mouseup",mt),rt.addEventListener("mouseleave",mt),rt.addEventListener("mousemove",_t),ot.addEventListener("click",vt)},[]),jsxs(Fragment,{children:[jsxs("div",{className:"relative h-[300px] rounded-lg rounded-tl-none bg-black ",children:[jsx("canvas",{id:"canvas",ref:$,width:"600",height:"280"}),jsx("button",{className:nt,children:"\u91CD\u505A"}),jsx("button",{className:ut,children:"\u522A\u9664"})]}),jsx("button",{onClick:at,className:ht,children:"\u78BA\u8A8D\u65B0\u589E\u7C3D\u540D\u6A94"})]})}function SignModel(){const[j,$]=react.exports.useState("one"),[_e,et]=react.exports.useState(""),{hasSignModelShow:tt,setSignModel:st}=react.exports.useContext(modalContext);return tt&&jsxs("div",{className:"fixed top-0 left-0  z-40 flex h-[100vh] w-[100vw] items-center  justify-center",children:[jsx("div",{className:"absolute top-0 left-0 h-[100%] w-[100%] bg-black opacity-25"}),jsxs("div",{className:"relative  z-10 h-[543px] w-[876px]  rounded bg-slate-100",children:[jsx("h2",{className:"py-2 px-4",children:"\u65B0\u589E\u65B0\u7684\u7C3D\u540D\u6A94"}),jsxs("div",{className:"h-full bg-[#E1EDDF] py-[30px] px-[100px] pb-[160px]",children:[jsx("label",{className:"mb-2 block",htmlFor:"name",children:"\u7C3D\u540D\u6A94\u540D\u7A31"}),jsx("input",{type:"text",name:"",id:"name",className:"mb-8",placeholder:"img",onChange:nt=>{et(nt.target.value)}}),jsxs("div",{className:"flex flex-col ",children:[jsxs("ul",{className:"tab flex cursor-pointer",children:[jsx("li",{className:`rounded-tl-md bg-white px-[46px] py-[4px] ${j==="one"?"active":""}`,onClick:()=>$(nt=>"one"),children:"\u7E6A\u88FD\u7C3D\u540D\u6A94"}),jsx("li",{className:`rounded-tr-md bg-white px-[46px] py-[4px] ${j==="two"?"active":""}`,onClick:()=>$(nt=>"two"),children:"\u4E0A\u50B3\u7C3D\u540D\u6A94"})]}),j==="one"&&jsx(CanvasArea,{imgName:_e})]})]})]})]})}function SecondPage(){const[j,$]=react.exports.useState(!1),[_e,et]=react.exports.useState(!1),[tt,st]=useSearchParams(),[gt,lt]=react.exports.useState({});let nt=tt.get("methods")==="sign";return jsxs("div",{className:"h-[100vh] overflow-hidden",children:[jsx(Header,{}),jsxs(modalContext.Provider,{value:{hasShow:j,setShow:$,hasSignModelShow:_e,setSignModel:et,file:gt,setFile:lt},children:[!nt&&jsx(Main,{}),nt&&jsx(Pdf,{}),jsx(ProcessModal,{}),jsx(SignModel,{})]})]})}function _defineProperties(j,$){for(var _e=0;_e<$.length;_e++){var et=$[_e];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(j,et.key,et)}}function _createClass(j,$,_e){return $&&_defineProperties(j.prototype,$),_e&&_defineProperties(j,_e),j}/*!
 * Observer 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gsap$1,_coreInitted$1,_win$1,_doc$1,_docEl$1,_body$1,_isTouch,_pointerType,ScrollTrigger$1,_root$1,_normalizer$1,_eventTypes,_getGSAP$1=function j(){return gsap$1||typeof window<"u"&&(gsap$1=window.gsap)&&gsap$1.registerPlugin&&gsap$1},_startup$1=1,_observers=[],_scrollers=[],_proxies=[],_getTime$1=Date.now,_bridge=function j($,_e){return _e},_integrate=function j(){var $=ScrollTrigger$1.core,_e=$.bridge||{},et=$._scrollers,tt=$._proxies;et.push.apply(et,_scrollers),tt.push.apply(tt,_proxies),_scrollers=et,_proxies=tt,_bridge=function(gt,lt){return _e[gt](lt)}},_getProxyProp=function j($,_e){return~_proxies.indexOf($)&&_proxies[_proxies.indexOf($)+1][_e]},_isViewport$1=function j($){return!!~_root$1.indexOf($)},_addListener$1=function j($,_e,et,tt,st){return $.addEventListener(_e,et,{passive:!tt,capture:!!st})},_removeListener$1=function j($,_e,et,tt){return $.removeEventListener(_e,et,!!tt)},_scrollLeft="scrollLeft",_scrollTop="scrollTop",_onScroll$1=function j(){return _normalizer$1&&_normalizer$1.isPressed||_scrollers.cache++},_scrollCacheFunc=function j($,_e){var et=function tt(st){if(st||st===0){_startup$1&&(_win$1.history.scrollRestoration="manual");var gt=_normalizer$1&&_normalizer$1.isPressed;st=tt.v=Math.round(st)||(_normalizer$1&&_normalizer$1.iOS?1:0),$(st),tt.cacheID=_scrollers.cache,gt&&_bridge("ss",st)}else(_e||_scrollers.cache!==tt.cacheID||_bridge("ref"))&&(tt.cacheID=_scrollers.cache,tt.v=$());return tt.v+tt.offset};return et.offset=0,$&&et},_horizontal={s:_scrollLeft,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:_scrollCacheFunc(function(j){return arguments.length?_win$1.scrollTo(j,_vertical.sc()):_win$1.pageXOffset||_doc$1[_scrollLeft]||_docEl$1[_scrollLeft]||_body$1[_scrollLeft]||0})},_vertical={s:_scrollTop,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:_horizontal,sc:_scrollCacheFunc(function(j){return arguments.length?_win$1.scrollTo(_horizontal.sc(),j):_win$1.pageYOffset||_doc$1[_scrollTop]||_docEl$1[_scrollTop]||_body$1[_scrollTop]||0})},_getTarget=function j($){return gsap$1.utils.toArray($)[0]||(typeof $=="string"&&gsap$1.config().nullTargetWarn!==!1?console.warn("Element not found:",$):null)},_getScrollFunc=function j($,_e){var et=_e.s,tt=_e.sc;_isViewport$1($)&&($=_doc$1.scrollingElement||_docEl$1);var st=_scrollers.indexOf($),gt=tt===_vertical.sc?1:2;!~st&&(st=_scrollers.push($)-1),_scrollers[st+gt]||$.addEventListener("scroll",_onScroll$1);var lt=_scrollers[st+gt],nt=lt||(_scrollers[st+gt]=_scrollCacheFunc(_getProxyProp($,et),!0)||(_isViewport$1($)?tt:_scrollCacheFunc(function(ut){return arguments.length?$[et]=ut:$[et]})));return nt.target=$,lt||(nt.smooth=gsap$1.getProperty($,"scrollBehavior")==="smooth"),nt},_getVelocityProp=function j($,_e,et){var tt=$,st=$,gt=_getTime$1(),lt=gt,nt=_e||50,ut=Math.max(500,nt*3),ht=function(ot,ft){var ct=_getTime$1();ft||ct-gt>nt?(st=tt,tt=ot,lt=gt,gt=ct):et?tt+=ot:tt=st+(ot-st)/(ct-lt)*(gt-lt)},at=function(){st=tt=et?0:tt,lt=gt=0},it=function(ot){var ft=lt,ct=st,dt=_getTime$1();return(ot||ot===0)&&ot!==tt&&ht(ot),gt===lt||dt-lt>ut?0:(tt+(et?ct:-ct))/((et?dt:gt)-ft)*1e3};return{update:ht,reset:at,getVelocity:it}},_getEvent=function j($,_e){return _e&&!$._gsapAllow&&$.preventDefault(),$.changedTouches?$.changedTouches[0]:$},_getAbsoluteMax=function j($){var _e=Math.max.apply(Math,$),et=Math.min.apply(Math,$);return Math.abs(_e)>=Math.abs(et)?_e:et},_setScrollTrigger=function j(){ScrollTrigger$1=gsap$1.core.globals().ScrollTrigger,ScrollTrigger$1&&ScrollTrigger$1.core&&_integrate()},_initCore=function j($){return gsap$1=$||_getGSAP$1(),gsap$1&&typeof document<"u"&&document.body&&(_win$1=window,_doc$1=document,_docEl$1=_doc$1.documentElement,_body$1=_doc$1.body,_root$1=[_win$1,_doc$1,_docEl$1,_body$1],gsap$1.utils.clamp,_pointerType="onpointerenter"in _body$1?"pointer":"mouse",_isTouch=Observer.isTouch=_win$1.matchMedia&&_win$1.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in _win$1||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,_eventTypes=Observer.eventTypes=("ontouchstart"in _docEl$1?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in _docEl$1?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return _startup$1=0},500),_setScrollTrigger(),_coreInitted$1=1),_coreInitted$1};_horizontal.op=_vertical;_scrollers.cache=0;var Observer=function(){function j(_e){this.init(_e)}var $=j.prototype;return $.init=function(et){_coreInitted$1||_initCore(gsap$1)||console.warn("Please gsap.registerPlugin(Observer)"),ScrollTrigger$1||_setScrollTrigger();var tt=et.tolerance,st=et.dragMinimum,gt=et.type,lt=et.target,nt=et.lineHeight,ut=et.debounce,ht=et.preventDefault,at=et.onStop,it=et.onStopDelay,rt=et.ignore,ot=et.wheelSpeed,ft=et.event,ct=et.onDragStart,dt=et.onDragEnd,pt=et.onDrag,mt=et.onPress,_t=et.onRelease,vt=et.onRight,yt=et.onLeft,Ct=et.onUp,bt=et.onDown,Dt=et.onChangeX,wt=et.onChangeY,Ft=et.onChange,Lt=et.onToggleX,Qt=et.onToggleY,Ut=et.onHover,Xt=et.onHoverEnd,qt=et.onMove,Jt=et.ignoreCheck,Gt=et.isNormalizer,Et=et.onGestureStart,At=et.onGestureEnd,It=et.onWheel,Ot=et.onEnable,Tt=et.onDisable,St=et.onClick,xt=et.scrollSpeed,$t=et.capture,Rt=et.allowClicks,Bt=et.lockAxis,Wt=et.onLockAxis;this.target=lt=_getTarget(lt)||_docEl$1,this.vars=et,rt&&(rt=gsap$1.utils.toArray(rt)),tt=tt||1e-9,st=st||0,ot=ot||1,xt=xt||1,gt=gt||"wheel,touch,pointer",ut=ut!==!1,nt||(nt=parseFloat(_win$1.getComputedStyle(_body$1).lineHeight)||22);var Kt,ln,en,tn,Ht,nn,Pt,kt=this,Nt=0,jt=0,Vt=_getScrollFunc(lt,_horizontal),sn=_getScrollFunc(lt,_vertical),rn=Vt(),_n=sn(),cn=~gt.indexOf("touch")&&!~gt.indexOf("pointer")&&_eventTypes[0]==="pointerdown",An=_isViewport$1(lt),pn=lt.ownerDocument||_doc$1,xn=[0,0,0],on=[0,0,0],Cn=0,kn=function(){return Cn=_getTime$1()},jn=function(En,$n){return(kt.event=En)&&rt&&~rt.indexOf(En.target)||$n&&cn&&En.pointerType!=="touch"||Jt&&Jt(En,$n)},Gn=function(){kt._vx.reset(),kt._vy.reset(),ln.pause(),at&&at(kt)},Vn=function(){var En=kt.deltaX=_getAbsoluteMax(xn),$n=kt.deltaY=_getAbsoluteMax(on),Bn=Math.abs(En)>=tt,Xn=Math.abs($n)>=tt;Ft&&(Bn||Xn)&&Ft(kt,En,$n,xn,on),Bn&&(vt&&kt.deltaX>0&&vt(kt),yt&&kt.deltaX<0&&yt(kt),Dt&&Dt(kt),Lt&&kt.deltaX<0!=Nt<0&&Lt(kt),Nt=kt.deltaX,xn[0]=xn[1]=xn[2]=0),Xn&&(bt&&kt.deltaY>0&&bt(kt),Ct&&kt.deltaY<0&&Ct(kt),wt&&wt(kt),Qt&&kt.deltaY<0!=jt<0&&Qt(kt),jt=kt.deltaY,on[0]=on[1]=on[2]=0),(tn||en)&&(qt&&qt(kt),en&&(pt(kt),en=!1),tn=!1),nn&&!(nn=!1)&&Wt&&Wt(kt),Ht&&(It(kt),Ht=!1),Kt=0},Wn=function(En,$n,Bn){xn[Bn]+=En,on[Bn]+=$n,kt._vx.update(En),kt._vy.update($n),ut?Kt||(Kt=requestAnimationFrame(Vn)):Vn()},wn=function(En,$n){Bt&&!Pt&&(kt.axis=Pt=Math.abs(En)>Math.abs($n)?"x":"y",nn=!0),Pt!=="y"&&(xn[2]+=En,kt._vx.update(En,!0)),Pt!=="x"&&(on[2]+=$n,kt._vy.update($n,!0)),ut?Kt||(Kt=requestAnimationFrame(Vn)):Vn()},dn=function(En){if(!jn(En,1)){En=_getEvent(En,ht);var $n=En.clientX,Bn=En.clientY,Xn=$n-kt.x,_r=Bn-kt.y,Qn=kt.isDragging;kt.x=$n,kt.y=Bn,(Qn||Math.abs(kt.startX-$n)>=st||Math.abs(kt.startY-Bn)>=st)&&(pt&&(en=!0),Qn||(kt.isDragging=!0),wn(Xn,_r),Qn||ct&&ct(kt))}},Zt=kt.onPress=function(Kn){jn(Kn,1)||(kt.axis=Pt=null,ln.pause(),kt.isPressed=!0,Kn=_getEvent(Kn),Nt=jt=0,kt.startX=kt.x=Kn.clientX,kt.startY=kt.y=Kn.clientY,kt._vx.reset(),kt._vy.reset(),_addListener$1(Gt?lt:pn,_eventTypes[1],dn,ht,!0),kt.deltaX=kt.deltaY=0,mt&&mt(kt))},vn=function(En){if(!jn(En,1)){_removeListener$1(Gt?lt:pn,_eventTypes[1],dn,!0);var $n=kt.isDragging&&(Math.abs(kt.x-kt.startX)>3||Math.abs(kt.y-kt.startY)>3),Bn=_getEvent(En);$n||(kt._vx.reset(),kt._vy.reset(),ht&&Rt&&gsap$1.delayedCall(.08,function(){if(_getTime$1()-Cn>300&&!En.defaultPrevented){if(En.target.click)En.target.click();else if(pn.createEvent){var Xn=pn.createEvent("MouseEvents");Xn.initMouseEvent("click",!0,!0,_win$1,1,Bn.screenX,Bn.screenY,Bn.clientX,Bn.clientY,!1,!1,!1,!1,0,null),En.target.dispatchEvent(Xn)}}})),kt.isDragging=kt.isGesturing=kt.isPressed=!1,at&&!Gt&&ln.restart(!0),dt&&$n&&dt(kt),_t&&_t(kt,$n)}},Pn=function(En){return En.touches&&En.touches.length>1&&(kt.isGesturing=!0)&&Et(En,kt.isDragging)},zn=function(){return(kt.isGesturing=!1)||At(kt)},Hn=function(En){if(!jn(En)){var $n=Vt(),Bn=sn();Wn(($n-rn)*xt,(Bn-_n)*xt,1),rn=$n,_n=Bn,at&&ln.restart(!0)}},cr=function(En){if(!jn(En)){En=_getEvent(En,ht),It&&(Ht=!0);var $n=(En.deltaMode===1?nt:En.deltaMode===2?_win$1.innerHeight:1)*ot;Wn(En.deltaX*$n,En.deltaY*$n,0),at&&!Gt&&ln.restart(!0)}},er=function(En){if(!jn(En)){var $n=En.clientX,Bn=En.clientY,Xn=$n-kt.x,_r=Bn-kt.y;kt.x=$n,kt.y=Bn,tn=!0,(Xn||_r)&&wn(Xn,_r)}},Jn=function(En){kt.event=En,Ut(kt)},sr=function(En){kt.event=En,Xt(kt)},dr=function(En){return jn(En)||_getEvent(En,ht)&&St(kt)};ln=kt._dc=gsap$1.delayedCall(it||.25,Gn).pause(),kt.deltaX=kt.deltaY=0,kt._vx=_getVelocityProp(0,50,!0),kt._vy=_getVelocityProp(0,50,!0),kt.scrollX=Vt,kt.scrollY=sn,kt.isDragging=kt.isGesturing=kt.isPressed=!1,kt.enable=function(Kn){return kt.isEnabled||(_addListener$1(An?pn:lt,"scroll",_onScroll$1),gt.indexOf("scroll")>=0&&_addListener$1(An?pn:lt,"scroll",Hn,ht,$t),gt.indexOf("wheel")>=0&&_addListener$1(lt,"wheel",cr,ht,$t),(gt.indexOf("touch")>=0&&_isTouch||gt.indexOf("pointer")>=0)&&(_addListener$1(lt,_eventTypes[0],Zt,ht,$t),_addListener$1(pn,_eventTypes[2],vn),_addListener$1(pn,_eventTypes[3],vn),Rt&&_addListener$1(lt,"click",kn,!1,!0),St&&_addListener$1(lt,"click",dr),Et&&_addListener$1(pn,"gesturestart",Pn),At&&_addListener$1(pn,"gestureend",zn),Ut&&_addListener$1(lt,_pointerType+"enter",Jn),Xt&&_addListener$1(lt,_pointerType+"leave",sr),qt&&_addListener$1(lt,_pointerType+"move",er)),kt.isEnabled=!0,Kn&&Kn.type&&Zt(Kn),Ot&&Ot(kt)),kt},kt.disable=function(){kt.isEnabled&&(_observers.filter(function(Kn){return Kn!==kt&&_isViewport$1(Kn.target)}).length||_removeListener$1(An?pn:lt,"scroll",_onScroll$1),kt.isPressed&&(kt._vx.reset(),kt._vy.reset(),_removeListener$1(Gt?lt:pn,_eventTypes[1],dn,!0)),_removeListener$1(An?pn:lt,"scroll",Hn,$t),_removeListener$1(lt,"wheel",cr,$t),_removeListener$1(lt,_eventTypes[0],Zt,$t),_removeListener$1(pn,_eventTypes[2],vn),_removeListener$1(pn,_eventTypes[3],vn),_removeListener$1(lt,"click",kn,!0),_removeListener$1(lt,"click",dr),_removeListener$1(pn,"gesturestart",Pn),_removeListener$1(pn,"gestureend",zn),_removeListener$1(lt,_pointerType+"enter",Jn),_removeListener$1(lt,_pointerType+"leave",sr),_removeListener$1(lt,_pointerType+"move",er),kt.isEnabled=kt.isPressed=kt.isDragging=!1,Tt&&Tt(kt))},kt.kill=function(){kt.disable();var Kn=_observers.indexOf(kt);Kn>=0&&_observers.splice(Kn,1),_normalizer$1===kt&&(_normalizer$1=0)},_observers.push(kt),Gt&&_isViewport$1(lt)&&(_normalizer$1=kt),kt.enable(ft)},_createClass(j,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),j}();Observer.version="3.11.3";Observer.create=function(j){return new Observer(j)};Observer.register=_initCore;Observer.getAll=function(){return _observers.slice()};Observer.getById=function(j){return _observers.filter(function($){return $.vars.id===j})[0]};_getGSAP$1()&&gsap$1.registerPlugin(Observer);/*!
 * ScrollTrigger 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gsap,_coreInitted,_win,_doc,_docEl,_body,_root,_resizeDelay,_toArray,_clamp,_time2,_syncInterval,_refreshing,_pointerIsDown,_transformProp,_i,_prevWidth,_prevHeight,_autoRefresh,_sort,_suppressOverwrites,_ignoreResize,_normalizer,_ignoreMobileResize,_baseScreenHeight,_baseScreenWidth,_fixIOSBug,_context,_scrollRestoration,_limitCallbacks,_startup=1,_getTime=Date.now,_time1=_getTime(),_lastScrollTime=0,_enabled=0,_pointerDownHandler=function j(){return _pointerIsDown=1},_pointerUpHandler=function j(){return _pointerIsDown=0},_passThrough=function j($){return $},_round=function j($){return Math.round($*1e5)/1e5||0},_windowExists=function j(){return typeof window<"u"},_getGSAP=function j(){return gsap||_windowExists()&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap},_isViewport=function j($){return!!~_root.indexOf($)},_getBoundsFunc=function j($){return _getProxyProp($,"getBoundingClientRect")||(_isViewport($)?function(){return _winOffsets.width=_win.innerWidth,_winOffsets.height=_win.innerHeight,_winOffsets}:function(){return _getBounds($)})},_getSizeFunc=function j($,_e,et){var tt=et.d,st=et.d2,gt=et.a;return(gt=_getProxyProp($,"getBoundingClientRect"))?function(){return gt()[tt]}:function(){return(_e?_win["inner"+st]:$["client"+st])||0}},_getOffsetsFunc=function j($,_e){return!_e||~_proxies.indexOf($)?_getBoundsFunc($):function(){return _winOffsets}},_maxScroll=function j($,_e){var et=_e.s,tt=_e.d2,st=_e.d,gt=_e.a;return(et="scroll"+tt)&&(gt=_getProxyProp($,et))?gt()-_getBoundsFunc($)()[st]:_isViewport($)?(_docEl[et]||_body[et])-(_win["inner"+tt]||_docEl["client"+tt]||_body["client"+tt]):$[et]-$["offset"+tt]},_iterateAutoRefresh=function j($,_e){for(var et=0;et<_autoRefresh.length;et+=3)(!_e||~_e.indexOf(_autoRefresh[et+1]))&&$(_autoRefresh[et],_autoRefresh[et+1],_autoRefresh[et+2])},_isString=function j($){return typeof $=="string"},_isFunction=function j($){return typeof $=="function"},_isNumber=function j($){return typeof $=="number"},_isObject=function j($){return typeof $=="object"},_endAnimation=function j($,_e,et){return $&&$.progress(_e?0:1)&&et&&$.pause()},_callback=function j($,_e){if($.enabled){var et=_e($);et&&et.totalTime&&($.callbackAnimation=et)}},_abs=Math.abs,_left="left",_top="top",_right="right",_bottom="bottom",_width="width",_height="height",_Right="Right",_Left="Left",_Top="Top",_Bottom="Bottom",_padding="padding",_margin="margin",_Width="Width",_Height="Height",_px="px",_getComputedStyle=function j($){return _win.getComputedStyle($)},_makePositionable=function j($){var _e=_getComputedStyle($).position;$.style.position=_e==="absolute"||_e==="fixed"?_e:"relative"},_setDefaults=function j($,_e){for(var et in _e)et in $||($[et]=_e[et]);return $},_getBounds=function j($,_e){var et=_e&&_getComputedStyle($)[_transformProp]!=="matrix(1, 0, 0, 1, 0, 0)"&&gsap.to($,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),tt=$.getBoundingClientRect();return et&&et.progress(0).kill(),tt},_getSize=function j($,_e){var et=_e.d2;return $["offset"+et]||$["client"+et]||0},_getLabelRatioArray=function j($){var _e=[],et=$.labels,tt=$.duration(),st;for(st in et)_e.push(et[st]/tt);return _e},_getClosestLabel=function j($){return function(_e){return gsap.utils.snap(_getLabelRatioArray($),_e)}},_snapDirectional=function j($){var _e=gsap.utils.snap($),et=Array.isArray($)&&$.slice(0).sort(function(tt,st){return tt-st});return et?function(tt,st,gt){gt===void 0&&(gt=.001);var lt;if(!st)return _e(tt);if(st>0){for(tt-=gt,lt=0;lt<et.length;lt++)if(et[lt]>=tt)return et[lt];return et[lt-1]}else for(lt=et.length,tt+=gt;lt--;)if(et[lt]<=tt)return et[lt];return et[0]}:function(tt,st,gt){gt===void 0&&(gt=.001);var lt=_e(tt);return!st||Math.abs(lt-tt)<gt||lt-tt<0==st<0?lt:_e(st<0?tt-$:tt+$)}},_getLabelAtDirection=function j($){return function(_e,et){return _snapDirectional(_getLabelRatioArray($))(_e,et.direction)}},_multiListener=function j($,_e,et,tt){return et.split(",").forEach(function(st){return $(_e,st,tt)})},_addListener=function j($,_e,et,tt,st){return $.addEventListener(_e,et,{passive:!tt,capture:!!st})},_removeListener=function j($,_e,et,tt){return $.removeEventListener(_e,et,!!tt)},_wheelListener=function j($,_e,et){return et&&et.wheelHandler&&$(_e,"wheel",et)},_markerDefaults={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},_defaults={toggleActions:"play",anticipatePin:0},_keywords={top:0,left:0,center:.5,bottom:1,right:1},_offsetToPx=function j($,_e){if(_isString($)){var et=$.indexOf("="),tt=~et?+($.charAt(et-1)+1)*parseFloat($.substr(et+1)):0;~et&&($.indexOf("%")>et&&(tt*=_e/100),$=$.substr(0,et-1)),$=tt+($ in _keywords?_keywords[$]*_e:~$.indexOf("%")?parseFloat($)*_e/100:parseFloat($)||0)}return $},_createMarker=function j($,_e,et,tt,st,gt,lt,nt){var ut=st.startColor,ht=st.endColor,at=st.fontSize,it=st.indent,rt=st.fontWeight,ot=_doc.createElement("div"),ft=_isViewport(et)||_getProxyProp(et,"pinType")==="fixed",ct=$.indexOf("scroller")!==-1,dt=ft?_body:et,pt=$.indexOf("start")!==-1,mt=pt?ut:ht,_t="border-color:"+mt+";font-size:"+at+";color:"+mt+";font-weight:"+rt+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _t+="position:"+((ct||nt)&&ft?"fixed;":"absolute;"),(ct||nt||!ft)&&(_t+=(tt===_vertical?_right:_bottom)+":"+(gt+parseFloat(it))+"px;"),lt&&(_t+="box-sizing:border-box;text-align:left;width:"+lt.offsetWidth+"px;"),ot._isStart=pt,ot.setAttribute("class","gsap-marker-"+$+(_e?" marker-"+_e:"")),ot.style.cssText=_t,ot.innerText=_e||_e===0?$+"-"+_e:$,dt.children[0]?dt.insertBefore(ot,dt.children[0]):dt.appendChild(ot),ot._offset=ot["offset"+tt.op.d2],_positionMarker(ot,0,tt,pt),ot},_positionMarker=function j($,_e,et,tt){var st={display:"block"},gt=et[tt?"os2":"p2"],lt=et[tt?"p2":"os2"];$._isFlipped=tt,st[et.a+"Percent"]=tt?-100:0,st[et.a]=tt?"1px":0,st["border"+gt+_Width]=1,st["border"+lt+_Width]=0,st[et.p]=_e+"px",gsap.set($,st)},_triggers=[],_ids={},_rafID,_sync=function j(){return _getTime()-_lastScrollTime>34&&(_rafID||(_rafID=requestAnimationFrame(_updateAll)))},_onScroll=function j(){(!_normalizer||!_normalizer.isPressed||_normalizer.startX>_body.clientWidth)&&(_scrollers.cache++,_normalizer?_rafID||(_rafID=requestAnimationFrame(_updateAll)):_updateAll(),_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=_getTime())},_setBaseDimensions=function j(){_baseScreenWidth=_win.innerWidth,_baseScreenHeight=_win.innerHeight},_onResize=function j(){_scrollers.cache++,!_refreshing&&!_ignoreResize&&!_doc.fullscreenElement&&!_doc.webkitFullscreenElement&&(!_ignoreMobileResize||_baseScreenWidth!==_win.innerWidth||Math.abs(_win.innerHeight-_baseScreenHeight)>_win.innerHeight*.25)&&_resizeDelay.restart(!0)},_listeners={},_emptyArray=[],_softRefresh=function j(){return _removeListener(ScrollTrigger,"scrollEnd",j)||_refreshAll(!0)},_dispatch=function j($){return _listeners[$]&&_listeners[$].map(function(_e){return _e()})||_emptyArray},_savedStyles=[],_revertRecorded=function j($){for(var _e=0;_e<_savedStyles.length;_e+=5)(!$||_savedStyles[_e+4]&&_savedStyles[_e+4].query===$)&&(_savedStyles[_e].style.cssText=_savedStyles[_e+1],_savedStyles[_e].getBBox&&_savedStyles[_e].setAttribute("transform",_savedStyles[_e+2]||""),_savedStyles[_e+3].uncache=1)},_revertAll=function j($,_e){var et;for(_i=0;_i<_triggers.length;_i++)et=_triggers[_i],et&&(!_e||et._ctx===_e)&&($?et.kill(1):et.revert(!0,!0));_e&&_revertRecorded(_e),_e||_dispatch("revert")},_clearScrollMemory=function j($,_e){_scrollers.cache++,(_e||!_refreshingAll)&&_scrollers.forEach(function(et){return _isFunction(et)&&et.cacheID++&&(et.rec=0)}),_isString($)&&(_win.history.scrollRestoration=_scrollRestoration=$)},_refreshingAll,_refreshID=0,_queueRefreshID,_queueRefreshAll=function j(){if(_queueRefreshID!==_refreshID){var $=_queueRefreshID=_refreshID;requestAnimationFrame(function(){return $===_refreshID&&_refreshAll(!0)})}},_refreshAll=function j($,_e){if(_lastScrollTime&&!$){_addListener(ScrollTrigger,"scrollEnd",_softRefresh);return}_refreshingAll=ScrollTrigger.isRefreshing=!0,_scrollers.forEach(function(tt){return _isFunction(tt)&&tt.cacheID++&&(tt.rec=tt())});var et=_dispatch("refreshInit");_sort&&ScrollTrigger.sort(),_e||_revertAll(),_scrollers.forEach(function(tt){_isFunction(tt)&&(tt.smooth&&(tt.target.style.scrollBehavior="auto"),tt(0))}),_triggers.slice(0).forEach(function(tt){return tt.refresh()}),_triggers.forEach(function(tt,st){if(tt._subPinOffset&&tt.pin){var gt=tt.vars.horizontal?"offsetWidth":"offsetHeight",lt=tt.pin[gt];tt.revert(!0,1),tt.adjustPinSpacing(tt.pin[gt]-lt),tt.revert(!1,1)}}),_triggers.forEach(function(tt){return tt.vars.end==="max"&&tt.setPositions(tt.start,Math.max(tt.start+1,_maxScroll(tt.scroller,tt._dir)))}),et.forEach(function(tt){return tt&&tt.render&&tt.render(-1)}),_scrollers.forEach(function(tt){_isFunction(tt)&&(tt.smooth&&requestAnimationFrame(function(){return tt.target.style.scrollBehavior="smooth"}),tt.rec&&tt(tt.rec))}),_clearScrollMemory(_scrollRestoration,1),_resizeDelay.pause(),_refreshID++,_updateAll(2),_triggers.forEach(function(tt){return _isFunction(tt.vars.onRefresh)&&tt.vars.onRefresh(tt)}),_refreshingAll=ScrollTrigger.isRefreshing=!1,_dispatch("refresh")},_lastScroll=0,_direction=1,_primary,_updateAll=function j($){if(!_refreshingAll||$===2){ScrollTrigger.isUpdating=!0,_primary&&_primary.update(0);var _e=_triggers.length,et=_getTime(),tt=et-_time1>=50,st=_e&&_triggers[0].scroll();if(_direction=_lastScroll>st?-1:1,_lastScroll=st,tt&&(_lastScrollTime&&!_pointerIsDown&&et-_lastScrollTime>200&&(_lastScrollTime=0,_dispatch("scrollEnd")),_time2=_time1,_time1=et),_direction<0){for(_i=_e;_i-- >0;)_triggers[_i]&&_triggers[_i].update(0,tt);_direction=1}else for(_i=0;_i<_e;_i++)_triggers[_i]&&_triggers[_i].update(0,tt);ScrollTrigger.isUpdating=!1}_rafID=0},_propNamesToCopy=[_left,_top,_bottom,_right,_margin+_Bottom,_margin+_Right,_margin+_Top,_margin+_Left,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],_stateProps=_propNamesToCopy.concat([_width,_height,"boxSizing","max"+_Width,"max"+_Height,"position",_margin,_padding,_padding+_Top,_padding+_Right,_padding+_Bottom,_padding+_Left]),_swapPinOut=function j($,_e,et){_setState(et);var tt=$._gsap;if(tt.spacerIsNative)_setState(tt.spacerState);else if($._gsap.swappedIn){var st=_e.parentNode;st&&(st.insertBefore($,_e),st.removeChild(_e))}$._gsap.swappedIn=!1},_swapPinIn=function j($,_e,et,tt){if(!$._gsap.swappedIn){for(var st=_propNamesToCopy.length,gt=_e.style,lt=$.style,nt;st--;)nt=_propNamesToCopy[st],gt[nt]=et[nt];gt.position=et.position==="absolute"?"absolute":"relative",et.display==="inline"&&(gt.display="inline-block"),lt[_bottom]=lt[_right]="auto",gt.flexBasis=et.flexBasis||"auto",gt.overflow="visible",gt.boxSizing="border-box",gt[_width]=_getSize($,_horizontal)+_px,gt[_height]=_getSize($,_vertical)+_px,gt[_padding]=lt[_margin]=lt[_top]=lt[_left]="0",_setState(tt),lt[_width]=lt["max"+_Width]=et[_width],lt[_height]=lt["max"+_Height]=et[_height],lt[_padding]=et[_padding],$.parentNode!==_e&&($.parentNode.insertBefore(_e,$),_e.appendChild($)),$._gsap.swappedIn=!0}},_capsExp=/([A-Z])/g,_setState=function j($){if($){var _e=$.t.style,et=$.length,tt=0,st,gt;for(($.t._gsap||gsap.core.getCache($.t)).uncache=1;tt<et;tt+=2)gt=$[tt+1],st=$[tt],gt?_e[st]=gt:_e[st]&&_e.removeProperty(st.replace(_capsExp,"-$1").toLowerCase())}},_getState=function j($){for(var _e=_stateProps.length,et=$.style,tt=[],st=0;st<_e;st++)tt.push(_stateProps[st],et[_stateProps[st]]);return tt.t=$,tt},_copyState=function j($,_e,et){for(var tt=[],st=$.length,gt=et?8:0,lt;gt<st;gt+=2)lt=$[gt],tt.push(lt,lt in _e?_e[lt]:$[gt+1]);return tt.t=$.t,tt},_winOffsets={left:0,top:0},_parsePosition=function j($,_e,et,tt,st,gt,lt,nt,ut,ht,at,it,rt){_isFunction($)&&($=$(nt)),_isString($)&&$.substr(0,3)==="max"&&($=it+($.charAt(4)==="="?_offsetToPx("0"+$.substr(3),et):0));var ot=rt?rt.time():0,ft,ct,dt;if(rt&&rt.seek(0),_isNumber($))lt&&_positionMarker(lt,et,tt,!0);else{_isFunction(_e)&&(_e=_e(nt));var pt=($||"0").split(" "),mt,_t,vt,yt;dt=_getTarget(_e)||_body,mt=_getBounds(dt)||{},(!mt||!mt.left&&!mt.top)&&_getComputedStyle(dt).display==="none"&&(yt=dt.style.display,dt.style.display="block",mt=_getBounds(dt),yt?dt.style.display=yt:dt.style.removeProperty("display")),_t=_offsetToPx(pt[0],mt[tt.d]),vt=_offsetToPx(pt[1]||"0",et),$=mt[tt.p]-ut[tt.p]-ht+_t+st-vt,lt&&_positionMarker(lt,vt,tt,et-vt<20||lt._isStart&&vt>20),et-=et-vt}if(gt){var Ct=$+et,bt=gt._isStart;ft="scroll"+tt.d2,_positionMarker(gt,Ct,tt,bt&&Ct>20||!bt&&(at?Math.max(_body[ft],_docEl[ft]):gt.parentNode[ft])<=Ct+1),at&&(ut=_getBounds(lt),at&&(gt.style[tt.op.p]=ut[tt.op.p]-tt.op.m-gt._offset+_px))}return rt&&dt&&(ft=_getBounds(dt),rt.seek(it),ct=_getBounds(dt),rt._caScrollDist=ft[tt.p]-ct[tt.p],$=$/rt._caScrollDist*it),rt&&rt.seek(ot),rt?$:Math.round($)},_prefixExp=/(webkit|moz|length|cssText|inset)/i,_reparent=function j($,_e,et,tt){if($.parentNode!==_e){var st=$.style,gt,lt;if(_e===_body){$._stOrig=st.cssText,lt=_getComputedStyle($);for(gt in lt)!+gt&&!_prefixExp.test(gt)&&lt[gt]&&typeof st[gt]=="string"&&gt!=="0"&&(st[gt]=lt[gt]);st.top=et,st.left=tt}else st.cssText=$._stOrig;gsap.core.getCache($).uncache=1,_e.appendChild($)}},_getTweenCreator=function j($,_e){var et=_getScrollFunc($,_e),tt="_scroll"+_e.p2,st,gt,lt=function nt(ut,ht,at,it,rt){var ot=nt.tween,ft=ht.onComplete,ct={};return at=at||et(),rt=it&&rt||0,it=it||ut-at,ot&&ot.kill(),st=Math.round(at),ht[tt]=ut,ht.modifiers=ct,ct[tt]=function(dt){return dt=Math.round(et()),dt!==st&&dt!==gt&&Math.abs(dt-st)>3&&Math.abs(dt-gt)>3?(ot.kill(),nt.tween=0):dt=at+it*ot.ratio+rt*ot.ratio*ot.ratio,gt=st,st=Math.round(dt)},ht.onComplete=function(){nt.tween=0,ft&&ft.call(ot)},ot=nt.tween=gsap.to($,ht),ot};return $[tt]=et,et.wheelHandler=function(){return lt.tween&&lt.tween.kill()&&(lt.tween=0)},_addListener($,"wheel",et.wheelHandler),lt},ScrollTrigger=function(){function j(_e,et){_coreInitted||j.register(gsap)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(_e,et)}var $=j.prototype;return $.init=function(et,tt){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!_enabled){this.update=this.refresh=this.kill=_passThrough;return}et=_setDefaults(_isString(et)||_isNumber(et)||et.nodeType?{trigger:et}:et,_defaults);var st=et,gt=st.onUpdate,lt=st.toggleClass,nt=st.id,ut=st.onToggle,ht=st.onRefresh,at=st.scrub,it=st.trigger,rt=st.pin,ot=st.pinSpacing,ft=st.invalidateOnRefresh,ct=st.anticipatePin,dt=st.onScrubComplete,pt=st.onSnapComplete,mt=st.once,_t=st.snap,vt=st.pinReparent,yt=st.pinSpacer,Ct=st.containerAnimation,bt=st.fastScrollEnd,Dt=st.preventOverlaps,wt=et.horizontal||et.containerAnimation&&et.horizontal!==!1?_horizontal:_vertical,Ft=!at&&at!==0,Lt=_getTarget(et.scroller||_win),Qt=gsap.core.getCache(Lt),Ut=_isViewport(Lt),Xt=("pinType"in et?et.pinType:_getProxyProp(Lt,"pinType")||Ut&&"fixed")==="fixed",qt=[et.onEnter,et.onLeave,et.onEnterBack,et.onLeaveBack],Jt=Ft&&et.toggleActions.split(" "),Gt="markers"in et?et.markers:_defaults.markers,Et=Ut?0:parseFloat(_getComputedStyle(Lt)["border"+wt.p2+_Width])||0,At=this,It=et.onRefreshInit&&function(){return et.onRefreshInit(At)},Ot=_getSizeFunc(Lt,Ut,wt),Tt=_getOffsetsFunc(Lt,Ut),St=0,xt=0,$t=_getScrollFunc(Lt,wt),Rt,Bt,Wt,Kt,ln,en,tn,Ht,nn,Pt,kt,Nt,jt,Vt,sn,rn,_n,cn,An,pn,xn,on,Cn,kn,jn,Gn,Vn,Wn,wn,dn,Zt,vn,Pn,zn,Hn,cr,er,Jn;if(_context(At),At._dir=wt,ct*=45,At.scroller=Lt,At.scroll=Ct?Ct.time.bind(Ct):$t,Kt=$t(),At.vars=et,tt=tt||et.animation,"refreshPriority"in et&&(_sort=1,et.refreshPriority===-9999&&(_primary=At)),Qt.tweenScroll=Qt.tweenScroll||{top:_getTweenCreator(Lt,_vertical),left:_getTweenCreator(Lt,_horizontal)},At.tweenTo=Rt=Qt.tweenScroll[wt.p],At.scrubDuration=function(En){Zt=_isNumber(En)&&En,Zt?dn?dn.duration(En):dn=gsap.to(tt,{ease:"expo",totalProgress:"+=0.001",duration:Zt,paused:!0,onComplete:function(){return dt&&dt(At)}}):(dn&&dn.progress(1).kill(),dn=0)},tt&&(tt.vars.lazy=!1,tt._initted||tt.vars.immediateRender!==!1&&et.immediateRender!==!1&&tt.duration()&&tt.render(0,!0,!0),At.animation=tt.pause(),tt.scrollTrigger=At,At.scrubDuration(at),Wn=0,nt||(nt=tt.vars.id)),_triggers.push(At),_t&&((!_isObject(_t)||_t.push)&&(_t={snapTo:_t}),"scrollBehavior"in _body.style&&gsap.set(Ut?[_body,_docEl]:Lt,{scrollBehavior:"auto"}),_scrollers.forEach(function(En){return _isFunction(En)&&En.target===(Ut?_doc.scrollingElement||_docEl:Lt)&&(En.smooth=!1)}),Wt=_isFunction(_t.snapTo)?_t.snapTo:_t.snapTo==="labels"?_getClosestLabel(tt):_t.snapTo==="labelsDirectional"?_getLabelAtDirection(tt):_t.directional!==!1?function(En,$n){return _snapDirectional(_t.snapTo)(En,_getTime()-xt<500?0:$n.direction)}:gsap.utils.snap(_t.snapTo),vn=_t.duration||{min:.1,max:2},vn=_isObject(vn)?_clamp(vn.min,vn.max):_clamp(vn,vn),Pn=gsap.delayedCall(_t.delay||Zt/2||.1,function(){var En=$t(),$n=_getTime()-xt<500,Bn=Rt.tween;if(($n||Math.abs(At.getVelocity())<10)&&!Bn&&!_pointerIsDown&&St!==En){var Xn=(En-en)/jt,_r=tt&&!Ft?tt.totalProgress():Xn,Qn=$n?0:(_r-wn)/(_getTime()-_time2)*1e3||0,hr=gsap.utils.clamp(-Xn,1-Xn,_abs(Qn/2)*Qn/.185),lr=Xn+(_t.inertia===!1?0:hr),$r=_clamp(0,1,Wt(lr,At)),mr=Math.round(en+$r*jt),Dr=_t,Xr=Dr.onStart,br=Dr.onInterrupt,Tr=Dr.onComplete;if(En<=tn&&En>=en&&mr!==En){if(Bn&&!Bn._initted&&Bn.data<=_abs(mr-En))return;_t.inertia===!1&&(hr=$r-Xn),Rt(mr,{duration:vn(_abs(Math.max(_abs(lr-_r),_abs($r-_r))*.185/Qn/.05||0)),ease:_t.ease||"power3",data:_abs(mr-En),onInterrupt:function(){return Pn.restart(!0)&&br&&br(At)},onComplete:function(){At.update(),St=$t(),Wn=wn=tt&&!Ft?tt.totalProgress():At.progress,pt&&pt(At),Tr&&Tr(At)}},En,hr*jt,mr-En-hr*jt),Xr&&Xr(At,Rt.tween)}}else At.isActive&&St!==En&&Pn.restart(!0)}).pause()),nt&&(_ids[nt]=At),it=At.trigger=_getTarget(it||rt),Jn=it&&it._gsap&&it._gsap.stRevert,Jn&&(Jn=Jn(At)),rt=rt===!0?it:_getTarget(rt),_isString(lt)&&(lt={targets:it,className:lt}),rt&&(ot===!1||ot===_margin||(ot=!ot&&rt.parentNode&&rt.parentNode.style&&_getComputedStyle(rt.parentNode).display==="flex"?!1:_padding),At.pin=rt,Bt=gsap.core.getCache(rt),Bt.spacer?Vt=Bt.pinState:(yt&&(yt=_getTarget(yt),yt&&!yt.nodeType&&(yt=yt.current||yt.nativeElement),Bt.spacerIsNative=!!yt,yt&&(Bt.spacerState=_getState(yt))),Bt.spacer=_n=yt||_doc.createElement("div"),_n.classList.add("pin-spacer"),nt&&_n.classList.add("pin-spacer-"+nt),Bt.pinState=Vt=_getState(rt)),et.force3D!==!1&&gsap.set(rt,{force3D:!0}),At.spacer=_n=Bt.spacer,Vn=_getComputedStyle(rt),Cn=Vn[ot+wt.os2],An=gsap.getProperty(rt),pn=gsap.quickSetter(rt,wt.a,_px),_swapPinIn(rt,_n,Vn),rn=_getState(rt)),Gt){Nt=_isObject(Gt)?_setDefaults(Gt,_markerDefaults):_markerDefaults,Pt=_createMarker("scroller-start",nt,Lt,wt,Nt,0),kt=_createMarker("scroller-end",nt,Lt,wt,Nt,0,Pt),cn=Pt["offset"+wt.op.d2];var sr=_getTarget(_getProxyProp(Lt,"content")||Lt);Ht=this.markerStart=_createMarker("start",nt,sr,wt,Nt,cn,0,Ct),nn=this.markerEnd=_createMarker("end",nt,sr,wt,Nt,cn,0,Ct),Ct&&(er=gsap.quickSetter([Ht,nn],wt.a,_px)),!Xt&&!(_proxies.length&&_getProxyProp(Lt,"fixedMarkers")===!0)&&(_makePositionable(Ut?_body:Lt),gsap.set([Pt,kt],{force3D:!0}),jn=gsap.quickSetter(Pt,wt.a,_px),Gn=gsap.quickSetter(kt,wt.a,_px))}if(Ct){var dr=Ct.vars.onUpdate,Kn=Ct.vars.onUpdateParams;Ct.eventCallback("onUpdate",function(){At.update(0,0,1),dr&&dr.apply(Kn||[])})}At.previous=function(){return _triggers[_triggers.indexOf(At)-1]},At.next=function(){return _triggers[_triggers.indexOf(At)+1]},At.revert=function(En,$n){if(!$n)return At.kill(!0);var Bn=En!==!1||!At.enabled,Xn=_refreshing;Bn!==At.isReverted&&(Bn&&(Hn=Math.max($t(),At.scroll.rec||0),zn=At.progress,cr=tt&&tt.progress()),Ht&&[Ht,nn,Pt,kt].forEach(function(_r){return _r.style.display=Bn?"none":"block"}),Bn&&(_refreshing=1,At.update(Bn)),rt&&(Bn?_swapPinOut(rt,_n,Vt):(!vt||!At.isActive)&&_swapPinIn(rt,_n,_getComputedStyle(rt),kn)),Bn||At.update(Bn),_refreshing=Xn,At.isReverted=Bn)},At.refresh=function(En,$n){if(!((_refreshing||!At.enabled)&&!$n)){if(rt&&En&&_lastScrollTime){_addListener(j,"scrollEnd",_softRefresh);return}!_refreshingAll&&It&&It(At),_refreshing=1,xt=_getTime(),Rt.tween&&(Rt.tween.kill(),Rt.tween=0),dn&&dn.pause(),ft&&tt&&tt.revert({kill:!1}).invalidate(),At.isReverted||At.revert(!0,!0),At._subPinOffset=!1;for(var Bn=Ot(),Xn=Tt(),_r=Ct?Ct.duration():_maxScroll(Lt,wt),Qn=0,hr=0,lr=et.end,$r=et.endTrigger||it,mr=et.start||(et.start===0||!it?0:rt?"0 0":"0 100%"),Dr=At.pinnedContainer=et.pinnedContainer&&_getTarget(et.pinnedContainer),Xr=it&&Math.max(0,_triggers.indexOf(At))||0,br=Xr,Tr,Rr,ds,us,kr,Pr,as,Es,Ps,hs;br--;)Pr=_triggers[br],Pr.end||Pr.refresh(0,1)||(_refreshing=1),as=Pr.pin,as&&(as===it||as===rt)&&!Pr.isReverted&&(hs||(hs=[]),hs.unshift(Pr),Pr.revert(!0,!0)),Pr!==_triggers[br]&&(Xr--,br--);for(_isFunction(mr)&&(mr=mr(At)),en=_parsePosition(mr,it,Bn,wt,$t(),Ht,Pt,At,Xn,Et,Xt,_r,Ct)||(rt?-.001:0),_isFunction(lr)&&(lr=lr(At)),_isString(lr)&&!lr.indexOf("+=")&&(~lr.indexOf(" ")?lr=(_isString(mr)?mr.split(" ")[0]:"")+lr:(Qn=_offsetToPx(lr.substr(2),Bn),lr=_isString(mr)?mr:en+Qn,$r=it)),tn=Math.max(en,_parsePosition(lr||($r?"100% 0":_r),$r,Bn,wt,$t()+Qn,nn,kt,At,Xn,Et,Xt,_r,Ct))||-.001,jt=tn-en||(en-=.01)&&.001,Qn=0,br=Xr;br--;)Pr=_triggers[br],as=Pr.pin,as&&Pr.start-Pr._pinPush<=en&&!Ct&&Pr.end>0&&(Tr=Pr.end-Pr.start,(as===it&&Pr.start-Pr._pinPush<en||as===Dr)&&!_isNumber(mr)&&(Qn+=Tr*(1-Pr.progress)),as===rt&&(hr+=Tr));if(en+=Qn,tn+=Qn,At._pinPush=hr,Ht&&Qn&&(Tr={},Tr[wt.a]="+="+Qn,Dr&&(Tr[wt.p]="-="+$t()),gsap.set([Ht,nn],Tr)),rt)Tr=_getComputedStyle(rt),us=wt===_vertical,ds=$t(),xn=parseFloat(An(wt.a))+hr,!_r&&tn>1&&((Ut?_body:Lt).style["overflow-"+wt.a]="scroll"),_swapPinIn(rt,_n,Tr),rn=_getState(rt),Rr=_getBounds(rt,!0),Es=Xt&&_getScrollFunc(Lt,us?_horizontal:_vertical)(),ot&&(kn=[ot+wt.os2,jt+hr+_px],kn.t=_n,br=ot===_padding?_getSize(rt,wt)+jt+hr:0,br&&kn.push(wt.d,br+_px),_setState(kn),Dr&&_triggers.forEach(function(ps){ps.pin===Dr&&ps.vars.pinSpacing!==!1&&(ps._subPinOffset=!0)}),Xt&&$t(Hn)),Xt&&(kr={top:Rr.top+(us?ds-en:Es)+_px,left:Rr.left+(us?Es:ds-en)+_px,boxSizing:"border-box",position:"fixed"},kr[_width]=kr["max"+_Width]=Math.ceil(Rr.width)+_px,kr[_height]=kr["max"+_Height]=Math.ceil(Rr.height)+_px,kr[_margin]=kr[_margin+_Top]=kr[_margin+_Right]=kr[_margin+_Bottom]=kr[_margin+_Left]="0",kr[_padding]=Tr[_padding],kr[_padding+_Top]=Tr[_padding+_Top],kr[_padding+_Right]=Tr[_padding+_Right],kr[_padding+_Bottom]=Tr[_padding+_Bottom],kr[_padding+_Left]=Tr[_padding+_Left],sn=_copyState(Vt,kr,vt),_refreshingAll&&$t(0)),tt?(Ps=tt._initted,_suppressOverwrites(1),tt.render(tt.duration(),!0,!0),on=An(wt.a)-xn+jt+hr,jt!==on&&Xt&&sn.splice(sn.length-2,2),tt.render(0,!0,!0),Ps||tt.invalidate(!0),tt.parent||tt.totalTime(tt.totalTime()),_suppressOverwrites(0)):on=jt;else if(it&&$t()&&!Ct)for(Rr=it.parentNode;Rr&&Rr!==_body;)Rr._pinOffset&&(en-=Rr._pinOffset,tn-=Rr._pinOffset),Rr=Rr.parentNode;hs&&hs.forEach(function(ps){return ps.revert(!1,!0)}),At.start=en,At.end=tn,Kt=ln=_refreshingAll?Hn:$t(),!Ct&&!_refreshingAll&&(Kt<Hn&&$t(Hn),At.scroll.rec=0),At.revert(!1,!0),Pn&&(St=-1,At.isActive&&$t(en+jt*zn),Pn.restart(!0)),_refreshing=0,tt&&Ft&&(tt._initted||cr)&&tt.progress()!==cr&&tt.progress(cr,!0).render(tt.time(),!0,!0),(zn!==At.progress||Ct)&&(tt&&!Ft&&tt.totalProgress(zn,!0),At.progress=(Kt-en)/jt===zn?0:zn),rt&&ot&&(_n._pinOffset=Math.round(At.progress*on)),ht&&!_refreshingAll&&ht(At)}},At.getVelocity=function(){return($t()-ln)/(_getTime()-_time2)*1e3||0},At.endAnimation=function(){_endAnimation(At.callbackAnimation),tt&&(dn?dn.progress(1):tt.paused()?Ft||_endAnimation(tt,At.direction<0,1):_endAnimation(tt,tt.reversed()))},At.labelToScroll=function(En){return tt&&tt.labels&&(en||At.refresh()||en)+tt.labels[En]/tt.duration()*jt||0},At.getTrailing=function(En){var $n=_triggers.indexOf(At),Bn=At.direction>0?_triggers.slice(0,$n).reverse():_triggers.slice($n+1);return(_isString(En)?Bn.filter(function(Xn){return Xn.vars.preventOverlaps===En}):Bn).filter(function(Xn){return At.direction>0?Xn.end<=en:Xn.start>=tn})},At.update=function(En,$n,Bn){if(!(Ct&&!Bn&&!En)){var Xn=_refreshingAll?Hn:At.scroll(),_r=En?0:(Xn-en)/jt,Qn=_r<0?0:_r>1?1:_r||0,hr=At.progress,lr,$r,mr,Dr,Xr,br,Tr,Rr;if($n&&(ln=Kt,Kt=Ct?$t():Xn,_t&&(wn=Wn,Wn=tt&&!Ft?tt.totalProgress():Qn)),ct&&!Qn&&rt&&!_refreshing&&!_startup&&_lastScrollTime&&en<Xn+(Xn-ln)/(_getTime()-_time2)*ct&&(Qn=1e-4),Qn!==hr&&At.enabled){if(lr=At.isActive=!!Qn&&Qn<1,$r=!!hr&&hr<1,br=lr!==$r,Xr=br||!!Qn!=!!hr,At.direction=Qn>hr?1:-1,At.progress=Qn,Xr&&!_refreshing&&(mr=Qn&&!hr?0:Qn===1?1:hr===1?2:3,Ft&&(Dr=!br&&Jt[mr+1]!=="none"&&Jt[mr+1]||Jt[mr],Rr=tt&&(Dr==="complete"||Dr==="reset"||Dr in tt))),Dt&&(br||Rr)&&(Rr||at||!tt)&&(_isFunction(Dt)?Dt(At):At.getTrailing(Dt).forEach(function(Pr){return Pr.endAnimation()})),Ft||(dn&&!_refreshing&&!_startup?((Ct||_primary&&_primary!==At)&&dn.render(dn._dp._time-dn._start),dn.resetTo?dn.resetTo("totalProgress",Qn,tt._tTime/tt._tDur):(dn.vars.totalProgress=Qn,dn.invalidate().restart())):tt&&tt.totalProgress(Qn,!!_refreshing)),rt){if(En&&ot&&(_n.style[ot+wt.os2]=Cn),!Xt)pn(_round(xn+on*Qn));else if(Xr){if(Tr=!En&&Qn>hr&&tn+1>Xn&&Xn+1>=_maxScroll(Lt,wt),vt)if(!En&&(lr||Tr)){var ds=_getBounds(rt,!0),us=Xn-en;_reparent(rt,_body,ds.top+(wt===_vertical?us:0)+_px,ds.left+(wt===_vertical?0:us)+_px)}else _reparent(rt,_n);_setState(lr||Tr?sn:rn),on!==jt&&Qn<1&&lr||pn(xn+(Qn===1&&!Tr?on:0))}}_t&&!Rt.tween&&!_refreshing&&!_startup&&Pn.restart(!0),lt&&(br||mt&&Qn&&(Qn<1||!_limitCallbacks))&&_toArray(lt.targets).forEach(function(Pr){return Pr.classList[lr||mt?"add":"remove"](lt.className)}),gt&&!Ft&&!En&&gt(At),Xr&&!_refreshing?(Ft&&(Rr&&(Dr==="complete"?tt.pause().totalProgress(1):Dr==="reset"?tt.restart(!0).pause():Dr==="restart"?tt.restart(!0):tt[Dr]()),gt&&gt(At)),(br||!_limitCallbacks)&&(ut&&br&&_callback(At,ut),qt[mr]&&_callback(At,qt[mr]),mt&&(Qn===1?At.kill(!1,1):qt[mr]=0),br||(mr=Qn===1?1:3,qt[mr]&&_callback(At,qt[mr]))),bt&&!lr&&Math.abs(At.getVelocity())>(_isNumber(bt)?bt:2500)&&(_endAnimation(At.callbackAnimation),dn?dn.progress(1):_endAnimation(tt,Dr==="reverse"?1:!Qn,1))):Ft&&gt&&!_refreshing&&gt(At)}if(Gn){var kr=Ct?Xn/Ct.duration()*(Ct._caScrollDist||0):Xn;jn(kr+(Pt._isFlipped?1:0)),Gn(kr)}er&&er(-Xn/Ct.duration()*(Ct._caScrollDist||0))}},At.enable=function(En,$n){At.enabled||(At.enabled=!0,_addListener(Lt,"resize",_onResize),_addListener(Ut?_doc:Lt,"scroll",_onScroll),It&&_addListener(j,"refreshInit",It),En!==!1&&(At.progress=zn=0,Kt=ln=St=$t()),$n!==!1&&At.refresh())},At.getTween=function(En){return En&&Rt?Rt.tween:dn},At.setPositions=function(En,$n){rt&&(xn+=En-en,on+=$n-En-jt,ot===_padding&&At.adjustPinSpacing($n-En-jt)),At.start=en=En,At.end=tn=$n,jt=$n-En,At.update()},At.adjustPinSpacing=function(En){if(kn){var $n=kn.indexOf(wt.d)+1;kn[$n]=parseFloat(kn[$n])+En+_px,kn[1]=parseFloat(kn[1])+En+_px,_setState(kn)}},At.disable=function(En,$n){if(At.enabled&&(En!==!1&&At.revert(!0,!0),At.enabled=At.isActive=!1,$n||dn&&dn.pause(),Hn=0,Bt&&(Bt.uncache=1),It&&_removeListener(j,"refreshInit",It),Pn&&(Pn.pause(),Rt.tween&&Rt.tween.kill()&&(Rt.tween=0)),!Ut)){for(var Bn=_triggers.length;Bn--;)if(_triggers[Bn].scroller===Lt&&_triggers[Bn]!==At)return;_removeListener(Lt,"resize",_onResize),_removeListener(Lt,"scroll",_onScroll)}},At.kill=function(En,$n){At.disable(En,$n),dn&&!$n&&dn.kill(),nt&&delete _ids[nt];var Bn=_triggers.indexOf(At);Bn>=0&&_triggers.splice(Bn,1),Bn===_i&&_direction>0&&_i--,Bn=0,_triggers.forEach(function(Xn){return Xn.scroller===At.scroller&&(Bn=1)}),Bn||_refreshingAll||(At.scroll.rec=0),tt&&(tt.scrollTrigger=null,En&&tt.revert({kill:!1}),$n||tt.kill()),Ht&&[Ht,nn,Pt,kt].forEach(function(Xn){return Xn.parentNode&&Xn.parentNode.removeChild(Xn)}),_primary===At&&(_primary=0),rt&&(Bt&&(Bt.uncache=1),Bn=0,_triggers.forEach(function(Xn){return Xn.pin===rt&&Bn++}),Bn||(Bt.spacer=0)),et.onKill&&et.onKill(At)},At.enable(!1,!1),Jn&&Jn(At),!tt||!tt.add||jt?At.refresh():gsap.delayedCall(.01,function(){return en||tn||At.refresh()})&&(jt=.01)&&(en=tn=0),rt&&_queueRefreshAll()},j.register=function(et){return _coreInitted||(gsap=et||_getGSAP(),_windowExists()&&window.document&&j.enable(),_coreInitted=_enabled),_coreInitted},j.defaults=function(et){if(et)for(var tt in et)_defaults[tt]=et[tt];return _defaults},j.disable=function(et,tt){_enabled=0,_triggers.forEach(function(gt){return gt[tt?"kill":"disable"](et)}),_removeListener(_win,"wheel",_onScroll),_removeListener(_doc,"scroll",_onScroll),clearInterval(_syncInterval),_removeListener(_doc,"touchcancel",_passThrough),_removeListener(_body,"touchstart",_passThrough),_multiListener(_removeListener,_doc,"pointerdown,touchstart,mousedown",_pointerDownHandler),_multiListener(_removeListener,_doc,"pointerup,touchend,mouseup",_pointerUpHandler),_resizeDelay.kill(),_iterateAutoRefresh(_removeListener);for(var st=0;st<_scrollers.length;st+=3)_wheelListener(_removeListener,_scrollers[st],_scrollers[st+1]),_wheelListener(_removeListener,_scrollers[st],_scrollers[st+2])},j.enable=function(){if(_win=window,_doc=document,_docEl=_doc.documentElement,_body=_doc.body,gsap&&(_toArray=gsap.utils.toArray,_clamp=gsap.utils.clamp,_context=gsap.core.context||_passThrough,_suppressOverwrites=gsap.core.suppressOverwrites||_passThrough,_scrollRestoration=_win.history.scrollRestoration||"auto",gsap.core.globals("ScrollTrigger",j),_body)){_enabled=1,Observer.register(gsap),j.isTouch=Observer.isTouch,_fixIOSBug=Observer.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),_addListener(_win,"wheel",_onScroll),_root=[_win,_doc,_docEl,_body],gsap.matchMedia?(j.matchMedia=function(nt){var ut=gsap.matchMedia(),ht;for(ht in nt)ut.add(ht,nt[ht]);return ut},gsap.addEventListener("matchMediaInit",function(){return _revertAll()}),gsap.addEventListener("matchMediaRevert",function(){return _revertRecorded()}),gsap.addEventListener("matchMedia",function(){_refreshAll(0,1),_dispatch("matchMedia")}),gsap.matchMedia("(orientation: portrait)",function(){return _setBaseDimensions(),_setBaseDimensions})):console.warn("Requires GSAP 3.11.0 or later"),_setBaseDimensions(),_addListener(_doc,"scroll",_onScroll);var et=_body.style,tt=et.borderTopStyle,st=gsap.core.Animation.prototype,gt,lt;for(st.revert||Object.defineProperty(st,"revert",{value:function(){return this.time(-.01,!0)}}),et.borderTopStyle="solid",gt=_getBounds(_body),_vertical.m=Math.round(gt.top+_vertical.sc())||0,_horizontal.m=Math.round(gt.left+_horizontal.sc())||0,tt?et.borderTopStyle=tt:et.removeProperty("border-top-style"),_syncInterval=setInterval(_sync,250),gsap.delayedCall(.5,function(){return _startup=0}),_addListener(_doc,"touchcancel",_passThrough),_addListener(_body,"touchstart",_passThrough),_multiListener(_addListener,_doc,"pointerdown,touchstart,mousedown",_pointerDownHandler),_multiListener(_addListener,_doc,"pointerup,touchend,mouseup",_pointerUpHandler),_transformProp=gsap.utils.checkPrefix("transform"),_stateProps.push(_transformProp),_coreInitted=_getTime(),_resizeDelay=gsap.delayedCall(.2,_refreshAll).pause(),_autoRefresh=[_doc,"visibilitychange",function(){var nt=_win.innerWidth,ut=_win.innerHeight;_doc.hidden?(_prevWidth=nt,_prevHeight=ut):(_prevWidth!==nt||_prevHeight!==ut)&&_onResize()},_doc,"DOMContentLoaded",_refreshAll,_win,"load",_refreshAll,_win,"resize",_onResize],_iterateAutoRefresh(_addListener),_triggers.forEach(function(nt){return nt.enable(0,1)}),lt=0;lt<_scrollers.length;lt+=3)_wheelListener(_removeListener,_scrollers[lt],_scrollers[lt+1]),_wheelListener(_removeListener,_scrollers[lt],_scrollers[lt+2])}},j.config=function(et){"limitCallbacks"in et&&(_limitCallbacks=!!et.limitCallbacks);var tt=et.syncInterval;tt&&clearInterval(_syncInterval)||(_syncInterval=tt)&&setInterval(_sync,tt),"ignoreMobileResize"in et&&(_ignoreMobileResize=j.isTouch===1&&et.ignoreMobileResize),"autoRefreshEvents"in et&&(_iterateAutoRefresh(_removeListener)||_iterateAutoRefresh(_addListener,et.autoRefreshEvents||"none"),_ignoreResize=(et.autoRefreshEvents+"").indexOf("resize")===-1)},j.scrollerProxy=function(et,tt){var st=_getTarget(et),gt=_scrollers.indexOf(st),lt=_isViewport(st);~gt&&_scrollers.splice(gt,lt?6:2),tt&&(lt?_proxies.unshift(_win,tt,_body,tt,_docEl,tt):_proxies.unshift(st,tt))},j.clearMatchMedia=function(et){_triggers.forEach(function(tt){return tt._ctx&&tt._ctx.query===et&&tt._ctx.kill(!0,!0)})},j.isInViewport=function(et,tt,st){var gt=(_isString(et)?_getTarget(et):et).getBoundingClientRect(),lt=gt[st?_width:_height]*tt||0;return st?gt.right-lt>0&&gt.left+lt<_win.innerWidth:gt.bottom-lt>0&&gt.top+lt<_win.innerHeight},j.positionInViewport=function(et,tt,st){_isString(et)&&(et=_getTarget(et));var gt=et.getBoundingClientRect(),lt=gt[st?_width:_height],nt=tt==null?lt/2:tt in _keywords?_keywords[tt]*lt:~tt.indexOf("%")?parseFloat(tt)*lt/100:parseFloat(tt)||0;return st?(gt.left+nt)/_win.innerWidth:(gt.top+nt)/_win.innerHeight},j.killAll=function(et){if(_triggers.forEach(function(st){return st.vars.id!=="ScrollSmoother"&&st.kill()}),et!==!0){var tt=_listeners.killAll||[];_listeners={},tt.forEach(function(st){return st()})}},j}();ScrollTrigger.version="3.11.3";ScrollTrigger.saveStyles=function(j){return j?_toArray(j).forEach(function($){if($&&$.style){var _e=_savedStyles.indexOf($);_e>=0&&_savedStyles.splice(_e,5),_savedStyles.push($,$.style.cssText,$.getBBox&&$.getAttribute("transform"),gsap.core.getCache($),_context())}}):_savedStyles};ScrollTrigger.revert=function(j,$){return _revertAll(!j,$)};ScrollTrigger.create=function(j,$){return new ScrollTrigger(j,$)};ScrollTrigger.refresh=function(j){return j?_onResize():(_coreInitted||ScrollTrigger.register())&&_refreshAll(!0)};ScrollTrigger.update=_updateAll;ScrollTrigger.clearScrollMemory=_clearScrollMemory;ScrollTrigger.maxScroll=function(j,$){return _maxScroll(j,$?_horizontal:_vertical)};ScrollTrigger.getScrollFunc=function(j,$){return _getScrollFunc(_getTarget(j),$?_horizontal:_vertical)};ScrollTrigger.getById=function(j){return _ids[j]};ScrollTrigger.getAll=function(){return _triggers.filter(function(j){return j.vars.id!=="ScrollSmoother"})};ScrollTrigger.isScrolling=function(){return!!_lastScrollTime};ScrollTrigger.snapDirectional=_snapDirectional;ScrollTrigger.addEventListener=function(j,$){var _e=_listeners[j]||(_listeners[j]=[]);~_e.indexOf($)||_e.push($)};ScrollTrigger.removeEventListener=function(j,$){var _e=_listeners[j],et=_e&&_e.indexOf($);et>=0&&_e.splice(et,1)};ScrollTrigger.batch=function(j,$){var _e=[],et={},tt=$.interval||.016,st=$.batchMax||1e9,gt=function(ut,ht){var at=[],it=[],rt=gsap.delayedCall(tt,function(){ht(at,it),at=[],it=[]}).pause();return function(ot){at.length||rt.restart(!0),at.push(ot.trigger),it.push(ot),st<=at.length&&rt.progress(1)}},lt;for(lt in $)et[lt]=lt.substr(0,2)==="on"&&_isFunction($[lt])&&lt!=="onRefreshInit"?gt(lt,$[lt]):$[lt];return _isFunction(st)&&(st=st(),_addListener(ScrollTrigger,"refresh",function(){return st=$.batchMax()})),_toArray(j).forEach(function(nt){var ut={};for(lt in et)ut[lt]=et[lt];ut.trigger=nt,_e.push(ScrollTrigger.create(ut))}),_e};var _clampScrollAndGetDurationMultiplier=function j($,_e,et,tt){return _e>tt?$(tt):_e<0&&$(0),et>tt?(tt-_e)/(et-_e):et<0?_e/(_e-et):1},_allowNativePanning=function j($,_e){_e===!0?$.style.removeProperty("touch-action"):$.style.touchAction=_e===!0?"auto":_e?"pan-"+_e+(Observer.isTouch?" pinch-zoom":""):"none",$===_docEl&&j(_body,_e)},_overflow={auto:1,scroll:1},_nestedScroll=function j($){var _e=$.event,et=$.target,tt=$.axis,st=(_e.changedTouches?_e.changedTouches[0]:_e).target,gt=st._gsap||gsap.core.getCache(st),lt=_getTime(),nt;if(!gt._isScrollT||lt-gt._isScrollT>2e3){for(;st&&st.scrollHeight<=st.clientHeight;)st=st.parentNode;gt._isScroll=st&&!_isViewport(st)&&st!==et&&(_overflow[(nt=_getComputedStyle(st)).overflowY]||_overflow[nt.overflowX]),gt._isScrollT=lt}(gt._isScroll||tt==="x")&&(_e.stopPropagation(),_e._gsapAllow=!0)},_inputObserver=function j($,_e,et,tt){return Observer.create({target:$,capture:!0,debounce:!1,lockAxis:!0,type:_e,onWheel:tt=tt&&_nestedScroll,onPress:tt,onDrag:tt,onScroll:tt,onEnable:function(){return et&&_addListener(_doc,Observer.eventTypes[0],_captureInputs,!1,!0)},onDisable:function(){return _removeListener(_doc,Observer.eventTypes[0],_captureInputs,!0)}})},_inputExp=/(input|label|select|textarea)/i,_inputIsFocused,_captureInputs=function j($){var _e=_inputExp.test($.target.tagName);(_e||_inputIsFocused)&&($._gsapAllow=!0,_inputIsFocused=_e)},_getScrollNormalizer=function j($){_isObject($)||($={}),$.preventDefault=$.isNormalizer=$.allowClicks=!0,$.type||($.type="wheel,touch"),$.debounce=!!$.debounce,$.id=$.id||"normalizer";var _e=$,et=_e.normalizeScrollX,tt=_e.momentum,st=_e.allowNestedScroll,gt,lt,nt=_getTarget($.target)||_docEl,ut=gsap.core.globals().ScrollSmoother,ht=ut&&ut.get(),at=_fixIOSBug&&($.content&&_getTarget($.content)||ht&&$.content!==!1&&!ht.smooth()&&ht.content()),it=_getScrollFunc(nt,_vertical),rt=_getScrollFunc(nt,_horizontal),ot=1,ft=(Observer.isTouch&&_win.visualViewport?_win.visualViewport.scale*_win.visualViewport.width:_win.outerWidth)/_win.innerWidth,ct=0,dt=_isFunction(tt)?function(){return tt(gt)}:function(){return tt||2.8},pt,mt,_t=_inputObserver(nt,$.type,!0,st),vt=function(){return mt=!1},yt=_passThrough,Ct=_passThrough,bt=function(){lt=_maxScroll(nt,_vertical),Ct=_clamp(_fixIOSBug?1:0,lt),et&&(yt=_clamp(0,_maxScroll(nt,_horizontal))),pt=_refreshID},Dt=function(){at._gsap.y=_round(parseFloat(at._gsap.y)+it.offset)+"px",at.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(at._gsap.y)+", 0, 1)",it.offset=it.cacheID=0},wt=function(){if(mt){requestAnimationFrame(vt);var Jt=_round(gt.deltaY/2),Gt=Ct(it.v-Jt);if(at&&Gt!==it.v+it.offset){it.offset=Gt-it.v;var Et=_round((parseFloat(at&&at._gsap.y)||0)-it.offset);at.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+Et+", 0, 1)",at._gsap.y=Et+"px",it.cacheID=_scrollers.cache,_updateAll()}return!0}it.offset&&Dt(),mt=!0},Ft,Lt,Qt,Ut,Xt=function(){bt(),Ft.isActive()&&Ft.vars.scrollY>lt&&(it()>lt?Ft.progress(1)&&it(lt):Ft.resetTo("scrollY",lt))};return at&&gsap.set(at,{y:"+=0"}),$.ignoreCheck=function(qt){return _fixIOSBug&&qt.type==="touchmove"&&wt()||ot>1.05&&qt.type!=="touchstart"||gt.isGesturing||qt.touches&&qt.touches.length>1},$.onPress=function(){var qt=ot;ot=_round((_win.visualViewport&&_win.visualViewport.scale||1)/ft),Ft.pause(),qt!==ot&&_allowNativePanning(nt,ot>1.01?!0:et?!1:"x"),Lt=rt(),Qt=it(),bt(),pt=_refreshID},$.onRelease=$.onGestureStart=function(qt,Jt){if(it.offset&&Dt(),!Jt)Ut.restart(!0);else{_scrollers.cache++;var Gt=dt(),Et,At;et&&(Et=rt(),At=Et+Gt*.05*-qt.velocityX/.227,Gt*=_clampScrollAndGetDurationMultiplier(rt,Et,At,_maxScroll(nt,_horizontal)),Ft.vars.scrollX=yt(At)),Et=it(),At=Et+Gt*.05*-qt.velocityY/.227,Gt*=_clampScrollAndGetDurationMultiplier(it,Et,At,_maxScroll(nt,_vertical)),Ft.vars.scrollY=Ct(At),Ft.invalidate().duration(Gt).play(.01),(_fixIOSBug&&Ft.vars.scrollY>=lt||Et>=lt-1)&&gsap.to({},{onUpdate:Xt,duration:Gt})}},$.onWheel=function(){Ft._ts&&Ft.pause(),_getTime()-ct>1e3&&(pt=0,ct=_getTime())},$.onChange=function(qt,Jt,Gt,Et,At){if(_refreshID!==pt&&bt(),Jt&&et&&rt(yt(Et[2]===Jt?Lt+(qt.startX-qt.x):rt()+Jt-Et[1])),Gt){it.offset&&Dt();var It=At[2]===Gt,Ot=It?Qt+qt.startY-qt.y:it()+Gt-At[1],Tt=Ct(Ot);It&&Ot!==Tt&&(Qt+=Tt-Ot),it(Tt)}(Gt||Jt)&&_updateAll()},$.onEnable=function(){_allowNativePanning(nt,et?!1:"x"),ScrollTrigger.addEventListener("refresh",Xt),_addListener(_win,"resize",Xt),it.smooth&&(it.target.style.scrollBehavior="auto",it.smooth=rt.smooth=!1),_t.enable()},$.onDisable=function(){_allowNativePanning(nt,!0),_removeListener(_win,"resize",Xt),ScrollTrigger.removeEventListener("refresh",Xt),_t.kill()},$.lockAxis=$.lockAxis!==!1,gt=new Observer($),gt.iOS=_fixIOSBug,_fixIOSBug&&!it()&&it(1),_fixIOSBug&&gsap.ticker.add(_passThrough),Ut=gt._dc,Ft=gsap.to(gt,{ease:"power4",paused:!0,scrollX:et?"+=0.1":"+=0",scrollY:"+=0.1",onComplete:Ut.vars.onComplete}),gt};ScrollTrigger.sort=function(j){return _triggers.sort(j||function($,_e){return($.vars.refreshPriority||0)*-1e6+$.start-(_e.start+(_e.vars.refreshPriority||0)*-1e6)})};ScrollTrigger.observe=function(j){return new Observer(j)};ScrollTrigger.normalizeScroll=function(j){if(typeof j>"u")return _normalizer;if(j===!0&&_normalizer)return _normalizer.enable();if(j===!1)return _normalizer&&_normalizer.kill();var $=j instanceof Observer?j:_getScrollNormalizer(j);return _normalizer&&_normalizer.target===$.target&&_normalizer.kill(),_isViewport($.target)&&(_normalizer=$),$};ScrollTrigger.core={_getVelocityProp,_inputObserver,_scrollers,_proxies,bridge:{ss:function j(){_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=_getTime()},ref:function j(){return _refreshing}}};_getGSAP()&&gsap.registerPlugin(ScrollTrigger);function App(){gsapWithCSS.registerPlugin(ScrollTrigger);const j=useNavigate();return react.exports.useEffect(()=>{j("/secondPage")},[]),jsx(Fragment,{children:jsxs(Routes,{children:[jsx(Route,{path:"/",element:jsx(FirstPage,{})}),jsx(Route,{path:"/secondPage",element:jsx(SecondPage,{})})]})})}const index="";client.createRoot(document.getElementById("root")).render(jsx(React.StrictMode,{children:jsx(HashRouter,{children:jsx(App,{})})}));
